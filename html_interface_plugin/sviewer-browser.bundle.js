/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "../glycan.js/js/CanvasCanvas.js":
/*!***************************************!*\
  !*** ../glycan.js/js/CanvasCanvas.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*global */\n\n\nvar torender = Symbol('torender');\nclass RenderTree {\n  constructor() {\n    this[torender] = [];\n  }\n  get torender() {\n    return this[torender];\n  }\n  appendChild(el) {\n    if (el.parent) {\n      el.parent.torender.splice(el.parent.torender.indexOf(el), 1);\n    }\n    el.parent = this;\n    this.torender.push(el);\n  }\n  sendToBack(el) {\n    el.parent.torender.unshift(el.parent.torender.splice(el.parent.torender.indexOf(el), 1)[0]);\n    return el;\n  }\n  sendToFront(el) {\n    el.parent.torender.push(el.parent.torender.splice(el.parent.torender.indexOf(el), 1)[0]);\n    return el;\n  }\n  remove(el) {\n    this.torender.splice(this.torender.indexOf(el), 1);\n  }\n}\nvar render_text = function render_text(canvas) {\n  var ctx = canvas.getContext('2d');\n  ctx.font = \"\".concat(this.options['font-size'] || 25, \"px Helvetica\");\n  ctx.textAlign = 'left';\n  if (this.options['text-anchor']) {\n    ctx.textAlign = this.options['text-anchor'];\n  }\n  ctx.textBaseline = 'top';\n  if (this.options.dy) {\n    ctx.textBaseline = 'middle';\n  }\n  ctx.fillStyle = '#111';\n  ctx.fillText(this.text, this.x, this.y);\n};\nvar render_line = function render_line(canvas) {\n  var ctx = canvas.getContext('2d');\n  if (this.options['stroke-width']) {\n    ctx.lineWidth = this.options['stroke-width'];\n  }\n  if (this.options.stroke) {\n    ctx.strokeStyle = this.options.stroke;\n  }\n  ctx.beginPath();\n  ctx.moveTo(this.x, this.y);\n  ctx.lineTo(this.x2, this.y2);\n  ctx.stroke();\n};\nvar ICONS_CACHE = new Map();\nvar render_icon = function render_icon(canvas) {\n  var ctx = canvas.getContext('2d');\n  var image = ICONS_CACHE.get(this.src);\n  if (!image) {\n    image = new Image();\n    image.src = this.src;\n    image.loaded = new Promise(resolve => {\n      image.addEventListener('load', resolve);\n    });\n  }\n  ICONS_CACHE.set(this.src, image);\n  image.loaded.then(() => {\n    ctx.drawImage(image, this.x, this.y, this.width, this.height);\n  });\n};\nclass Canvas extends RenderTree {\n  constructor(canvas) {\n    super();\n    if (canvas) {\n      this.canvas = canvas;\n    }\n  }\n  createElement(tag) {\n    var doc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.canvas.ownerDocument;\n    return doc.createElement(tag);\n  }\n  group(a_g) {\n    if (!a_g) {\n      a_g = new Canvas();\n      this.appendChild(a_g);\n    }\n    return a_g;\n  }\n  use(ref, x, y, width, height) {\n    var icon = {\n      icon: ref,\n      x,\n      y,\n      width,\n      height,\n      render: render_icon\n    };\n    this.appendChild(icon);\n    return icon;\n  }\n  rect() {}\n  line(x, y, x2, y2) {\n    var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    var a_line = {\n      x,\n      y,\n      x2,\n      y2,\n      options,\n      render: render_line\n    };\n    this.appendChild(a_line);\n    return a_line;\n  }\n  text(x, y, text) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var a_text = {\n      x,\n      y,\n      text,\n      options,\n      render: render_text\n    };\n    this.appendChild(a_text);\n    return a_text;\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (Canvas);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL0NhbnZhc0NhbnZhcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9nbHljYW4uanMvanMvQ2FudmFzQ2FudmFzLmpzPzBiNzAiXSwic291cmNlc0NvbnRlbnQiOlsiLypnbG9iYWwgKi9cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgdG9yZW5kZXIgPSBTeW1ib2woJ3RvcmVuZGVyJyk7XG5cbmNsYXNzIFJlbmRlclRyZWUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzW3RvcmVuZGVyXSA9IFtdO1xuICB9XG5cbiAgZ2V0IHRvcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzW3RvcmVuZGVyXTtcbiAgfVxuXG4gIGFwcGVuZENoaWxkKGVsKSB7XG4gICAgaWYgKGVsLnBhcmVudCkge1xuICAgICAgZWwucGFyZW50LnRvcmVuZGVyLnNwbGljZShlbC5wYXJlbnQudG9yZW5kZXIuaW5kZXhPZihlbCksMSk7XG4gICAgfVxuICAgIGVsLnBhcmVudCA9IHRoaXM7XG4gICAgdGhpcy50b3JlbmRlci5wdXNoKGVsKTtcbiAgfVxuXG4gIHNlbmRUb0JhY2soZWwpIHtcbiAgICBlbC5wYXJlbnQudG9yZW5kZXIudW5zaGlmdChlbC5wYXJlbnQudG9yZW5kZXIuc3BsaWNlKGVsLnBhcmVudC50b3JlbmRlci5pbmRleE9mKGVsKSwxKVswXSk7XG4gICAgcmV0dXJuIGVsO1xuICB9XG5cbiAgc2VuZFRvRnJvbnQoZWwpIHtcbiAgICBlbC5wYXJlbnQudG9yZW5kZXIucHVzaChlbC5wYXJlbnQudG9yZW5kZXIuc3BsaWNlKGVsLnBhcmVudC50b3JlbmRlci5pbmRleE9mKGVsKSwxKVswXSk7XG4gICAgcmV0dXJuIGVsO1xuICB9XG5cbiAgcmVtb3ZlKGVsKSB7XG4gICAgdGhpcy50b3JlbmRlci5zcGxpY2UodGhpcy50b3JlbmRlci5pbmRleE9mKGVsKSwxKTtcbiAgfVxuXG59XG5cbmNvbnN0IHJlbmRlcl90ZXh0ID0gZnVuY3Rpb24oY2FudmFzKXtcbiAgbGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICBjdHguZm9udCA9IGAke3RoaXMub3B0aW9uc1snZm9udC1zaXplJ10gfHwgMjV9cHggSGVsdmV0aWNhYDtcbiAgY3R4LnRleHRBbGlnbiA9ICdsZWZ0JztcbiAgaWYgKHRoaXMub3B0aW9uc1sndGV4dC1hbmNob3InXSkge1xuICAgIGN0eC50ZXh0QWxpZ24gPSB0aGlzLm9wdGlvbnNbJ3RleHQtYW5jaG9yJ107XG4gIH1cbiAgY3R4LnRleHRCYXNlbGluZSA9ICd0b3AnO1xuICBpZiAodGhpcy5vcHRpb25zLmR5KSB7XG4gICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICB9XG4gIGN0eC5maWxsU3R5bGUgPSAnIzExMSc7XG4gIGN0eC5maWxsVGV4dCh0aGlzLnRleHQsIHRoaXMueCwgdGhpcy55KTtcbn07XG5cbmNvbnN0IHJlbmRlcl9saW5lID0gZnVuY3Rpb24oY2FudmFzKXtcbiAgbGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICBpZiAodGhpcy5vcHRpb25zWydzdHJva2Utd2lkdGgnXSkge1xuICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLm9wdGlvbnNbJ3N0cm9rZS13aWR0aCddO1xuICB9XG4gIGlmICh0aGlzLm9wdGlvbnMuc3Ryb2tlKSB7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5vcHRpb25zLnN0cm9rZTtcbiAgfVxuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5tb3ZlVG8odGhpcy54LHRoaXMueSk7XG4gIGN0eC5saW5lVG8odGhpcy54MiwgdGhpcy55Mik7XG4gIGN0eC5zdHJva2UoKTtcbn07XG5cbmNvbnN0IElDT05TX0NBQ0hFID0gbmV3IE1hcCgpO1xuXG5jb25zdCByZW5kZXJfaWNvbiA9IGZ1bmN0aW9uKGNhbnZhcykge1xuICBsZXQgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gIHZhciBpbWFnZSA9ICBJQ09OU19DQUNIRS5nZXQodGhpcy5zcmMpO1xuXG4gIGlmICggISBpbWFnZSApIHtcbiAgICBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIGltYWdlLnNyYyA9IHRoaXMuc3JjO1xuICAgIGltYWdlLmxvYWRlZCA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJyxyZXNvbHZlICk7XG4gICAgfSk7XG4gIH1cblxuICBJQ09OU19DQUNIRS5zZXQodGhpcy5zcmMsaW1hZ2UpO1xuICBpbWFnZS5sb2FkZWQudGhlbiggKCkgPT4ge1xuICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIHRoaXMueCwgdGhpcy55LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpO1xuICB9KTtcbn07XG5cbmNsYXNzIENhbnZhcyBleHRlbmRzIFJlbmRlclRyZWUge1xuICBjb25zdHJ1Y3RvcihjYW52YXMpIHtcbiAgICBzdXBlcigpO1xuICAgIGlmICggY2FudmFzICkge1xuICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgfVxuICB9XG5cbiAgY3JlYXRlRWxlbWVudCh0YWcsZG9jPXRoaXMuY2FudmFzLm93bmVyRG9jdW1lbnQpIHtcbiAgICByZXR1cm4gZG9jLmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgfVxuXG4gIGdyb3VwKGFfZykge1xuICAgIGlmICggISBhX2cgKSB7XG4gICAgICBhX2cgPSBuZXcgQ2FudmFzKCk7XG4gICAgICB0aGlzLmFwcGVuZENoaWxkKGFfZyk7XG4gICAgfVxuICAgIHJldHVybiBhX2c7XG4gIH1cblxuICB1c2UocmVmLHgseSx3aWR0aCxoZWlnaHQpIHtcbiAgICBsZXQgaWNvbiA9IHsgaWNvbjogcmVmLCB4LCB5LCB3aWR0aCwgaGVpZ2h0LCByZW5kZXI6IHJlbmRlcl9pY29uIH07XG4gICAgdGhpcy5hcHBlbmRDaGlsZChpY29uKTtcbiAgICByZXR1cm4gaWNvbjtcbiAgfVxuXG4gIHJlY3QoKSB7XG4gIH1cblxuICBsaW5lKHgseSx4Mix5MixvcHRpb25zPXt9KSB7XG4gICAgbGV0IGFfbGluZSA9IHt4LHkseDIseTIsb3B0aW9ucywgcmVuZGVyOiByZW5kZXJfbGluZX07XG4gICAgdGhpcy5hcHBlbmRDaGlsZChhX2xpbmUpO1xuICAgIHJldHVybiBhX2xpbmU7XG4gIH1cblxuICB0ZXh0KHgseSx0ZXh0LG9wdGlvbnM9e30pIHtcbiAgICBsZXQgYV90ZXh0ID0geyB4LHksdGV4dCxvcHRpb25zLCByZW5kZXI6IHJlbmRlcl90ZXh0IH07XG4gICAgdGhpcy5hcHBlbmRDaGlsZChhX3RleHQpO1xuICAgIHJldHVybiBhX3RleHQ7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBDYW52YXM7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../glycan.js/js/CanvasCanvas.js\n");

/***/ }),

/***/ "../glycan.js/js/CanvasRenderer.js":
/*!*****************************************!*\
  !*** ../glycan.js/js/CanvasRenderer.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(process) {/* harmony import */ var es6_tween__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! es6-tween */ \"../glycan.js/node_modules/es6-tween/bundled/Tween.min.js\");\n/* harmony import */ var es6_tween__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(es6_tween__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Debug */ \"../glycan.js/js/Debug.js\");\n/* harmony import */ var _Renderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Renderer */ \"../glycan.js/js/Renderer.js\");\n/* harmony import */ var _CanvasCanvas__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CanvasCanvas */ \"../glycan.js/js/CanvasCanvas.js\");\n/* harmony import */ var _lib_canvas_mouse__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/canvas-mouse */ \"../glycan.js/lib/canvas-mouse.js\");\n/*global */\n\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\n\nvar module_string = 'glycanjs:canvasrenderer';\nvar container_symbol = Symbol('document_container');\nvar isNodejs = () => {\n  return typeof process === 'object' && typeof process.versions === 'object' && typeof process.versions.node !== 'undefined';\n};\nvar SYMBOLS_DEF = !isNodejs() ? __webpack_require__(/*! ../sugars.svg */ \"../glycan.js/sugars.svg\").default : '';\nvar SCALE = 100;\nvar log = Object(_Debug__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(module_string);\nvar done_tweening = Symbol('done_tween');\nvar extend_boundaries = (current, newcoords) => {\n  current.x.push(newcoords[0]);\n  current.y.push(newcoords[1]);\n  return current;\n};\nvar get_bounding_boxes = function get_bounding_boxes(renderobj) {\n  var boundaries = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    x: [],\n    y: []\n  };\n  if (renderobj.torender) {\n    for (var el of renderobj.torender) {\n      boundaries = get_bounding_boxes(el, boundaries);\n    }\n    return boundaries;\n  }\n  if (renderobj.x2) {\n    extend_boundaries(boundaries, [renderobj.x, renderobj.y]);\n    extend_boundaries(boundaries, [renderobj.x2, renderobj.y2]);\n  }\n  if (renderobj.width) {\n    extend_boundaries(boundaries, [renderobj.x, renderobj.y]);\n    extend_boundaries(boundaries, [renderobj.x + renderobj.width, renderobj.y + renderobj.height]);\n  }\n  if (renderobj.text) {\n    extend_boundaries(boundaries, [renderobj.x, renderobj.y]);\n    extend_boundaries(boundaries, [renderobj.x, renderobj.y]);\n  }\n  return boundaries;\n};\nclass CanvasMatrix {\n  constructor(vals) {\n    this._mat = document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGMatrix();\n    this._mat.a = vals[0];\n    this._mat.b = vals[1];\n    this._mat.c = vals[2];\n    this._mat.d = vals[3];\n    this._mat.e = vals[4];\n    this._mat.f = vals[5];\n  }\n  applyToPoint(x, y) {\n    var dompt = document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGPoint();\n    dompt.x = x;\n    dompt.y = y;\n    var inverted = dompt.matrixTransform(this._mat);\n    return inverted;\n  }\n  inverse() {\n    var mtrx = this._mat.inverse();\n    var vals = [mtrx.a, mtrx.b, mtrx.c, mtrx.d, mtrx.e, mtrx.f];\n    return new CanvasMatrix(vals);\n  }\n  multiply(matrix) {\n    var mtrx = this._mat.multiply(matrix._mat);\n    var vals = [mtrx.a, mtrx.b, mtrx.c, mtrx.d, mtrx.e, mtrx.f];\n    return new CanvasMatrix(vals);\n  }\n}\nvar perform_rendering = function perform_rendering(canvas, renderobj) {\n  if (renderobj.torender) {\n    for (var el of renderobj.torender) {\n      perform_rendering(canvas, el);\n    }\n    return;\n  }\n  if (renderobj.render) {\n    renderobj.render(canvas);\n  }\n};\nvar render = function render(canvas, renderobj) {\n  var coords = get_bounding_boxes(renderobj);\n  coords.x = coords.x.map((val, idx, arr) => {\n    if (idx % 2 === 0) {\n      return 0.5 * (val + arr[idx + 1]);\n    }\n  }).filter(x => typeof x !== 'undefined');\n  coords.y = coords.y.map((val, idx, arr) => {\n    if (idx % 2 === 0) {\n      return 0.5 * (val + arr[idx + 1]);\n    }\n  }).filter(x => typeof x !== 'undefined');\n  var min_x = Math.min(...coords.x) - 100;\n  var max_x = Math.max(...coords.x) + 100;\n  var min_y = Math.min(...coords.y) - 100;\n  var max_y = Math.max(...coords.y) + 100;\n  var scale = 1;\n  canvas.width = scale * (max_x - min_x);\n  canvas.height = scale * (max_y - min_y);\n  var ctx = canvas.getContext('2d');\n  var {\n    width: actual_width,\n    height: actual_height\n  } = canvas.getBoundingClientRect();\n  var svg_h = canvas.height;\n  var h = actual_height || 1;\n  var svg_w = canvas.width;\n  var w = actual_width || 1;\n  var canvas_transforms;\n  if (svg_h > svg_w) {\n    var centering_matrix = new CanvasMatrix([svg_h / h, 0, 0, svg_h / h, 0, 0]).multiply(new CanvasMatrix([1, 0, 0, 1, -0.5 * w, 0]));\n    canvas_transforms = new CanvasMatrix([1, 0, 0, 1, 0.5 * svg_w, 0]).multiply(centering_matrix);\n  } else {\n    var _centering_matrix = new CanvasMatrix([svg_w / w, 0, 0, svg_w / w, 0, 0]).multiply(new CanvasMatrix([1, 0, 0, 1, 0, -0.5 * h]));\n    canvas_transforms = new CanvasMatrix([1, 0, 0, 1, 0, 0.5 * svg_h]).multiply(_centering_matrix);\n  }\n  ctx.setTransform(scale, 0, 0, scale, -1 * scale * min_x, -1 * scale * min_y);\n  canvas.cm = new _lib_canvas_mouse__WEBPACK_IMPORTED_MODULE_4__[\"default\"](ctx, {\n    handleScale: false,\n    handleTransforms: true,\n    matrix: new CanvasMatrix([scale, 0, 0, scale, -1 * scale * min_x, -1 * scale * min_y])\n  });\n  canvas.cm.centering_matrix = canvas_transforms;\n  canvas.screenToCanvasMatrix = new CanvasMatrix([scale, 0, 0, scale, -1 * scale * min_x, -1 * scale * min_y]).inverse().multiply(canvas_transforms);\n  perform_rendering(canvas, renderobj);\n};\nvar populate_path = element => {\n  var path = {};\n  path.fill = element.getAttribute('fill');\n  if (element.getAttribute('stroke-width') && parseFloat(element.getAttribute('stroke-width')) > 0) {\n    path.stroke = element.getAttribute('stroke');\n  }\n  if (element.getAttribute('transform')) {\n    var [match_str, angle, cx, cy] = element.getAttribute('transform').match(/rotate\\((\\d+),(\\d+),(\\d+)\\)/);\n    if (match_str.length > 0) {\n      path.rotate = {\n        angle,\n        cx,\n        cy\n      };\n    }\n  }\n  return path;\n};\nvar extract_paths = symbol => {\n  var paths = [];\n  for (var path of symbol.querySelectorAll('path')) {\n    var a_path = populate_path(path);\n    a_path.d = path.getAttribute('d');\n    paths.push(a_path);\n  }\n  for (var _path of symbol.querySelectorAll('circle')) {\n    var _a_path = populate_path(_path);\n    _a_path.cx = parseFloat(_path.getAttribute('cx'));\n    _a_path.cy = parseFloat(_path.getAttribute('cy'));\n    _a_path.r = parseFloat(_path.getAttribute('r'));\n    paths.push(_a_path);\n  }\n  for (var _path2 of symbol.querySelectorAll('rect')) {\n    var _a_path2 = populate_path(_path2);\n    var x = _path2.getAttribute('x');\n    var y = _path2.getAttribute('y');\n    var x2 = parseFloat(_path2.getAttribute('x')) + parseFloat(_path2.getAttribute('width'));\n    var y2 = parseFloat(_path2.getAttribute('y')) + parseFloat(_path2.getAttribute('height'));\n    _a_path2.d = \"M\".concat(x, \",\").concat(y, \" \").concat(x2, \",\").concat(y, \" \").concat(x2, \",\").concat(y2, \" \").concat(x, \",\").concat(y2, \" z\");\n    paths.push(_a_path2);\n  }\n  for (var _path3 of symbol.querySelectorAll('polyline')) {\n    var _a_path3 = populate_path(_path3);\n    _a_path3.d = 'M' + _path3.getAttribute('points') + 'Z';\n    paths.push(_a_path3);\n  }\n  for (var _path4 of symbol.querySelectorAll('text')) {\n    var _a_path4 = populate_path(_path4);\n    _a_path4.fontSize = _path4.getAttribute('font-size');\n    _a_path4.text = _path4.textContent;\n    var _x = _path4.getAttribute('x');\n    var _y = _path4.getAttribute('y');\n    _a_path4.x = _x;\n    _a_path4.y = _y;\n    paths.push(_a_path4);\n  }\n  return paths;\n};\nvar all_symbols = Symbol('global_symbols');\nvar performing_import = Symbol('performing_import');\nvar _import_icons;\nvar TweenMap = new WeakMap();\nvar supported_events = 'mousemove mousedown mouseup click touchstart touchend touchmove drop dragover';\nvar wire_canvas_events = function wire_canvas_events(canvas, callback) {\n  for (var target of supported_events.split(' ')) {\n    canvas.addEventListener(target, callback, {\n      passive: true,\n      capture: true\n    });\n  }\n};\nvar handle_events = function handle_events(canvas, event) {\n  if (event.clientX) {\n    var rect = canvas.getBoundingClientRect();\n    var transformed = canvas.screenToCanvasMatrix.applyToPoint(event.clientX - rect.x, event.clientY - rect.y);\n    var xpos = transformed.x / SCALE;\n    var ypos = transformed.y / SCALE;\n    event.sugarX = xpos;\n    event.sugarY = ypos;\n  }\n};\nvar inside_icon = (x, y, icon) => {\n  x = x * SCALE;\n  y = y * SCALE;\n  return x >= icon.x && x <= icon.x + icon.width && y >= icon.y && y <= icon.y + icon.height;\n};\nvar proxy_bounds = (x, y) => {\n  return {\n    left: x,\n    top: y,\n    width: 0,\n    height: 0\n  };\n};\nvar retarget_event = function retarget_event(ev) {\n  if (!ev.sugarX && !ev.sugarY) {\n    return;\n  }\n  var inside_icons = [...this.iconset].filter(inside_icon.bind(null, ev.sugarX, ev.sugarY));\n  var target_type = ev.type;\n  for (var icon of inside_icons) {\n    if (icon.hasElement()) {\n      ev.stopImmediatePropagation();\n      var new_ev = new Event(target_type, {\n        bubbles: true\n      });\n      icon.element.getBoundingClientRect = proxy_bounds.bind(null, ev.clientX, ev.clientY);\n      icon.element.dispatchEvent(new_ev);\n      if (target_type === 'dragover' && this.last_dragenter !== icon) {\n        if (this.last_dragenter) {\n          delete this.last_dragenter;\n          new_ev = new Event('dragleave', {\n            bubbles: true\n          });\n          icon.element.dispatchEvent(new_ev);\n        }\n        new_ev = new Event('dragenter', {\n          bubbles: true\n        });\n        icon.element.dispatchEvent(new_ev);\n        this.last_dragenter = icon;\n      }\n      return;\n    }\n  }\n  if (inside_icons.length < 1 && target_type === 'dragover') {\n    if (this.last_dragenter) {\n      var _new_ev = new Event('dragleave', {\n        bubbles: true\n      });\n      this.last_dragenter.element.dispatchEvent(_new_ev);\n      delete this.last_dragenter;\n    }\n  }\n};\nclass CanvasRenderer extends _Renderer__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor(container, layout) {\n    log('CanvasRenderer');\n    super(container, layout);\n    Object(es6_tween__WEBPACK_IMPORTED_MODULE_0__[\"autoPlay\"])(true);\n    this.iconset = new Set();\n    Object(es6_tween__WEBPACK_IMPORTED_MODULE_0__[\"onTick\"])(() => {\n      if (this.animating) {\n        this.paint();\n      }\n    });\n    this.ready = _import_icons.call(this);\n    var canvas;\n    if (container) {\n      if (!(container instanceof HTMLCanvasElement)) {\n        this[container_symbol] = container;\n        log.info('Creating canvas element');\n        canvas = container.ownerDocument.createElement('canvas');\n        canvas.setAttribute('width', '1px');\n        canvas.setAttribute('height', '1px');\n        container.appendChild(canvas);\n      } else {\n        canvas = container;\n      }\n      this.element = new _CanvasCanvas__WEBPACK_IMPORTED_MODULE_3__[\"default\"](canvas);\n      wire_canvas_events(this.element.canvas, handle_events.bind(this, this.element.canvas), {\n        passive: true,\n        capture: false\n      });\n      for (var ev of ['click', 'dragover']) {\n        this.element.canvas.addEventListener(ev, retarget_event.bind(this), {\n          capture: true\n        });\n      }\n    }\n  }\n  static get Canvas() {\n    return _CanvasCanvas__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\n  }\n  static get SYMBOLS() {\n    return SYMBOLS_DEF;\n  }\n  static get GLOBAL_SCALE() {\n    return SCALE;\n  }\n  get animating() {\n    for (var res of this.iconset) {\n      if (!res.rendered) {\n        return true;\n      }\n    }\n    return false;\n  }\n  setupContainer(container, sugar) {\n    var canvas = this.element;\n    if (!container) {\n      container = canvas.group();\n      this.rendered.set(sugar, container);\n    }\n    if (this.groupTag && !container.tagGroup) {\n      container.tagGroup = container.group();\n    }\n\n    // Move all nodes out of the group\n    if (container.tagGroup) {\n      for (var el of container.tagGroup.element.childNodes) {\n        container.appendChild(el);\n      }\n    }\n    return container;\n  }\n  renderLinkageGroup(canvas) {\n    return canvas.group();\n  }\n  renderLinkageLabel(canvas, x, y, text, ROTATE, short_axis_pos) {\n    var label = canvas.text(x, y, text);\n    if (!ROTATE && short_axis_pos < 0) {\n      label['text-anchor'] = 'end';\n    }\n    return label;\n  }\n  removeRendered(elements) {\n    if (elements.residue) {\n      elements.residue.parent.remove(elements.residue);\n      if (elements.residue.element) {\n        elements.residue.element.parentNode.removeChild(elements.residue.element);\n      }\n      if (this.iconset.has(elements.residue)) {\n        this.iconset.delete(elements.residue);\n      }\n    }\n    if (elements.linkage) {\n      elements.linkage.parent.remove(elements.linkage);\n    }\n  }\n  setIconPosition(icon, x, y, width, height, rotate) {\n    if (TweenMap.get(icon)) {\n      TweenMap.get(icon).stop();\n    }\n    TweenMap.set(icon, new es6_tween__WEBPACK_IMPORTED_MODULE_0__[\"Tween\"](icon));\n    var tween = TweenMap.get(icon);\n    var timing = 200;\n    icon.rendered = false;\n    clearTimeout(icon[done_tweening]);\n    if (icon.x === x && icon.y === y && icon.width === width && icon.height === height) {\n      icon.rendered = true;\n      return;\n    }\n    if (!this.iconset.has(icon)) {\n      this.iconset.add(icon);\n      icon.x = x;\n      icon.y = y;\n      icon.width = width;\n      icon.height = height;\n      icon.rotate = rotate;\n      timing = 0;\n      icon.rendered = true;\n    }\n    tween.to({\n      x: x,\n      y: y,\n      width: width,\n      height: height,\n      rotate: rotate\n    }, timing).on('complete', icon => {\n      icon[done_tweening] = setTimeout(() => {\n        icon.rendered = true;\n      }, 100);\n    }).start();\n  }\n  screenCoordinatesFromLayout(layout) {\n    var canvas = this.element.canvas;\n    var pt = {\n      x: 0,\n      y: 0\n    };\n    var xend = layout.x + layout.width;\n    var yend = layout.y + layout.height;\n    pt.x = layout.x * SCALE;\n    pt.y = layout.y * SCALE;\n    var transformed = canvas.screenToCanvasMatrix.inverse().applyToPoint(pt.x, pt.y);\n    layout.x = transformed.x;\n    layout.y = transformed.y;\n    pt.x = xend * SCALE;\n    pt.y = yend * SCALE;\n    transformed = canvas.screenToCanvasMatrix.inverse().applyToPoint(pt.x, pt.y);\n    layout.width = transformed.x - layout.x;\n    layout.height = transformed.y - layout.y;\n    layout.x += canvas.getBoundingClientRect().x;\n    layout.y += canvas.getBoundingClientRect().y;\n    return layout;\n  }\n  renderIcon(container, identifier) {\n    var icon = container.use(identifier, 0, 0, 1, 1);\n    icon.src = this.symbols[identifier].svg;\n    icon.paths = this.symbols[identifier].paths;\n    var canvas = this.element.canvas;\n    Object.defineProperty(icon, 'element', {\n      get: function get() {\n        if (!this._element) {\n          this._element = canvas.ownerDocument.createElement('button');\n          canvas.appendChild(this._element);\n        }\n        return this._element;\n      }\n    });\n    icon.hasElement = () => '_element' in icon;\n    return icon;\n  }\n  scaleToFit() {}\n  paint() {\n    render(this.element.canvas, this.element);\n  }\n  refresh() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return _this.ready.then(/*#__PURE__*/_asyncToGenerator(function* () {\n        yield _Renderer__WEBPACK_IMPORTED_MODULE_2__[\"default\"].prototype.refresh.call(_this);\n        _this.paint();\n      }));\n    })();\n  }\n}\nvar import_status = new WeakMap();\n_import_icons = function import_icons() {\n  var renderer_class = this.constructor;\n  var icons = document.createElement('svg');\n  if (import_status.has(renderer_class)) {\n    return new Promise(resolve => {\n      setTimeout(() => {\n        _import_icons.call(this).then(resolve);\n      }, 0);\n    });\n  }\n  if (typeof renderer_class[all_symbols] !== 'undefined') {\n    this.symbols = renderer_class[all_symbols];\n    return Promise.resolve();\n  }\n  import_status.set(renderer_class, true);\n  this.symbols = {};\n  return Promise.resolve(renderer_class.SYMBOLS).then(symbols_string => icons.innerHTML = symbols_string).then(() => {\n    for (var symbol of icons.querySelectorAll('defs symbol')) {\n      var symboltext = symbol.innerHTML.replace(/#/g, '%23');\n      var paths = extract_paths(symbol);\n      var svg_text = \"data:image/svg+xml;utf8,<svg viewBox=\\\"0 0 100 100\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" x=\\\"0\\\" y=\\\"0\\\" width=\\\"100px\\\" height=\\\"100px\\\">\".concat(symboltext, \"</svg>\");\n      this.symbols[symbol.getAttribute('id')] = {\n        svg: svg_text,\n        paths\n      };\n    }\n    renderer_class[all_symbols] = this.symbols;\n    import_status.delete(renderer_class);\n  });\n};\nCanvasRenderer.DEFAULT_PADDING = {\n  top: 0,\n  side: 0\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (CanvasRenderer);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../sviewer/node_modules/webpack/node_modules/process/browser.js */ \"./node_modules/webpack/node_modules/process/browser.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL0NhbnZhc1JlbmRlcmVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL2dseWNhbi5qcy9qcy9DYW52YXNSZW5kZXJlci5qcz8zMGIwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qZ2xvYmFsICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IFR3ZWVuLCBhdXRvUGxheSwgb25UaWNrIH0gZnJvbSAnZXM2LXR3ZWVuJztcblxuaW1wb3J0IGRlYnVnIGZyb20gJy4vRGVidWcnO1xuXG5pbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9SZW5kZXJlcic7XG5pbXBvcnQgQ2FudmFzIGZyb20gJy4vQ2FudmFzQ2FudmFzJztcblxuaW1wb3J0IENhbnZhc01vdXNlIGZyb20gJy4uL2xpYi9jYW52YXMtbW91c2UnO1xuXG5jb25zdCBtb2R1bGVfc3RyaW5nPSdnbHljYW5qczpjYW52YXNyZW5kZXJlcic7XG5cbmNvbnN0IGNvbnRhaW5lcl9zeW1ib2wgPSBTeW1ib2woJ2RvY3VtZW50X2NvbnRhaW5lcicpO1xuXG5jb25zdCBpc05vZGVqcyA9ICgpID0+IHsgcmV0dXJuIHR5cGVvZiBwcm9jZXNzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZSAhPT0gJ3VuZGVmaW5lZCc7IH07XG5cbmNvbnN0IFNZTUJPTFNfREVGID0gKCAhIGlzTm9kZWpzKCkgKSA/IHJlcXVpcmUoJy4uL3N1Z2Fycy5zdmcnKS5kZWZhdWx0IDogJyc7XG5cbmNvbnN0IFNDQUxFID0gMTAwO1xuXG5jb25zdCBsb2cgPSBkZWJ1Zyhtb2R1bGVfc3RyaW5nKTtcblxuY29uc3QgZG9uZV90d2VlbmluZyA9IFN5bWJvbCgnZG9uZV90d2VlbicpO1xuXG5jb25zdCBleHRlbmRfYm91bmRhcmllcyA9IChjdXJyZW50LG5ld2Nvb3JkcykgPT4ge1xuICBjdXJyZW50LngucHVzaChuZXdjb29yZHNbMF0pO1xuICBjdXJyZW50LnkucHVzaChuZXdjb29yZHNbMV0pO1xuICByZXR1cm4gY3VycmVudDtcbn07XG5cbmNvbnN0IGdldF9ib3VuZGluZ19ib3hlcyA9IGZ1bmN0aW9uKHJlbmRlcm9iaixib3VuZGFyaWVzPXt4OltdLHk6W119KSB7XG4gIGlmIChyZW5kZXJvYmoudG9yZW5kZXIpIHtcbiAgICBmb3IgKGxldCBlbCBvZiByZW5kZXJvYmoudG9yZW5kZXIpIHtcbiAgICAgIGJvdW5kYXJpZXMgPSBnZXRfYm91bmRpbmdfYm94ZXMoZWwsYm91bmRhcmllcyk7XG4gICAgfVxuICAgIHJldHVybiBib3VuZGFyaWVzO1xuICB9XG4gIGlmIChyZW5kZXJvYmoueDIpIHtcbiAgICBleHRlbmRfYm91bmRhcmllcyhib3VuZGFyaWVzLFtyZW5kZXJvYmoueCxyZW5kZXJvYmoueV0pO1xuICAgIGV4dGVuZF9ib3VuZGFyaWVzKGJvdW5kYXJpZXMsW3JlbmRlcm9iai54MixyZW5kZXJvYmoueTJdKTtcbiAgfVxuICBpZiAocmVuZGVyb2JqLndpZHRoKSB7XG4gICAgZXh0ZW5kX2JvdW5kYXJpZXMoYm91bmRhcmllcyxbcmVuZGVyb2JqLngscmVuZGVyb2JqLnldKTtcbiAgICBleHRlbmRfYm91bmRhcmllcyhib3VuZGFyaWVzLFtyZW5kZXJvYmoueCtyZW5kZXJvYmoud2lkdGgscmVuZGVyb2JqLnkrcmVuZGVyb2JqLmhlaWdodF0pO1xuICB9XG4gIGlmIChyZW5kZXJvYmoudGV4dCkge1xuICAgIGV4dGVuZF9ib3VuZGFyaWVzKGJvdW5kYXJpZXMsW3JlbmRlcm9iai54LHJlbmRlcm9iai55XSk7XG4gICAgZXh0ZW5kX2JvdW5kYXJpZXMoYm91bmRhcmllcyxbcmVuZGVyb2JqLngscmVuZGVyb2JqLnldKTtcbiAgfVxuICByZXR1cm4gYm91bmRhcmllcztcbn07XG5cbmNsYXNzIENhbnZhc01hdHJpeCB7XG4gIGNvbnN0cnVjdG9yKHZhbHMpIHtcbiAgICB0aGlzLl9tYXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpLmNyZWF0ZVNWR01hdHJpeCgpO1xuICAgIHRoaXMuX21hdC5hID0gdmFsc1swXTtcbiAgICB0aGlzLl9tYXQuYiA9IHZhbHNbMV07XG4gICAgdGhpcy5fbWF0LmMgPSB2YWxzWzJdO1xuICAgIHRoaXMuX21hdC5kID0gdmFsc1szXTtcbiAgICB0aGlzLl9tYXQuZSA9IHZhbHNbNF07XG4gICAgdGhpcy5fbWF0LmYgPSB2YWxzWzVdO1xuICB9XG4gIGFwcGx5VG9Qb2ludCh4LHkpIHtcbiAgICBsZXQgZG9tcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpLmNyZWF0ZVNWR1BvaW50KCk7XG4gICAgZG9tcHQueCA9IHg7XG4gICAgZG9tcHQueSA9IHk7XG4gICAgbGV0IGludmVydGVkID0gZG9tcHQubWF0cml4VHJhbnNmb3JtKHRoaXMuX21hdCk7XG4gICAgcmV0dXJuIGludmVydGVkO1xuICB9XG4gIGludmVyc2UoKSB7XG4gICAgbGV0IG10cnggPSB0aGlzLl9tYXQuaW52ZXJzZSgpO1xuICAgIGxldCB2YWxzID0gW210cnguYSxtdHJ4LmIsbXRyeC5jLG10cnguZCxtdHJ4LmUsbXRyeC5mXTtcbiAgICByZXR1cm4gbmV3IENhbnZhc01hdHJpeCh2YWxzKTtcbiAgfVxuICBtdWx0aXBseShtYXRyaXgpIHtcbiAgICBsZXQgbXRyeCA9IHRoaXMuX21hdC5tdWx0aXBseShtYXRyaXguX21hdCk7XG4gICAgbGV0IHZhbHMgPSBbbXRyeC5hLG10cnguYixtdHJ4LmMsbXRyeC5kLG10cnguZSxtdHJ4LmZdO1xuICAgIHJldHVybiBuZXcgQ2FudmFzTWF0cml4KHZhbHMpO1xuICB9XG59XG5cbmNvbnN0IHBlcmZvcm1fcmVuZGVyaW5nID0gZnVuY3Rpb24oY2FudmFzLHJlbmRlcm9iaikge1xuICBpZiAocmVuZGVyb2JqLnRvcmVuZGVyKSB7XG4gICAgZm9yIChsZXQgZWwgb2YgcmVuZGVyb2JqLnRvcmVuZGVyKSB7XG4gICAgICBwZXJmb3JtX3JlbmRlcmluZyhjYW52YXMsZWwpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHJlbmRlcm9iai5yZW5kZXIpIHtcbiAgICByZW5kZXJvYmoucmVuZGVyKGNhbnZhcyk7XG4gIH1cbn07XG5cbmNvbnN0IHJlbmRlciA9IGZ1bmN0aW9uKGNhbnZhcyxyZW5kZXJvYmopIHtcbiAgbGV0IGNvb3JkcyA9IGdldF9ib3VuZGluZ19ib3hlcyhyZW5kZXJvYmopO1xuICBjb29yZHMueCA9IGNvb3Jkcy54Lm1hcCggKHZhbCxpZHgsYXJyKSA9PiB7IGlmICgoaWR4ICUgMikgPT09IDApIHsgcmV0dXJuIDAuNSoodmFsICsgYXJyW2lkeCsxXSk7IH0gfSkuZmlsdGVyKCB4ID0+IHR5cGVvZiB4ICE9PSAndW5kZWZpbmVkJyk7XG4gIGNvb3Jkcy55ID0gY29vcmRzLnkubWFwKCAodmFsLGlkeCxhcnIpID0+IHsgaWYgKChpZHggJSAyKSA9PT0gMCkgeyByZXR1cm4gMC41Kih2YWwgKyBhcnJbaWR4KzFdKTsgfSB9KS5maWx0ZXIoIHggPT4gdHlwZW9mIHggIT09ICd1bmRlZmluZWQnKTtcbiAgbGV0IG1pbl94ID0gTWF0aC5taW4oLi4uY29vcmRzLngpLTEwMDtcbiAgbGV0IG1heF94ID0gTWF0aC5tYXgoLi4uY29vcmRzLngpKzEwMDtcbiAgbGV0IG1pbl95ID0gTWF0aC5taW4oLi4uY29vcmRzLnkpLTEwMDtcbiAgbGV0IG1heF95ID0gTWF0aC5tYXgoLi4uY29vcmRzLnkpKzEwMDtcblxuICBsZXQgc2NhbGUgPSAxO1xuXG4gIGNhbnZhcy53aWR0aCA9IHNjYWxlKihtYXhfeCAtIG1pbl94KTtcbiAgY2FudmFzLmhlaWdodCA9IHNjYWxlKihtYXhfeSAtIG1pbl95KTtcblxuICBsZXQgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgbGV0IHsgd2lkdGg6IGFjdHVhbF93aWR0aCwgaGVpZ2h0OiBhY3R1YWxfaGVpZ2h0IH0gPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgbGV0IHN2Z19oID0gY2FudmFzLmhlaWdodDtcbiAgbGV0IGggPSBhY3R1YWxfaGVpZ2h0IHx8IDE7XG4gIGxldCBzdmdfdyA9IGNhbnZhcy53aWR0aDtcbiAgbGV0IHcgPSBhY3R1YWxfd2lkdGggfHwgMTtcbiAgbGV0IGNhbnZhc190cmFuc2Zvcm1zO1xuXG4gIGlmIChzdmdfaCA+IHN2Z193KSB7XG4gICAgbGV0IGNlbnRlcmluZ19tYXRyaXggPSAobmV3IENhbnZhc01hdHJpeChbc3ZnX2gvaCwwLDAsc3ZnX2gvaCwwLDBdKSkubXVsdGlwbHkobmV3IENhbnZhc01hdHJpeChbMSwwLDAsMSwtMC41KncsMF0pKTtcbiAgICBjYW52YXNfdHJhbnNmb3JtcyA9IChuZXcgQ2FudmFzTWF0cml4KFsxLDAsMCwxLDAuNSpzdmdfdywwXSkpLm11bHRpcGx5KGNlbnRlcmluZ19tYXRyaXgpO1xuICB9IGVsc2Uge1xuICAgIGxldCBjZW50ZXJpbmdfbWF0cml4ID0gKG5ldyBDYW52YXNNYXRyaXgoW3N2Z193L3csMCwwLHN2Z193L3csMCwwXSkpLm11bHRpcGx5KG5ldyBDYW52YXNNYXRyaXgoWzEsMCwwLDEsMCwtMC41KmhdKSk7XG4gICAgY2FudmFzX3RyYW5zZm9ybXMgPSAobmV3IENhbnZhc01hdHJpeChbMSwwLDAsMSwwLDAuNSpzdmdfaF0pKS5tdWx0aXBseShjZW50ZXJpbmdfbWF0cml4KTsgICAgXG4gIH1cblxuICBjdHguc2V0VHJhbnNmb3JtKHNjYWxlLDAsMCxzY2FsZSwtMSpzY2FsZSptaW5feCwtMSpzY2FsZSptaW5feSk7XG5cbiAgY2FudmFzLmNtID0gbmV3IENhbnZhc01vdXNlKGN0eCwge1xuICAgIGhhbmRsZVNjYWxlOiBmYWxzZSxcbiAgICBoYW5kbGVUcmFuc2Zvcm1zOiB0cnVlLFxuICAgIG1hdHJpeDogKG5ldyBDYW52YXNNYXRyaXgoW3NjYWxlLDAsMCxzY2FsZSwtMSpzY2FsZSptaW5feCwtMSpzY2FsZSptaW5feV0pKVxuICB9KTtcblxuICBjYW52YXMuY20uY2VudGVyaW5nX21hdHJpeCA9IGNhbnZhc190cmFuc2Zvcm1zO1xuXG4gIGNhbnZhcy5zY3JlZW5Ub0NhbnZhc01hdHJpeCA9IChuZXcgQ2FudmFzTWF0cml4KFtzY2FsZSwwLDAsc2NhbGUsLTEqc2NhbGUqbWluX3gsLTEqc2NhbGUqbWluX3ldKSkuaW52ZXJzZSgpLm11bHRpcGx5KGNhbnZhc190cmFuc2Zvcm1zKTtcblxuICBwZXJmb3JtX3JlbmRlcmluZyhjYW52YXMscmVuZGVyb2JqKTtcbn07XG5cbmNvbnN0IHBvcHVsYXRlX3BhdGggPSAoZWxlbWVudCkgPT4ge1xuICBsZXQgcGF0aCA9IHt9O1xuICBwYXRoLmZpbGwgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZmlsbCcpO1xuICBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcpICYmIHBhcnNlRmxvYXQoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcpKSA+IDApIHtcbiAgICBwYXRoLnN0cm9rZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzdHJva2UnKTtcbiAgfVxuICBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScpKSB7XG4gICAgbGV0IFttYXRjaF9zdHIsYW5nbGUsY3gsY3ldID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScpLm1hdGNoKC9yb3RhdGVcXCgoXFxkKyksKFxcZCspLChcXGQrKVxcKS8pO1xuICAgIGlmIChtYXRjaF9zdHIubGVuZ3RoID4gMCkge1xuICAgICAgcGF0aC5yb3RhdGUgPSB7IGFuZ2xlLCBjeCwgY3kgfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhdGg7XG59O1xuXG5jb25zdCBleHRyYWN0X3BhdGhzID0gKHN5bWJvbCkgPT4ge1xuICBsZXQgcGF0aHMgPSBbXTtcbiAgZm9yIChsZXQgcGF0aCBvZiBzeW1ib2wucXVlcnlTZWxlY3RvckFsbCgncGF0aCcpKSB7XG4gICAgbGV0IGFfcGF0aCA9IHBvcHVsYXRlX3BhdGgocGF0aCk7XG4gICAgYV9wYXRoLmQgPSBwYXRoLmdldEF0dHJpYnV0ZSgnZCcpO1xuICAgIHBhdGhzLnB1c2goYV9wYXRoKTtcbiAgfVxuICBmb3IgKGxldCBwYXRoIG9mIHN5bWJvbC5xdWVyeVNlbGVjdG9yQWxsKCdjaXJjbGUnKSkge1xuICAgIGxldCBhX3BhdGggPSBwb3B1bGF0ZV9wYXRoKHBhdGgpO1xuICAgIGFfcGF0aC5jeCA9IHBhcnNlRmxvYXQocGF0aC5nZXRBdHRyaWJ1dGUoJ2N4JykpO1xuICAgIGFfcGF0aC5jeSA9IHBhcnNlRmxvYXQocGF0aC5nZXRBdHRyaWJ1dGUoJ2N5JykpO1xuICAgIGFfcGF0aC5yID0gcGFyc2VGbG9hdChwYXRoLmdldEF0dHJpYnV0ZSgncicpKTtcbiAgICBwYXRocy5wdXNoKGFfcGF0aCk7XG4gIH1cblxuICBmb3IgKGxldCBwYXRoIG9mIHN5bWJvbC5xdWVyeVNlbGVjdG9yQWxsKCdyZWN0JykpIHtcbiAgICBsZXQgYV9wYXRoID0gcG9wdWxhdGVfcGF0aChwYXRoKTtcbiAgICBsZXQgeCA9IHBhdGguZ2V0QXR0cmlidXRlKCd4Jyk7XG4gICAgbGV0IHkgPSBwYXRoLmdldEF0dHJpYnV0ZSgneScpO1xuICAgIGxldCB4MiA9IHBhcnNlRmxvYXQocGF0aC5nZXRBdHRyaWJ1dGUoJ3gnKSkrcGFyc2VGbG9hdChwYXRoLmdldEF0dHJpYnV0ZSgnd2lkdGgnKSk7XG4gICAgbGV0IHkyID0gcGFyc2VGbG9hdChwYXRoLmdldEF0dHJpYnV0ZSgneScpKStwYXJzZUZsb2F0KHBhdGguZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSk7XG5cbiAgICBhX3BhdGguZCA9IGBNJHt4fSwke3l9ICR7eDJ9LCR7eX0gJHt4Mn0sJHt5Mn0gJHt4fSwke3kyfSB6YDtcbiAgICBwYXRocy5wdXNoKGFfcGF0aCk7XG4gIH1cblxuICBmb3IgKGxldCBwYXRoIG9mIHN5bWJvbC5xdWVyeVNlbGVjdG9yQWxsKCdwb2x5bGluZScpKSB7XG4gICAgbGV0IGFfcGF0aCA9IHBvcHVsYXRlX3BhdGgocGF0aCk7XG4gICAgYV9wYXRoLmQgPSAnTScrcGF0aC5nZXRBdHRyaWJ1dGUoJ3BvaW50cycpKydaJztcbiAgICBwYXRocy5wdXNoKGFfcGF0aCk7XG4gIH1cblxuICBmb3IgKGxldCBwYXRoIG9mIHN5bWJvbC5xdWVyeVNlbGVjdG9yQWxsKCd0ZXh0JykpIHtcbiAgICBsZXQgYV9wYXRoID0gcG9wdWxhdGVfcGF0aChwYXRoKTtcbiAgICBhX3BhdGguZm9udFNpemUgPSBwYXRoLmdldEF0dHJpYnV0ZSgnZm9udC1zaXplJyk7XG4gICAgYV9wYXRoLnRleHQgPSBwYXRoLnRleHRDb250ZW50O1xuICAgIGxldCB4ID0gcGF0aC5nZXRBdHRyaWJ1dGUoJ3gnKTtcbiAgICBsZXQgeSA9IHBhdGguZ2V0QXR0cmlidXRlKCd5Jyk7XG4gICAgYV9wYXRoLnggPSB4O1xuICAgIGFfcGF0aC55ID0geTtcbiAgICBwYXRocy5wdXNoKGFfcGF0aCk7XG4gIH1cblxuICByZXR1cm4gcGF0aHM7XG59O1xuXG5jb25zdCBhbGxfc3ltYm9scyA9IFN5bWJvbCgnZ2xvYmFsX3N5bWJvbHMnKTtcbmNvbnN0IHBlcmZvcm1pbmdfaW1wb3J0ID0gU3ltYm9sKCdwZXJmb3JtaW5nX2ltcG9ydCcpO1xuXG5cbmxldCBpbXBvcnRfaWNvbnM7XG5cbmNvbnN0IFR3ZWVuTWFwID0gbmV3IFdlYWtNYXAoKTtcblxuY29uc3Qgc3VwcG9ydGVkX2V2ZW50cyA9ICdtb3VzZW1vdmUgbW91c2Vkb3duIG1vdXNldXAgY2xpY2sgdG91Y2hzdGFydCB0b3VjaGVuZCB0b3VjaG1vdmUgZHJvcCBkcmFnb3Zlcic7XG5cbmNvbnN0IHdpcmVfY2FudmFzX2V2ZW50cyA9IGZ1bmN0aW9uKGNhbnZhcyxjYWxsYmFjaykge1xuICBmb3IgKGxldCB0YXJnZXQgb2Ygc3VwcG9ydGVkX2V2ZW50cy5zcGxpdCgnICcpKSB7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIHRhcmdldCwgY2FsbGJhY2ssIHsgcGFzc2l2ZTogdHJ1ZSwgY2FwdHVyZTogdHJ1ZSB9ICk7XG4gIH1cbn07XG5cbmNvbnN0IGhhbmRsZV9ldmVudHMgPSBmdW5jdGlvbihjYW52YXMsZXZlbnQpIHtcbiAgaWYgKGV2ZW50LmNsaWVudFgpIHtcbiAgICBsZXQgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgdHJhbnNmb3JtZWQgPSBjYW52YXMuc2NyZWVuVG9DYW52YXNNYXRyaXguYXBwbHlUb1BvaW50KGV2ZW50LmNsaWVudFgtcmVjdC54LGV2ZW50LmNsaWVudFktcmVjdC55KTtcbiAgICBsZXQgeHBvcyA9IHRyYW5zZm9ybWVkLnggLyBTQ0FMRTtcbiAgICBsZXQgeXBvcyA9IHRyYW5zZm9ybWVkLnkgLyBTQ0FMRTtcbiAgICBldmVudC5zdWdhclggPSB4cG9zO1xuICAgIGV2ZW50LnN1Z2FyWSA9IHlwb3M7XG4gIH1cbn07XG5cbmNvbnN0IGluc2lkZV9pY29uID0gKHgseSxpY29uKSA9PiB7XG4gIHggPSB4ICogU0NBTEU7XG4gIHkgPSB5ICogU0NBTEU7XG4gIHJldHVybiAoeCA+PSBpY29uLnggJiYgeCA8PSAoaWNvbi54ICsgaWNvbi53aWR0aCkpICYmXG4gICAgKHkgPj0gaWNvbi55ICYmIHkgPD0gKGljb24ueSArIGljb24uaGVpZ2h0KSk7XG59O1xuXG5jb25zdCBwcm94eV9ib3VuZHMgPSAoeCx5KSA9PiB7XG4gIHJldHVybiB7IGxlZnQ6IHgsIHRvcDogeSwgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xufTtcblxuY29uc3QgcmV0YXJnZXRfZXZlbnQgPSBmdW5jdGlvbihldikge1xuICBpZiAoICEgZXYuc3VnYXJYICYmICEgZXYuc3VnYXJZICkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgaW5zaWRlX2ljb25zID0gWy4uLnRoaXMuaWNvbnNldF0uZmlsdGVyKGluc2lkZV9pY29uLmJpbmQobnVsbCxldi5zdWdhclgsZXYuc3VnYXJZKSk7XG4gIGxldCB0YXJnZXRfdHlwZSA9IGV2LnR5cGU7XG4gIGZvciAobGV0IGljb24gb2YgaW5zaWRlX2ljb25zKSB7XG4gICAgaWYgKGljb24uaGFzRWxlbWVudCgpKSB7XG4gICAgICBldi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblxuICAgICAgbGV0IG5ld19ldiA9IG5ldyBFdmVudCh0YXJnZXRfdHlwZSx7YnViYmxlczogdHJ1ZX0pO1xuICAgICAgaWNvbi5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCA9IHByb3h5X2JvdW5kcy5iaW5kKG51bGwsZXYuY2xpZW50WCxldi5jbGllbnRZKTtcbiAgICAgIGljb24uZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ld19ldik7XG5cbiAgICAgIGlmICh0YXJnZXRfdHlwZSA9PT0gJ2RyYWdvdmVyJyAmJiB0aGlzLmxhc3RfZHJhZ2VudGVyICE9PSBpY29uICkge1xuICAgICAgICBpZiAodGhpcy5sYXN0X2RyYWdlbnRlcikge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLmxhc3RfZHJhZ2VudGVyO1xuICAgICAgICAgIG5ld19ldiA9IG5ldyBFdmVudCgnZHJhZ2xlYXZlJyx7YnViYmxlczogdHJ1ZX0pO1xuICAgICAgICAgIGljb24uZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ld19ldik7ICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIG5ld19ldiA9IG5ldyBFdmVudCgnZHJhZ2VudGVyJyx7YnViYmxlczogdHJ1ZX0pO1xuICAgICAgICBpY29uLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXdfZXYpO1xuICAgICAgICB0aGlzLmxhc3RfZHJhZ2VudGVyID0gaWNvbjtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgaWYgKGluc2lkZV9pY29ucy5sZW5ndGggPCAxICYmIHRhcmdldF90eXBlID09PSAnZHJhZ292ZXInKSB7XG4gICAgaWYgKHRoaXMubGFzdF9kcmFnZW50ZXIpIHtcbiAgICAgIGxldCBuZXdfZXYgPSBuZXcgRXZlbnQoJ2RyYWdsZWF2ZScse2J1YmJsZXM6IHRydWV9KTtcbiAgICAgIHRoaXMubGFzdF9kcmFnZW50ZXIuZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ld19ldik7XG4gICAgICBkZWxldGUgdGhpcy5sYXN0X2RyYWdlbnRlcjtcbiAgICB9XG4gIH1cbn07XG5cbmNsYXNzIENhbnZhc1JlbmRlcmVyIGV4dGVuZHMgUmVuZGVyZXIge1xuICBjb25zdHJ1Y3Rvcihjb250YWluZXIsbGF5b3V0KSB7XG4gICAgbG9nKCdDYW52YXNSZW5kZXJlcicpO1xuICAgIHN1cGVyKGNvbnRhaW5lcixsYXlvdXQpO1xuXG4gICAgYXV0b1BsYXkodHJ1ZSk7XG5cbiAgICB0aGlzLmljb25zZXQgPSBuZXcgU2V0KCk7XG5cbiAgICBvblRpY2soICgpID0+IHtcbiAgICAgIGlmICh0aGlzLmFuaW1hdGluZykge1xuICAgICAgICB0aGlzLnBhaW50KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLnJlYWR5ID0gaW1wb3J0X2ljb25zLmNhbGwodGhpcyk7XG5cbiAgICBsZXQgY2FudmFzO1xuXG4gICAgaWYgKGNvbnRhaW5lcikgeyBcbiAgICAgIGlmICghIChjb250YWluZXIgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkgKSB7XG4gICAgICAgIHRoaXNbY29udGFpbmVyX3N5bWJvbF0gPSBjb250YWluZXI7XG4gICAgICAgIGxvZy5pbmZvKCdDcmVhdGluZyBjYW52YXMgZWxlbWVudCcpO1xuICAgICAgICBjYW52YXMgPSBjb250YWluZXIub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCcxcHgnKTtcbiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywnMXB4Jyk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjYW52YXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FudmFzID0gY29udGFpbmVyO1xuICAgICAgfVxuICAgICAgdGhpcy5lbGVtZW50ID0gbmV3IENhbnZhcyhjYW52YXMpO1xuICAgICAgd2lyZV9jYW52YXNfZXZlbnRzKHRoaXMuZWxlbWVudC5jYW52YXMsIGhhbmRsZV9ldmVudHMuYmluZCh0aGlzLHRoaXMuZWxlbWVudC5jYW52YXMpLCB7cGFzc2l2ZTp0cnVlLCBjYXB0dXJlOiBmYWxzZSB9ICk7XG4gICAgICBmb3IgKGxldCBldiBvZiBbJ2NsaWNrJywnZHJhZ292ZXInXSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoZXYscmV0YXJnZXRfZXZlbnQuYmluZCh0aGlzKSx7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldCBDYW52YXMoKSB7XG4gICAgcmV0dXJuIENhbnZhcztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgU1lNQk9MUygpIHtcbiAgICByZXR1cm4gU1lNQk9MU19ERUY7XG4gIH1cblxuICBzdGF0aWMgZ2V0IEdMT0JBTF9TQ0FMRSgpIHtcbiAgICByZXR1cm4gU0NBTEU7XG4gIH1cblxuICBnZXQgYW5pbWF0aW5nKCkge1xuICAgIGZvciAobGV0IHJlcyBvZiB0aGlzLmljb25zZXQpIHtcbiAgICAgIGlmICghIHJlcy5yZW5kZXJlZCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc2V0dXBDb250YWluZXIoY29udGFpbmVyLHN1Z2FyKSB7XG4gICAgY29uc3QgY2FudmFzID0gdGhpcy5lbGVtZW50O1xuXG4gICAgaWYgKCAhIGNvbnRhaW5lciApIHtcbiAgICAgIGNvbnRhaW5lciA9IGNhbnZhcy5ncm91cCgpO1xuICAgICAgdGhpcy5yZW5kZXJlZC5zZXQoc3VnYXIsY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5ncm91cFRhZyAmJiAhIGNvbnRhaW5lci50YWdHcm91cCkge1xuICAgICAgY29udGFpbmVyLnRhZ0dyb3VwID0gY29udGFpbmVyLmdyb3VwKCk7XG4gICAgfVxuXG4gICAgLy8gTW92ZSBhbGwgbm9kZXMgb3V0IG9mIHRoZSBncm91cFxuICAgIGlmIChjb250YWluZXIudGFnR3JvdXApIHtcbiAgICAgIGZvciAobGV0IGVsIG9mIGNvbnRhaW5lci50YWdHcm91cC5lbGVtZW50LmNoaWxkTm9kZXMpIHtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgfVxuXG4gIHJlbmRlckxpbmthZ2VHcm91cChjYW52YXMpIHtcbiAgICByZXR1cm4gY2FudmFzLmdyb3VwKCk7XG4gIH1cblxuICByZW5kZXJMaW5rYWdlTGFiZWwoY2FudmFzLHgseSx0ZXh0LFJPVEFURSxzaG9ydF9heGlzX3Bvcykge1xuICAgIGxldCBsYWJlbCA9IGNhbnZhcy50ZXh0KCB4LCB5LCB0ZXh0ICk7XG4gICAgaWYgKCEgUk9UQVRFICYmIHNob3J0X2F4aXNfcG9zIDwgMCkge1xuICAgICAgbGFiZWxbJ3RleHQtYW5jaG9yJ10gPSdlbmQnO1xuICAgIH1cbiAgICByZXR1cm4gbGFiZWw7XG4gIH1cblxuICByZW1vdmVSZW5kZXJlZChlbGVtZW50cykge1xuICAgIGlmIChlbGVtZW50cy5yZXNpZHVlKSB7XG4gICAgICBlbGVtZW50cy5yZXNpZHVlLnBhcmVudC5yZW1vdmUoZWxlbWVudHMucmVzaWR1ZSk7XG4gICAgICBpZiAoZWxlbWVudHMucmVzaWR1ZS5lbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnRzLnJlc2lkdWUuZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnRzLnJlc2lkdWUuZWxlbWVudCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5pY29uc2V0LmhhcyhlbGVtZW50cy5yZXNpZHVlKSkge1xuICAgICAgICB0aGlzLmljb25zZXQuZGVsZXRlKGVsZW1lbnRzLnJlc2lkdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZWxlbWVudHMubGlua2FnZSkge1xuICAgICAgZWxlbWVudHMubGlua2FnZS5wYXJlbnQucmVtb3ZlKGVsZW1lbnRzLmxpbmthZ2UpO1xuICAgIH1cbiAgfVxuXG4gIHNldEljb25Qb3NpdGlvbihpY29uLHgseSx3aWR0aCxoZWlnaHQscm90YXRlKSB7XG4gICAgaWYgKCBUd2Vlbk1hcC5nZXQoaWNvbikgKSB7XG4gICAgICBUd2Vlbk1hcC5nZXQoaWNvbikuc3RvcCgpO1xuICAgIH1cblxuICAgIFR3ZWVuTWFwLnNldChpY29uLG5ldyBUd2VlbihpY29uKSk7XG5cbiAgICBsZXQgdHdlZW4gPSBUd2Vlbk1hcC5nZXQoaWNvbik7XG4gICAgbGV0IHRpbWluZyA9IDIwMDtcbiAgICBpY29uLnJlbmRlcmVkID0gZmFsc2U7XG4gICAgY2xlYXJUaW1lb3V0KGljb25bZG9uZV90d2VlbmluZ10pO1xuXG4gICAgaWYgKGljb24ueCA9PT0geCAmJiBpY29uLnkgPT09IHkgJiYgaWNvbi53aWR0aCA9PT0gd2lkdGggJiYgaWNvbi5oZWlnaHQgPT09IGhlaWdodCkge1xuICAgICAgaWNvbi5yZW5kZXJlZCA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCAhIHRoaXMuaWNvbnNldC5oYXMoaWNvbikgKSB7XG4gICAgICB0aGlzLmljb25zZXQuYWRkKGljb24pO1xuICAgICAgaWNvbi54ID0geDtcbiAgICAgIGljb24ueSA9IHk7XG4gICAgICBpY29uLndpZHRoID0gd2lkdGg7XG4gICAgICBpY29uLmhlaWdodCA9IGhlaWdodDtcbiAgICAgIGljb24ucm90YXRlID0gcm90YXRlO1xuICAgICAgdGltaW5nID0gMDtcbiAgICAgIGljb24ucmVuZGVyZWQgPSB0cnVlO1xuICAgIH1cbiAgICB0d2Vlbi50byh7eDogeCwgeTogeSwgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCwgcm90YXRlOiByb3RhdGUgfSx0aW1pbmcpXG4gICAgICAub24oJ2NvbXBsZXRlJywgKGljb24pID0+IHtcbiAgICAgICAgaWNvbltkb25lX3R3ZWVuaW5nXSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGljb24ucmVuZGVyZWQgPSB0cnVlO1xuICAgICAgICB9LDEwMCk7XG4gICAgICB9KVxuICAgICAgLnN0YXJ0KCk7XG4gIH1cblxuICBzY3JlZW5Db29yZGluYXRlc0Zyb21MYXlvdXQobGF5b3V0KSB7XG4gICAgbGV0IGNhbnZhcyA9IHRoaXMuZWxlbWVudC5jYW52YXM7XG4gICAgdmFyIHB0PXt4OjAseTowfTtcbiAgICBsZXQgeGVuZCA9IGxheW91dC54ICsgbGF5b3V0LndpZHRoO1xuICAgIGxldCB5ZW5kID0gbGF5b3V0LnkgKyBsYXlvdXQuaGVpZ2h0O1xuICAgIHB0Lng9bGF5b3V0LngqU0NBTEU7XG4gICAgcHQueT1sYXlvdXQueSpTQ0FMRTtcbiAgICBsZXQgdHJhbnNmb3JtZWQgPSBjYW52YXMuc2NyZWVuVG9DYW52YXNNYXRyaXguaW52ZXJzZSgpLmFwcGx5VG9Qb2ludChwdC54LHB0LnkpO1xuICAgIGxheW91dC54ID0gdHJhbnNmb3JtZWQueDtcbiAgICBsYXlvdXQueSA9IHRyYW5zZm9ybWVkLnk7XG4gICAgcHQueD14ZW5kKlNDQUxFO1xuICAgIHB0Lnk9eWVuZCpTQ0FMRTtcbiAgICB0cmFuc2Zvcm1lZCA9IGNhbnZhcy5zY3JlZW5Ub0NhbnZhc01hdHJpeC5pbnZlcnNlKCkuYXBwbHlUb1BvaW50KHB0LngscHQueSk7XG4gICAgbGF5b3V0LndpZHRoID0gdHJhbnNmb3JtZWQueCAtIGxheW91dC54O1xuICAgIGxheW91dC5oZWlnaHQgPSB0cmFuc2Zvcm1lZC55IC0gbGF5b3V0Lnk7XG4gICAgbGF5b3V0LnggKz0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLng7XG4gICAgbGF5b3V0LnkgKz0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnk7XG4gICAgcmV0dXJuIGxheW91dDtcbiAgfVxuXG4gIHJlbmRlckljb24oY29udGFpbmVyLGlkZW50aWZpZXIpIHtcbiAgICBsZXQgaWNvbiA9IGNvbnRhaW5lci51c2UoaWRlbnRpZmllciwwLDAsMSwxKTtcbiAgICBpY29uLnNyYyA9IHRoaXMuc3ltYm9sc1tpZGVudGlmaWVyXS5zdmc7XG4gICAgaWNvbi5wYXRocyA9IHRoaXMuc3ltYm9sc1tpZGVudGlmaWVyXS5wYXRocztcbiAgICBsZXQgY2FudmFzID0gdGhpcy5lbGVtZW50LmNhbnZhcztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaWNvbiwgJ2VsZW1lbnQnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoICEgdGhpcy5fZWxlbWVudCApIHtcbiAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gY2FudmFzLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICAgICAgfVxuICAgIH0pO1xuICAgIGljb24uaGFzRWxlbWVudCA9ICgpID0+ICdfZWxlbWVudCcgaW4gaWNvbjtcbiAgICByZXR1cm4gaWNvbjtcbiAgfVxuXG4gIHNjYWxlVG9GaXQoKSB7XG4gIH1cblxuICBwYWludCgpIHtcbiAgICByZW5kZXIodGhpcy5lbGVtZW50LmNhbnZhcyx0aGlzLmVsZW1lbnQpO1xuICB9XG5cbiAgYXN5bmMgcmVmcmVzaCgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeS50aGVuKCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBSZW5kZXJlci5wcm90b3R5cGUucmVmcmVzaC5jYWxsKHRoaXMpO1xuICAgICAgdGhpcy5wYWludCgpO1xuICAgIH0pO1xuICB9XG5cbn1cblxuY29uc3QgaW1wb3J0X3N0YXR1cyA9IG5ldyBXZWFrTWFwKCk7XG5cbmltcG9ydF9pY29ucyA9IGZ1bmN0aW9uKCkge1xuXG4gIGxldCByZW5kZXJlcl9jbGFzcyA9IHRoaXMuY29uc3RydWN0b3I7XG5cbiAgbGV0IGljb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3ZnJyk7XG4gIGlmIChpbXBvcnRfc3RhdHVzLmhhcyhyZW5kZXJlcl9jbGFzcykpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoIChyZXNvbHZlKSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgICAgIGltcG9ydF9pY29ucy5jYWxsKHRoaXMpLnRoZW4oIHJlc29sdmUgKTtcbiAgICAgIH0sMCk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHJlbmRlcmVyX2NsYXNzW2FsbF9zeW1ib2xzXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0aGlzLnN5bWJvbHMgPSByZW5kZXJlcl9jbGFzc1thbGxfc3ltYm9sc107XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgaW1wb3J0X3N0YXR1cy5zZXQocmVuZGVyZXJfY2xhc3MsIHRydWUpO1xuXG4gIHRoaXMuc3ltYm9scyA9IHt9O1xuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlbmRlcmVyX2NsYXNzLlNZTUJPTFMpXG4gICAgLnRoZW4oIChzeW1ib2xzX3N0cmluZykgPT4gaWNvbnMuaW5uZXJIVE1MID0gc3ltYm9sc19zdHJpbmcgKVxuICAgIC50aGVuKCAoKSA9PiB7XG4gICAgICBmb3IgKGxldCBzeW1ib2wgb2YgaWNvbnMucXVlcnlTZWxlY3RvckFsbCgnZGVmcyBzeW1ib2wnKSkge1xuICAgICAgICBsZXQgc3ltYm9sdGV4dCA9IHN5bWJvbC5pbm5lckhUTUwucmVwbGFjZSgvIy9nLCclMjMnKTtcbiAgICAgICAgbGV0IHBhdGhzID0gZXh0cmFjdF9wYXRocyhzeW1ib2wpO1xuICAgICAgICBsZXQgc3ZnX3RleHQgPSBgZGF0YTppbWFnZS9zdmcreG1sO3V0ZjgsPHN2ZyB2aWV3Qm94PVwiMCAwIDEwMCAxMDBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeD1cIjBcIiB5PVwiMFwiIHdpZHRoPVwiMTAwcHhcIiBoZWlnaHQ9XCIxMDBweFwiPiR7c3ltYm9sdGV4dH08L3N2Zz5gO1xuICAgICAgICB0aGlzLnN5bWJvbHNbc3ltYm9sLmdldEF0dHJpYnV0ZSgnaWQnKV0gPSB7IHN2Zzogc3ZnX3RleHQsIHBhdGhzIH07XG4gICAgICB9XG4gICAgICByZW5kZXJlcl9jbGFzc1thbGxfc3ltYm9sc10gPSB0aGlzLnN5bWJvbHM7XG4gICAgICBpbXBvcnRfc3RhdHVzLmRlbGV0ZShyZW5kZXJlcl9jbGFzcyk7XG4gICAgfSk7XG59O1xuXG5DYW52YXNSZW5kZXJlci5ERUZBVUxUX1BBRERJTkcgPSB7IHRvcDogMCwgc2lkZTogMCB9O1xuXG5leHBvcnQgZGVmYXVsdCBDYW52YXNSZW5kZXJlcjsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBREE7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../glycan.js/js/CanvasRenderer.js\n");

/***/ }),

/***/ "../glycan.js/js/CondensedIupac.js":
/*!*****************************************!*\
  !*** ../glycan.js/js/CondensedIupac.js ***!
  \*****************************************/
/*! exports provided: Builder, Writer, IO */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Builder\", function() { return Builder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Writer\", function() { return Writer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IO\", function() { return IO; });\n/* harmony import */ var _Monosaccharide__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Monosaccharide */ \"../glycan.js/js/Monosaccharide.js\");\n/* harmony import */ var _Repeat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Repeat */ \"../glycan.js/js/Repeat.js\");\n\n\nvar follow_bold_branch, create_bold_tree;\nvar write_link = link => {\n  if (link < 0) {\n    if (link === _Monosaccharide__WEBPACK_IMPORTED_MODULE_0__[\"default\"].LINKAGES.O) {\n      return 'O';\n    }\n    if (link === _Monosaccharide__WEBPACK_IMPORTED_MODULE_0__[\"default\"].LINKAGES.N) {\n      return 'N';\n    }\n  }\n  return link <= 0 ? '?' : '' + link;\n};\nvar parse_link = link_string => {\n  if (_Monosaccharide__WEBPACK_IMPORTED_MODULE_0__[\"default\"].LINKAGES[link_string]) {\n    return _Monosaccharide__WEBPACK_IMPORTED_MODULE_0__[\"default\"].LINKAGES[link_string];\n  }\n  return link_string == '?' ? 0 : parseInt(link_string);\n};\nvar get_monosaccharide = (sugar, proto) => {\n  // There should be a per-object\n  // and per-class override of the\n  // class that we use here to allow\n  // for specific functionality\n  // for some sugars\n  var mono_class = sugar.constructor.Monosaccharide;\n\n  // If the mono class is an ImmutableMonosaccharide\n  // delete the removeChild method\n  // delete the set parent\n  // delete the set anomer\n  // delete the set parent_linkage\n\n  // move the addChild method into a symbol\n\n  return new mono_class(proto);\n};\nfollow_bold_branch = (sugar, units) => {\n  var unit = units.shift();\n  if (!unit) {\n    throw new Error('Empty branch');\n  }\n  var [child_root, linkage] = unit.split('(');\n  var child = get_monosaccharide(sugar, child_root);\n  create_bold_tree(sugar, child, units);\n  return [child, linkage];\n};\ncreate_bold_tree = (sugar, root, units) => {\n  var waiting_children = [];\n  var child_adder = (parent, pair) => parent.addChild(pair[0], pair[1]);\n  while (units.length > 0) {\n    var unit = units.shift();\n    if (unit == ']') {\n      var [child, linkage] = follow_bold_branch(sugar, units);\n      var [anomer, parent_link,, child_link] = (linkage || '').split('');\n      child.anomer = anomer;\n      child.parent_linkage = parse_link(parent_link);\n      waiting_children.push([parse_link(child_link), child]);\n    } else if (unit == '[') {\n      waiting_children.reverse().forEach(child_adder.bind(null, root));\n      waiting_children.length = 0;\n      return;\n    } else {\n      var [child_root, _linkage] = unit.split('(');\n      var [_anomer, _parent_link,, _child_link] = (_linkage || '').split('');\n      var _child = get_monosaccharide(sugar, child_root);\n      _child.anomer = _anomer;\n      _child.parent_linkage = parse_link(_parent_link);\n      root.addChild(parse_link(_child_link), _child);\n      waiting_children.reverse().forEach(child_adder.bind(null, root));\n      waiting_children.length = 0;\n      root = _child;\n    }\n  }\n};\nvar reverse = function reverse(string) {\n  return string.split('').reverse().join('');\n};\nvar matches_repeat = key => {\n  return res => {\n    return res.identifier === \"Repeat\".concat(key);\n  };\n};\nvar create_repeat_objects = (sugar, definitions) => {\n  var residues = sugar.composition();\n  for (var key of Object.keys(definitions)) {\n    var repeat_placeholder = residues.filter(matches_repeat(key)).shift();\n    if (!repeat_placeholder) {\n      continue;\n    }\n    var repeat_seq = definitions[key].seq;\n    var max_repeats = 1;\n    var variable_identifier = '';\n    if (definitions[key].variable.match(/^\\d+$/)) {\n      max_repeats = parseInt(definitions[key].variable);\n      variable_identifier = '' + max_repeats;\n    }\n    if (definitions[key].variable.match(/[a-z]/)) {\n      variable_identifier = definitions[key].variable;\n    }\n    var clazz = sugar.constructor;\n    var repeat_sug = new clazz();\n    repeat_sug.sequence = repeat_seq;\n    var location = definitions[key].attachment;\n    if (!location) {\n      var repeat_end = repeat_sug.root;\n      while (repeat_end.children && repeat_end.children.length > 0) {\n        repeat_end = repeat_end.children[0];\n      }\n      location = repeat_sug.location_for_monosaccharide(repeat_end);\n    }\n    var repeat = new _Repeat__WEBPACK_IMPORTED_MODULE_1__[\"default\"](repeat_sug, location, 1, max_repeats);\n    repeat.mode = _Repeat__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MODE_MINIMAL;\n    if (variable_identifier) {\n      repeat.identifier = variable_identifier;\n    }\n    var target = repeat_placeholder.parent;\n    target.removeChild(target.linkageOf(repeat_placeholder), repeat_placeholder);\n    target.graft(repeat.root);\n    if (repeat_placeholder.children.length > 0) {\n      repeat.children = repeat_placeholder.children;\n    }\n  }\n  // Traverse the tree to make sure parents are set\n  residues = sugar.composition();\n};\nvar parse_sequence = function parse_sequence(sequence) {\n  var comment = '';\n  if (sequence !== '') {\n    [, sequence, comment] = sequence.match(/([^+]+)(?:\\+(\".+\"))*/);\n  }\n  comment = (comment || '').replace(/^\"/, '').replace(/\"$/, '');\n  var repeat_re = /{([^}@]+)(?:@([a-z]\\d+[a-z]))?}([a-z]|\\d+)/g;\n  var repeat_match;\n  var repeat_count = 0;\n  var repeat_definitions = {};\n  var repeat_free_seq = sequence;\n  while ((repeat_match = repeat_re.exec(sequence)) !== null) {\n    repeat_free_seq = repeat_free_seq.replace(repeat_match[0], \"Repeat\".concat(++repeat_count, \"(u?-?)\"));\n    repeat_definitions[repeat_count] = {\n      seq: repeat_match[1],\n      attachment: repeat_match[2],\n      variable: repeat_match[3]\n    };\n  }\n  sequence = repeat_free_seq;\n  if (sequence.match(/[\\])]$/)) {\n    sequence = \"\".concat(sequence, \"Root\");\n  }\n  sequence = sequence + ')';\n  var units = sequence.split(/([[\\]])/);\n\n  // Reverse ordering of branches so we see closer residues first\n  units = units.map(unit => unit.split(/\\)(?=[A-Za-z*])/).reverse().join(')')).map(unit => unit.match(/\\d$/) ? unit + ')' : unit);\n\n  // We wish to split the units by the linkages\n  units = [].concat.apply([], units.map(unit => reverse(unit).split(')').filter(unit => unit.length).map(reverse))).reverse();\n  this.root = null;\n  if (units.length > 0) {\n    var root = get_monosaccharide(this, units.shift());\n    create_bold_tree(this, root, units);\n    this.root = root;\n  }\n  create_repeat_objects(this, repeat_definitions);\n  if (comment) {\n    this.comment = comment;\n  }\n  return this.root;\n};\nvar write_monosaccharide = mono => {\n  var name = mono.toString();\n  if (mono instanceof _Repeat__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Monosaccharide) {\n    if (mono.repeat.mode === _Repeat__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MODE_MINIMAL) {\n      return \"{\".concat(mono.repeat.template.sequence.replace(/\\([a-z]\\d+-$/, ''));\n    }\n    if (mono.repeat.mode === _Repeat__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MODE_EXPAND) {\n      return \"\".concat(name);\n    }\n  }\n  return name;\n};\nvar write_linkage = mono => {\n  if (!mono.parent) {\n    return '';\n  }\n  return '(' + mono.anomer + write_link(mono.parent_linkage) + '-';\n};\nvar link_expander = function link_expander(links) {\n  var position = links[0];\n  return links[1].map(mono => [position, mono]);\n};\nvar cap_repeat = res => {\n  if (res instanceof _Repeat__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Monosaccharide && res.repeat.root === res && res.repeat.mode === _Repeat__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MODE_MINIMAL) {\n    return (res.repeat.off_main ? \"@\".concat(res.repeat.attachment) : '') + \"}\".concat(res.repeat.identifier);\n  }\n  return '';\n};\nvar write_sequence = function write_sequence() {\n  var start = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.root;\n  if (!start) {\n    return;\n  }\n\n  // Write the sequences for each of the children of this residue\n  // making sure that we place the children in square brackets\n  // if they are off the main branch\n\n  var child_links = [];\n  if (start instanceof _Repeat__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Monosaccharide && start.repeat.mode === _Repeat__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MODE_MINIMAL && start.repeat.root === start) {\n    var repeat_kids = start.repeat.children;\n    if (repeat_kids.length > 0) {\n      child_links = [].concat.apply([], [...repeat_kids[0].parent.child_linkages].map(_ref => {\n        var [linkage, kids] = _ref;\n        return [linkage, kids.filter(child => !(child instanceof _Repeat__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Monosaccharide && child.repeat === start.repeat))];\n      }).sort((a, b) => a[0] - b[0]).map(link_expander));\n    } else {\n      child_links = [];\n    }\n  } else {\n    child_links = [].concat.apply([], [...start.child_linkages].sort((a, b) => a[0] - b[0]).map(link_expander));\n  }\n  var child_sequence = '' + child_links.map(kid => write_sequence.call(this, kid[1]) + write_link(kid[0]) + ')' + cap_repeat(kid[1])).reduce((curr, next) => curr ? curr + '[' + next + ']' : next, '');\n  var seq = child_sequence + write_monosaccharide(start, this) + write_linkage(start);\n  if (start === this.root && this.comment) {\n    return \"\".concat(seq, \"+\\\"\").concat(this.comment, \"\\\"\");\n  } else {\n    return seq;\n  }\n};\nvar getPropertyDescriptor = function getPropertyDescriptor(object, descriptor) {\n  var retval = null;\n  while (!(retval = Object.getOwnPropertyDescriptor(object, descriptor)) && Object.getPrototypeOf(object)) {\n    object = Object.getPrototypeOf(object);\n  }\n  return retval;\n};\nvar Builder = function Builder(superclass) {\n  var getter = (getPropertyDescriptor(superclass.prototype, 'sequence') || {\n    'get': null\n  }).get;\n  var setter = function setter(sequence) {\n    parse_sequence.call(this, sequence);\n  };\n  var methods = {};\n  if (getter) {\n    methods.get = getter;\n  }\n  if (setter) {\n    methods.set = setter;\n  }\n  Object.defineProperty(superclass.prototype, 'sequence', methods);\n  return class extends superclass {};\n};\nvar Writer = function Writer(superclass) {\n  var setter = (getPropertyDescriptor(superclass.prototype, 'sequence') || {\n    'set': null\n  }).set;\n  var getter = function getter() {\n    return write_sequence.call(this, this.root);\n  };\n  var methods = {};\n  if (getter) {\n    methods.get = getter;\n  }\n  if (setter) {\n    methods.set = setter;\n  }\n  Object.defineProperty(superclass.prototype, 'sequence', methods);\n  return class extends superclass {};\n};\nvar anonymous_class = superclass => {\n  return class extends superclass {};\n};\nvar IO = superclass => Builder(Writer(anonymous_class(superclass)));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL0NvbmRlbnNlZEl1cGFjLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL2dseWNhbi5qcy9qcy9Db25kZW5zZWRJdXBhYy5qcz9jYmE3Il0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IE1vbm9zYWNjaGFyaWRlIGZyb20gJy4vTW9ub3NhY2NoYXJpZGUnO1xuaW1wb3J0IFJlcGVhdCBmcm9tICcuL1JlcGVhdCc7XG5cbmxldCBmb2xsb3dfYm9sZF9icmFuY2gsIGNyZWF0ZV9ib2xkX3RyZWU7XG5cbmxldCB3cml0ZV9saW5rID0gbGluayA9PiB7XG4gIGlmIChsaW5rIDwgMCkge1xuICAgIGlmIChsaW5rID09PSBNb25vc2FjY2hhcmlkZS5MSU5LQUdFUy5PKSB7XG4gICAgICByZXR1cm4gJ08nO1xuICAgIH1cbiAgICBpZiggbGluayA9PT0gTW9ub3NhY2NoYXJpZGUuTElOS0FHRVMuTikge1xuICAgICAgcmV0dXJuICdOJztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxpbmsgPD0gMCA/ICc/JyA6ICcnK2xpbms7XG59O1xuXG5sZXQgcGFyc2VfbGluayA9IGxpbmtfc3RyaW5nID0+IHtcbiAgaWYgKE1vbm9zYWNjaGFyaWRlLkxJTktBR0VTW2xpbmtfc3RyaW5nXSkge1xuICAgIHJldHVybiBNb25vc2FjY2hhcmlkZS5MSU5LQUdFU1tsaW5rX3N0cmluZ107XG4gIH1cbiAgcmV0dXJuIGxpbmtfc3RyaW5nID09ICc/JyA/IDAgOiBwYXJzZUludChsaW5rX3N0cmluZyk7XG59O1xuXG5sZXQgZ2V0X21vbm9zYWNjaGFyaWRlID0gKHN1Z2FyLHByb3RvKSA9PiB7XG4gIC8vIFRoZXJlIHNob3VsZCBiZSBhIHBlci1vYmplY3RcbiAgLy8gYW5kIHBlci1jbGFzcyBvdmVycmlkZSBvZiB0aGVcbiAgLy8gY2xhc3MgdGhhdCB3ZSB1c2UgaGVyZSB0byBhbGxvd1xuICAvLyBmb3Igc3BlY2lmaWMgZnVuY3Rpb25hbGl0eVxuICAvLyBmb3Igc29tZSBzdWdhcnNcbiAgbGV0IG1vbm9fY2xhc3MgPSBzdWdhci5jb25zdHJ1Y3Rvci5Nb25vc2FjY2hhcmlkZTtcblxuICAvLyBJZiB0aGUgbW9ubyBjbGFzcyBpcyBhbiBJbW11dGFibGVNb25vc2FjY2hhcmlkZVxuICAvLyBkZWxldGUgdGhlIHJlbW92ZUNoaWxkIG1ldGhvZFxuICAvLyBkZWxldGUgdGhlIHNldCBwYXJlbnRcbiAgLy8gZGVsZXRlIHRoZSBzZXQgYW5vbWVyXG4gIC8vIGRlbGV0ZSB0aGUgc2V0IHBhcmVudF9saW5rYWdlXG5cbiAgLy8gbW92ZSB0aGUgYWRkQ2hpbGQgbWV0aG9kIGludG8gYSBzeW1ib2xcblxuICByZXR1cm4gbmV3IG1vbm9fY2xhc3MocHJvdG8pO1xufTtcblxuZm9sbG93X2JvbGRfYnJhbmNoID0gKHN1Z2FyLHVuaXRzKSA9PiB7XG4gIGxldCB1bml0ID0gdW5pdHMuc2hpZnQoKTtcbiAgaWYgKCAhIHVuaXQgKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFbXB0eSBicmFuY2gnKTtcbiAgfVxuICBsZXQgW2NoaWxkX3Jvb3QsIGxpbmthZ2VdID0gdW5pdC5zcGxpdCgnKCcpO1xuICBsZXQgY2hpbGQgPSBnZXRfbW9ub3NhY2NoYXJpZGUoc3VnYXIsY2hpbGRfcm9vdCk7XG4gIGNyZWF0ZV9ib2xkX3RyZWUoc3VnYXIsY2hpbGQsdW5pdHMpO1xuICByZXR1cm4gWyBjaGlsZCwgbGlua2FnZSBdO1xufTtcblxuY3JlYXRlX2JvbGRfdHJlZSA9ICggc3VnYXIsIHJvb3QsIHVuaXRzICkgPT4ge1xuICBsZXQgd2FpdGluZ19jaGlsZHJlbiA9IFtdO1xuICBsZXQgY2hpbGRfYWRkZXIgPSAocGFyZW50LHBhaXIpID0+IHBhcmVudC5hZGRDaGlsZChwYWlyWzBdLHBhaXJbMV0pO1xuXG4gIHdoaWxlICh1bml0cy5sZW5ndGggPiAwKSB7XG4gICAgbGV0IHVuaXQgPSB1bml0cy5zaGlmdCgpO1xuICAgIGlmICggdW5pdCA9PSAnXScgKSB7XG4gICAgICBsZXQgW2NoaWxkLCBsaW5rYWdlXSA9IGZvbGxvd19ib2xkX2JyYW5jaChzdWdhcix1bml0cyk7XG4gICAgICBsZXQgW2Fub21lcixwYXJlbnRfbGluaywsY2hpbGRfbGlua10gPSAobGlua2FnZSB8fCAnJykuc3BsaXQoJycpO1xuICAgICAgY2hpbGQuYW5vbWVyID0gYW5vbWVyO1xuICAgICAgY2hpbGQucGFyZW50X2xpbmthZ2UgPSBwYXJzZV9saW5rKHBhcmVudF9saW5rKTtcbiAgICAgIHdhaXRpbmdfY2hpbGRyZW4ucHVzaChbcGFyc2VfbGluayhjaGlsZF9saW5rKSxjaGlsZF0pO1xuICAgIH0gZWxzZSBpZiAoIHVuaXQgPT0gJ1snICkge1xuICAgICAgd2FpdGluZ19jaGlsZHJlbi5yZXZlcnNlKCkuZm9yRWFjaCggY2hpbGRfYWRkZXIuYmluZChudWxsLHJvb3QpICk7XG4gICAgICB3YWl0aW5nX2NoaWxkcmVuLmxlbmd0aCA9IDA7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBbY2hpbGRfcm9vdCwgbGlua2FnZV0gPSB1bml0LnNwbGl0KCcoJyk7XG4gICAgICBsZXQgW2Fub21lcixwYXJlbnRfbGluaywsY2hpbGRfbGlua10gPSAobGlua2FnZSB8fCAnJykuc3BsaXQoJycpO1xuICAgICAgbGV0IGNoaWxkID0gZ2V0X21vbm9zYWNjaGFyaWRlKHN1Z2FyLGNoaWxkX3Jvb3QpO1xuICAgICAgY2hpbGQuYW5vbWVyID0gYW5vbWVyO1xuICAgICAgY2hpbGQucGFyZW50X2xpbmthZ2UgPSBwYXJzZV9saW5rKHBhcmVudF9saW5rKTtcbiAgICAgIHJvb3QuYWRkQ2hpbGQocGFyc2VfbGluayhjaGlsZF9saW5rKSxjaGlsZCk7XG4gICAgICB3YWl0aW5nX2NoaWxkcmVuLnJldmVyc2UoKS5mb3JFYWNoKCBjaGlsZF9hZGRlci5iaW5kKG51bGwscm9vdCkgKTtcbiAgICAgIHdhaXRpbmdfY2hpbGRyZW4ubGVuZ3RoID0gMDtcbiAgICAgIHJvb3QgPSBjaGlsZDtcbiAgICB9XG4gIH1cbn07XG5cbmxldCByZXZlcnNlID0gZnVuY3Rpb24oc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcuc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKTtcbn07XG5cbmxldCBtYXRjaGVzX3JlcGVhdCA9IChrZXkpID0+IHtcbiAgcmV0dXJuICggcmVzID0+IHsgcmV0dXJuIHJlcy5pZGVudGlmaWVyID09PSBgUmVwZWF0JHtrZXl9YDsgfSApO1xufTtcblxuY29uc3QgY3JlYXRlX3JlcGVhdF9vYmplY3RzID0gKHN1Z2FyLGRlZmluaXRpb25zKSA9PiB7XG4gIGxldCByZXNpZHVlcyA9IHN1Z2FyLmNvbXBvc2l0aW9uKCk7XG4gIGZvciAobGV0IGtleSBvZiBPYmplY3Qua2V5cyhkZWZpbml0aW9ucykpIHtcbiAgICBsZXQgcmVwZWF0X3BsYWNlaG9sZGVyID0gcmVzaWR1ZXMuZmlsdGVyKCBtYXRjaGVzX3JlcGVhdChrZXkpICkuc2hpZnQoKTtcbiAgICBpZiAoICEgcmVwZWF0X3BsYWNlaG9sZGVyICkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGxldCByZXBlYXRfc2VxID0gZGVmaW5pdGlvbnNba2V5XS5zZXE7XG4gICAgbGV0IG1heF9yZXBlYXRzID0gMTtcbiAgICBsZXQgdmFyaWFibGVfaWRlbnRpZmllciA9ICcnO1xuICAgIGlmIChkZWZpbml0aW9uc1trZXldLnZhcmlhYmxlLm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgbWF4X3JlcGVhdHMgPSBwYXJzZUludChkZWZpbml0aW9uc1trZXldLnZhcmlhYmxlKTtcbiAgICAgIHZhcmlhYmxlX2lkZW50aWZpZXIgPSAnJyttYXhfcmVwZWF0cztcbiAgICB9XG4gICAgaWYgKGRlZmluaXRpb25zW2tleV0udmFyaWFibGUubWF0Y2goL1thLXpdLykpIHtcbiAgICAgIHZhcmlhYmxlX2lkZW50aWZpZXIgPSBkZWZpbml0aW9uc1trZXldLnZhcmlhYmxlO1xuICAgIH1cbiAgICBjb25zdCBjbGF6eiA9IHN1Z2FyLmNvbnN0cnVjdG9yO1xuICAgIGxldCByZXBlYXRfc3VnID0gbmV3IGNsYXp6KCk7XG4gICAgcmVwZWF0X3N1Zy5zZXF1ZW5jZSA9IHJlcGVhdF9zZXE7XG4gICAgbGV0IGxvY2F0aW9uID0gZGVmaW5pdGlvbnNba2V5XS5hdHRhY2htZW50O1xuICAgIGlmICggISBsb2NhdGlvbiApIHtcbiAgICAgIGxldCByZXBlYXRfZW5kID0gcmVwZWF0X3N1Zy5yb290O1xuICAgICAgd2hpbGUgKHJlcGVhdF9lbmQuY2hpbGRyZW4gJiYgcmVwZWF0X2VuZC5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJlcGVhdF9lbmQgPSByZXBlYXRfZW5kLmNoaWxkcmVuWzBdO1xuICAgICAgfVxuICAgICAgbG9jYXRpb24gPSByZXBlYXRfc3VnLmxvY2F0aW9uX2Zvcl9tb25vc2FjY2hhcmlkZShyZXBlYXRfZW5kKTtcbiAgICB9XG4gICAgbGV0IHJlcGVhdCA9IG5ldyBSZXBlYXQocmVwZWF0X3N1Zyxsb2NhdGlvbiwxLG1heF9yZXBlYXRzKTtcbiAgICByZXBlYXQubW9kZSA9IFJlcGVhdC5NT0RFX01JTklNQUw7XG5cbiAgICBpZiAodmFyaWFibGVfaWRlbnRpZmllcikge1xuICAgICAgcmVwZWF0LmlkZW50aWZpZXIgPSB2YXJpYWJsZV9pZGVudGlmaWVyO1xuICAgIH1cblxuICAgIGxldCB0YXJnZXQgPSByZXBlYXRfcGxhY2Vob2xkZXIucGFyZW50O1xuICAgIHRhcmdldC5yZW1vdmVDaGlsZCh0YXJnZXQubGlua2FnZU9mKHJlcGVhdF9wbGFjZWhvbGRlcikscmVwZWF0X3BsYWNlaG9sZGVyKTtcbiAgICB0YXJnZXQuZ3JhZnQocmVwZWF0LnJvb3QpO1xuICAgIGlmIChyZXBlYXRfcGxhY2Vob2xkZXIuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgcmVwZWF0LmNoaWxkcmVuID0gcmVwZWF0X3BsYWNlaG9sZGVyLmNoaWxkcmVuO1xuICAgIH1cbiAgfVxuICAvLyBUcmF2ZXJzZSB0aGUgdHJlZSB0byBtYWtlIHN1cmUgcGFyZW50cyBhcmUgc2V0XG4gIHJlc2lkdWVzID0gc3VnYXIuY29tcG9zaXRpb24oKTtcbn07XG5cbmxldCBwYXJzZV9zZXF1ZW5jZSA9IGZ1bmN0aW9uKHNlcXVlbmNlKSB7XG4gIGxldCBjb21tZW50ID0gJyc7XG4gIGlmICggc2VxdWVuY2UgIT09ICcnICkge1xuICAgIFssc2VxdWVuY2UsY29tbWVudF09c2VxdWVuY2UubWF0Y2goLyhbXitdKykoPzpcXCsoXCIuK1wiKSkqLyk7XG4gIH1cbiAgY29tbWVudCA9IChjb21tZW50IHx8ICcnKS5yZXBsYWNlKC9eXCIvLCcnKS5yZXBsYWNlKC9cIiQvLCcnKTtcbiAgY29uc3QgcmVwZWF0X3JlID0gL3soW159QF0rKSg/OkAoW2Etel1cXGQrW2Etel0pKT99KFthLXpdfFxcZCspL2c7XG4gIGxldCByZXBlYXRfbWF0Y2g7XG4gIGxldCByZXBlYXRfY291bnQgPSAwO1xuICBsZXQgcmVwZWF0X2RlZmluaXRpb25zID0ge307XG4gIGxldCByZXBlYXRfZnJlZV9zZXEgPSBzZXF1ZW5jZTtcbiAgd2hpbGUgKCAocmVwZWF0X21hdGNoID0gcmVwZWF0X3JlLmV4ZWMoc2VxdWVuY2UpKSAhPT0gbnVsbCApIHtcbiAgICByZXBlYXRfZnJlZV9zZXEgPSByZXBlYXRfZnJlZV9zZXEucmVwbGFjZShyZXBlYXRfbWF0Y2hbMF0sYFJlcGVhdCR7KytyZXBlYXRfY291bnR9KHU/LT8pYCk7XG4gICAgcmVwZWF0X2RlZmluaXRpb25zW3JlcGVhdF9jb3VudF0gPSB7IHNlcTogcmVwZWF0X21hdGNoWzFdLCBhdHRhY2htZW50OiByZXBlYXRfbWF0Y2hbMl0sIHZhcmlhYmxlOiByZXBlYXRfbWF0Y2hbM10gfTtcbiAgfVxuICBzZXF1ZW5jZSA9IHJlcGVhdF9mcmVlX3NlcTtcblxuICBpZiAoc2VxdWVuY2UubWF0Y2goL1tcXF0pXSQvKSkge1xuICAgIHNlcXVlbmNlID0gYCR7c2VxdWVuY2V9Um9vdGA7XG4gIH1cbiAgc2VxdWVuY2UgPSBzZXF1ZW5jZSsnKSc7XG4gIGxldCB1bml0cyA9IHNlcXVlbmNlLnNwbGl0KC8oW1tcXF1dKS8pO1xuXG4gIC8vIFJldmVyc2Ugb3JkZXJpbmcgb2YgYnJhbmNoZXMgc28gd2Ugc2VlIGNsb3NlciByZXNpZHVlcyBmaXJzdFxuICB1bml0cyA9IHVuaXRzLm1hcCggdW5pdCA9PiB1bml0LnNwbGl0KC9cXCkoPz1bQS1aYS16Kl0pLykucmV2ZXJzZSgpLmpvaW4oJyknKSApXG4gICAgLm1hcCggdW5pdCA9PiB1bml0Lm1hdGNoKC9cXGQkLykgPyB1bml0KycpJyA6IHVuaXQgKTtcblxuICAvLyBXZSB3aXNoIHRvIHNwbGl0IHRoZSB1bml0cyBieSB0aGUgbGlua2FnZXNcbiAgdW5pdHMgPSBbXS5jb25jYXQuYXBwbHkoW10sdW5pdHMubWFwKHVuaXQgPT4gcmV2ZXJzZSh1bml0KS5zcGxpdCgnKScpLmZpbHRlciggKHVuaXQpID0+IHVuaXQubGVuZ3RoICkubWFwKHJldmVyc2UpKSkucmV2ZXJzZSgpO1xuXG5cbiAgdGhpcy5yb290ID0gbnVsbDtcbiAgaWYgKHVuaXRzLmxlbmd0aCA+IDApIHtcbiAgICBsZXQgcm9vdCA9IGdldF9tb25vc2FjY2hhcmlkZSggdGhpcywgdW5pdHMuc2hpZnQoKSApO1xuICAgIGNyZWF0ZV9ib2xkX3RyZWUodGhpcyxyb290LHVuaXRzKTtcblxuICAgIHRoaXMucm9vdCA9IHJvb3Q7XG4gIH1cblxuICBjcmVhdGVfcmVwZWF0X29iamVjdHModGhpcyxyZXBlYXRfZGVmaW5pdGlvbnMpO1xuXG4gIGlmIChjb21tZW50KSB7XG4gICAgdGhpcy5jb21tZW50ID0gY29tbWVudDtcbiAgfVxuXG4gIHJldHVybiB0aGlzLnJvb3Q7XG59O1xuXG5sZXQgd3JpdGVfbW9ub3NhY2NoYXJpZGUgPSAobW9ubykgPT4ge1xuICBsZXQgbmFtZSA9IG1vbm8udG9TdHJpbmcoKTtcblxuICBpZiAoIG1vbm8gaW5zdGFuY2VvZiBSZXBlYXQuTW9ub3NhY2NoYXJpZGUgKSB7XG4gICAgaWYgKG1vbm8ucmVwZWF0Lm1vZGUgPT09IFJlcGVhdC5NT0RFX01JTklNQUwpIHtcbiAgICAgIHJldHVybiBgeyR7bW9uby5yZXBlYXQudGVtcGxhdGUuc2VxdWVuY2UucmVwbGFjZSgvXFwoW2Etel1cXGQrLSQvLCcnKX1gO1xuICAgIH1cbiAgICBpZiAobW9uby5yZXBlYXQubW9kZSA9PT0gUmVwZWF0Lk1PREVfRVhQQU5EKSB7XG4gICAgICByZXR1cm4gYCR7bmFtZX1gO1xuICAgIH1cblxuICB9XG4gIHJldHVybiBuYW1lO1xufTtcblxubGV0IHdyaXRlX2xpbmthZ2UgPSAobW9ubykgPT4ge1xuICBpZiAoISBtb25vLnBhcmVudCApIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgcmV0dXJuICcoJysgbW9uby5hbm9tZXIgKyB3cml0ZV9saW5rKG1vbm8ucGFyZW50X2xpbmthZ2UpICsgJy0nO1xufTtcblxuXG5sZXQgbGlua19leHBhbmRlciA9IGZ1bmN0aW9uKGxpbmtzKSB7XG4gIGxldCBwb3NpdGlvbiA9IGxpbmtzWzBdO1xuICByZXR1cm4gbGlua3NbMV0ubWFwKCAobW9ubykgPT4gWyBwb3NpdGlvbiAsIG1vbm8gXSk7XG59O1xuXG5sZXQgY2FwX3JlcGVhdCA9IChyZXMpID0+IHtcbiAgaWYgKHJlcyBpbnN0YW5jZW9mIFJlcGVhdC5Nb25vc2FjY2hhcmlkZSAmJiByZXMucmVwZWF0LnJvb3QgPT09IHJlcyAmJiByZXMucmVwZWF0Lm1vZGUgPT09IFJlcGVhdC5NT0RFX01JTklNQUwpIHtcbiAgICByZXR1cm4gKChyZXMucmVwZWF0Lm9mZl9tYWluID8gYEAke3Jlcy5yZXBlYXQuYXR0YWNobWVudH1gIDogJycgKStgfSR7cmVzLnJlcGVhdC5pZGVudGlmaWVyfWApO1xuICB9XG4gIHJldHVybiAnJztcbn07XG5cbmxldCB3cml0ZV9zZXF1ZW5jZSA9IGZ1bmN0aW9uKHN0YXJ0PXRoaXMucm9vdCkge1xuICBpZiAoICEgc3RhcnQgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gV3JpdGUgdGhlIHNlcXVlbmNlcyBmb3IgZWFjaCBvZiB0aGUgY2hpbGRyZW4gb2YgdGhpcyByZXNpZHVlXG4gIC8vIG1ha2luZyBzdXJlIHRoYXQgd2UgcGxhY2UgdGhlIGNoaWxkcmVuIGluIHNxdWFyZSBicmFja2V0c1xuICAvLyBpZiB0aGV5IGFyZSBvZmYgdGhlIG1haW4gYnJhbmNoXG5cbiAgbGV0IGNoaWxkX2xpbmtzID0gW107XG4gIGlmICgoc3RhcnQgaW5zdGFuY2VvZiBSZXBlYXQuTW9ub3NhY2NoYXJpZGUpICYmIHN0YXJ0LnJlcGVhdC5tb2RlID09PSBSZXBlYXQuTU9ERV9NSU5JTUFMICYmIHN0YXJ0LnJlcGVhdC5yb290ID09PSBzdGFydCkge1xuICAgIGxldCByZXBlYXRfa2lkcyA9IHN0YXJ0LnJlcGVhdC5jaGlsZHJlbjtcbiAgICBpZiAocmVwZWF0X2tpZHMubGVuZ3RoID4gMCkge1xuICAgICAgY2hpbGRfbGlua3MgPSBbXS5jb25jYXQuYXBwbHkoW10sIFsuLi5yZXBlYXRfa2lkc1swXS5wYXJlbnQuY2hpbGRfbGlua2FnZXNdLm1hcCggKFtsaW5rYWdlLGtpZHNdKSA9PiB7XG4gICAgICAgIHJldHVybiBbIGxpbmthZ2UsIGtpZHMuZmlsdGVyKCBjaGlsZCA9PiAhIChjaGlsZCBpbnN0YW5jZW9mIFJlcGVhdC5Nb25vc2FjY2hhcmlkZSAmJiBjaGlsZC5yZXBlYXQgPT09IHN0YXJ0LnJlcGVhdCApICkgXTtcbiAgICAgIH0pLnNvcnQoIChhLGIpID0+IGFbMF0gLSBiWzBdICkubWFwKCBsaW5rX2V4cGFuZGVyICkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGlsZF9saW5rcyA9IFtdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjaGlsZF9saW5rcyA9IFtdLmNvbmNhdC5hcHBseShbXSxbLi4uc3RhcnQuY2hpbGRfbGlua2FnZXNdLnNvcnQoIChhLGIpID0+IGFbMF0gLSBiWzBdICkubWFwKGxpbmtfZXhwYW5kZXIpKTtcbiAgfVxuXG4gIGxldCBjaGlsZF9zZXF1ZW5jZSA9ICcnK2NoaWxkX2xpbmtzLm1hcCgga2lkID0+IHdyaXRlX3NlcXVlbmNlLmNhbGwodGhpcyxraWRbMV0pK3dyaXRlX2xpbmsoa2lkWzBdKSsnKScrY2FwX3JlcGVhdChraWRbMV0pICkucmVkdWNlKCAoY3VycixuZXh0KSA9PiBjdXJyID8gY3VycisnWycrbmV4dCsnXScgOiBuZXh0ICwgJycgKTtcbiAgbGV0IHNlcSA9IGNoaWxkX3NlcXVlbmNlK3dyaXRlX21vbm9zYWNjaGFyaWRlKHN0YXJ0LHRoaXMpK3dyaXRlX2xpbmthZ2Uoc3RhcnQpO1xuICBpZiAoc3RhcnQgPT09IHRoaXMucm9vdCAmJiB0aGlzLmNvbW1lbnQpIHtcbiAgICByZXR1cm4gYCR7c2VxfStcIiR7dGhpcy5jb21tZW50fVwiYDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc2VxO1xuICB9XG59O1xuXG5sZXQgZ2V0UHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24ob2JqZWN0LGRlc2NyaXB0b3IpIHtcbiAgbGV0IHJldHZhbCA9IG51bGw7XG4gIHdoaWxlICghIChyZXR2YWwgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCxkZXNjcmlwdG9yKSkgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCkgKSB7XG4gICAgb2JqZWN0ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7XG4gIH1cbiAgcmV0dXJuIHJldHZhbDtcbn07XG5cbmxldCBCdWlsZGVyID0gZnVuY3Rpb24oc3VwZXJjbGFzcykge1xuICBsZXQgZ2V0dGVyID0gKGdldFByb3BlcnR5RGVzY3JpcHRvcihzdXBlcmNsYXNzLnByb3RvdHlwZSwgJ3NlcXVlbmNlJykgfHwgeyAnZ2V0JyA6IG51bGwgfSkuZ2V0O1xuICBsZXQgc2V0dGVyID0gZnVuY3Rpb24oc2VxdWVuY2UpIHtcbiAgICBwYXJzZV9zZXF1ZW5jZS5jYWxsKHRoaXMsc2VxdWVuY2UpO1xuICB9O1xuICBsZXQgbWV0aG9kcyA9IHt9O1xuICBpZiAoZ2V0dGVyKSB7XG4gICAgbWV0aG9kcy5nZXQgPSBnZXR0ZXI7XG4gIH1cbiAgaWYgKHNldHRlcikge1xuICAgIG1ldGhvZHMuc2V0ID0gc2V0dGVyO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdXBlcmNsYXNzLnByb3RvdHlwZSwgJ3NlcXVlbmNlJywgbWV0aG9kcyk7XG5cbiAgcmV0dXJuIGNsYXNzIGV4dGVuZHMgc3VwZXJjbGFzcyB7XG4gIH07XG59O1xuXG5sZXQgV3JpdGVyID0gZnVuY3Rpb24oc3VwZXJjbGFzcykge1xuICBsZXQgc2V0dGVyID0gKGdldFByb3BlcnR5RGVzY3JpcHRvcihzdXBlcmNsYXNzLnByb3RvdHlwZSwgJ3NlcXVlbmNlJykgfHwgeyAnc2V0JyA6IG51bGwgfSkuc2V0O1xuICBsZXQgZ2V0dGVyID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHdyaXRlX3NlcXVlbmNlLmNhbGwodGhpcyx0aGlzLnJvb3QpO1xuICB9O1xuICBsZXQgbWV0aG9kcyA9IHt9O1xuXG4gIGlmIChnZXR0ZXIpIHtcbiAgICBtZXRob2RzLmdldCA9IGdldHRlcjtcbiAgfVxuICBpZiAoc2V0dGVyKSB7XG4gICAgbWV0aG9kcy5zZXQgPSBzZXR0ZXI7XG4gIH1cblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3VwZXJjbGFzcy5wcm90b3R5cGUsICdzZXF1ZW5jZScsIG1ldGhvZHMpO1xuXG4gIHJldHVybiBjbGFzcyBleHRlbmRzIHN1cGVyY2xhc3Mge1xuICB9O1xufTtcblxubGV0IGFub255bW91c19jbGFzcyA9IChzdXBlcmNsYXNzKSA9PiB7IHJldHVybiBjbGFzcyBleHRlbmRzIHN1cGVyY2xhc3Mge307IH07XG5cbmxldCBJTyA9IChzdXBlcmNsYXNzKSA9PiBCdWlsZGVyKFdyaXRlcihhbm9ueW1vdXNfY2xhc3Moc3VwZXJjbGFzcykpKTtcblxuZXhwb3J0IHtCdWlsZGVyLFdyaXRlcixJT307XG4iXSwibWFwcGluZ3MiOiJBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../glycan.js/js/CondensedIupac.js\n");

/***/ }),

/***/ "../glycan.js/js/CondensedLayout.js":
/*!******************************************!*\
  !*** ../glycan.js/js/CondensedLayout.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib_QuadTree__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/QuadTree */ \"../glycan.js/lib/QuadTree.js\");\n/* harmony import */ var _Debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Debug */ \"../glycan.js/js/Debug.js\");\n\n\nvar module_string = 'glycanjs:condensedlayout';\nvar log = Object(_Debug__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(module_string);\nvar BASE_DELTA_X = 1;\nvar BASE_DELTA_Y = 1;\nvar calculate_position = function calculate_position(sugar, item) {\n  var position = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    dx: 0,\n    dy: 0,\n    r: 0.5\n  };\n  var parent_position = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var DELTA_Y = this.DELTA_Y;\n  var DELTA_X = this.DELTA_X;\n\n  // upwards = positive y\n\n  position.collision = [];\n  if (item.children.length > 1 && !position.spread_count) {\n    position.spread_count = item.children.length;\n    position.spread = 1;\n  }\n  if (!item.parent) {\n    return position;\n  }\n  position.dy = -1 * DELTA_Y;\n  position.dx = 0;\n  if (!position.item_index && parent_position.spread_count) {\n    var parent_kids = item.parent.children;\n    position.item_index = parent_kids.indexOf(item) + 1;\n  }\n  if (parent_position.spread) {\n    position.dy = -1 * parent_position.spread * DELTA_Y;\n    position.dx = parent_position.spread * DELTA_X * (position.item_index - 1 - Math.floor(parent_position.spread_count / 2) + 0.5 * (1 - parent_position.spread_count % 2));\n  }\n\n  // Make room for linkage\n  if (!parent_position.spread || parent_position.spread < 2) {\n    position.dy += -1 * position.r;\n  }\n  if (parent_position.grid_spread) {\n    position.dx = DELTA_X * position.item_index;\n  }\n  return position;\n};\nvar derive_position_glycoconjugate = position => {\n  position.x = -1 * position.r;\n  position.y = BASE_DELTA_Y;\n  position.width = 2 * position.r;\n  position.height = 2 * position.r;\n};\nvar derive_position = (position, parent_position) => {\n  position.x = -1 * position.r;\n  position.y = -1 * position.r;\n  position.width = 2 * position.r;\n  position.height = 2 * position.r;\n  if (!parent_position) {\n    return;\n  }\n  position.x += parent_position.x + parent_position.width / 2 + position.dx;\n  position.y += parent_position.y + parent_position.height / 2 + position.dy;\n};\nvar check_overlaps = positions => {\n  var xpositions = positions.map(pos => pos.position.x);\n  var min_x = Math.min(...xpositions);\n  var width = Math.max(...xpositions) - min_x;\n  var min_y = Math.min(...xpositions);\n  var height = Math.max(...xpositions) - min_y;\n  var quad = new _lib_QuadTree__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n    x: min_x,\n    y: min_y,\n    width: width,\n    height: height\n  });\n  for (var position of positions.map((pos, idx) => Object.assign({\n    idx: idx\n  }, pos.position))) {\n    // Skip this if ignore_overlap is true\n    if (position.ignore_overlap === true) {\n      continue;\n    }\n    quad.insert(position);\n  }\n  for (var i = 0; i < positions.length; i++) {\n    if (positions[i].position.ignore_overlap === true) {\n      continue;\n    }\n    var check_position = positions[i].position;\n    var items = quad.retrieve(check_position);\n    for (var item of items) {\n      if (item.idx === i) {\n        continue;\n      }\n      if (positions[i].item.parent == positions[item.idx].item) {\n        continue;\n      }\n      if (positions[item.idx].item.parent == positions[i].item) {\n        continue;\n      }\n      var item_position = positions[item.idx].position;\n      if (item_position.collision.indexOf(check_position) >= 0 && check_position.collision.indexOf(item_position) >= 0) {\n        continue;\n      }\n      var dx = check_position.x - item_position.x;\n      var dy = check_position.y - item_position.y;\n      var radii = check_position.r + item_position.r;\n      var colliding = dx * dx + dy * dy < radii * radii;\n      if (colliding) {\n        item_position.collision.push(check_position);\n        check_position.collision.push(item_position);\n      }\n    }\n  }\n};\nvar derive_item_position = (layout, item) => {\n  if (!item.parent && item.children.length == 1 && item.linkageOf(item.children[0]) < 0) {\n    derive_position_glycoconjugate(layout.get(item), item.identifier);\n    return {\n      position: layout.get(item),\n      item: item\n    };\n  }\n  derive_position(layout.get(item), item.parent ? layout.get(item.parent) : null);\n  log.info('Position for', item.identifier, layout.get(item).x, layout.get(item).y);\n  return {\n    position: layout.get(item),\n    item: item\n  };\n};\nvar is_not_resolved = (resolved, overlapping) => !resolved[overlapping];\nvar map_get_item = (map, item) => map.get(item);\nvar path_to_root = (sugar, start) => [...sugar.residues_to_root(start)];\nvar CondensedLayout = class {\n  static get DELTA_X() {\n    if (this.LINKS) {\n      return BASE_DELTA_X;\n    } else {\n      return BASE_DELTA_X;\n    }\n  }\n  static get DELTA_Y() {\n    if (this.LINKS) {\n      return BASE_DELTA_Y;\n    } else {\n      return 0.5 * BASE_DELTA_Y;\n    }\n  }\n  static get SPREAD_DELTA() {\n    return 1;\n  }\n  static LayoutMonosaccharide(renderable, monosaccharide, position, parent_position) {\n    return calculate_position.call(this, renderable, monosaccharide, position, parent_position);\n  }\n  static CalculateIdentifier(residue) {\n    return residue.identifier.toLowerCase();\n  }\n  static PerformLayout(renderable) {\n    var layout = new WeakMap();\n    // Items in the tree based upon\n    // increasing depth\n    var items = [...renderable.breadth_first_traversal()];\n    var overlap_tries_remaining = 20;\n    while (overlap_tries_remaining >= 0) {\n      log.info('Looping to resolve overlaps on loop', overlap_tries_remaining--);\n      for (var item of items) {\n        var current_layout = layout.has(item) ? layout.get(item) : undefined;\n        var parent_layout = item.parent && layout.has(item.parent) ? layout.get(item.parent) : undefined;\n        layout.set(item, this.LayoutMonosaccharide(renderable, item, current_layout, parent_layout, layout));\n      }\n      var positions = items.map(derive_item_position.bind(null, layout));\n      check_overlaps(positions);\n      var overlapping = positions.filter(position => position.position.collision.length > 0).map(overlap => overlap.item);\n      var positions_overlap_map = new WeakMap();\n      for (var _item of overlapping) {\n        positions_overlap_map.set(layout.get(_item), _item);\n      }\n      if (overlapping.length < 1) {\n        log.info('No overlaps to resolve - breaking');\n        break;\n      }\n      var overlap_roots = new WeakMap();\n      for (var _item2 of overlapping) {\n        var colliding_parents = [].concat.apply([], layout.get(_item2).collision.map(map_get_item.bind(null, positions_overlap_map)).map(path_to_root.bind(null, renderable)));\n        log.info(_item2.identifier, 'collides with', colliding_parents[0].identifier, 'at', layout.get(_item2).x, layout.get(_item2).y, layout.get(_item2).collision.map(coll => [coll.x, coll.y]), 'which is a child of', colliding_parents.map(res => res.identifier));\n        for (var parent of renderable.residues_to_root(_item2)) {\n          if (parent === _item2) {\n            continue;\n          }\n          if (!overlap_roots.has(parent)) {\n            overlap_roots.set(parent, []);\n          }\n          // First parent this residue collides with\n          if (colliding_parents.indexOf(parent) >= 0) {\n            log.info('Overlap root of', parent.identifier, 'for', _item2.identifier);\n            overlap_roots.get(parent).push(_item2);\n            break;\n          }\n        }\n      }\n      var resolved = {};\n      for (var _item3 of [].concat(items).reverse()) {\n        if (overlap_roots.has(_item3)) {\n          var unresolved = overlap_roots.get(_item3).filter(is_not_resolved.bind(null, resolved));\n          for (var to_resolve of unresolved) {\n            resolved[to_resolve] = true;\n          }\n          if (unresolved.length > 0) {\n            layout.get(_item3).spread = (layout.get(_item3).spread || 0) + this.SPREAD_DELTA;\n            log.info('Increasing spread for', _item3.identifier, 'to', layout.get(_item3).spread);\n          }\n        }\n      }\n    }\n    if (log.enabled) {\n      log.info('Done layout for', renderable.sequence);\n      for (var _item4 of items) {\n        log.info('Laid out', _item4.identifier, layout.get(_item4));\n      }\n    }\n\n    // layout the root\n    // layout children\n    return layout;\n  }\n};\nCondensedLayout.LINKS = true;\n/* harmony default export */ __webpack_exports__[\"default\"] = (CondensedLayout);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL0NvbmRlbnNlZExheW91dC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9nbHljYW4uanMvanMvQ29uZGVuc2VkTGF5b3V0LmpzPzg0NGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFF1YWRUcmVlIGZyb20gJy4uL2xpYi9RdWFkVHJlZSc7XG5cbmltcG9ydCBkZWJ1ZyBmcm9tICcuL0RlYnVnJztcblxuY29uc3QgbW9kdWxlX3N0cmluZz0nZ2x5Y2FuanM6Y29uZGVuc2VkbGF5b3V0JztcblxuY29uc3QgbG9nID0gZGVidWcobW9kdWxlX3N0cmluZyk7XG5cbmNvbnN0IEJBU0VfREVMVEFfWCA9IDE7XG5jb25zdCBCQVNFX0RFTFRBX1kgPSAxO1xuXG5cbmxldCBjYWxjdWxhdGVfcG9zaXRpb24gPSBmdW5jdGlvbihzdWdhcixpdGVtLHBvc2l0aW9uPXtkeDowLGR5OjAscjowLjV9LHBhcmVudF9wb3NpdGlvbj17fSkge1xuXG4gIGNvbnN0IERFTFRBX1kgPSB0aGlzLkRFTFRBX1k7XG4gIGNvbnN0IERFTFRBX1ggPSB0aGlzLkRFTFRBX1g7XG5cbiAgLy8gdXB3YXJkcyA9IHBvc2l0aXZlIHlcblxuICBwb3NpdGlvbi5jb2xsaXNpb24gPSBbXTtcblxuICBpZiAoaXRlbS5jaGlsZHJlbi5sZW5ndGggPiAxICYmICEgcG9zaXRpb24uc3ByZWFkX2NvdW50ICkge1xuICAgIHBvc2l0aW9uLnNwcmVhZF9jb3VudCA9IGl0ZW0uY2hpbGRyZW4ubGVuZ3RoO1xuICAgIHBvc2l0aW9uLnNwcmVhZCA9IDE7XG4gIH1cblxuICBpZiAoICEgaXRlbS5wYXJlbnQgKSB7XG4gICAgcmV0dXJuIHBvc2l0aW9uO1xuICB9XG5cbiAgcG9zaXRpb24uZHkgPSAtMSAqIERFTFRBX1k7XG4gIHBvc2l0aW9uLmR4ID0gMDtcblxuICBpZiAoICEgcG9zaXRpb24uaXRlbV9pbmRleCAmJiBwYXJlbnRfcG9zaXRpb24uc3ByZWFkX2NvdW50ICkge1xuICAgIGxldCBwYXJlbnRfa2lkcyA9IGl0ZW0ucGFyZW50LmNoaWxkcmVuO1xuICAgIHBvc2l0aW9uLml0ZW1faW5kZXggPSBwYXJlbnRfa2lkcy5pbmRleE9mKGl0ZW0pICsgMTtcbiAgfVxuXG4gIGlmICggcGFyZW50X3Bvc2l0aW9uLnNwcmVhZCApIHtcbiAgICBwb3NpdGlvbi5keSA9IC0xICogcGFyZW50X3Bvc2l0aW9uLnNwcmVhZCAqIERFTFRBX1k7XG4gICAgcG9zaXRpb24uZHggPSBwYXJlbnRfcG9zaXRpb24uc3ByZWFkICogREVMVEFfWCoocG9zaXRpb24uaXRlbV9pbmRleCAtIDEgLSBNYXRoLmZsb29yKHBhcmVudF9wb3NpdGlvbi5zcHJlYWRfY291bnQgLyAyKSArIDAuNSooMS0ocGFyZW50X3Bvc2l0aW9uLnNwcmVhZF9jb3VudCAlIDIpKSk7XG4gIH1cblxuICAvLyBNYWtlIHJvb20gZm9yIGxpbmthZ2VcbiAgaWYgKCEgcGFyZW50X3Bvc2l0aW9uLnNwcmVhZCB8fCBwYXJlbnRfcG9zaXRpb24uc3ByZWFkIDwgMiApIHtcbiAgICBwb3NpdGlvbi5keSArPSAtMSAqIHBvc2l0aW9uLnI7XG4gIH1cblxuICBpZiAocGFyZW50X3Bvc2l0aW9uLmdyaWRfc3ByZWFkKSB7XG4gICAgcG9zaXRpb24uZHggPSBERUxUQV9YKnBvc2l0aW9uLml0ZW1faW5kZXg7XG4gIH1cblxuICByZXR1cm4gcG9zaXRpb247XG59O1xuXG5sZXQgZGVyaXZlX3Bvc2l0aW9uX2dseWNvY29uanVnYXRlID0gKHBvc2l0aW9uKSA9PiB7XG4gIHBvc2l0aW9uLnggPSAtMSpwb3NpdGlvbi5yO1xuICBwb3NpdGlvbi55ID0gQkFTRV9ERUxUQV9ZO1xuICBwb3NpdGlvbi53aWR0aCA9IDIqcG9zaXRpb24ucjtcbiAgcG9zaXRpb24uaGVpZ2h0ID0gMipwb3NpdGlvbi5yO1xufTtcblxubGV0IGRlcml2ZV9wb3NpdGlvbiA9IChwb3NpdGlvbixwYXJlbnRfcG9zaXRpb24pID0+IHtcbiAgcG9zaXRpb24ueCA9IC0xKnBvc2l0aW9uLnI7XG4gIHBvc2l0aW9uLnkgPSAtMSpwb3NpdGlvbi5yO1xuICBwb3NpdGlvbi53aWR0aCA9IDIqcG9zaXRpb24ucjtcbiAgcG9zaXRpb24uaGVpZ2h0ID0gMipwb3NpdGlvbi5yO1xuXG4gIGlmICggISBwYXJlbnRfcG9zaXRpb24gKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHBvc2l0aW9uLnggKz0gcGFyZW50X3Bvc2l0aW9uLnggKyBwYXJlbnRfcG9zaXRpb24ud2lkdGgvMiArIHBvc2l0aW9uLmR4O1xuICBwb3NpdGlvbi55ICs9IHBhcmVudF9wb3NpdGlvbi55ICsgcGFyZW50X3Bvc2l0aW9uLmhlaWdodC8yICsgcG9zaXRpb24uZHk7XG59O1xuXG5sZXQgY2hlY2tfb3ZlcmxhcHMgPSAocG9zaXRpb25zKSA9PiB7XG4gIGxldCB4cG9zaXRpb25zID0gcG9zaXRpb25zLm1hcCggcG9zID0+IHBvcy5wb3NpdGlvbi54ICk7XG4gIGxldCBtaW5feCA9IE1hdGgubWluKC4uLnhwb3NpdGlvbnMpO1xuICBsZXQgd2lkdGggPSBNYXRoLm1heCguLi54cG9zaXRpb25zKSAtIG1pbl94O1xuICBsZXQgbWluX3kgPSBNYXRoLm1pbiguLi54cG9zaXRpb25zKTtcbiAgbGV0IGhlaWdodCA9IE1hdGgubWF4KC4uLnhwb3NpdGlvbnMpIC0gbWluX3k7XG5cblxuICBsZXQgcXVhZCA9IG5ldyBRdWFkVHJlZSh7eDogbWluX3gsIHk6IG1pbl95LCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH0pO1xuXG4gIGZvcihsZXQgcG9zaXRpb24gb2YgcG9zaXRpb25zLm1hcCggKHBvcyxpZHgpID0+IE9iamVjdC5hc3NpZ24oe2lkeDogaWR4IH0scG9zLnBvc2l0aW9uKSApKSB7XG5cbiAgICAvLyBTa2lwIHRoaXMgaWYgaWdub3JlX292ZXJsYXAgaXMgdHJ1ZVxuICAgIGlmIChwb3NpdGlvbi5pZ25vcmVfb3ZlcmxhcCA9PT0gdHJ1ZSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHF1YWQuaW5zZXJ0KHBvc2l0aW9uKTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHBvc2l0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChwb3NpdGlvbnNbaV0ucG9zaXRpb24uaWdub3JlX292ZXJsYXAgPT09IHRydWUpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBsZXQgY2hlY2tfcG9zaXRpb24gPSBwb3NpdGlvbnNbaV0ucG9zaXRpb247XG4gICAgbGV0IGl0ZW1zID0gcXVhZC5yZXRyaWV2ZShjaGVja19wb3NpdGlvbik7XG4gICAgZm9yIChsZXQgaXRlbSBvZiBpdGVtcykge1xuICAgICAgaWYgKGl0ZW0uaWR4ID09PSBpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHBvc2l0aW9uc1tpXS5pdGVtLnBhcmVudCA9PSBwb3NpdGlvbnNbaXRlbS5pZHhdLml0ZW0gKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHBvc2l0aW9uc1tpdGVtLmlkeF0uaXRlbS5wYXJlbnQgPT0gcG9zaXRpb25zW2ldLml0ZW0gKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBsZXQgaXRlbV9wb3NpdGlvbiA9IHBvc2l0aW9uc1tpdGVtLmlkeF0ucG9zaXRpb247XG4gICAgICBpZiAoaXRlbV9wb3NpdGlvbi5jb2xsaXNpb24uaW5kZXhPZihjaGVja19wb3NpdGlvbikgPj0gMCAmJlxuICAgICAgICAgIGNoZWNrX3Bvc2l0aW9uLmNvbGxpc2lvbi5pbmRleE9mKGl0ZW1fcG9zaXRpb24pID49IDAgKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgbGV0IGR4ID0gY2hlY2tfcG9zaXRpb24ueCAtIGl0ZW1fcG9zaXRpb24ueDtcbiAgICAgIGxldCBkeSA9IGNoZWNrX3Bvc2l0aW9uLnkgLSBpdGVtX3Bvc2l0aW9uLnk7XG4gICAgICBsZXQgcmFkaWkgPSBjaGVja19wb3NpdGlvbi5yICsgaXRlbV9wb3NpdGlvbi5yO1xuXG4gICAgICBsZXQgY29sbGlkaW5nID0gKCggZHggKiBkeCApICArICggZHkgKiBkeSApKSA8IChyYWRpaSAqIHJhZGlpKTtcbiAgICAgIGlmIChjb2xsaWRpbmcpIHtcbiAgICAgICAgaXRlbV9wb3NpdGlvbi5jb2xsaXNpb24ucHVzaChjaGVja19wb3NpdGlvbik7XG4gICAgICAgIGNoZWNrX3Bvc2l0aW9uLmNvbGxpc2lvbi5wdXNoKGl0ZW1fcG9zaXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxubGV0IGRlcml2ZV9pdGVtX3Bvc2l0aW9uID0gKGxheW91dCxpdGVtKSA9PiB7XG4gIGlmICggISBpdGVtLnBhcmVudCAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCA9PSAxICYmIGl0ZW0ubGlua2FnZU9mKGl0ZW0uY2hpbGRyZW5bMF0pIDwgMCkge1xuICAgIGRlcml2ZV9wb3NpdGlvbl9nbHljb2Nvbmp1Z2F0ZShsYXlvdXQuZ2V0KGl0ZW0pLGl0ZW0uaWRlbnRpZmllcik7XG4gICAgcmV0dXJuIHsgcG9zaXRpb246IGxheW91dC5nZXQoaXRlbSksIGl0ZW06IGl0ZW0gfTtcbiAgfVxuICBkZXJpdmVfcG9zaXRpb24obGF5b3V0LmdldChpdGVtKSxpdGVtLnBhcmVudCA/IGxheW91dC5nZXQoaXRlbS5wYXJlbnQpIDogbnVsbCApO1xuICBsb2cuaW5mbygnUG9zaXRpb24gZm9yJyxpdGVtLmlkZW50aWZpZXIsbGF5b3V0LmdldChpdGVtKS54LGxheW91dC5nZXQoaXRlbSkueSk7XG4gIHJldHVybiB7IHBvc2l0aW9uOiBsYXlvdXQuZ2V0KGl0ZW0pLCBpdGVtOiBpdGVtIH07XG59O1xuXG5sZXQgaXNfbm90X3Jlc29sdmVkID0gKHJlc29sdmVkLG92ZXJsYXBwaW5nKSA9PiAhIHJlc29sdmVkW292ZXJsYXBwaW5nXTtcblxubGV0IG1hcF9nZXRfaXRlbSA9IChtYXAsaXRlbSkgPT4gbWFwLmdldChpdGVtKTtcblxubGV0IHBhdGhfdG9fcm9vdCA9IChzdWdhcixzdGFydCkgPT4gWy4uLnN1Z2FyLnJlc2lkdWVzX3RvX3Jvb3Qoc3RhcnQpXTtcblxubGV0IENvbmRlbnNlZExheW91dCA9IGNsYXNzIHtcblxuICBzdGF0aWMgZ2V0IERFTFRBX1goKSB7XG4gICAgaWYgKHRoaXMuTElOS1MpIHtcbiAgICAgIHJldHVybiBCQVNFX0RFTFRBX1g7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBCQVNFX0RFTFRBX1g7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldCBERUxUQV9ZKCkge1xuICAgIGlmICh0aGlzLkxJTktTKSB7XG4gICAgICByZXR1cm4gQkFTRV9ERUxUQV9ZO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gMC41KkJBU0VfREVMVEFfWTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0IFNQUkVBRF9ERUxUQSgpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIHN0YXRpYyBMYXlvdXRNb25vc2FjY2hhcmlkZShyZW5kZXJhYmxlLG1vbm9zYWNjaGFyaWRlLHBvc2l0aW9uLHBhcmVudF9wb3NpdGlvbikge1xuICAgIHJldHVybiBjYWxjdWxhdGVfcG9zaXRpb24uY2FsbCh0aGlzLHJlbmRlcmFibGUsbW9ub3NhY2NoYXJpZGUscG9zaXRpb24scGFyZW50X3Bvc2l0aW9uKTtcbiAgfVxuXG4gIHN0YXRpYyBDYWxjdWxhdGVJZGVudGlmaWVyKHJlc2lkdWUpIHtcbiAgICByZXR1cm4gcmVzaWR1ZS5pZGVudGlmaWVyLnRvTG93ZXJDYXNlKCk7XG4gIH1cblxuICBzdGF0aWMgUGVyZm9ybUxheW91dChyZW5kZXJhYmxlKSB7XG4gICAgbGV0IGxheW91dCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgLy8gSXRlbXMgaW4gdGhlIHRyZWUgYmFzZWQgdXBvblxuICAgIC8vIGluY3JlYXNpbmcgZGVwdGhcbiAgICBsZXQgaXRlbXMgPSBbLi4ucmVuZGVyYWJsZS5icmVhZHRoX2ZpcnN0X3RyYXZlcnNhbCgpXTtcblxuICAgIGxldCBvdmVybGFwX3RyaWVzX3JlbWFpbmluZyA9IDIwO1xuXG4gICAgd2hpbGUgKG92ZXJsYXBfdHJpZXNfcmVtYWluaW5nID49IDApIHtcbiAgICAgIGxvZy5pbmZvKCdMb29waW5nIHRvIHJlc29sdmUgb3ZlcmxhcHMgb24gbG9vcCcsb3ZlcmxhcF90cmllc19yZW1haW5pbmctLSk7XG5cbiAgICAgIGZvciAobGV0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgbGV0IGN1cnJlbnRfbGF5b3V0ID0gbGF5b3V0LmhhcyhpdGVtKSA/IGxheW91dC5nZXQoaXRlbSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBwYXJlbnRfbGF5b3V0ID0gKGl0ZW0ucGFyZW50ICYmIGxheW91dC5oYXMoaXRlbS5wYXJlbnQpKSA/IGxheW91dC5nZXQoaXRlbS5wYXJlbnQpIDogdW5kZWZpbmVkO1xuICAgICAgICBsYXlvdXQuc2V0KCBpdGVtLCB0aGlzLkxheW91dE1vbm9zYWNjaGFyaWRlKHJlbmRlcmFibGUsaXRlbSxjdXJyZW50X2xheW91dCxwYXJlbnRfbGF5b3V0LCBsYXlvdXQgKSApO1xuICAgICAgfVxuXG4gICAgICBsZXQgcG9zaXRpb25zID0gaXRlbXMubWFwKCBkZXJpdmVfaXRlbV9wb3NpdGlvbi5iaW5kKG51bGwsbGF5b3V0KSApO1xuXG4gICAgICBjaGVja19vdmVybGFwcyhwb3NpdGlvbnMpO1xuXG4gICAgICBsZXQgb3ZlcmxhcHBpbmcgPSBwb3NpdGlvbnMuZmlsdGVyKCBwb3NpdGlvbiA9PiBwb3NpdGlvbi5wb3NpdGlvbi5jb2xsaXNpb24ubGVuZ3RoID4gMCApLm1hcCggb3ZlcmxhcCA9PiBvdmVybGFwLml0ZW0gKTtcblxuICAgICAgbGV0IHBvc2l0aW9uc19vdmVybGFwX21hcCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICBmb3IgKGxldCBpdGVtIG9mIG92ZXJsYXBwaW5nKSB7XG4gICAgICAgIHBvc2l0aW9uc19vdmVybGFwX21hcC5zZXQobGF5b3V0LmdldChpdGVtKSxpdGVtKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCBvdmVybGFwcGluZy5sZW5ndGggPCAxKSB7XG4gICAgICAgIGxvZy5pbmZvKCdObyBvdmVybGFwcyB0byByZXNvbHZlIC0gYnJlYWtpbmcnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cblxuICAgICAgbGV0IG92ZXJsYXBfcm9vdHMgPSBuZXcgV2Vha01hcCgpO1xuXG4gICAgICBmb3IgKGxldCBpdGVtIG9mIG92ZXJsYXBwaW5nKSB7XG4gICAgICAgIGxldCBjb2xsaWRpbmdfcGFyZW50cyA9IFtdLmNvbmNhdC5hcHBseShbXSwgbGF5b3V0LmdldChpdGVtKVxuICAgICAgICAgIC5jb2xsaXNpb25cbiAgICAgICAgICAubWFwKCBtYXBfZ2V0X2l0ZW0uYmluZChudWxsLHBvc2l0aW9uc19vdmVybGFwX21hcCkgKVxuICAgICAgICAgIC5tYXAoIHBhdGhfdG9fcm9vdC5iaW5kKG51bGwscmVuZGVyYWJsZSkgKSk7XG4gICAgICAgIGxvZy5pbmZvKGl0ZW0uaWRlbnRpZmllcixcbiAgICAgICAgICAnY29sbGlkZXMgd2l0aCcsXG4gICAgICAgICAgY29sbGlkaW5nX3BhcmVudHNbMF0uaWRlbnRpZmllcixcbiAgICAgICAgICAnYXQnLFxuICAgICAgICAgIGxheW91dC5nZXQoaXRlbSkueCxsYXlvdXQuZ2V0KGl0ZW0pLnksXG4gICAgICAgICAgbGF5b3V0LmdldChpdGVtKS5jb2xsaXNpb24ubWFwKCBjb2xsID0+IFtjb2xsLngsY29sbC55XSksXG4gICAgICAgICAgJ3doaWNoIGlzIGEgY2hpbGQgb2YnLFxuICAgICAgICAgIGNvbGxpZGluZ19wYXJlbnRzLm1hcChyZXMgPT4gcmVzLmlkZW50aWZpZXIpKTtcbiAgICAgICAgZm9yIChsZXQgcGFyZW50IG9mIHJlbmRlcmFibGUucmVzaWR1ZXNfdG9fcm9vdChpdGVtKSkge1xuICAgICAgICAgIGlmICggcGFyZW50ID09PSBpdGVtICkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghIG92ZXJsYXBfcm9vdHMuaGFzKHBhcmVudCkpIHtcbiAgICAgICAgICAgIG92ZXJsYXBfcm9vdHMuc2V0KHBhcmVudCxbXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEZpcnN0IHBhcmVudCB0aGlzIHJlc2lkdWUgY29sbGlkZXMgd2l0aFxuICAgICAgICAgIGlmIChjb2xsaWRpbmdfcGFyZW50cy5pbmRleE9mKHBhcmVudCkgPj0gMCkge1xuICAgICAgICAgICAgbG9nLmluZm8oJ092ZXJsYXAgcm9vdCBvZicscGFyZW50LmlkZW50aWZpZXIsJ2ZvcicsaXRlbS5pZGVudGlmaWVyKTtcbiAgICAgICAgICAgIG92ZXJsYXBfcm9vdHMuZ2V0KHBhcmVudCkucHVzaChpdGVtKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsZXQgcmVzb2x2ZWQgPSB7fTtcblxuICAgICAgZm9yIChsZXQgaXRlbSBvZiBbXS5jb25jYXQoaXRlbXMpLnJldmVyc2UoKSkge1xuICAgICAgICBpZiAob3ZlcmxhcF9yb290cy5oYXMoaXRlbSkpIHtcbiAgICAgICAgICBsZXQgdW5yZXNvbHZlZCA9IG92ZXJsYXBfcm9vdHMuZ2V0KGl0ZW0pLmZpbHRlciggaXNfbm90X3Jlc29sdmVkLmJpbmQobnVsbCxyZXNvbHZlZCkgKTtcbiAgICAgICAgICBmb3IgKGxldCB0b19yZXNvbHZlIG9mIHVucmVzb2x2ZWQpIHtcbiAgICAgICAgICAgIHJlc29sdmVkW3RvX3Jlc29sdmVdID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHVucmVzb2x2ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGF5b3V0LmdldChpdGVtKS5zcHJlYWQgPSAobGF5b3V0LmdldChpdGVtKS5zcHJlYWQgfHwgMCkgKyB0aGlzLlNQUkVBRF9ERUxUQTtcbiAgICAgICAgICAgIGxvZy5pbmZvKCdJbmNyZWFzaW5nIHNwcmVhZCBmb3InLGl0ZW0uaWRlbnRpZmllciwndG8nLGxheW91dC5nZXQoaXRlbSkuc3ByZWFkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgIH1cblxuICAgIGlmIChsb2cuZW5hYmxlZCkge1xuICAgICAgbG9nLmluZm8oJ0RvbmUgbGF5b3V0IGZvcicscmVuZGVyYWJsZS5zZXF1ZW5jZSk7XG4gICAgICBmb3IgKGxldCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgIGxvZy5pbmZvKCdMYWlkIG91dCcsaXRlbS5pZGVudGlmaWVyLGxheW91dC5nZXQoaXRlbSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGxheW91dCB0aGUgcm9vdFxuICAgIC8vIGxheW91dCBjaGlsZHJlblxuICAgIHJldHVybiBsYXlvdXQ7XG4gIH1cbn07XG5cbkNvbmRlbnNlZExheW91dC5MSU5LUyA9IHRydWU7XG5cbmV4cG9ydCBkZWZhdWx0IENvbmRlbnNlZExheW91dDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFJQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../glycan.js/js/CondensedLayout.js\n");

/***/ }),

/***/ "../glycan.js/js/Debug.js":
/*!********************************!*\
  !*** ../glycan.js/js/Debug.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return debug; });\nvar debug = __webpack_require__(/*! debug-any-level */ \"../glycan.js/node_modules/debug-any-level/index.js\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL0RlYnVnLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL2dseWNhbi5qcy9qcy9EZWJ1Zy5qcz8wN2Y5Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGRlYnVnID0gcmVxdWlyZSgnZGVidWctYW55LWxldmVsJyk7XG5leHBvcnQgeyBkZWJ1ZyBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../glycan.js/js/Debug.js\n");

/***/ }),

/***/ "../glycan.js/js/Epimerisation.js":
/*!****************************************!*\
  !*** ../glycan.js/js/Epimerisation.js ***!
  \****************************************/
/*! exports provided: EpimerisableMonosaccharide */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EpimerisableMonosaccharide\", function() { return EpimerisableMonosaccharide; });\n/* harmony import */ var _Monosaccharide__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Monosaccharide */ \"../glycan.js/js/Monosaccharide.js\");\n\nvar epimerised_identifier_symbol = Symbol('epimerised_identifier');\nvar original_residue_symbol = Symbol('original');\nvar noop = () => {};\nvar epimerisation_status = new WeakMap();\nclass EpimerisableMonosaccharide extends _Monosaccharide__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor(original, identifier) {\n    var epimerised = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    super(identifier);\n    this[original_residue_symbol] = original;\n    this[epimerised_identifier_symbol] = identifier;\n    epimerisation_status.set(this, epimerised);\n  }\n  get identifier() {\n    return this.epimerised ? this[epimerised_identifier_symbol] : this[original_residue_symbol].identifier;\n  }\n  get epimerised() {\n    return epimerisation_status.get(this);\n  }\n  disable() {\n    epimerisation_status.set(this, false);\n  }\n  enable() {\n    epimerisation_status.set(this, true);\n  }\n  get anomer() {\n    return this[original_residue_symbol].anomer;\n  }\n  get parent_linkage() {\n    return this[original_residue_symbol].parent_linkage;\n  }\n  set anomer(ignore) {\n    noop(ignore);\n  }\n  set parent_linkage(ignore) {\n    noop(ignore);\n  }\n  set identifier(ignore) {\n    noop(ignore);\n  }\n  clone() {\n    var cloned = new this.constructor(this[original_residue_symbol], this[epimerised_identifier_symbol], this.epimerised);\n    cloned.copyTagsFrom(this);\n    return cloned;\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL0VwaW1lcmlzYXRpb24uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZ2x5Y2FuLmpzL2pzL0VwaW1lcmlzYXRpb24uanM/ZWRiMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWZhdWx0IGFzIE1vbm9zYWNjaGFyaWRlIH0gZnJvbSAnLi9Nb25vc2FjY2hhcmlkZSc7XG5cbmNvbnN0IGVwaW1lcmlzZWRfaWRlbnRpZmllcl9zeW1ib2wgPSBTeW1ib2woJ2VwaW1lcmlzZWRfaWRlbnRpZmllcicpO1xuXG5jb25zdCBvcmlnaW5hbF9yZXNpZHVlX3N5bWJvbCA9IFN5bWJvbCgnb3JpZ2luYWwnKTtcblxuY29uc3Qgbm9vcCA9ICgpID0+IHt9O1xuXG5jb25zdCBlcGltZXJpc2F0aW9uX3N0YXR1cyA9IG5ldyBXZWFrTWFwKCk7XG5cbmNsYXNzIEVwaW1lcmlzYWJsZU1vbm9zYWNjaGFyaWRlIGV4dGVuZHMgTW9ub3NhY2NoYXJpZGUge1xuICBjb25zdHJ1Y3RvcihvcmlnaW5hbCxpZGVudGlmaWVyLGVwaW1lcmlzZWQ9dHJ1ZSkge1xuICAgIHN1cGVyKGlkZW50aWZpZXIpO1xuICAgIHRoaXNbb3JpZ2luYWxfcmVzaWR1ZV9zeW1ib2xdID0gb3JpZ2luYWw7XG4gICAgdGhpc1tlcGltZXJpc2VkX2lkZW50aWZpZXJfc3ltYm9sXSA9IGlkZW50aWZpZXI7XG4gICAgZXBpbWVyaXNhdGlvbl9zdGF0dXMuc2V0KHRoaXMsZXBpbWVyaXNlZCk7XG4gIH1cblxuICBnZXQgaWRlbnRpZmllcigpIHtcbiAgICByZXR1cm4gdGhpcy5lcGltZXJpc2VkID8gdGhpc1tlcGltZXJpc2VkX2lkZW50aWZpZXJfc3ltYm9sXSA6IHRoaXNbb3JpZ2luYWxfcmVzaWR1ZV9zeW1ib2xdLmlkZW50aWZpZXI7XG4gIH1cblxuICBnZXQgZXBpbWVyaXNlZCgpIHtcbiAgICByZXR1cm4gZXBpbWVyaXNhdGlvbl9zdGF0dXMuZ2V0KHRoaXMpO1xuICB9XG5cbiAgZGlzYWJsZSgpIHtcbiAgICBlcGltZXJpc2F0aW9uX3N0YXR1cy5zZXQodGhpcyxmYWxzZSk7XG4gIH1cblxuICBlbmFibGUoKSB7XG4gICAgZXBpbWVyaXNhdGlvbl9zdGF0dXMuc2V0KHRoaXMsdHJ1ZSk7XG4gIH1cblxuICBnZXQgYW5vbWVyKCkge1xuICAgIHJldHVybiB0aGlzW29yaWdpbmFsX3Jlc2lkdWVfc3ltYm9sXS5hbm9tZXI7XG4gIH1cbiAgZ2V0IHBhcmVudF9saW5rYWdlKCkge1xuICAgIHJldHVybiB0aGlzW29yaWdpbmFsX3Jlc2lkdWVfc3ltYm9sXS5wYXJlbnRfbGlua2FnZTtcbiAgfVxuXG4gIHNldCBhbm9tZXIoaWdub3JlKSB7XG4gICAgbm9vcChpZ25vcmUpO1xuICB9XG4gIHNldCBwYXJlbnRfbGlua2FnZShpZ25vcmUpIHtcbiAgICBub29wKGlnbm9yZSk7XG4gIH1cbiAgc2V0IGlkZW50aWZpZXIoaWdub3JlKSB7XG4gICAgbm9vcChpZ25vcmUpO1xuICB9XG5cbiAgY2xvbmUoKSB7XG4gICAgbGV0IGNsb25lZCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXNbb3JpZ2luYWxfcmVzaWR1ZV9zeW1ib2xdLFxuICAgICAgdGhpc1tlcGltZXJpc2VkX2lkZW50aWZpZXJfc3ltYm9sXSxcbiAgICAgIHRoaXMuZXBpbWVyaXNlZCk7XG4gICAgY2xvbmVkLmNvcHlUYWdzRnJvbSh0aGlzKTtcbiAgICByZXR1cm4gY2xvbmVkO1xuICB9XG59XG5cbmV4cG9ydCB7IEVwaW1lcmlzYWJsZU1vbm9zYWNjaGFyaWRlIH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../glycan.js/js/Epimerisation.js\n");

/***/ }),

/***/ "../glycan.js/js/FishEyeLayout.js":
/*!****************************************!*\
  !*** ../glycan.js/js/FishEyeLayout.js ***!
  \****************************************/
/*! exports provided: default, MakeFishEye */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MakeFishEye\", function() { return MakeFishEye; });\n/* harmony import */ var _Debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Debug */ \"../glycan.js/js/Debug.js\");\n/* harmony import */ var _SugarAwareLayout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SugarAwareLayout */ \"../glycan.js/js/SugarAwareLayout.js\");\n\n\nvar module_string = 'glycanjs:fisheyelayout';\nvar log = Object(_Debug__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(module_string);\nvar radius = 2,\n  distortion = 3,\n  k0,\n  k1,\n  focus = [-100, -3];\nvar residue_only = true;\nfunction rescale() {\n  k0 = Math.exp(distortion);\n  k0 = k0 / (k0 - 1) * radius;\n  k1 = distortion / radius;\n}\nrescale();\nfunction fisheye(d) {\n  var dx = d.x - focus[0],\n    dy = d.y - focus[1],\n    dd = Math.sqrt(dx * dx + dy * dy);\n  if (!dd || dd >= radius) {\n    return {\n      x: d.x,\n      y: d.y,\n      z: dd >= radius ? 1 : 10\n    };\n  }\n  var k = k0 * (1 - Math.exp(-dd * k1)) / dd * 0.75 + 0.25;\n  return {\n    x: focus[0] + dx * k,\n    y: focus[1] + dy * k,\n    z: Math.min(k, 10)\n  };\n}\nvar MakeFishEye = baseclass => {\n  return class FishEyeLayout extends baseclass {\n    static get focus() {\n      return [].concat(focus);\n    }\n    static set focus(newfocus) {\n      focus[0] = newfocus[0];\n      focus[1] = newfocus[1];\n      rescale();\n    }\n    static get zoom() {\n      return distortion;\n    }\n    static set zoom(zoom) {\n      distortion = zoom;\n      rescale();\n    }\n    static get lock_residues() {\n      return residue_only;\n    }\n    static set lock_residues(flag) {\n      residue_only = flag;\n    }\n    static PerformLayout(renderable) {\n      log('Performing FishEyeLayout');\n      var layout = baseclass.PerformLayout.call(this, renderable);\n      for (var res of renderable.composition()) {\n        var position = layout.get(res);\n        var [x, y, width, height] = [position.x, position.y, position.width, position.height];\n        var scaled_center = fisheye({\n          x: x + width / 2,\n          y: y + height / 2\n        });\n        var scaled_top = fisheye({\n          x: x + width / 2,\n          y: y + height\n        });\n        var scaled_edge = fisheye({\n          x: x + width,\n          y: y + height / 2\n        });\n        var new_size = Math.max(2 * (scaled_top.y - scaled_center.y), 2 * (scaled_edge.x - scaled_center.x));\n        if (residue_only) {\n          position.x = position.x - (new_size - width) / 2;\n          position.y = position.y - (new_size - height) / 2;\n        } else {\n          position.x = scaled_center.x - new_size / 2;\n          position.y = scaled_center.y - new_size / 2;\n        }\n        position.z = scaled_center.z;\n        position.width = new_size;\n        position.height = new_size;\n      }\n      return layout;\n    }\n  };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (MakeFishEye(_SugarAwareLayout__WEBPACK_IMPORTED_MODULE_1__[\"default\"]));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL0Zpc2hFeWVMYXlvdXQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZ2x5Y2FuLmpzL2pzL0Zpc2hFeWVMYXlvdXQuanM/ZWRhZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGVidWcgZnJvbSAnLi9EZWJ1Zyc7XG5cbmltcG9ydCBTdWdhckF3YXJlTGF5b3V0IGZyb20gJy4vU3VnYXJBd2FyZUxheW91dCc7XG5cbmNvbnN0IG1vZHVsZV9zdHJpbmc9J2dseWNhbmpzOmZpc2hleWVsYXlvdXQnO1xuXG5jb25zdCBsb2cgPSBkZWJ1Zyhtb2R1bGVfc3RyaW5nKTtcblxudmFyIHJhZGl1cyA9IDIsXG4gIGRpc3RvcnRpb24gPSAzLFxuICBrMCxcbiAgazEsXG4gIGZvY3VzID0gWy0xMDAsIC0zXTtcblxubGV0IHJlc2lkdWVfb25seSA9IHRydWU7XG5cbmZ1bmN0aW9uIHJlc2NhbGUoKSB7XG4gIGswID0gTWF0aC5leHAoZGlzdG9ydGlvbik7XG4gIGswID0gazAgLyAoazAgLSAxKSAqIHJhZGl1cztcbiAgazEgPSBkaXN0b3J0aW9uIC8gcmFkaXVzO1xufVxuXG5yZXNjYWxlKCk7XG5cbmZ1bmN0aW9uIGZpc2hleWUoZCkge1xuICB2YXIgZHggPSBkLnggLSBmb2N1c1swXSxcbiAgICBkeSA9IGQueSAtIGZvY3VzWzFdLFxuICAgIGRkID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgaWYgKCFkZCB8fCBkZCA+PSByYWRpdXMpIHtcbiAgICByZXR1cm4ge3g6IGQueCwgeTogZC55LCB6OiBkZCA+PSByYWRpdXMgPyAxIDogMTB9O1xuICB9XG4gIHZhciBrID0gazAgKiAoMSAtIE1hdGguZXhwKC1kZCAqIGsxKSkgLyBkZCAqIDAuNzUgKyAwLjI1O1xuICByZXR1cm4ge3g6IGZvY3VzWzBdICsgZHggKiBrLCB5OiBmb2N1c1sxXSArIGR5ICogaywgejogTWF0aC5taW4oaywgMTApfTtcbn1cblxuY29uc3QgTWFrZUZpc2hFeWUgPSAoYmFzZWNsYXNzKSA9PiB7XG4gIHJldHVybiBjbGFzcyBGaXNoRXllTGF5b3V0IGV4dGVuZHMgYmFzZWNsYXNzIHtcbiAgICBzdGF0aWMgZ2V0IGZvY3VzKCkge1xuICAgICAgcmV0dXJuIFtdLmNvbmNhdChmb2N1cyk7XG4gICAgfVxuICAgIHN0YXRpYyBzZXQgZm9jdXMobmV3Zm9jdXMpIHtcbiAgICAgIGZvY3VzWzBdID0gbmV3Zm9jdXNbMF07XG4gICAgICBmb2N1c1sxXSA9IG5ld2ZvY3VzWzFdO1xuICAgICAgcmVzY2FsZSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IHpvb20oKSB7XG4gICAgICByZXR1cm4gZGlzdG9ydGlvbjtcbiAgICB9XG4gICAgc3RhdGljIHNldCB6b29tKHpvb20pIHtcbiAgICAgIGRpc3RvcnRpb24gPSB6b29tO1xuICAgICAgcmVzY2FsZSgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgbG9ja19yZXNpZHVlcygpIHtcbiAgICAgIHJldHVybiByZXNpZHVlX29ubHk7XG4gICAgfVxuICAgIHN0YXRpYyBzZXQgbG9ja19yZXNpZHVlcyhmbGFnKSB7XG4gICAgICByZXNpZHVlX29ubHkgPSBmbGFnO1xuICAgIH1cblxuXG4gICAgc3RhdGljIFBlcmZvcm1MYXlvdXQocmVuZGVyYWJsZSkge1xuICAgICAgbG9nKCdQZXJmb3JtaW5nIEZpc2hFeWVMYXlvdXQnKTtcbiAgICAgIGxldCBsYXlvdXQgPSBiYXNlY2xhc3MuUGVyZm9ybUxheW91dC5jYWxsKHRoaXMscmVuZGVyYWJsZSk7XG4gICAgICBmb3IgKGxldCByZXMgb2YgcmVuZGVyYWJsZS5jb21wb3NpdGlvbigpKSB7XG4gICAgICAgIGxldCBwb3NpdGlvbiA9IGxheW91dC5nZXQocmVzKTtcbiAgICAgICAgbGV0IFt4LHksd2lkdGgsaGVpZ2h0XSA9IFtwb3NpdGlvbi54LHBvc2l0aW9uLnkscG9zaXRpb24ud2lkdGgscG9zaXRpb24uaGVpZ2h0XTtcbiAgICAgICAgbGV0IHNjYWxlZF9jZW50ZXIgPSBmaXNoZXllKHt4OiB4ICsgKHdpZHRoLzIpLCB5OiB5ICsgKGhlaWdodC8yKX0pO1xuICAgICAgICBsZXQgc2NhbGVkX3RvcCA9IGZpc2hleWUoe3g6IHggKyAod2lkdGgvMiksIHk6IHkgKyBoZWlnaHR9KTtcbiAgICAgICAgbGV0IHNjYWxlZF9lZGdlID0gZmlzaGV5ZSh7eDogeCArIHdpZHRoLCB5OiB5ICsgKGhlaWdodC8yKX0pO1xuXG4gICAgICAgIGxldCBuZXdfc2l6ZSA9IE1hdGgubWF4KCAyKihzY2FsZWRfdG9wLnkgLSBzY2FsZWRfY2VudGVyLnkpLCAyKihzY2FsZWRfZWRnZS54IC0gc2NhbGVkX2NlbnRlci54KSApO1xuICAgICAgICBpZiAocmVzaWR1ZV9vbmx5KSB7XG4gICAgICAgICAgcG9zaXRpb24ueCA9IHBvc2l0aW9uLnggLSAoKG5ld19zaXplIC0gd2lkdGgpLzIpO1xuICAgICAgICAgIHBvc2l0aW9uLnkgPSBwb3NpdGlvbi55IC0gKChuZXdfc2l6ZSAtIGhlaWdodCkvMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcG9zaXRpb24ueCA9IHNjYWxlZF9jZW50ZXIueCAtIChuZXdfc2l6ZS8yKTtcbiAgICAgICAgICBwb3NpdGlvbi55ID0gc2NhbGVkX2NlbnRlci55IC0gKG5ld19zaXplLzIpO1xuICAgICAgICB9XG4gICAgICAgIHBvc2l0aW9uLnogPSBzY2FsZWRfY2VudGVyLno7XG5cbiAgICAgICAgcG9zaXRpb24ud2lkdGggPSBuZXdfc2l6ZTtcbiAgICAgICAgcG9zaXRpb24uaGVpZ2h0ID0gbmV3X3NpemU7XG4gICAgICB9XG4gICAgICByZXR1cm4gbGF5b3V0O1xuICAgIH1cbiAgfTtcbn07XG5cblxuZXhwb3J0IGRlZmF1bHQgTWFrZUZpc2hFeWUoU3VnYXJBd2FyZUxheW91dCk7XG5leHBvcnQgeyBNYWtlRmlzaEV5ZSBhcyBNYWtlRmlzaEV5ZSB9O1xuXG5cblxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../glycan.js/js/FishEyeLayout.js\n");

/***/ }),

/***/ "../glycan.js/js/Fragmentor.js":
/*!*************************************!*\
  !*** ../glycan.js/js/Fragmentor.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Tracing__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Tracing */ \"../glycan.js/js/Tracing.js\");\n/* harmony import */ var _Mass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Mass */ \"../glycan.js/js/Mass.js\");\n\n\nvar retained_test = (n, i, j) => n <= j && i === 0 || (n <= i || n > j) && i !== 0;\nvar is_linkage_retained = (link, type) => {\n  if (!type) {\n    return true;\n  }\n  if (type.match(/^[bc]/)) {\n    return true;\n  }\n  var positions = type.match(/(\\d),(\\d)-([ax])/);\n  if (positions) {\n    var i = parseInt(positions[1]);\n    var j = parseInt(positions[2]);\n    var reducing = positions[3] === 'x';\n    var retained_test_res = retained_test(link > 5 ? 5 : link, i, j);\n    return reducing ? retained_test_res : !retained_test_res;\n  }\n};\nvar rewrite_linear = type => {\n  var base = type.substring(5);\n  var start = type.substring(0, 5);\n  var newstart = start;\n  switch (start) {\n    case '1,1-e':\n      newstart = '1,5-a';\n      break;\n    case '2,2-e':\n      newstart = '0,2-a';\n      break;\n    case '3,3-e':\n      newstart = '3,5-a';\n      break;\n    case '4,4-e':\n    case '5,5-e':\n      newstart = '0,4-a';\n      break;\n    case '1,3-e':\n      newstart = '1,3-a';\n      break;\n    case '2,4-e':\n      newstart = '2,4-a';\n      break;\n    case '3,5-e':\n      newstart = '3,4-a';\n      break;\n    case '1,1-w':\n      newstart = '1,5-x';\n      break;\n    case '2,2-w':\n      newstart = '0,2-x';\n      break;\n    case '3,3-w':\n      newstart = '3,5-x';\n      break;\n    case '4,4-w':\n    case '5,5-w':\n      newstart = '0,4-x';\n      break;\n  }\n  return \"\".concat(newstart).concat(base);\n};\nvar children_with_fragment = (parent_type, children) => {\n  var surviving_kids = children;\n  if (parent_type) {\n    if (parent_type.match(/^[bc]/)) {\n      // surviving_kids = surviving_kids; // Reducing end modificaitions keep all the kids\n    }\n    var positions = parent_type.match(/(\\d),(\\d)-([ax])/);\n    if (positions) {\n      var i = parseInt(positions[1]);\n      var j = parseInt(positions[2]);\n      var reducing = positions[3] === 'x';\n      surviving_kids = surviving_kids.filter(res => {\n        var link = res.parent.linkageOf(res);\n        var retained_test_res = retained_test(link > 5 ? 5 : link, i, j);\n        return reducing ? retained_test_res : !retained_test_res;\n      });\n    }\n  }\n  surviving_kids = surviving_kids.filter(res => !(res.type || '').match(/^[yz]/));\n  return surviving_kids;\n};\nclass FragmentResidue extends _Tracing__WEBPACK_IMPORTED_MODULE_0__[\"TracedMonosaccharide\"] {\n  get children() {\n    var all_children = super.children;\n    return children_with_fragment(this.type, all_children);\n  }\n  get parent() {\n    if ((this.type || '').match(/(^[bc]|-a)/)) {\n      return undefined;\n    }\n    return super.parent;\n  }\n  get mass() {\n    return Object(_Mass__WEBPACK_IMPORTED_MODULE_1__[\"composition_to_mass\"])(this.atoms);\n  }\n  get atoms() {\n    var cross_type;\n    var a_composition = [];\n    var base_atoms = Array.from([[_Mass__WEBPACK_IMPORTED_MODULE_1__[\"O\"]]].concat(this.original.ring_atoms));\n    var result = [];\n    if (this.type) {\n      cross_type = this.type.match(/(\\d,\\d)-([ax])/);\n      if (cross_type) {\n        var frag_key = cross_type[1];\n        var [start, end] = frag_key.split(',').map(val => +val);\n        var fragtype = cross_type[2];\n        var proto = this.original.proto;\n        a_composition = Object(_Mass__WEBPACK_IMPORTED_MODULE_1__[\"calculate_a_fragment_composition\"])(base_atoms, start, end, this.identifier.indexOf('Neu') >= 0);\n        if (fragtype === 'a') {\n          result = a_composition.flat();\n        }\n      }\n    }\n    if (result.length < 1) {\n      result = Object(_Mass__WEBPACK_IMPORTED_MODULE_1__[\"delete_composition\"])(base_atoms.flat(), a_composition.flat());\n    }\n    result = Object(_Mass__WEBPACK_IMPORTED_MODULE_1__[\"delete_composition\"])(result, this.original.derivative.reducing_end_atoms);\n    return result;\n  }\n}\nvar Fragmentable = base => class extends base {\n  constructor() {\n    super();\n    this.base_composition = [];\n  }\n  static get Monosaccharide() {\n    return FragmentResidue;\n  }\n  get is_reducing_end() {\n    return this.chordResidues.every(res => res.type.match(/(^[yz])|(\\d,\\d-[x])/));\n  }\n  get chord() {\n    return this.chordResidues;\n  }\n  set chord(chord) {\n    if (!this.base_root) {\n      this.base_root = this.root;\n      this.base_composition = this.composition();\n    }\n    this.root = this.base_root;\n    var in_chord = this.base_composition.filter(res => chord.chord.indexOf(res.original) >= 0);\n    this.chordResidues = chord.chord.map(res => in_chord.filter(mono => mono.original === res)[0]);\n    this.root = chord.root === this.root.original ? this.root : in_chord.filter(res => res.original === chord.root)[0];\n  }\n  set type(type) {\n    for (var res of this.base_composition) {\n      res.type = null;\n    }\n    if (!type) {\n      return;\n    }\n    var fragtypes = type.split('/');\n    for (var i = 0; i < fragtypes.length; i++) {\n      if (fragtypes[i].match(/-[ew]/)) {\n        fragtypes[i] = rewrite_linear(fragtypes[i]);\n      }\n      this.chordResidues[i].type = fragtypes[i];\n    }\n    this.typestring = type;\n    var chord_root = this.base_root;\n    var non_reducing_chord_residues = this.chordResidues.filter((chord_res, i) => type.split('/')[i].match(/^(\\d+,\\d+-[ae]|[bc])/));\n    if (non_reducing_chord_residues.length > 0) {\n      chord_root = non_reducing_chord_residues[0];\n    }\n    this.root = chord_root;\n  }\n  get type() {\n    return this.typestring;\n  }\n  get mass() {\n    return Object(_Mass__WEBPACK_IMPORTED_MODULE_1__[\"composition_to_mass\"])(this.atoms);\n  }\n  get atoms() {\n    // FIXME - the derivatives should be defined per residue if we are\n    // calculating fragment masses\n    var R = [_Mass__WEBPACK_IMPORTED_MODULE_1__[\"H\"]].concat(this.root.original.derivative.derivative_atoms);\n    var base_composition = this.composition().map(res => res.atoms).flat();\n    var result_composition = [...base_composition];\n    var types = this.type.split('/').filter((o, i, a) => a.indexOf(o) == i);\n    for (var type of types) {\n      if (type.match(/^y/)) {\n        result_composition.push(_Mass__WEBPACK_IMPORTED_MODULE_1__[\"H\"]);\n      }\n      if (type.match(/^b/)) {\n        result_composition = result_composition.concat(R);\n        result_composition = Object(_Mass__WEBPACK_IMPORTED_MODULE_1__[\"delete_composition\"])(result_composition, [_Mass__WEBPACK_IMPORTED_MODULE_1__[\"H\"]]);\n      }\n      if (type.match(/^z/)) {\n        result_composition = Object(_Mass__WEBPACK_IMPORTED_MODULE_1__[\"delete_composition\"])(result_composition, [_Mass__WEBPACK_IMPORTED_MODULE_1__[\"O\"], _Mass__WEBPACK_IMPORTED_MODULE_1__[\"H\"]]);\n      }\n      if (type.match(/^c/)) {\n        result_composition = result_composition.concat(R).concat([_Mass__WEBPACK_IMPORTED_MODULE_1__[\"H\"], _Mass__WEBPACK_IMPORTED_MODULE_1__[\"O\"]]);\n      }\n      if (type.match(/^\\d,\\d-[xw]/)) {\n        result_composition = result_composition.concat(R);\n      }\n    }\n    var linear_base;\n    linear_base = this.type.match(/(\\d,\\d-[ew])/);\n    linear_base = linear_base ? linear_base[1] : null;\n    switch (linear_base) {\n      case '1,1-e':\n        result_composition.push(_Mass__WEBPACK_IMPORTED_MODULE_1__[\"O\"]);\n        break;\n      case '3,3-e':\n        result_composition.push(_Mass__WEBPACK_IMPORTED_MODULE_1__[\"O\"]);\n        break;\n      case '5,5-e':\n        result_composition = Object(_Mass__WEBPACK_IMPORTED_MODULE_1__[\"delete_composition\"])(result_composition, [_Mass__WEBPACK_IMPORTED_MODULE_1__[\"O\"], _Mass__WEBPACK_IMPORTED_MODULE_1__[\"H\"], _Mass__WEBPACK_IMPORTED_MODULE_1__[\"H\"], _Mass__WEBPACK_IMPORTED_MODULE_1__[\"C\"]]);\n        break;\n      case '3,5-e':\n        result_composition = result_composition.concat([_Mass__WEBPACK_IMPORTED_MODULE_1__[\"H\"], _Mass__WEBPACK_IMPORTED_MODULE_1__[\"H\"], _Mass__WEBPACK_IMPORTED_MODULE_1__[\"C\"]]);\n        break;\n      case '1,1-w':\n        result_composition = Object(_Mass__WEBPACK_IMPORTED_MODULE_1__[\"delete_composition\"])(result_composition, [_Mass__WEBPACK_IMPORTED_MODULE_1__[\"O\"], _Mass__WEBPACK_IMPORTED_MODULE_1__[\"H\"], _Mass__WEBPACK_IMPORTED_MODULE_1__[\"H\"]]);\n        break;\n      case '2,2-w':\n        result_composition = Object(_Mass__WEBPACK_IMPORTED_MODULE_1__[\"delete_composition\"])(result_composition, [_Mass__WEBPACK_IMPORTED_MODULE_1__[\"H\"], _Mass__WEBPACK_IMPORTED_MODULE_1__[\"H\"]]);\n        break;\n      case '3,3-w':\n        result_composition = Object(_Mass__WEBPACK_IMPORTED_MODULE_1__[\"delete_composition\"])(result_composition, [_Mass__WEBPACK_IMPORTED_MODULE_1__[\"O\"], _Mass__WEBPACK_IMPORTED_MODULE_1__[\"H\"], _Mass__WEBPACK_IMPORTED_MODULE_1__[\"H\"]]);\n        break;\n      case '4,4-w':\n        result_composition = Object(_Mass__WEBPACK_IMPORTED_MODULE_1__[\"delete_composition\"])(result_composition, [_Mass__WEBPACK_IMPORTED_MODULE_1__[\"H\"], _Mass__WEBPACK_IMPORTED_MODULE_1__[\"H\"]]);\n        break;\n      case '5,5-w':\n        result_composition = result_composition.concat([_Mass__WEBPACK_IMPORTED_MODULE_1__[\"O\"], _Mass__WEBPACK_IMPORTED_MODULE_1__[\"H\"], _Mass__WEBPACK_IMPORTED_MODULE_1__[\"C\"]]);\n        break;\n    }\n\n    // The second regex match for a/e fragments is to get the\n    // tests passing\n    if (this.is_reducing_end) {\n      result_composition = result_composition.concat(R).concat([_Mass__WEBPACK_IMPORTED_MODULE_1__[\"O\"]]);\n    } else if (this.type.match(/\\d,\\d-[a]/)) {\n      result_composition = this.root.original.derivative.reducing_end(result_composition);\n    }\n    if (this.type.match(/^1,1-[w]/)) {\n      result_composition = Object(_Mass__WEBPACK_IMPORTED_MODULE_1__[\"delete_composition\"])(result_composition, [_Mass__WEBPACK_IMPORTED_MODULE_1__[\"H\"]]);\n    }\n    result_composition = Object(_Mass__WEBPACK_IMPORTED_MODULE_1__[\"delete_composition\"])(result_composition, Array(types.length - 1).fill(R).flat());\n    return result_composition;\n  }\n};\nvar get_coordinate = (coords, max_depth, type, idx) => {\n  var [depth, height] = coords[idx].split('');\n  depth = parseInt(depth);\n  if (type.match(/(^[bc]|-a|-e)/)) {\n    depth = 1 + max_depth - depth;\n  }\n  if (type.match(/(^[yz]|-x|-w)/)) {\n    depth = depth - 1;\n  }\n  return type + depth + height;\n};\nvar is_reducing_end = (sugar, chord) => chord.root === sugar.root && chord.chord[0] !== sugar.root;\nvar fcart = (a, b) => [].concat(...a.map(d => b.map(e => [].concat(d, e))));\nvar cartesian = function cartesian(a, b) {\n  for (var _len = arguments.length, c = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    c[_key - 2] = arguments[_key];\n  }\n  return b ? cartesian(fcart(a, b), ...c) : a;\n};\nvar reducing_types = ['y', 'z', '3,5-x', '1,3-x', '1,5-x', '2,4-x', '0,2-x', '0,4-x'];\nvar nonreducing_types = ['b', 'c', '3,5-a', '1,3-a', '1,5-a', '2,4-a', '0,2-a', '0,4-a'];\nvar retains_residue = (composition, res) => {\n  if (res.type.match(/^[yz]/)) {\n    return composition.indexOf(res.parent) < 0 || !is_linkage_retained(res.parent.linkageOf(res), res.parent.type);\n  } else {\n    return composition.indexOf(res) < 0;\n  }\n};\nclass Fragmentor {\n  static getFragment(target, type) {\n    var base = target.constructor;\n    var Fragment = Fragmentable(base);\n    var fragment_template = Object(_Tracing__WEBPACK_IMPORTED_MODULE_0__[\"trace_into_class\"])(target, Fragment);\n    var fragment = fragment_template.clone();\n    var chord = type.split('/').map(frag_type => {\n      var sub_type = frag_type;\n      var match = frag_type.match(/(\\d+,\\d+-[xw]|[yz])(\\d+)(.*)/);\n      if (match) {\n        sub_type = \"y\".concat(+match[2] + 1).concat(match[3]);\n      }\n      match = frag_type.match(/(\\d+,\\d+-[ae]|[bc])(\\d+)(.*)/);\n      if (match) {\n        var max_depth = Math.max(...target.leaves().map(res => res.depth));\n        sub_type = \"y\".concat(max_depth - match[2] + 1).concat(match[3]);\n      }\n      return target.locate_monosaccharide(sub_type);\n    });\n    var chord_root = target.root;\n    var non_reducing_frags = chord.filter((frag, i) => type.split('/')[i].match(/^(\\d+,\\d+-[ae]|[bc])/));\n    if (non_reducing_frags.length > 0) {\n      chord_root = non_reducing_frags[0];\n    }\n    fragment.chord = {\n      root: chord_root,\n      chord\n    };\n    fragment.type = type;\n    return fragment;\n  }\n  static *fragment(target) {\n    var depth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n    if (!('mass' in target)) {\n      throw new Error('Sugar object class does not derive from Mass class');\n    }\n    var base = target.constructor;\n    var Fragment = Fragmentable(base);\n    var fragment_template = Object(_Tracing__WEBPACK_IMPORTED_MODULE_0__[\"trace_into_class\"])(target, Fragment);\n    var max_depth = Math.max(...target.leaves().map(res => res.depth));\n    var get_coord_for_res = (target, res) => target.location_for_monosaccharide(res).substring(1);\n    for (var chord of target.chords(depth)) {\n      var base_types = [];\n\n      // This is a fix for a test in test-gwb-compatibility\n      // that enables a double reducing end fragment, where\n      // one of the chord residues is closer to the root\n      // than the other chord residue. \n      // The test is the 'cross ring dual reducing end fragments work'\n      // This is based upon the behaviour of GlycoWorkBench\n      // on a permethylated sugar with a free reducing end\n      //\n\n      base_types = [reducing_types.concat(nonreducing_types)];\n      var all_types = base_types.concat(new Array(chord.chord.length - 1).fill(reducing_types));\n      if (chord.chord.indexOf(target.root) >= 0) {\n        if (is_reducing_end(target, chord)) {\n          all_types[chord.chord.indexOf(target.root)] = all_types[chord.chord.indexOf(target.root)].concat(['1,1-w', '2,2-w', '3,3-w', '4,4-w', '5,5-w']);\n        } else {\n          all_types[chord.chord.indexOf(target.root)] = all_types[chord.chord.indexOf(target.root)].concat(['1,1-e', '2,2-e', '3,3-e', '4,4-e', '5,5-e', '3,5-e', '1,3-e', '2,4-e']);\n        }\n      }\n      var types = cartesian.apply(null, all_types);\n      var coordinates = chord.chord.map(get_coord_for_res.bind(null, target));\n      var coords = get_coordinate.bind(null, coordinates, max_depth);\n      for (var type of types) {\n        if (!Array.isArray(type)) {\n          type = [type];\n        }\n        if (type[0].match(/^[bc]/) && chord.root === target.root) {\n          continue;\n        }\n        var fragment = fragment_template.clone();\n        fragment.type = null;\n        fragment.chord = chord;\n        fragment.type = type.map(coords).join('/');\n        var curr_composition = fragment.composition();\n        if (fragment.chordResidues.some(retains_residue.bind(null, curr_composition))) {\n          continue;\n        }\n        yield fragment;\n      }\n    }\n    for (var _type of ['3,5-x', '1,3-x', '1,5-x', '2,4-x', '0,2-x', '0,4-x', '1,1-w', '2,2-w', '3,3-w', '4,4-w', '5,5-w']) {\n      var _fragment = fragment_template.clone();\n      _fragment.type = null;\n      _fragment.chord = {\n        root: target.root,\n        chord: [target.root]\n      };\n      _fragment.type = _type + '0a';\n      yield _fragment;\n    }\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (Fragmentor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL0ZyYWdtZW50b3IuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZ2x5Y2FuLmpzL2pzL0ZyYWdtZW50b3IuanM/YzdkNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IHRyYWNlX2ludG9fY2xhc3MsIFRyYWNlZE1vbm9zYWNjaGFyaWRlIH0gZnJvbSAnLi9UcmFjaW5nJztcblxuaW1wb3J0IHsgQyBhcyBDU1lNQixcbiAgICAgICAgIEggYXMgSFNZTUIsXG4gICAgICAgICBPIGFzIE9TWU1CLFxuICAgICAgICAgTiBhcyBOU1lNQixcbiAgICAgICAgIE1hc3MsXG4gICAgICAgICBVTkRFUklWQVRJU0VELFxuICAgICAgICAgUEVSTUVUSFlMQVRFRCxcbiAgICAgICAgIGNvbXBvc2l0aW9uX3RvX21hc3MsXG4gICAgICAgICBjYWxjdWxhdGVfYV9mcmFnbWVudF9jb21wb3NpdGlvbixcbiAgICAgICAgIGRlbGV0ZV9jb21wb3NpdGlvbiBhcyBkZWwsXG4gICAgICAgICBzdW1tYXJpc2VfY29tcG9zaXRpb25cbiAgICAgICB9IGZyb20gJy4vTWFzcyc7XG5cbmNvbnN0IHJldGFpbmVkX3Rlc3QgPSAobixpLGopID0+ICgobiA8PSBqICYmIGkgPT09IDApIHx8ICgobiA8PSBpIHx8IG4gPiBqKSAmJiBpICE9PSAwKSk7XG5cbmNvbnN0IGlzX2xpbmthZ2VfcmV0YWluZWQgPSAobGluayx0eXBlKSA9PiB7XG4gIGlmICggISB0eXBlICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICggdHlwZS5tYXRjaCgvXltiY10vKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGxldCBwb3NpdGlvbnMgPSB0eXBlLm1hdGNoKC8oXFxkKSwoXFxkKS0oW2F4XSkvKTtcbiAgaWYgKCBwb3NpdGlvbnMgKSB7XG4gICAgbGV0IGkgPSBwYXJzZUludChwb3NpdGlvbnNbMV0pO1xuICAgIGxldCBqID0gcGFyc2VJbnQocG9zaXRpb25zWzJdKTtcbiAgICBsZXQgcmVkdWNpbmcgPSBwb3NpdGlvbnNbM10gPT09ICd4JztcbiAgICBsZXQgcmV0YWluZWRfdGVzdF9yZXMgPSByZXRhaW5lZF90ZXN0KGxpbmsgPiA1ID8gNSA6IGxpbmsgLGksaik7XG4gICAgcmV0dXJuIHJlZHVjaW5nID8gcmV0YWluZWRfdGVzdF9yZXMgOiAhIHJldGFpbmVkX3Rlc3RfcmVzO1xuICB9XG59O1xuXG5jb25zdCByZXdyaXRlX2xpbmVhciA9ICh0eXBlKSA9PiB7XG4gIGxldCBiYXNlID0gdHlwZS5zdWJzdHJpbmcoNSk7XG4gIGxldCBzdGFydCA9IHR5cGUuc3Vic3RyaW5nKDAsNSk7XG4gIGxldCBuZXdzdGFydCA9IHN0YXJ0O1xuICBzd2l0Y2ggKHN0YXJ0KSB7XG4gIGNhc2UgJzEsMS1lJzpcbiAgICBuZXdzdGFydCA9ICcxLDUtYSc7XG4gICAgYnJlYWs7XG4gIGNhc2UgJzIsMi1lJzpcbiAgICBuZXdzdGFydCA9ICcwLDItYSc7XG4gICAgYnJlYWs7XG4gIGNhc2UgJzMsMy1lJzpcbiAgICBuZXdzdGFydCA9ICczLDUtYSc7XG4gICAgYnJlYWs7XG4gIGNhc2UgJzQsNC1lJzpcbiAgY2FzZSAnNSw1LWUnOlxuICAgIG5ld3N0YXJ0ID0gJzAsNC1hJztcbiAgICBicmVhaztcbiAgY2FzZSAnMSwzLWUnOlxuICAgIG5ld3N0YXJ0ID0gJzEsMy1hJztcbiAgICBicmVhaztcbiAgY2FzZSAnMiw0LWUnOlxuICAgIG5ld3N0YXJ0ID0gJzIsNC1hJztcbiAgICBicmVhaztcbiAgY2FzZSAnMyw1LWUnOlxuICAgIG5ld3N0YXJ0ID0gJzMsNC1hJztcbiAgICBicmVhaztcbiAgY2FzZSAnMSwxLXcnOlxuICAgIG5ld3N0YXJ0ID0gJzEsNS14JztcbiAgICBicmVhaztcbiAgY2FzZSAnMiwyLXcnOlxuICAgIG5ld3N0YXJ0ID0gJzAsMi14JztcbiAgICBicmVhaztcbiAgY2FzZSAnMywzLXcnOlxuICAgIG5ld3N0YXJ0ID0gJzMsNS14JztcbiAgICBicmVhaztcbiAgY2FzZSAnNCw0LXcnOlxuICBjYXNlICc1LDUtdyc6XG4gICAgbmV3c3RhcnQgPSAnMCw0LXgnO1xuICAgIGJyZWFrO1xuICB9XG4gIHJldHVybiBgJHtuZXdzdGFydH0ke2Jhc2V9YDtcbn07XG5cbmNvbnN0IGNoaWxkcmVuX3dpdGhfZnJhZ21lbnQgPSAocGFyZW50X3R5cGUsY2hpbGRyZW4pID0+IHtcbiAgbGV0IHN1cnZpdmluZ19raWRzID0gY2hpbGRyZW47XG4gIGlmICggcGFyZW50X3R5cGUgKSB7XG4gICAgaWYgKCBwYXJlbnRfdHlwZS5tYXRjaCgvXltiY10vKSApIHtcbiAgICAgIC8vIHN1cnZpdmluZ19raWRzID0gc3Vydml2aW5nX2tpZHM7IC8vIFJlZHVjaW5nIGVuZCBtb2RpZmljYWl0aW9ucyBrZWVwIGFsbCB0aGUga2lkc1xuICAgIH1cbiAgICBsZXQgcG9zaXRpb25zID0gcGFyZW50X3R5cGUubWF0Y2goLyhcXGQpLChcXGQpLShbYXhdKS8pO1xuICAgIGlmICggcG9zaXRpb25zICkge1xuICAgICAgbGV0IGkgPSBwYXJzZUludChwb3NpdGlvbnNbMV0pO1xuICAgICAgbGV0IGogPSBwYXJzZUludChwb3NpdGlvbnNbMl0pO1xuICAgICAgbGV0IHJlZHVjaW5nID0gcG9zaXRpb25zWzNdID09PSAneCc7XG4gICAgICBzdXJ2aXZpbmdfa2lkcyA9IHN1cnZpdmluZ19raWRzLmZpbHRlciggcmVzID0+IHtcbiAgICAgICAgbGV0IGxpbmsgPSByZXMucGFyZW50LmxpbmthZ2VPZihyZXMpO1xuICAgICAgICBsZXQgcmV0YWluZWRfdGVzdF9yZXMgPSByZXRhaW5lZF90ZXN0KGxpbmsgPiA1ID8gNTogbGluayxpLGopO1xuICAgICAgICByZXR1cm4gcmVkdWNpbmcgPyByZXRhaW5lZF90ZXN0X3JlcyA6ICEgcmV0YWluZWRfdGVzdF9yZXM7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgc3Vydml2aW5nX2tpZHMgPSBzdXJ2aXZpbmdfa2lkcy5maWx0ZXIoIHJlcyA9PiAhIChyZXMudHlwZSB8fCAnJykubWF0Y2goL15beXpdLykgKTtcbiAgcmV0dXJuIHN1cnZpdmluZ19raWRzO1xufTtcblxuY2xhc3MgRnJhZ21lbnRSZXNpZHVlIGV4dGVuZHMgVHJhY2VkTW9ub3NhY2NoYXJpZGUge1xuICBnZXQgY2hpbGRyZW4oKSB7XG4gICAgbGV0IGFsbF9jaGlsZHJlbiA9IHN1cGVyLmNoaWxkcmVuO1xuICAgIHJldHVybiBjaGlsZHJlbl93aXRoX2ZyYWdtZW50KCB0aGlzLnR5cGUsIGFsbF9jaGlsZHJlbiApO1xuICB9XG4gIGdldCBwYXJlbnQoKSB7XG4gICAgaWYgKCh0aGlzLnR5cGUgfHwgJycpLm1hdGNoKC8oXltiY118LWEpLykpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5wYXJlbnQ7XG4gIH1cblxuICBnZXQgbWFzcygpIHtcbiAgICByZXR1cm4gY29tcG9zaXRpb25fdG9fbWFzcyh0aGlzLmF0b21zKTtcbiAgfVxuXG4gIGdldCBhdG9tcygpIHtcbiAgICBsZXQgY3Jvc3NfdHlwZTtcbiAgICBsZXQgYV9jb21wb3NpdGlvbiA9IFtdO1xuICAgIGxldCBiYXNlX2F0b21zID0gQXJyYXkuZnJvbShbW09TWU1CXV0uY29uY2F0KHRoaXMub3JpZ2luYWwucmluZ19hdG9tcykpO1xuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICBpZiAoIHRoaXMudHlwZSApIHtcbiAgICAgIGNyb3NzX3R5cGUgPSB0aGlzLnR5cGUubWF0Y2goLyhcXGQsXFxkKS0oW2F4XSkvKTtcbiAgICAgIGlmIChjcm9zc190eXBlKSB7XG4gICAgICAgIGxldCBmcmFnX2tleSA9IGNyb3NzX3R5cGVbMV07XG4gICAgICAgIGxldCBbc3RhcnQsZW5kXSA9IGZyYWdfa2V5LnNwbGl0KCcsJykubWFwKHZhbCA9PiArdmFsICk7XG4gICAgICAgIGxldCBmcmFndHlwZSA9IGNyb3NzX3R5cGVbMl07XG4gICAgICAgIGxldCBwcm90byA9IHRoaXMub3JpZ2luYWwucHJvdG87XG4gICAgICAgIGFfY29tcG9zaXRpb24gPSBjYWxjdWxhdGVfYV9mcmFnbWVudF9jb21wb3NpdGlvbihiYXNlX2F0b21zLHN0YXJ0LGVuZCx0aGlzLmlkZW50aWZpZXIuaW5kZXhPZignTmV1JykgPj0gMCk7XG4gICAgICAgIGlmIChmcmFndHlwZSA9PT0gJ2EnKSB7XG4gICAgICAgICAgcmVzdWx0ID0gYV9jb21wb3NpdGlvbi5mbGF0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPCAxKSB7XG4gICAgICByZXN1bHQgPSBkZWwoYmFzZV9hdG9tcy5mbGF0KCksYV9jb21wb3NpdGlvbi5mbGF0KCkpO1xuICAgIH1cbiAgICByZXN1bHQgPSBkZWwocmVzdWx0LHRoaXMub3JpZ2luYWwuZGVyaXZhdGl2ZS5yZWR1Y2luZ19lbmRfYXRvbXMpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cblxubGV0IEZyYWdtZW50YWJsZSA9IChiYXNlKSA9PiBjbGFzcyBleHRlbmRzIGJhc2Uge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5iYXNlX2NvbXBvc2l0aW9uID0gW107XG4gIH1cblxuICBzdGF0aWMgZ2V0IE1vbm9zYWNjaGFyaWRlKCkge1xuICAgIHJldHVybiBGcmFnbWVudFJlc2lkdWU7XG4gIH1cblxuICBnZXQgaXNfcmVkdWNpbmdfZW5kKCkge1xuICAgIHJldHVybiB0aGlzLmNob3JkUmVzaWR1ZXMuZXZlcnkoIHJlcyA9PiByZXMudHlwZS5tYXRjaCgvKF5beXpdKXwoXFxkLFxcZC1beF0pLykpO1xuICB9XG5cbiAgZ2V0IGNob3JkKCkge1xuICAgIHJldHVybiB0aGlzLmNob3JkUmVzaWR1ZXM7XG4gIH1cblxuICBzZXQgY2hvcmQoY2hvcmQpIHtcbiAgICBpZiAoICEgdGhpcy5iYXNlX3Jvb3QgKSB7XG4gICAgICB0aGlzLmJhc2Vfcm9vdCA9IHRoaXMucm9vdDtcbiAgICAgIHRoaXMuYmFzZV9jb21wb3NpdGlvbiA9IHRoaXMuY29tcG9zaXRpb24oKTtcbiAgICB9XG4gICAgdGhpcy5yb290ID0gdGhpcy5iYXNlX3Jvb3Q7XG4gICAgbGV0IGluX2Nob3JkID0gdGhpcy5iYXNlX2NvbXBvc2l0aW9uLmZpbHRlciggcmVzID0+IGNob3JkLmNob3JkLmluZGV4T2YocmVzLm9yaWdpbmFsKSA+PSAwICk7XG4gICAgdGhpcy5jaG9yZFJlc2lkdWVzID0gY2hvcmQuY2hvcmQubWFwKCByZXMgPT4gaW5fY2hvcmQuZmlsdGVyKCBtb25vID0+IG1vbm8ub3JpZ2luYWwgPT09IHJlcyApWzBdICk7XG4gICAgdGhpcy5yb290ID0gKCBjaG9yZC5yb290ID09PSB0aGlzLnJvb3Qub3JpZ2luYWwgKSA/IHRoaXMucm9vdCA6IGluX2Nob3JkLmZpbHRlciggcmVzID0+IHJlcy5vcmlnaW5hbCA9PT0gY2hvcmQucm9vdCApWzBdO1xuICB9XG5cbiAgc2V0IHR5cGUodHlwZSkge1xuXG4gICAgZm9yIChsZXQgcmVzIG9mIHRoaXMuYmFzZV9jb21wb3NpdGlvbikge1xuICAgICAgcmVzLnR5cGUgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICggISB0eXBlICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgZnJhZ3R5cGVzID0gdHlwZS5zcGxpdCgnLycpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnJhZ3R5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoZnJhZ3R5cGVzW2ldLm1hdGNoKC8tW2V3XS8pKSB7XG4gICAgICAgIGZyYWd0eXBlc1tpXSA9IHJld3JpdGVfbGluZWFyKGZyYWd0eXBlc1tpXSk7XG4gICAgICB9XG4gICAgICB0aGlzLmNob3JkUmVzaWR1ZXNbaV0udHlwZSA9IGZyYWd0eXBlc1tpXTtcbiAgICB9XG4gICAgdGhpcy50eXBlc3RyaW5nID0gdHlwZTtcblxuICAgIGxldCBjaG9yZF9yb290ID0gdGhpcy5iYXNlX3Jvb3Q7XG4gICAgbGV0IG5vbl9yZWR1Y2luZ19jaG9yZF9yZXNpZHVlcyA9IHRoaXMuY2hvcmRSZXNpZHVlcy5maWx0ZXIoIChjaG9yZF9yZXMsaSkgPT4gdHlwZS5zcGxpdCgnLycpW2ldLm1hdGNoKC9eKFxcZCssXFxkKy1bYWVdfFtiY10pLykgKTtcbiAgICBpZiAobm9uX3JlZHVjaW5nX2Nob3JkX3Jlc2lkdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNob3JkX3Jvb3QgPSBub25fcmVkdWNpbmdfY2hvcmRfcmVzaWR1ZXNbMF07XG4gICAgfVxuXG4gICAgdGhpcy5yb290ID0gY2hvcmRfcm9vdDtcblxuICB9XG5cbiAgZ2V0IHR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZXN0cmluZztcbiAgfVxuXG4gIGdldCBtYXNzKCkge1xuICAgIHJldHVybiBjb21wb3NpdGlvbl90b19tYXNzKHRoaXMuYXRvbXMpO1xuICB9XG5cbiAgZ2V0IGF0b21zKCkge1xuICAgIC8vIEZJWE1FIC0gdGhlIGRlcml2YXRpdmVzIHNob3VsZCBiZSBkZWZpbmVkIHBlciByZXNpZHVlIGlmIHdlIGFyZVxuICAgIC8vIGNhbGN1bGF0aW5nIGZyYWdtZW50IG1hc3Nlc1xuICAgIGxldCBSID0gW0hTWU1CXS5jb25jYXQodGhpcy5yb290Lm9yaWdpbmFsLmRlcml2YXRpdmUuZGVyaXZhdGl2ZV9hdG9tcyk7XG4gICAgbGV0IGJhc2VfY29tcG9zaXRpb24gPSB0aGlzLmNvbXBvc2l0aW9uKCkubWFwKCByZXMgPT4gcmVzLmF0b21zICkuZmxhdCgpO1xuICAgIGxldCByZXN1bHRfY29tcG9zaXRpb24gPSBbLi4uYmFzZV9jb21wb3NpdGlvbl07XG5cbiAgICBsZXQgdHlwZXMgPSB0aGlzLnR5cGUuc3BsaXQoJy8nKS5maWx0ZXIoKG8saSxhKSA9PiBhLmluZGV4T2YobykgPT0gaSApO1xuXG4gICAgZm9yIChsZXQgdHlwZSBvZiB0eXBlcykge1xuICAgICAgaWYgKHR5cGUubWF0Y2goL155LykpIHtcbiAgICAgICAgcmVzdWx0X2NvbXBvc2l0aW9uLnB1c2goSFNZTUIpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUubWF0Y2goL15iLykpIHtcbiAgICAgICAgcmVzdWx0X2NvbXBvc2l0aW9uID0gcmVzdWx0X2NvbXBvc2l0aW9uLmNvbmNhdChSKTtcbiAgICAgICAgcmVzdWx0X2NvbXBvc2l0aW9uID0gZGVsKHJlc3VsdF9jb21wb3NpdGlvbixbSFNZTUJdKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlLm1hdGNoKC9eei8pKSB7XG4gICAgICAgIHJlc3VsdF9jb21wb3NpdGlvbiA9IGRlbChyZXN1bHRfY29tcG9zaXRpb24sW09TWU1CLEhTWU1CXSk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZS5tYXRjaCgvXmMvKSkge1xuICAgICAgICByZXN1bHRfY29tcG9zaXRpb24gPSByZXN1bHRfY29tcG9zaXRpb24uY29uY2F0KFIpLmNvbmNhdChbIEhTWU1CLCBPU1lNQiBdKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlLm1hdGNoKC9eXFxkLFxcZC1beHddLykpIHtcbiAgICAgICAgcmVzdWx0X2NvbXBvc2l0aW9uID0gcmVzdWx0X2NvbXBvc2l0aW9uLmNvbmNhdChSKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgbGluZWFyX2Jhc2U7XG4gICAgbGluZWFyX2Jhc2UgPSB0aGlzLnR5cGUubWF0Y2goLyhcXGQsXFxkLVtld10pLyk7XG4gICAgbGluZWFyX2Jhc2UgPSBsaW5lYXJfYmFzZSA/IGxpbmVhcl9iYXNlWzFdIDogbnVsbDtcblxuICAgIHN3aXRjaCAobGluZWFyX2Jhc2UpIHtcbiAgICBjYXNlICcxLDEtZSc6IHJlc3VsdF9jb21wb3NpdGlvbi5wdXNoKE9TWU1CKTsgYnJlYWs7XG4gICAgY2FzZSAnMywzLWUnOiByZXN1bHRfY29tcG9zaXRpb24ucHVzaChPU1lNQik7IGJyZWFrO1xuICAgIGNhc2UgJzUsNS1lJzogcmVzdWx0X2NvbXBvc2l0aW9uID0gZGVsKHJlc3VsdF9jb21wb3NpdGlvbixbIE9TWU1CLCBIU1lNQiwgSFNZTUIsIENTWU1CIF0pOyBicmVhaztcbiAgICBjYXNlICczLDUtZSc6IHJlc3VsdF9jb21wb3NpdGlvbiA9IHJlc3VsdF9jb21wb3NpdGlvbi5jb25jYXQoWyBIU1lNQiwgSFNZTUIsIENTWU1CIF0pOyBicmVhaztcbiAgICBjYXNlICcxLDEtdyc6IHJlc3VsdF9jb21wb3NpdGlvbiA9IGRlbChyZXN1bHRfY29tcG9zaXRpb24sWyBPU1lNQiwgSFNZTUIsIEhTWU1CIF0pOyBicmVhaztcbiAgICBjYXNlICcyLDItdyc6IHJlc3VsdF9jb21wb3NpdGlvbiA9IGRlbChyZXN1bHRfY29tcG9zaXRpb24sWyBIU1lNQiwgSFNZTUIgXSk7IGJyZWFrO1xuICAgIGNhc2UgJzMsMy13JzogcmVzdWx0X2NvbXBvc2l0aW9uID0gZGVsKHJlc3VsdF9jb21wb3NpdGlvbixbIE9TWU1CLCBIU1lNQiwgSFNZTUIgXSk7IGJyZWFrO1xuICAgIGNhc2UgJzQsNC13JzogcmVzdWx0X2NvbXBvc2l0aW9uID0gZGVsKHJlc3VsdF9jb21wb3NpdGlvbixbIEhTWU1CLCBIU1lNQiBdKTsgYnJlYWs7XG4gICAgY2FzZSAnNSw1LXcnOiByZXN1bHRfY29tcG9zaXRpb24gPSByZXN1bHRfY29tcG9zaXRpb24uY29uY2F0KFsgT1NZTUIsIEhTWU1CLCBDU1lNQiBdKTsgYnJlYWs7XG4gICAgfVxuXG4gICAgLy8gVGhlIHNlY29uZCByZWdleCBtYXRjaCBmb3IgYS9lIGZyYWdtZW50cyBpcyB0byBnZXQgdGhlXG4gICAgLy8gdGVzdHMgcGFzc2luZ1xuICAgIGlmICh0aGlzLmlzX3JlZHVjaW5nX2VuZCkge1xuICAgICAgcmVzdWx0X2NvbXBvc2l0aW9uID0gcmVzdWx0X2NvbXBvc2l0aW9uLmNvbmNhdChSKS5jb25jYXQoW09TWU1CXSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnR5cGUubWF0Y2goL1xcZCxcXGQtW2FdLykpIHtcbiAgICAgIHJlc3VsdF9jb21wb3NpdGlvbiA9IHRoaXMucm9vdC5vcmlnaW5hbC5kZXJpdmF0aXZlLnJlZHVjaW5nX2VuZChyZXN1bHRfY29tcG9zaXRpb24pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnR5cGUubWF0Y2goL14xLDEtW3ddLykpIHtcbiAgICAgIHJlc3VsdF9jb21wb3NpdGlvbiA9IGRlbChyZXN1bHRfY29tcG9zaXRpb24sW0hTWU1CXSk7XG4gICAgfVxuXG4gICAgcmVzdWx0X2NvbXBvc2l0aW9uID0gZGVsKHJlc3VsdF9jb21wb3NpdGlvbiwgQXJyYXkodHlwZXMubGVuZ3RoIC0gMSkuZmlsbChSKS5mbGF0KCkpO1xuXG4gICAgcmV0dXJuIHJlc3VsdF9jb21wb3NpdGlvbjtcblxuICB9XG5cbn07XG5cbmxldCBnZXRfY29vcmRpbmF0ZSA9IChjb29yZHMsbWF4X2RlcHRoLHR5cGUsaWR4KSA9PiB7XG4gIGxldCBbIGRlcHRoLCBoZWlnaHQgXSA9IGNvb3Jkc1tpZHhdLnNwbGl0KCcnKTtcbiAgZGVwdGggPSBwYXJzZUludChkZXB0aCk7XG4gIGlmICh0eXBlLm1hdGNoKC8oXltiY118LWF8LWUpLykpIHtcbiAgICBkZXB0aCA9IDEgKyBtYXhfZGVwdGggLSBkZXB0aDtcbiAgfVxuICBpZiAodHlwZS5tYXRjaCgvKF5beXpdfC14fC13KS8pKSB7XG4gICAgZGVwdGggPSBkZXB0aCAtIDE7XG4gIH1cbiAgcmV0dXJuIHR5cGUrZGVwdGgraGVpZ2h0O1xufTtcblxuY29uc3QgaXNfcmVkdWNpbmdfZW5kID0gKHN1Z2FyLGNob3JkKSA9PiBjaG9yZC5yb290ID09PSBzdWdhci5yb290ICYmIGNob3JkLmNob3JkWzBdICE9PSBzdWdhci5yb290IDtcblxuY29uc3QgZmNhcnQgPSAoYSwgYikgPT4gW10uY29uY2F0KC4uLmEubWFwKGQgPT4gYi5tYXAoZSA9PiBbXS5jb25jYXQoZCwgZSkpKSk7XG5jb25zdCBjYXJ0ZXNpYW4gPSAoYSwgYiwgLi4uYykgPT4gKGIgPyBjYXJ0ZXNpYW4oZmNhcnQoYSwgYiksIC4uLmMpIDogYSk7XG5cbmNvbnN0IHJlZHVjaW5nX3R5cGVzID0gWyd5JywneicsJzMsNS14JywnMSwzLXgnLCcxLDUteCcsJzIsNC14JywnMCwyLXgnLCcwLDQteCddO1xuY29uc3Qgbm9ucmVkdWNpbmdfdHlwZXMgPSBbJ2InLCdjJywnMyw1LWEnLCcxLDMtYScsJzEsNS1hJywnMiw0LWEnLCcwLDItYScsJzAsNC1hJ107XG5cbmNvbnN0IHJldGFpbnNfcmVzaWR1ZSA9IChjb21wb3NpdGlvbixyZXMpID0+IHtcbiAgaWYgKHJlcy50eXBlLm1hdGNoKC9eW3l6XS8pKSB7XG4gICAgcmV0dXJuICggY29tcG9zaXRpb24uaW5kZXhPZiggcmVzLnBhcmVudCApIDwgMCB8fFxuICAgICAgICAgICAgICEgaXNfbGlua2FnZV9yZXRhaW5lZChyZXMucGFyZW50LmxpbmthZ2VPZihyZXMpLCByZXMucGFyZW50LnR5cGUpICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbXBvc2l0aW9uLmluZGV4T2YoIHJlcyApIDwgMDtcbiAgfVxufTtcblxuY2xhc3MgRnJhZ21lbnRvciB7XG5cbiAgc3RhdGljIGdldEZyYWdtZW50KHRhcmdldCx0eXBlKSB7XG4gICAgY29uc3QgYmFzZSA9IHRhcmdldC5jb25zdHJ1Y3RvcjtcbiAgICBjb25zdCBGcmFnbWVudCA9IEZyYWdtZW50YWJsZShiYXNlKTtcblxuICAgIGxldCBmcmFnbWVudF90ZW1wbGF0ZSA9IHRyYWNlX2ludG9fY2xhc3ModGFyZ2V0LEZyYWdtZW50KTtcbiAgICBsZXQgZnJhZ21lbnQgPSBmcmFnbWVudF90ZW1wbGF0ZS5jbG9uZSgpO1xuICAgIGxldCBjaG9yZCA9IHR5cGUuc3BsaXQoJy8nKS5tYXAoIGZyYWdfdHlwZSA9PiB7XG4gICAgICBsZXQgc3ViX3R5cGUgPSBmcmFnX3R5cGU7XG4gICAgICBsZXQgbWF0Y2ggPSBmcmFnX3R5cGUubWF0Y2goLyhcXGQrLFxcZCstW3h3XXxbeXpdKShcXGQrKSguKikvKTtcbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICBzdWJfdHlwZSA9IGB5JHsoK21hdGNoWzJdKzEpfSR7bWF0Y2hbM119YDtcbiAgICAgIH1cbiAgICAgIG1hdGNoID0gZnJhZ190eXBlLm1hdGNoKC8oXFxkKyxcXGQrLVthZV18W2JjXSkoXFxkKykoLiopLyk7XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgbGV0IG1heF9kZXB0aCA9IE1hdGgubWF4KC4uLnRhcmdldC5sZWF2ZXMoKS5tYXAoIHJlcyA9PiByZXMuZGVwdGggKSk7XG4gICAgICAgIHN1Yl90eXBlID0gYHkkeyhtYXhfZGVwdGggLSBtYXRjaFsyXSArIDEpfSR7bWF0Y2hbM119YDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0YXJnZXQubG9jYXRlX21vbm9zYWNjaGFyaWRlKHN1Yl90eXBlKTtcbiAgICB9KTtcbiAgICBsZXQgY2hvcmRfcm9vdCA9IHRhcmdldC5yb290O1xuICAgIGxldCBub25fcmVkdWNpbmdfZnJhZ3MgPSBjaG9yZC5maWx0ZXIoIChmcmFnLGkpID0+IHR5cGUuc3BsaXQoJy8nKVtpXS5tYXRjaCgvXihcXGQrLFxcZCstW2FlXXxbYmNdKS8pICk7XG4gICAgaWYgKG5vbl9yZWR1Y2luZ19mcmFncy5sZW5ndGggPiAwKSB7XG4gICAgICBjaG9yZF9yb290ID0gbm9uX3JlZHVjaW5nX2ZyYWdzWzBdO1xuICAgIH1cblxuICAgIGZyYWdtZW50LmNob3JkID0geyByb290OiBjaG9yZF9yb290LCBjaG9yZCB9O1xuICAgIGZyYWdtZW50LnR5cGUgPSB0eXBlO1xuICAgIHJldHVybiBmcmFnbWVudDtcbiAgfVxuXG4gIHN0YXRpYyAqZnJhZ21lbnQodGFyZ2V0LGRlcHRoPTIpIHtcbiAgICBpZiAoICEgKCdtYXNzJyBpbiB0YXJnZXQpICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdWdhciBvYmplY3QgY2xhc3MgZG9lcyBub3QgZGVyaXZlIGZyb20gTWFzcyBjbGFzcycpO1xuICAgIH1cbiAgICBjb25zdCBiYXNlID0gdGFyZ2V0LmNvbnN0cnVjdG9yO1xuICAgIGNvbnN0IEZyYWdtZW50ID0gRnJhZ21lbnRhYmxlKGJhc2UpO1xuXG4gICAgbGV0IGZyYWdtZW50X3RlbXBsYXRlID0gdHJhY2VfaW50b19jbGFzcyh0YXJnZXQsRnJhZ21lbnQpO1xuXG4gICAgY29uc3QgbWF4X2RlcHRoID0gTWF0aC5tYXgoLi4udGFyZ2V0LmxlYXZlcygpLm1hcCggcmVzID0+IHJlcy5kZXB0aCApKTtcblxuICAgIGNvbnN0IGdldF9jb29yZF9mb3JfcmVzID0gKHRhcmdldCxyZXMpID0+IHRhcmdldC5sb2NhdGlvbl9mb3JfbW9ub3NhY2NoYXJpZGUocmVzKS5zdWJzdHJpbmcoMSk7XG5cbiAgICBmb3IgKGxldCBjaG9yZCBvZiB0YXJnZXQuY2hvcmRzKGRlcHRoKSkge1xuICAgICAgbGV0IGJhc2VfdHlwZXMgPSBbXTtcblxuICAgICAgLy8gVGhpcyBpcyBhIGZpeCBmb3IgYSB0ZXN0IGluIHRlc3QtZ3diLWNvbXBhdGliaWxpdHlcbiAgICAgIC8vIHRoYXQgZW5hYmxlcyBhIGRvdWJsZSByZWR1Y2luZyBlbmQgZnJhZ21lbnQsIHdoZXJlXG4gICAgICAvLyBvbmUgb2YgdGhlIGNob3JkIHJlc2lkdWVzIGlzIGNsb3NlciB0byB0aGUgcm9vdFxuICAgICAgLy8gdGhhbiB0aGUgb3RoZXIgY2hvcmQgcmVzaWR1ZS4gXG4gICAgICAvLyBUaGUgdGVzdCBpcyB0aGUgJ2Nyb3NzIHJpbmcgZHVhbCByZWR1Y2luZyBlbmQgZnJhZ21lbnRzIHdvcmsnXG4gICAgICAvLyBUaGlzIGlzIGJhc2VkIHVwb24gdGhlIGJlaGF2aW91ciBvZiBHbHljb1dvcmtCZW5jaFxuICAgICAgLy8gb24gYSBwZXJtZXRoeWxhdGVkIHN1Z2FyIHdpdGggYSBmcmVlIHJlZHVjaW5nIGVuZFxuICAgICAgLy9cblxuICAgICAgYmFzZV90eXBlcyA9IFsgcmVkdWNpbmdfdHlwZXMuY29uY2F0KG5vbnJlZHVjaW5nX3R5cGVzKSBdO1xuXG4gICAgICBjb25zdCBhbGxfdHlwZXMgPSBiYXNlX3R5cGVzLmNvbmNhdChuZXcgQXJyYXkoY2hvcmQuY2hvcmQubGVuZ3RoIC0gMSkuZmlsbCggcmVkdWNpbmdfdHlwZXMgKSk7XG4gICAgICBpZiAoY2hvcmQuY2hvcmQuaW5kZXhPZih0YXJnZXQucm9vdCkgPj0gMCkge1xuICAgICAgICBpZiAoaXNfcmVkdWNpbmdfZW5kKHRhcmdldCxjaG9yZCkpIHtcbiAgICAgICAgICBhbGxfdHlwZXNbIGNob3JkLmNob3JkLmluZGV4T2YodGFyZ2V0LnJvb3QpIF0gPSBhbGxfdHlwZXNbIGNob3JkLmNob3JkLmluZGV4T2YodGFyZ2V0LnJvb3QpIF0uY29uY2F0KFsgJzEsMS13JywnMiwyLXcnLCAnMywzLXcnLCAnNCw0LXcnLCAnNSw1LXcnIF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFsbF90eXBlc1sgY2hvcmQuY2hvcmQuaW5kZXhPZih0YXJnZXQucm9vdCkgXSA9IGFsbF90eXBlc1sgY2hvcmQuY2hvcmQuaW5kZXhPZih0YXJnZXQucm9vdCkgXS5jb25jYXQoWyAnMSwxLWUnLCcyLDItZScsICczLDMtZScsICc0LDQtZScsICc1LDUtZScsICczLDUtZScsJzEsMy1lJywnMiw0LWUnXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCB0eXBlcyA9IGNhcnRlc2lhbi5hcHBseShudWxsLGFsbF90eXBlcyk7XG4gICAgICBsZXQgY29vcmRpbmF0ZXMgPSBjaG9yZC5jaG9yZC5tYXAoZ2V0X2Nvb3JkX2Zvcl9yZXMuYmluZChudWxsLHRhcmdldCkpO1xuICAgICAgbGV0IGNvb3JkcyA9IGdldF9jb29yZGluYXRlLmJpbmQobnVsbCxjb29yZGluYXRlcyxtYXhfZGVwdGgpO1xuICAgICAgZm9yIChsZXQgdHlwZSBvZiB0eXBlcykge1xuICAgICAgICBpZiAoICEgQXJyYXkuaXNBcnJheSh0eXBlKSApe1xuICAgICAgICAgIHR5cGUgPSBbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCB0eXBlWzBdLm1hdGNoKC9eW2JjXS8pICYmIGNob3JkLnJvb3QgPT09IHRhcmdldC5yb290KSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGZyYWdtZW50ID0gZnJhZ21lbnRfdGVtcGxhdGUuY2xvbmUoKTtcbiAgICAgICAgZnJhZ21lbnQudHlwZSA9IG51bGw7XG4gICAgICAgIGZyYWdtZW50LmNob3JkID0gY2hvcmQ7XG4gICAgICAgIGZyYWdtZW50LnR5cGUgPSB0eXBlLm1hcChjb29yZHMpLmpvaW4oJy8nKTtcbiAgICAgICAgbGV0IGN1cnJfY29tcG9zaXRpb24gPSBmcmFnbWVudC5jb21wb3NpdGlvbigpO1xuICAgICAgICBpZiAoIGZyYWdtZW50LmNob3JkUmVzaWR1ZXMuc29tZShyZXRhaW5zX3Jlc2lkdWUuYmluZChudWxsLGN1cnJfY29tcG9zaXRpb24pKSApIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB5aWVsZCBmcmFnbWVudDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGxldCB0eXBlIG9mIFsgJzMsNS14JywnMSwzLXgnLCcxLDUteCcsJzIsNC14JywnMCwyLXgnLCcwLDQteCcsICcxLDEtdycsJzIsMi13JywgJzMsMy13JywgJzQsNC13JywgJzUsNS13JyBdKSB7XG4gICAgICBsZXQgZnJhZ21lbnQgPSBmcmFnbWVudF90ZW1wbGF0ZS5jbG9uZSgpO1xuICAgICAgZnJhZ21lbnQudHlwZSA9IG51bGw7XG4gICAgICBmcmFnbWVudC5jaG9yZCA9IHsgcm9vdDogdGFyZ2V0LnJvb3QsIGNob3JkOiBbIHRhcmdldC5yb290IF0gfTtcbiAgICAgIGZyYWdtZW50LnR5cGUgPSB0eXBlKycwYSc7XG4gICAgICB5aWVsZCBmcmFnbWVudDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRnJhZ21lbnRvcjsiXSwibWFwcGluZ3MiOiJBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFhQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../glycan.js/js/Fragmentor.js\n");

/***/ }),

/***/ "../glycan.js/js/LinkageLayout.js":
/*!****************************************!*\
  !*** ../glycan.js/js/LinkageLayout.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _SugarAwareLayout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SugarAwareLayout */ \"../glycan.js/js/SugarAwareLayout.js\");\n/* harmony import */ var _CondensedIupac__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CondensedIupac */ \"../glycan.js/js/CondensedIupac.js\");\n/* harmony import */ var _Sugar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Sugar */ \"../glycan.js/js/Sugar.js\");\n/* harmony import */ var _Monosaccharide__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Monosaccharide */ \"../glycan.js/js/Monosaccharide.js\");\n\n\n\n\nclass IupacSugar extends Object(_CondensedIupac__WEBPACK_IMPORTED_MODULE_1__[\"IO\"])(_Sugar__WEBPACK_IMPORTED_MODULE_2__[\"default\"]) {}\nvar identifier_comparator = (a, b) => {\n  if (!a || !b) {\n    return false;\n  }\n  return a.identifier === b.identifier;\n};\nvar NLINKED_CORE = new IupacSugar();\nNLINKED_CORE.sequence = 'Man(a1-3)[Man(a1-6)]Man(b1-4)GlcNAc(b1-4)GlcNAc';\nvar OLINKED_CORE = new IupacSugar();\nOLINKED_CORE.sequence = 'Gal(b1-3)GalNAc';\nvar LINEARISE_CHAINS = false;\nclass LinkageLayout extends _SugarAwareLayout__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  static LayoutMonosaccharide(sugar, res, position, parent_position, layout) {\n    var DELTA_Y_SCALE = 2;\n    var DELTA_Y = DELTA_Y_SCALE * this.DELTA_Y;\n    var DELTA_X = this.DELTA_X;\n    position = _SugarAwareLayout__WEBPACK_IMPORTED_MODULE_0__[\"default\"].LayoutMonosaccharide.call(this, sugar, res, position, parent_position, layout);\n    if (!res.parent) {\n      return position;\n    }\n    if (res.identifier === 'HSO3' || res.identifier == 'Me') {\n      return _SugarAwareLayout__WEBPACK_IMPORTED_MODULE_0__[\"calculate_layout_hso3\"].call(this, res, position, DELTA_X, DELTA_Y / DELTA_Y_SCALE);\n    }\n    var matches = sugar.match_sugar_pattern(NLINKED_CORE, identifier_comparator);\n    if (matches.length > 0) {\n      if (matches[0].composition().map(traced => traced.original).indexOf(res) >= 0) {\n        if (!this.LINKS) {\n          if (res.identifier == 'Man' && res.parent.identifier == 'Man') {\n            position.ignore_overlap = false;\n            position.dx = 0.5 * position.dx;\n            position.dy = 0.5 * position.dy;\n          }\n        }\n        return position;\n      }\n    }\n    matches = sugar.match_sugar_pattern(OLINKED_CORE, identifier_comparator);\n    if (matches.length > 0) {\n      if (LINEARISE_CHAINS && res.identifier === 'GlcNAc' && res.parent.linkageOf(res) === 3 && res.siblings.length === 0) {\n        return position;\n      }\n      var in_core = matches[0].composition().map(traced => traced.original);\n      if (in_core[0] && in_core[0].parent && ['Ser', 'Thr', 'Tyr'].indexOf(in_core[0].parent.identifier) < 0) {} else {\n        if (in_core.indexOf(res) >= 0) {\n          return position;\n        }\n        if (res.siblings.filter(sib => in_core.indexOf(sib) >= 0).length > 0) {\n          return position;\n        }\n      }\n    }\n    var linkage = res.parent.linkageOf(res);\n    var is_fucose = res.identifier === 'Fuc';\n    switch (linkage) {\n      case 0:\n        position.dx = 0;\n        position.dy = -1 * DELTA_Y;\n        break;\n      case 2:\n        position.dx = -1 * DELTA_X * (parent_position.spread || 1);\n        position.dy = 0;\n        if (is_fucose) {\n          position.rotate = 90;\n        }\n        break;\n      case 3:\n        position.dx = -1 * DELTA_X;\n        position.dy = -1 * DELTA_Y;\n        if (is_fucose) {\n          position.rotate = 0;\n        }\n        break;\n      case 4:\n        position.dx = 0;\n        position.dy = -1 * DELTA_Y;\n        if (is_fucose) {\n          position.rotate = 180;\n        }\n        break;\n      case 6:\n        position.dx = 1 * DELTA_X;\n        position.dy = -1 * DELTA_Y;\n        if (is_fucose) {\n          position.rotate = this.LINKS ? 206 : 225;\n        }\n        break;\n      case 8:\n        position.dx = 1 * DELTA_X;\n        position.dy = 0;\n        break;\n    }\n    return position;\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (LinkageLayout);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL0xpbmthZ2VMYXlvdXQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZ2x5Y2FuLmpzL2pzL0xpbmthZ2VMYXlvdXQuanM/NjQ1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWZhdWx0IGFzIFN1Z2FyQXdhcmVMYXlvdXQsIGNhbGN1bGF0ZV9sYXlvdXRfaHNvMyB9IGZyb20gJy4vU3VnYXJBd2FyZUxheW91dCc7XG5pbXBvcnQge0lPIGFzIEl1cGFjfSBmcm9tICcuL0NvbmRlbnNlZEl1cGFjJztcbmltcG9ydCBTdWdhciBmcm9tICcuL1N1Z2FyJztcblxuaW1wb3J0IE1vbm9zYWNjaGFyaWRlIGZyb20gJy4vTW9ub3NhY2NoYXJpZGUnO1xuXG5cbmNsYXNzIEl1cGFjU3VnYXIgZXh0ZW5kcyBJdXBhYyhTdWdhcikge31cblxubGV0IGlkZW50aWZpZXJfY29tcGFyYXRvciA9IChhLGIpID0+IHtcbiAgaWYgKCAhIGEgfHwgISBiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBhLmlkZW50aWZpZXIgPT09IGIuaWRlbnRpZmllcjtcbn07XG5cblxuY29uc3QgTkxJTktFRF9DT1JFID0gbmV3IEl1cGFjU3VnYXIoKTtcbk5MSU5LRURfQ09SRS5zZXF1ZW5jZSA9ICdNYW4oYTEtMylbTWFuKGExLTYpXU1hbihiMS00KUdsY05BYyhiMS00KUdsY05BYyc7XG5cbmNvbnN0IE9MSU5LRURfQ09SRSA9IG5ldyBJdXBhY1N1Z2FyKCk7XG5PTElOS0VEX0NPUkUuc2VxdWVuY2UgPSAnR2FsKGIxLTMpR2FsTkFjJztcblxuY29uc3QgTElORUFSSVNFX0NIQUlOUyA9IGZhbHNlO1xuXG5jbGFzcyBMaW5rYWdlTGF5b3V0IGV4dGVuZHMgU3VnYXJBd2FyZUxheW91dCB7XG4gIHN0YXRpYyBMYXlvdXRNb25vc2FjY2hhcmlkZShzdWdhcixyZXMscG9zaXRpb24scGFyZW50X3Bvc2l0aW9uLGxheW91dCkge1xuXG4gICAgY29uc3QgREVMVEFfWV9TQ0FMRSA9IDI7XG5cbiAgICBjb25zdCBERUxUQV9ZID0gREVMVEFfWV9TQ0FMRSp0aGlzLkRFTFRBX1k7XG4gICAgY29uc3QgREVMVEFfWCA9IHRoaXMuREVMVEFfWDtcblxuXG4gICAgcG9zaXRpb24gPSBTdWdhckF3YXJlTGF5b3V0LkxheW91dE1vbm9zYWNjaGFyaWRlLmNhbGwodGhpcyxzdWdhcixyZXMscG9zaXRpb24scGFyZW50X3Bvc2l0aW9uLGxheW91dCk7XG5cbiAgICBpZiAoICEgcmVzLnBhcmVudCApIHtcbiAgICAgIHJldHVybiBwb3NpdGlvbjtcbiAgICB9XG5cbiAgICBpZiAoIHJlcy5pZGVudGlmaWVyID09PSAnSFNPMycgfHwgcmVzLmlkZW50aWZpZXIgPT0gJ01lJyApIHtcbiAgICAgIHJldHVybiBjYWxjdWxhdGVfbGF5b3V0X2hzbzMuY2FsbCh0aGlzLHJlcyxwb3NpdGlvbiwgREVMVEFfWCwgREVMVEFfWSAvIERFTFRBX1lfU0NBTEUpO1xuICAgIH1cblxuICAgIGxldCBtYXRjaGVzID0gc3VnYXIubWF0Y2hfc3VnYXJfcGF0dGVybihOTElOS0VEX0NPUkUsIGlkZW50aWZpZXJfY29tcGFyYXRvciApO1xuICAgIGlmIChtYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChtYXRjaGVzWzBdLmNvbXBvc2l0aW9uKCkubWFwKCB0cmFjZWQgPT4gdHJhY2VkLm9yaWdpbmFsICkuaW5kZXhPZihyZXMpID49IDApIHtcbiAgICAgICAgaWYgKCAhIHRoaXMuTElOS1MgKSB7XG4gICAgICAgICAgaWYgKHJlcy5pZGVudGlmaWVyID09ICdNYW4nICYmIHJlcy5wYXJlbnQuaWRlbnRpZmllciA9PSAnTWFuJykge1xuICAgICAgICAgICAgcG9zaXRpb24uaWdub3JlX292ZXJsYXAgPSBmYWxzZTtcbiAgICAgICAgICAgIHBvc2l0aW9uLmR4ID0gMC41KnBvc2l0aW9uLmR4O1xuICAgICAgICAgICAgcG9zaXRpb24uZHkgPSAwLjUqcG9zaXRpb24uZHk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb3NpdGlvbjtcbiAgICAgIH1cbiAgICB9XG4gICAgbWF0Y2hlcyA9IHN1Z2FyLm1hdGNoX3N1Z2FyX3BhdHRlcm4oT0xJTktFRF9DT1JFLCBpZGVudGlmaWVyX2NvbXBhcmF0b3IgKTtcbiAgICBpZiAobWF0Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoIExJTkVBUklTRV9DSEFJTlMgJiYgcmVzLmlkZW50aWZpZXIgPT09ICdHbGNOQWMnICYmIHJlcy5wYXJlbnQubGlua2FnZU9mKHJlcykgPT09IDMgJiYgcmVzLnNpYmxpbmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gcG9zaXRpb247XG4gICAgICB9XG4gICAgICBsZXQgaW5fY29yZSA9IG1hdGNoZXNbMF0uY29tcG9zaXRpb24oKS5tYXAoIHRyYWNlZCA9PiB0cmFjZWQub3JpZ2luYWwgKTtcbiAgICAgIGlmICggaW5fY29yZVswXSAmJiBpbl9jb3JlWzBdLnBhcmVudCAmJiBbJ1NlcicsJ1RocicsJ1R5ciddLmluZGV4T2YoaW5fY29yZVswXS5wYXJlbnQuaWRlbnRpZmllcikgPCAwICkge1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaW5fY29yZS5pbmRleE9mKHJlcykgPj0gMCkge1xuICAgICAgICAgIHJldHVybiBwb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzLnNpYmxpbmdzLmZpbHRlciggc2liID0+IGluX2NvcmUuaW5kZXhPZihzaWIpID49IDAgKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGxpbmthZ2UgPSByZXMucGFyZW50LmxpbmthZ2VPZihyZXMpO1xuXG4gICAgbGV0IGlzX2Z1Y29zZSA9IHJlcy5pZGVudGlmaWVyID09PSAnRnVjJztcblxuICAgIHN3aXRjaCAobGlua2FnZSkge1xuICAgIGNhc2UgMDpcbiAgICAgIHBvc2l0aW9uLmR4ID0gMDtcbiAgICAgIHBvc2l0aW9uLmR5ID0gLTEgKiBERUxUQV9ZO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAyOlxuICAgICAgcG9zaXRpb24uZHggPSAtMSAqIERFTFRBX1ggKiAocGFyZW50X3Bvc2l0aW9uLnNwcmVhZCB8fCAxKTtcbiAgICAgIHBvc2l0aW9uLmR5ID0gMDtcbiAgICAgIGlmIChpc19mdWNvc2UpIHtcbiAgICAgICAgcG9zaXRpb24ucm90YXRlID0gOTA7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIDM6XG4gICAgICBwb3NpdGlvbi5keCA9IC0xICogREVMVEFfWDtcbiAgICAgIHBvc2l0aW9uLmR5ID0gLTEgKiBERUxUQV9ZO1xuICAgICAgaWYgKGlzX2Z1Y29zZSkge1xuICAgICAgICBwb3NpdGlvbi5yb3RhdGUgPSAwO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSA0OlxuICAgICAgcG9zaXRpb24uZHggPSAwO1xuICAgICAgcG9zaXRpb24uZHkgPSAtMSAqIERFTFRBX1k7XG4gICAgICBpZiAoaXNfZnVjb3NlKSB7XG4gICAgICAgIHBvc2l0aW9uLnJvdGF0ZSA9IDE4MDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgNjpcbiAgICAgIHBvc2l0aW9uLmR4ID0gMSAqIERFTFRBX1g7XG4gICAgICBwb3NpdGlvbi5keSA9IC0xICogREVMVEFfWTtcbiAgICAgIGlmIChpc19mdWNvc2UpIHtcbiAgICAgICAgcG9zaXRpb24ucm90YXRlID0gdGhpcy5MSU5LUyA/IDIwNiA6IDIyNTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgODpcbiAgICAgIHBvc2l0aW9uLmR4ID0gMSAqIERFTFRBX1g7XG4gICAgICBwb3NpdGlvbi5keSA9IDA7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gcG9zaXRpb247XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGlua2FnZUxheW91dDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../glycan.js/js/LinkageLayout.js\n");

/***/ }),

/***/ "../glycan.js/js/Mass.js":
/*!*******************************!*\
  !*** ../glycan.js/js/Mass.js ***!
  \*******************************/
/*! exports provided: C, H, O, N, NA, Mass, UNDERIVATISED, PERMETHYLATED, calculate_a_fragment_composition, summarise_composition, composition_to_mass, delete_composition, ReferenceComposition */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"C\", function() { return C; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"H\", function() { return H; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"O\", function() { return O; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"N\", function() { return N; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NA\", function() { return NA; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Mass\", function() { return Mass; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UNDERIVATISED\", function() { return UNDERIVATISED; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PERMETHYLATED\", function() { return PERMETHYLATED; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculate_a_fragment_composition\", function() { return calculate_a_fragment_composition; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"summarise_composition\", function() { return summarise_composition; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"composition_to_mass\", function() { return composition_to_mass; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"delete_composition\", function() { return delete_composition; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ReferenceComposition\", function() { return ReferenceComposition; });\nvar C = Symbol('C');\nvar H = Symbol('H');\nvar O = Symbol('O');\nvar N = Symbol('N');\nvar P = Symbol('P');\nvar S = Symbol('S');\nvar NA = Symbol('Na');\n\n// const C = 12;\n// const H = 1.0078250;\n// const O = 15.9949146;\n\nvar MASSES = new Map();\nMASSES.set(C, 12);\nMASSES.set(H, 1.007825035);\nMASSES.set(O, 15.99491463);\nMASSES.set(N, 14.003074);\nMASSES.set(NA, 22.989771);\nclass RemovableAtom {\n  constructor(atom) {\n    this.atom = atom;\n  }\n}\nclass Derivative {\n  constructor(name) {\n    this.name = name;\n  }\n  can_accept(atoms, position) {\n    return true;\n  }\n  apply(atoms) {\n    return [].concat(atoms);\n  }\n  reducing_end(atoms) {\n    return atoms;\n  }\n  static Apply(atoms, new_atoms) {\n    var result = Array.from(atoms);\n    for (var item of new_atoms) {\n      if (item instanceof RemovableAtom) {\n        var idx = result.indexOf(item.atom);\n        if (idx < 0) {\n          throw new Error('Bad index');\n        }\n        result.splice(idx, 1);\n      } else {\n        result.push(item);\n      }\n    }\n    return result;\n  }\n}\nvar make_derivative = function make_derivative(name) {\n  var accept = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : v => v;\n  var deriv_atoms = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var reducing_end_atoms = arguments.length > 3 ? arguments[3] : undefined;\n  if (!reducing_end_atoms && deriv_atoms) {\n    // These atoms are for the reducing end (OR), and one capping on non-reducing end (R)\n    // FIXME - the derivative atoms should include the H! \n    reducing_end_atoms = [O, [H].concat(deriv_atoms), [H].concat(deriv_atoms)].flat();\n  }\n  var new_derivative = class extends Derivative {\n    constructor() {\n      super(name);\n    }\n    get reducing_end_atoms() {\n      return reducing_end_atoms;\n    }\n    get derivative_atoms() {\n      return deriv_atoms;\n    }\n    can_accept(atoms, position) {\n      return accept(atoms, position);\n    }\n    apply(atoms) {\n      var result = super.apply(atoms);\n      return Derivative.Apply(result, deriv_atoms);\n    }\n    reducing_end(atoms) {\n      var result = super.apply(atoms);\n      return Derivative.Apply(result, reducing_end_atoms);\n    }\n  };\n  return Object.freeze(new new_derivative());\n};\nvar can_accept_permethylation = atoms => {\n  return atoms.indexOf(O) >= 0 && atoms.indexOf(H) >= 0 || atoms.indexOf(N) >= 0 && atoms.indexOf(H) >= 0;\n};\nvar UNDERIVATISED = make_derivative('underivatised');\nvar PERMETHYLATED = make_derivative('permethylated', can_accept_permethylation, [C, H, H]);\nvar REDUCING_END_2AB = make_derivative('2AB', v => v, [], [C, C, C, C, C, C, C,\n// C7\nH, H, H, H, H, H, H, H,\n// H8\nN, N,\n// N2\nO]); // O\nvar REDUCING_END_FREE = null;\nvar REDUCING_END_REDUCED = null;\nvar DERIV_ETHYL_ESTER = make_derivative('ethyl ester', (a, p) => p == 1, [C, C, H, H, H, H], []);\nvar DERIV_AMMONIA_AMIDATION = make_derivative('ammonia amidation', (a, p) => p == 1, [H, N, new RemovableAtom(O)], []);\nvar DEFINITIONS = \"\\nterminii:r1:x;2:x;3:x;4:x\\nname:P\\ntype:ion\\ncomposition:P:1;H:2;O:3\\n\\nterminii:r1:x;2:x;3:x;4:x\\nname:S\\ntype:ion\\ncomposition:S:1;H:1;O:3\\n\\nterminii:r1:OH;2eq:OH;3eq:OH;4eq:OH;5eq:-;6eq:HOH\\nname:Hex\\ncomposition:C:6;H:10;O:5\\n\\nterminii:r1:OH;2eq:OH;3eq:OH;4ax:OH;5eq:-;6eq:HOH\\nname:Gal\\ntype:Hex\\n\\nterminii:r1:OH;2eq:OH;3eq:OH;4eq:OH;5eq:-;6eq:HOH\\nname:Glc\\ntype:Hex\\n\\nterminii:r1:OH;2eq:OH;3ax:OH;4eq:OH;5eq:-;6eq:HOH\\nname:Man\\ntype:Hex\\n\\nterminii:r1:OH;2eq:OH;3eq:OH;4ax:OH;5eq:-;6eq:HOH\\nname:Galf\\ntype:Hex\\n\\nterminii:r1:OH;2eq:NAc;3eq:OH;4eq:OH;5eq:-;6eq:HOH\\nname:HexNAc\\ncomposition:C:8;H:13;N:1;O:5\\n\\nterminii:r1:OH;2eq:NAc;3eq:OH;4ax:OH;5eq:-;6eq:HOH\\nname:GalNAc\\ntype:HexNAc\\n\\nterminii:r1:OH;2eq:NAc;3eq:OH;4eq:OH;5eq:-;6eq:HOH\\nname:GlcNAc\\ntype:HexNAc\\n\\nterminii:r1:OH;2eq:OH;3eq:OH;4ax:OH;5eq:-;6eq:OO\\nname:HexA\\ncomposition:C:6;H:8;O:6\\n\\nterminii:r1:OH;2eq:OH;3eq:OH;4ax:OH;5eq:-;6eq:OO\\nname:GlcA\\ntype:HexA\\n\\nterminii:r1:OH;2eq:OH;3eq:OH;4ax:OH;5eq:-;6eq:OO\\nname:IdoA\\ntype:HexA\\n\\nterminii:1ax:OO;r2:O;3ax:H;4eq:OH;5eq:NHAc;6eq:-;7:OH;8:OH;9:HOH\\nname:NeuAc\\ntype:NeuAc\\ncomposition:C:11;H:17;N:1;O:8\\n\\nterminii:1ax:OO;r2:O;3ax:H;4eq:OH;5eq:NHGc;6eq:-;7:OH;8:OH;9:HOH\\nname:NeuGc\\ntype:NeuGc\\ncomposition:C:11;H:17;N:1;O:9\\n\\nterminii:r1:OH;2eq:OH;3eq:OH;4ax:OH;5eq:-;6eq:HH\\nname:dHex\\ncomposition:C:6;H:10;O:4\\n\\nterminii:r1:OH;2eq:OH;3eq:OH;4ax:OH;5eq:-;6eq:HH\\nname:Fuc\\ntype:dHex\\n\\nterminii:r1:OH;2eq:OH;3eq:OH;4ax:OH;5eq:-;6eq:HH\\nname:Rha\\ntype:dHex\\n\\nterminii:r1:OH;2eq:OH;3eq:OH;4ax:OH;5eq:H\\nname:Pent\\ncomposition:C:5;H:8;O:4\\n\\nterminii:r1:OH;2eq:OH;3eq:OH;4ax:OH;5eq:H\\nname:Xyl\\ntype:Pent\\n\\nterminii:r1:OH;2eq:OH;3eq:OH;4ax:OH;5eq:H\\nname:Ara\\ntype:Pent\\n\\nterminii:r1:OH;2eq:NH2;3eq:OH;4eq:OH;5eq:-;6eq:HOH\\nname:HexN\\ncomposition:C:6;H:11;N:1;O:4\\n\\nterminii:r1:OH;2eq:NH2;3eq:OH;4eq:OH;5eq:-;6eq:HOH\\nname:GlcN\\ntype:HexN\\n\\nterminii:r1:H\\nname:Me\\ntype:alkyl\\ncomposition:C:1;H:3\\n\";\nvar parse_atoms = composition => {\n  if (composition === 'H') {\n    return [H];\n  }\n  if (composition === 'O') {\n    return [O];\n  }\n  if (composition === 'OH') {\n    return [O, H];\n  }\n  if (composition === 'HOH') {\n    return [H, O, H];\n  }\n  if (composition === 'OO') {\n    return [O, O];\n  }\n  if (composition === 'NH2') {\n    return [N, H, H];\n  }\n  if (composition === 'HH') {\n    return [H, H];\n  }\n  if (composition === 'NAc') {\n    return [N, H, C, O, C, H, H, H];\n  }\n  if (composition === 'NHAc') {\n    return [N, H, C, O, C, H, H, H];\n  }\n  if (composition === 'NHGc') {\n    return [N, H, C, O, C, H, H, O, H];\n  }\n};\nvar delete_composition = (a, objs) => {\n  for (var element of objs) {\n    var pos = a.indexOf(element);\n    if (pos >= 0) {\n      a.splice(pos, 1);\n    }\n  }\n  return a;\n};\nvar parse_terminii = terminii => {\n  var ring = new Map();\n  for (var position of terminii.split(';')) {\n    if (position.match(/^r/)) {\n      ring.set(parseInt(position[1]), {\n        atoms: [C, H].concat(parse_atoms(position.split(':')[1])),\n        reducing: true\n      });\n      continue;\n    }\n    if (position.match(/-/)) {\n      ring.set(parseInt(position[0]), {\n        atoms: [C, H]\n      });\n      continue;\n    }\n    ring.set(parseInt(position[0]), {\n      atoms: [C, H].concat(parse_atoms(position.split(':')[1]))\n    });\n  }\n  Object.freeze(ring);\n  return ring;\n};\nvar calculate_a_fragment_composition = function calculate_a_fragment_composition(atoms, start, end) {\n  var sialic = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  if (sialic && start > 0) {\n    start = start + 1;\n  }\n  if (sialic && end > 0) {\n    end = end + 1;\n  }\n  var result = Array.from(atoms);\n  var looper = start;\n  while (looper < end) {\n    result[++looper] = [];\n  }\n  if (result[1].length > 0) {\n    // console.log('Swapping keeping', result.map( (pos,i) => pos.length == 0 ? i : null ));\n    result = result.map((pos, i) => pos.length == 0 ? atoms[i] : []);\n  }\n  var end_fill_start = sialic ? 6 : 5;\n  if (end >= end_fill_start) {\n    var fill = atoms.length;\n    while (fill >= end_fill_start + 1) {\n      if (atoms[fill]) {\n        result[fill] = atoms[fill];\n      }\n      fill = fill - 1;\n    }\n  }\n  return result;\n};\nvar summarise_composition = composition => {\n  var c = composition.filter(v => v == C).length;\n  var n = composition.filter(v => v == N).length;\n  var o = composition.filter(v => v == O).length;\n  var h = composition.filter(v => v == H).length;\n  return {\n    C: c,\n    N: n,\n    O: o,\n    H: h\n  };\n};\nvar parse_composition = composition => {\n  var atoms = [];\n  for (var part of composition.split(';')) {\n    var [atom, number] = part.split(':');\n    number = parseInt(number);\n    switch (atom) {\n      case 'C':\n        atom = C;\n        break;\n      case 'H':\n        atom = H;\n        break;\n      case 'O':\n        atom = O;\n        break;\n      case 'N':\n        atom = N;\n        break;\n      case 'P':\n        atom = P;\n        break;\n      case 'S':\n        atom = S;\n        break;\n    }\n    atoms = atoms.concat(Array(number).fill(atom));\n  }\n  Object.freeze(atoms);\n  return atoms;\n};\nvar read_definitions = () => {\n  var parsed = {};\n  for (var block of DEFINITIONS.replace(/^\\n/, '').split('\\n\\n')) {\n    var definition = {};\n    for (var line of block.split('\\n')) {\n      var [field, value] = line.split(/^([^:]+):/).slice(1);\n      switch (field) {\n        case 'name':\n          definition.name = value;\n          break;\n        case 'terminii':\n          definition.ring = parse_terminii(value);\n          break;\n        case 'type':\n          definition.type = value;\n          break;\n        case 'composition':\n          definition.composition = parse_composition(value);\n      }\n    }\n    parsed[definition.name] = definition;\n    Object.freeze(definition);\n  }\n  return parsed;\n};\nvar MONOSACCHARIDES = read_definitions();\nvar composition_to_mass = composition => {\n  return composition.map(atom => MASSES.get(atom)).reduce((a, b) => a + b, 0);\n};\nvar get_prototype_for = identifier => {\n  var def = MONOSACCHARIDES[identifier];\n  if (def && def.type) {\n    def = MONOSACCHARIDES[def.type];\n  }\n  return def;\n};\nvar add_derivative = (atoms, position, derivative) => {\n  var result = Array.from(atoms);\n  // FIXME - the derivative should include the H, so that\n  // the underivatised atoms includes the H.\n  if (derivative.can_accept(atoms, position)) {\n    result = derivative.apply(atoms); //result.concat( DERIVATISATION_DELTAS.get(derivative) )\n  }\n  return result;\n};\nvar get_ring_atoms_for = function get_ring_atoms_for(identifier) {\n  var derivative = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : UNDERIVATISED;\n  var reducing = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var def = get_prototype_for(identifier);\n  if (def && def.ring) {\n    return Object.freeze(Array.from(def.ring.values()).filter(val => reducing || !val.reducing).map(position => Array.from(position.atoms)).map((atoms, idx) => add_derivative(atoms, idx + 1, derivative)).map(res => Object.freeze(res)));\n  }\n  return Object.freeze([]);\n};\nvar get_composition_for = (identifier, derivative) => {\n  var def = get_prototype_for(identifier);\n  if (!def) {\n    return Object.freeze([]);\n  }\n  var base_composition = [O];\n  var derivative_composition = get_ring_atoms_for(identifier, derivative, true).flat();\n  return [...base_composition, ...derivative_composition];\n};\nvar ReferenceComposition = monosaccharide => {\n  return get_composition_for(monosaccharide.identifier, monosaccharide.derivative);\n};\n\n// Permethylated masses:\n/*\nterminii:r1:HOH;2eq:NAc;3eq:OH;4eq:OH;5eq:-;6eq:OH\nname:GlcNAc\n\nSkip r1, Then NAc,OH,OH,OH - 1 = 3*14\n\nterminii:r1:HOH;2eq:NH2;3eq:OH;4eq:OH;5eq:-;6eq:OH\nname:GalN\nSkip r1, Then NH2 (2), OH, OH, OH - 1 = 4*14\n\nterminii:r2:HOH;1ax:COOH;3ax:H;4:OH;5eq:NHAc;6eq:-;7:OH;8:OH;9:OH2\nname:NeuAc\nSkip r2, Then COOH,OH,NHAc,OH,OH,OH2 - 1 = 5*14\n\n*/\n\n/*\nhttps://www.nist.gov/static/glyco-mass-calc/\n\n*/\n\nvar derivative_info = Symbol('derivative');\nvar Mass = base => {\n  class MonosaccharideMass extends base.Monosaccharide {\n    get mass() {\n      return composition_to_mass(this.atoms);\n    }\n    get derivative() {\n      return this[derivative_info] || UNDERIVATISED;\n    }\n    set derivative(derivative) {\n      if ([UNDERIVATISED, PERMETHYLATED].indexOf(derivative) < 0) {\n        throw new Error('Bad derivative');\n      }\n      this[derivative_info] = derivative;\n    }\n    get atoms() {\n      var res = [O, ...this.ring_atoms].flat();\n\n      // We should remove the reducing end atoms from the composition\n      // for all residues, and then add it back on to the\n      // root at the end\n      res = delete_composition(res, this.derivative.reducing_end_atoms);\n      return res;\n    }\n    get ring_atoms() {\n      return get_ring_atoms_for(this.identifier, this.derivative);\n    }\n    get proto() {\n      return (MONOSACCHARIDES[this.identifier] || {}).type;\n    }\n  }\n  return class SugarMass extends base {\n    static get Monosaccharide() {\n      return MonosaccharideMass;\n    }\n    get atoms() {\n      var monosaccharide_atoms = this.composition().map(res => res.atoms).flat();\n\n      // Only the parent sugar gets to add back in the reducing end atoms\n      var result = this.root.derivative.reducing_end(monosaccharide_atoms);\n      return result;\n    }\n    get mass() {\n      return composition_to_mass(this.atoms);\n    }\n    set reducing_end(reduction) {\n      if (reduction === void 0) {\n        reduction = FREE_REDUCING_END;\n      }\n    }\n    derivatise(derivative) {\n      for (var res of this.composition()) {\n        res.derivative = derivative;\n      }\n    }\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL01hc3MuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZ2x5Y2FuLmpzL2pzL01hc3MuanM/M2JmZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmNvbnN0IEMgPSBTeW1ib2woJ0MnKTtcbmNvbnN0IEggPSBTeW1ib2woJ0gnKTtcbmNvbnN0IE8gPSBTeW1ib2woJ08nKTtcblxuY29uc3QgTiA9IFN5bWJvbCgnTicpO1xuY29uc3QgUCA9IFN5bWJvbCgnUCcpO1xuY29uc3QgUyA9IFN5bWJvbCgnUycpO1xuXG5jb25zdCBOQSA9IFN5bWJvbCgnTmEnKTtcblxuLy8gY29uc3QgQyA9IDEyO1xuLy8gY29uc3QgSCA9IDEuMDA3ODI1MDtcbi8vIGNvbnN0IE8gPSAxNS45OTQ5MTQ2O1xuXG5jb25zdCBNQVNTRVMgPSBuZXcgTWFwKCk7XG5cbk1BU1NFUy5zZXQoQywxMik7XG5NQVNTRVMuc2V0KEgsMS4wMDc4MjUwMzUpO1xuTUFTU0VTLnNldChPLDE1Ljk5NDkxNDYzKTtcbk1BU1NFUy5zZXQoTiwxNC4wMDMwNzQpO1xuTUFTU0VTLnNldChOQSwyMi45ODk3NzEpXG5cbmNsYXNzIFJlbW92YWJsZUF0b20ge1xuICBjb25zdHJ1Y3RvcihhdG9tKSB7XG4gICAgdGhpcy5hdG9tID0gYXRvbTtcbiAgfVxufVxuXG5jbGFzcyBEZXJpdmF0aXZlIHtcbiAgY29uc3RydWN0b3IobmFtZSkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gIH1cblxuICBjYW5fYWNjZXB0KGF0b21zLHBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBhcHBseShhdG9tcykge1xuICAgIHJldHVybiBbXS5jb25jYXQoYXRvbXMpO1xuICB9XG5cbiAgcmVkdWNpbmdfZW5kKGF0b21zKSB7XG4gICAgcmV0dXJuIGF0b21zO1xuICB9XG5cbiAgc3RhdGljIEFwcGx5KGF0b21zLG5ld19hdG9tcykge1xuICAgIGxldCByZXN1bHQgPSBBcnJheS5mcm9tKGF0b21zKTtcbiAgICBmb3IgKGxldCBpdGVtIG9mIG5ld19hdG9tcykge1xuICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBSZW1vdmFibGVBdG9tKSB7XG4gICAgICAgIGxldCBpZHggPSByZXN1bHQuaW5kZXhPZihpdGVtLmF0b20pO1xuICAgICAgICBpZiAoaWR4IDwgMCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQmFkIGluZGV4Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LnNwbGljZShpZHgsMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQucHVzaChpdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG59XG5cbmNvbnN0IG1ha2VfZGVyaXZhdGl2ZSA9IChuYW1lLGFjY2VwdD0gdiA9PiB2LGRlcml2X2F0b21zPVtdLHJlZHVjaW5nX2VuZF9hdG9tcykgPT4ge1xuICBpZiAoISByZWR1Y2luZ19lbmRfYXRvbXMgJiYgZGVyaXZfYXRvbXMgKSB7XG4gICAgLy8gVGhlc2UgYXRvbXMgYXJlIGZvciB0aGUgcmVkdWNpbmcgZW5kIChPUiksIGFuZCBvbmUgY2FwcGluZyBvbiBub24tcmVkdWNpbmcgZW5kIChSKVxuICAgIC8vIEZJWE1FIC0gdGhlIGRlcml2YXRpdmUgYXRvbXMgc2hvdWxkIGluY2x1ZGUgdGhlIEghIFxuICAgIHJlZHVjaW5nX2VuZF9hdG9tcyA9IFsgTywgW0hdLmNvbmNhdChkZXJpdl9hdG9tcykgLCBbSF0uY29uY2F0KGRlcml2X2F0b21zKSBdLmZsYXQoKTtcbiAgfVxuICBsZXQgbmV3X2Rlcml2YXRpdmUgPSBjbGFzcyBleHRlbmRzIERlcml2YXRpdmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIobmFtZSk7XG4gICAgfVxuICAgIGdldCByZWR1Y2luZ19lbmRfYXRvbXMoKSB7XG4gICAgICByZXR1cm4gcmVkdWNpbmdfZW5kX2F0b21zO1xuICAgIH1cblxuICAgIGdldCBkZXJpdmF0aXZlX2F0b21zKCkge1xuICAgICAgcmV0dXJuIGRlcml2X2F0b21zO1xuICAgIH1cblxuICAgIGNhbl9hY2NlcHQoYXRvbXMscG9zaXRpb24pIHtcbiAgICAgIHJldHVybiBhY2NlcHQoYXRvbXMscG9zaXRpb24pO1xuICAgIH1cbiAgICBhcHBseShhdG9tcykge1xuICAgICAgbGV0IHJlc3VsdCA9IHN1cGVyLmFwcGx5KGF0b21zKTtcbiAgICAgIHJldHVybiBEZXJpdmF0aXZlLkFwcGx5KHJlc3VsdCxkZXJpdl9hdG9tcyk7XG4gICAgfVxuICAgIHJlZHVjaW5nX2VuZChhdG9tcykge1xuICAgICAgbGV0IHJlc3VsdCA9IHN1cGVyLmFwcGx5KGF0b21zKTtcbiAgICAgIHJldHVybiBEZXJpdmF0aXZlLkFwcGx5KHJlc3VsdCxyZWR1Y2luZ19lbmRfYXRvbXMpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gT2JqZWN0LmZyZWV6ZShuZXcgbmV3X2Rlcml2YXRpdmUoKSk7XG59XG5cbmNvbnN0IGNhbl9hY2NlcHRfcGVybWV0aHlsYXRpb24gPSAoYXRvbXMpID0+IHtcbiAgcmV0dXJuIChhdG9tcy5pbmRleE9mKE8pID49IDAgJiYgYXRvbXMuaW5kZXhPZihIKSA+PSAwKSB8fCAoYXRvbXMuaW5kZXhPZihOKSA+PSAwICYmIGF0b21zLmluZGV4T2YoSCkgPj0gMCk7XG59XG5cbmNvbnN0IFVOREVSSVZBVElTRUQgPSBtYWtlX2Rlcml2YXRpdmUoJ3VuZGVyaXZhdGlzZWQnKTtcbmNvbnN0IFBFUk1FVEhZTEFURUQgPSBtYWtlX2Rlcml2YXRpdmUoJ3Blcm1ldGh5bGF0ZWQnLGNhbl9hY2NlcHRfcGVybWV0aHlsYXRpb24sW0MsSCxIXSk7XG5cbmNvbnN0IFJFRFVDSU5HX0VORF8yQUIgPSBtYWtlX2Rlcml2YXRpdmUoJzJBQicsdiA9PiB2LCBbXSxbIEMsIEMsIEMsIEMsIEMsIEMsIEMsIC8vIEM3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEgsIEgsIEgsIEgsIEgsIEgsIEgsIEgsIC8vIEg4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE4sIE4sIC8vIE4yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE8gXSk7IC8vIE9cbmNvbnN0IFJFRFVDSU5HX0VORF9GUkVFID0gbnVsbDtcblxuY29uc3QgUkVEVUNJTkdfRU5EX1JFRFVDRUQgPSBudWxsO1xuXG5jb25zdCBERVJJVl9FVEhZTF9FU1RFUiA9IG1ha2VfZGVyaXZhdGl2ZSgnZXRoeWwgZXN0ZXInLCAoYSxwKSA9PiBwID09IDEsIFtDLEMsSCxILEgsSF0sIFtdICk7XG5jb25zdCBERVJJVl9BTU1PTklBX0FNSURBVElPTiA9IG1ha2VfZGVyaXZhdGl2ZSgnYW1tb25pYSBhbWlkYXRpb24nLCAoYSxwKSA9PiBwID09IDEsIFtILCBOLCBuZXcgUmVtb3ZhYmxlQXRvbShPKSBdLCBbXSk7XG5cbmNvbnN0IERFRklOSVRJT05TID1gXG50ZXJtaW5paTpyMTp4OzI6eDszOng7NDp4XG5uYW1lOlBcbnR5cGU6aW9uXG5jb21wb3NpdGlvbjpQOjE7SDoyO086M1xuXG50ZXJtaW5paTpyMTp4OzI6eDszOng7NDp4XG5uYW1lOlNcbnR5cGU6aW9uXG5jb21wb3NpdGlvbjpTOjE7SDoxO086M1xuXG50ZXJtaW5paTpyMTpPSDsyZXE6T0g7M2VxOk9IOzRlcTpPSDs1ZXE6LTs2ZXE6SE9IXG5uYW1lOkhleFxuY29tcG9zaXRpb246Qzo2O0g6MTA7Tzo1XG5cbnRlcm1pbmlpOnIxOk9IOzJlcTpPSDszZXE6T0g7NGF4Ok9IOzVlcTotOzZlcTpIT0hcbm5hbWU6R2FsXG50eXBlOkhleFxuXG50ZXJtaW5paTpyMTpPSDsyZXE6T0g7M2VxOk9IOzRlcTpPSDs1ZXE6LTs2ZXE6SE9IXG5uYW1lOkdsY1xudHlwZTpIZXhcblxudGVybWluaWk6cjE6T0g7MmVxOk9IOzNheDpPSDs0ZXE6T0g7NWVxOi07NmVxOkhPSFxubmFtZTpNYW5cbnR5cGU6SGV4XG5cbnRlcm1pbmlpOnIxOk9IOzJlcTpPSDszZXE6T0g7NGF4Ok9IOzVlcTotOzZlcTpIT0hcbm5hbWU6R2FsZlxudHlwZTpIZXhcblxudGVybWluaWk6cjE6T0g7MmVxOk5BYzszZXE6T0g7NGVxOk9IOzVlcTotOzZlcTpIT0hcbm5hbWU6SGV4TkFjXG5jb21wb3NpdGlvbjpDOjg7SDoxMztOOjE7Tzo1XG5cbnRlcm1pbmlpOnIxOk9IOzJlcTpOQWM7M2VxOk9IOzRheDpPSDs1ZXE6LTs2ZXE6SE9IXG5uYW1lOkdhbE5BY1xudHlwZTpIZXhOQWNcblxudGVybWluaWk6cjE6T0g7MmVxOk5BYzszZXE6T0g7NGVxOk9IOzVlcTotOzZlcTpIT0hcbm5hbWU6R2xjTkFjXG50eXBlOkhleE5BY1xuXG50ZXJtaW5paTpyMTpPSDsyZXE6T0g7M2VxOk9IOzRheDpPSDs1ZXE6LTs2ZXE6T09cbm5hbWU6SGV4QVxuY29tcG9zaXRpb246Qzo2O0g6ODtPOjZcblxudGVybWluaWk6cjE6T0g7MmVxOk9IOzNlcTpPSDs0YXg6T0g7NWVxOi07NmVxOk9PXG5uYW1lOkdsY0FcbnR5cGU6SGV4QVxuXG50ZXJtaW5paTpyMTpPSDsyZXE6T0g7M2VxOk9IOzRheDpPSDs1ZXE6LTs2ZXE6T09cbm5hbWU6SWRvQVxudHlwZTpIZXhBXG5cbnRlcm1pbmlpOjFheDpPTztyMjpPOzNheDpIOzRlcTpPSDs1ZXE6TkhBYzs2ZXE6LTs3Ok9IOzg6T0g7OTpIT0hcbm5hbWU6TmV1QWNcbnR5cGU6TmV1QWNcbmNvbXBvc2l0aW9uOkM6MTE7SDoxNztOOjE7Tzo4XG5cbnRlcm1pbmlpOjFheDpPTztyMjpPOzNheDpIOzRlcTpPSDs1ZXE6TkhHYzs2ZXE6LTs3Ok9IOzg6T0g7OTpIT0hcbm5hbWU6TmV1R2NcbnR5cGU6TmV1R2NcbmNvbXBvc2l0aW9uOkM6MTE7SDoxNztOOjE7Tzo5XG5cbnRlcm1pbmlpOnIxOk9IOzJlcTpPSDszZXE6T0g7NGF4Ok9IOzVlcTotOzZlcTpISFxubmFtZTpkSGV4XG5jb21wb3NpdGlvbjpDOjY7SDoxMDtPOjRcblxudGVybWluaWk6cjE6T0g7MmVxOk9IOzNlcTpPSDs0YXg6T0g7NWVxOi07NmVxOkhIXG5uYW1lOkZ1Y1xudHlwZTpkSGV4XG5cbnRlcm1pbmlpOnIxOk9IOzJlcTpPSDszZXE6T0g7NGF4Ok9IOzVlcTotOzZlcTpISFxubmFtZTpSaGFcbnR5cGU6ZEhleFxuXG50ZXJtaW5paTpyMTpPSDsyZXE6T0g7M2VxOk9IOzRheDpPSDs1ZXE6SFxubmFtZTpQZW50XG5jb21wb3NpdGlvbjpDOjU7SDo4O086NFxuXG50ZXJtaW5paTpyMTpPSDsyZXE6T0g7M2VxOk9IOzRheDpPSDs1ZXE6SFxubmFtZTpYeWxcbnR5cGU6UGVudFxuXG50ZXJtaW5paTpyMTpPSDsyZXE6T0g7M2VxOk9IOzRheDpPSDs1ZXE6SFxubmFtZTpBcmFcbnR5cGU6UGVudFxuXG50ZXJtaW5paTpyMTpPSDsyZXE6TkgyOzNlcTpPSDs0ZXE6T0g7NWVxOi07NmVxOkhPSFxubmFtZTpIZXhOXG5jb21wb3NpdGlvbjpDOjY7SDoxMTtOOjE7Tzo0XG5cbnRlcm1pbmlpOnIxOk9IOzJlcTpOSDI7M2VxOk9IOzRlcTpPSDs1ZXE6LTs2ZXE6SE9IXG5uYW1lOkdsY05cbnR5cGU6SGV4TlxuXG50ZXJtaW5paTpyMTpIXG5uYW1lOk1lXG50eXBlOmFsa3lsXG5jb21wb3NpdGlvbjpDOjE7SDozXG5gO1xuXG5jb25zdCBwYXJzZV9hdG9tcyA9IChjb21wb3NpdGlvbikgPT4ge1xuICBpZiAoY29tcG9zaXRpb24gPT09ICdIJykge1xuICAgIHJldHVybiBbIEggXTtcbiAgfVxuICBpZiAoY29tcG9zaXRpb24gPT09ICdPJykge1xuICAgIHJldHVybiBbIE8gXTtcbiAgfVxuXG4gIGlmIChjb21wb3NpdGlvbiA9PT0gJ09IJykge1xuICAgIHJldHVybiBbIE8sIEggXTtcbiAgfVxuICBpZiAoY29tcG9zaXRpb24gPT09ICdIT0gnKSB7XG4gICAgcmV0dXJuIFsgSCwgTywgSCBdO1xuICB9XG4gIGlmIChjb21wb3NpdGlvbiA9PT0gJ09PJykge1xuICAgIHJldHVybiBbIE8sIE8gXTtcbiAgfVxuICBpZiAoY29tcG9zaXRpb24gPT09ICdOSDInKSB7XG4gICAgcmV0dXJuIFsgTiwgSCwgSCBdO1xuICB9XG5cbiAgaWYgKGNvbXBvc2l0aW9uID09PSAnSEgnKSB7XG4gICAgcmV0dXJuIFsgSCwgSCBdO1xuICB9XG4gIGlmIChjb21wb3NpdGlvbiA9PT0gJ05BYycpIHtcbiAgICByZXR1cm4gWyBOLCBILCBDLCBPLCBDLCBILCBILCBIIF07XG4gIH1cbiAgaWYgKGNvbXBvc2l0aW9uID09PSAnTkhBYycpIHtcbiAgICByZXR1cm4gWyBOLCBILCBDLCBPLCBDLCBILCBILCBIIF07XG4gIH1cbiAgaWYgKGNvbXBvc2l0aW9uID09PSAnTkhHYycpIHtcbiAgICByZXR1cm4gWyBOLCBILCBDLCBPLCBDLCBILCBILCBPLCBIIF07XG4gIH1cbn07XG5cbmNvbnN0IGRlbGV0ZV9jb21wb3NpdGlvbiA9IChhLG9ianMpID0+IHtcbiAgZm9yIChsZXQgZWxlbWVudCBvZiBvYmpzKSB7XG4gICAgbGV0IHBvcyA9IGEuaW5kZXhPZihlbGVtZW50KTtcbiAgICBpZiAocG9zID49IDApIHtcbiAgICAgIGEuc3BsaWNlKHBvcywxKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGE7XG59XG5cbmNvbnN0IHBhcnNlX3Rlcm1pbmlpID0gKHRlcm1pbmlpKSA9PiB7XG4gIGxldCByaW5nID0gbmV3IE1hcCgpO1xuICBmb3IgKGxldCBwb3NpdGlvbiBvZiB0ZXJtaW5paS5zcGxpdCgnOycpKSB7XG4gICAgaWYgKHBvc2l0aW9uLm1hdGNoKC9eci8pKSB7XG4gICAgICByaW5nLnNldChwYXJzZUludCggcG9zaXRpb25bMV0gKSAsICB7IGF0b21zOiBbIEMsIEggXS5jb25jYXQoIHBhcnNlX2F0b21zKHBvc2l0aW9uLnNwbGl0KCc6JylbMV0pKSwgcmVkdWNpbmc6IHRydWUgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKHBvc2l0aW9uLm1hdGNoKC8tLykpIHtcbiAgICAgIHJpbmcuc2V0KHBhcnNlSW50KCBwb3NpdGlvblswXSApICwgeyBhdG9tczogWyBDLCBIIF0gfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgcmluZy5zZXQoIHBhcnNlSW50KCBwb3NpdGlvblswXSApLCB7IGF0b21zOiBbIEMsIEggXS5jb25jYXQoIHBhcnNlX2F0b21zKHBvc2l0aW9uLnNwbGl0KCc6JylbMV0pICkgfSk7XG4gIH1cbiAgT2JqZWN0LmZyZWV6ZShyaW5nKTtcbiAgcmV0dXJuIHJpbmc7XG59O1xuXG5jb25zdCBjYWxjdWxhdGVfYV9mcmFnbWVudF9jb21wb3NpdGlvbiA9IChhdG9tcyxzdGFydCxlbmQsc2lhbGljPWZhbHNlKSA9PiB7XG4gIGlmIChzaWFsaWMgJiYgc3RhcnQgPiAwKSB7XG4gICAgc3RhcnQgPSBzdGFydCArIDE7XG4gIH1cbiAgaWYgKHNpYWxpYyAmJiBlbmQgPiAwKSB7XG4gICAgZW5kID0gZW5kICsgMVxuICB9XG4gIGxldCByZXN1bHQgPSBBcnJheS5mcm9tKGF0b21zKTtcbiAgbGV0IGxvb3BlciA9IHN0YXJ0O1xuICB3aGlsZShsb29wZXIgPCBlbmQpIHtcbiAgICByZXN1bHRbKytsb29wZXJdID0gW107XG4gIH1cbiAgaWYgKHJlc3VsdFsxXS5sZW5ndGggPiAwKSB7XG4gICAgLy8gY29uc29sZS5sb2coJ1N3YXBwaW5nIGtlZXBpbmcnLCByZXN1bHQubWFwKCAocG9zLGkpID0+IHBvcy5sZW5ndGggPT0gMCA/IGkgOiBudWxsICkpO1xuICAgIHJlc3VsdCA9IHJlc3VsdC5tYXAoIChwb3MsaSkgPT4gcG9zLmxlbmd0aCA9PSAwID8gYXRvbXNbaV0gOiBbXSk7XG4gIH1cbiAgbGV0IGVuZF9maWxsX3N0YXJ0ID0gc2lhbGljPyA2IDogNTtcbiAgaWYgKGVuZCA+PSBlbmRfZmlsbF9zdGFydCkge1xuICAgIGxldCBmaWxsID0gYXRvbXMubGVuZ3RoO1xuICAgIHdoaWxlIChmaWxsID49IChlbmRfZmlsbF9zdGFydCsxKSkge1xuICAgICAgaWYgKGF0b21zW2ZpbGxdKSB7XG4gICAgICAgIHJlc3VsdFtmaWxsXSA9IGF0b21zW2ZpbGxdO1xuICAgICAgfVxuICAgICAgZmlsbCA9IGZpbGwgLSAxO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuY29uc3Qgc3VtbWFyaXNlX2NvbXBvc2l0aW9uID0gKGNvbXBvc2l0aW9uKSA9PiB7XG4gIGxldCBjID0gY29tcG9zaXRpb24uZmlsdGVyKCB2ID0+IHYgPT0gQykubGVuZ3RoO1xuICBsZXQgbiA9IGNvbXBvc2l0aW9uLmZpbHRlciggdiA9PiB2ID09IE4pLmxlbmd0aDtcbiAgbGV0IG8gPSBjb21wb3NpdGlvbi5maWx0ZXIoIHYgPT4gdiA9PSBPKS5sZW5ndGg7XG4gIGxldCBoID0gY29tcG9zaXRpb24uZmlsdGVyKCB2ID0+IHYgPT0gSCkubGVuZ3RoO1xuICByZXR1cm4geyBDOiBjLCBOOiBuLCBPOiBvLCBIOiBoIH07XG59XG5cbmNvbnN0IHBhcnNlX2NvbXBvc2l0aW9uID0gKGNvbXBvc2l0aW9uKSA9PiB7XG4gIGxldCBhdG9tcyA9IFtdO1xuICBmb3IgKGxldCBwYXJ0IG9mIGNvbXBvc2l0aW9uLnNwbGl0KCc7JykpIHtcbiAgICBsZXQgW2F0b20sbnVtYmVyXSA9IHBhcnQuc3BsaXQoJzonKTtcbiAgICBudW1iZXIgPSBwYXJzZUludChudW1iZXIpO1xuICAgIHN3aXRjaCAoYXRvbSkge1xuICAgIGNhc2UgJ0MnOlxuICAgICAgYXRvbSA9IEM7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdIJzpcbiAgICAgIGF0b20gPSBIO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnTyc6XG4gICAgICBhdG9tID0gTztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ04nOlxuICAgICAgYXRvbSA9IE47XG4gICAgICBicmVhaztcbiAgICBjYXNlICdQJzpcbiAgICAgIGF0b20gPSBQO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnUyc6XG4gICAgICBhdG9tID0gUztcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBhdG9tcyA9IGF0b21zLmNvbmNhdCggQXJyYXkobnVtYmVyKS5maWxsKGF0b20pICk7XG4gIH1cbiAgT2JqZWN0LmZyZWV6ZShhdG9tcyk7XG4gIHJldHVybiBhdG9tcztcbn07XG5cbmxldCByZWFkX2RlZmluaXRpb25zID0gKCkgPT4ge1xuICBsZXQgcGFyc2VkID0ge307XG4gIGZvciAobGV0IGJsb2NrIG9mIERFRklOSVRJT05TLnJlcGxhY2UoL15cXG4vLCcnKS5zcGxpdCgnXFxuXFxuJykpIHtcbiAgICBsZXQgZGVmaW5pdGlvbiA9IHt9O1xuICAgIGZvciAobGV0IGxpbmUgb2YgYmxvY2suc3BsaXQoJ1xcbicpKSB7XG4gICAgICBsZXQgW2ZpZWxkLCB2YWx1ZV0gPSBsaW5lLnNwbGl0KC9eKFteOl0rKTovKS5zbGljZSgxKTtcbiAgICAgIHN3aXRjaCAoZmllbGQpIHtcbiAgICAgIGNhc2UgJ25hbWUnIDpcbiAgICAgICAgZGVmaW5pdGlvbi5uYW1lID0gdmFsdWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGVybWluaWknIDpcbiAgICAgICAgZGVmaW5pdGlvbi5yaW5nID0gcGFyc2VfdGVybWluaWkodmFsdWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3R5cGUnIDpcbiAgICAgICAgZGVmaW5pdGlvbi50eXBlID0gdmFsdWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY29tcG9zaXRpb24nOlxuICAgICAgICBkZWZpbml0aW9uLmNvbXBvc2l0aW9uID0gcGFyc2VfY29tcG9zaXRpb24odmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBwYXJzZWRbIGRlZmluaXRpb24ubmFtZSBdID0gZGVmaW5pdGlvbjtcbiAgICBPYmplY3QuZnJlZXplKGRlZmluaXRpb24pO1xuICB9XG4gIHJldHVybiBwYXJzZWQ7XG59O1xuXG5jb25zdCBNT05PU0FDQ0hBUklERVMgPSByZWFkX2RlZmluaXRpb25zKCk7XG5cbmNvbnN0IGNvbXBvc2l0aW9uX3RvX21hc3MgPSAoY29tcG9zaXRpb24pID0+IHtcbiAgcmV0dXJuIGNvbXBvc2l0aW9uLm1hcCggYXRvbSA9PiBNQVNTRVMuZ2V0KGF0b20pICkucmVkdWNlKCAoYSxiKSA9PiBhICsgYiwgMCk7XG59O1xuXG5jb25zdCBnZXRfcHJvdG90eXBlX2ZvciA9IChpZGVudGlmaWVyKSA9PiB7XG4gIGxldCBkZWYgPSBNT05PU0FDQ0hBUklERVNbIGlkZW50aWZpZXIgXTtcbiAgaWYgKGRlZiAmJiBkZWYudHlwZSkge1xuICAgIGRlZiA9IE1PTk9TQUNDSEFSSURFU1sgZGVmLnR5cGUgXTtcbiAgfVxuICByZXR1cm4gZGVmO1xufVxuXG5jb25zdCBhZGRfZGVyaXZhdGl2ZSA9IChhdG9tcyxwb3NpdGlvbixkZXJpdmF0aXZlKSA9PiB7XG4gIGxldCByZXN1bHQgPSBBcnJheS5mcm9tKGF0b21zKTtcbiAgLy8gRklYTUUgLSB0aGUgZGVyaXZhdGl2ZSBzaG91bGQgaW5jbHVkZSB0aGUgSCwgc28gdGhhdFxuICAvLyB0aGUgdW5kZXJpdmF0aXNlZCBhdG9tcyBpbmNsdWRlcyB0aGUgSC5cbiAgaWYgKCBkZXJpdmF0aXZlLmNhbl9hY2NlcHQoYXRvbXMscG9zaXRpb24pICkge1xuICAgIHJlc3VsdCA9IGRlcml2YXRpdmUuYXBwbHkoYXRvbXMpIC8vcmVzdWx0LmNvbmNhdCggREVSSVZBVElTQVRJT05fREVMVEFTLmdldChkZXJpdmF0aXZlKSApXG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmNvbnN0IGdldF9yaW5nX2F0b21zX2ZvciA9IChpZGVudGlmaWVyLGRlcml2YXRpdmU9VU5ERVJJVkFUSVNFRCxyZWR1Y2luZz10cnVlKSA9PiB7XG4gIGxldCBkZWYgPSBnZXRfcHJvdG90eXBlX2ZvcihpZGVudGlmaWVyKTtcbiAgaWYgKGRlZiAmJiBkZWYucmluZykge1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKFxuICAgICAgQXJyYXkuZnJvbShkZWYucmluZy52YWx1ZXMoKSlcbiAgICAgIC5maWx0ZXIoIHZhbCA9PiByZWR1Y2luZyB8fCAoIXZhbC5yZWR1Y2luZykgKVxuICAgICAgLm1hcCggcG9zaXRpb24gPT4gQXJyYXkuZnJvbShwb3NpdGlvbi5hdG9tcykgKVxuICAgICAgLm1hcCggKGF0b21zLGlkeCkgPT4gYWRkX2Rlcml2YXRpdmUoYXRvbXMsaWR4KzEsZGVyaXZhdGl2ZSkgKVxuICAgICAgLm1hcCggcmVzID0+IE9iamVjdC5mcmVlemUocmVzKSApXG4gICAgKTtcbiAgfVxuICByZXR1cm4gT2JqZWN0LmZyZWV6ZShbXSk7XG59O1xuXG5jb25zdCBnZXRfY29tcG9zaXRpb25fZm9yID0gKGlkZW50aWZpZXIsZGVyaXZhdGl2ZSkgPT4ge1xuICBsZXQgZGVmID0gZ2V0X3Byb3RvdHlwZV9mb3IoaWRlbnRpZmllcik7XG4gIGlmICggISBkZWYgKSB7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUoW10pO1xuICB9XG4gIGNvbnN0IGJhc2VfY29tcG9zaXRpb24gPSBbT107XG4gIGxldCBkZXJpdmF0aXZlX2NvbXBvc2l0aW9uID0gZ2V0X3JpbmdfYXRvbXNfZm9yKGlkZW50aWZpZXIsZGVyaXZhdGl2ZSx0cnVlKS5mbGF0KCk7XG4gIHJldHVybiBbLi4uYmFzZV9jb21wb3NpdGlvbiwgLi4uZGVyaXZhdGl2ZV9jb21wb3NpdGlvbiBdO1xufTtcblxuY29uc3QgUmVmZXJlbmNlQ29tcG9zaXRpb24gPSAobW9ub3NhY2NoYXJpZGUpID0+IHtcbiAgcmV0dXJuIGdldF9jb21wb3NpdGlvbl9mb3IobW9ub3NhY2NoYXJpZGUuaWRlbnRpZmllciwgbW9ub3NhY2NoYXJpZGUuZGVyaXZhdGl2ZSk7XG59O1xuXG4vLyBQZXJtZXRoeWxhdGVkIG1hc3Nlczpcbi8qXG50ZXJtaW5paTpyMTpIT0g7MmVxOk5BYzszZXE6T0g7NGVxOk9IOzVlcTotOzZlcTpPSFxubmFtZTpHbGNOQWNcblxuU2tpcCByMSwgVGhlbiBOQWMsT0gsT0gsT0ggLSAxID0gMyoxNFxuXG50ZXJtaW5paTpyMTpIT0g7MmVxOk5IMjszZXE6T0g7NGVxOk9IOzVlcTotOzZlcTpPSFxubmFtZTpHYWxOXG5Ta2lwIHIxLCBUaGVuIE5IMiAoMiksIE9ILCBPSCwgT0ggLSAxID0gNCoxNFxuXG50ZXJtaW5paTpyMjpIT0g7MWF4OkNPT0g7M2F4Okg7NDpPSDs1ZXE6TkhBYzs2ZXE6LTs3Ok9IOzg6T0g7OTpPSDJcbm5hbWU6TmV1QWNcblNraXAgcjIsIFRoZW4gQ09PSCxPSCxOSEFjLE9ILE9ILE9IMiAtIDEgPSA1KjE0XG5cbiovXG5cbi8qXG5odHRwczovL3d3dy5uaXN0Lmdvdi9zdGF0aWMvZ2x5Y28tbWFzcy1jYWxjL1xuXG4qL1xuXG5jb25zdCBkZXJpdmF0aXZlX2luZm8gPSBTeW1ib2woJ2Rlcml2YXRpdmUnKVxuXG5cbmNvbnN0IE1hc3MgPSAoYmFzZSkgPT4ge1xuXG4gIGNsYXNzIE1vbm9zYWNjaGFyaWRlTWFzcyBleHRlbmRzIGJhc2UuTW9ub3NhY2NoYXJpZGUge1xuICAgIGdldCBtYXNzKCkge1xuICAgICAgcmV0dXJuIGNvbXBvc2l0aW9uX3RvX21hc3ModGhpcy5hdG9tcyk7XG4gICAgfVxuXG4gICAgZ2V0IGRlcml2YXRpdmUoKSB7XG4gICAgICByZXR1cm4gdGhpc1tkZXJpdmF0aXZlX2luZm9dIHx8IFVOREVSSVZBVElTRUQ7XG4gICAgfVxuXG4gICAgc2V0IGRlcml2YXRpdmUoZGVyaXZhdGl2ZSkge1xuICAgICAgaWYgKFsgVU5ERVJJVkFUSVNFRCwgUEVSTUVUSFlMQVRFRCBdLmluZGV4T2YoZGVyaXZhdGl2ZSkgPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQmFkIGRlcml2YXRpdmUnKTtcbiAgICAgIH1cbiAgICAgIHRoaXNbZGVyaXZhdGl2ZV9pbmZvXSA9IGRlcml2YXRpdmU7XG4gICAgfVxuXG4gICAgZ2V0IGF0b21zKCkge1xuICAgICAgbGV0IHJlcyA9IFtPLC4uLnRoaXMucmluZ19hdG9tc10uZmxhdCgpO1xuXG4gICAgICAvLyBXZSBzaG91bGQgcmVtb3ZlIHRoZSByZWR1Y2luZyBlbmQgYXRvbXMgZnJvbSB0aGUgY29tcG9zaXRpb25cbiAgICAgIC8vIGZvciBhbGwgcmVzaWR1ZXMsIGFuZCB0aGVuIGFkZCBpdCBiYWNrIG9uIHRvIHRoZVxuICAgICAgLy8gcm9vdCBhdCB0aGUgZW5kXG4gICAgICByZXMgPSBkZWxldGVfY29tcG9zaXRpb24ocmVzLHRoaXMuZGVyaXZhdGl2ZS5yZWR1Y2luZ19lbmRfYXRvbXMpO1xuXG5cbiAgICAgIHJldHVybiByZXM7XG5cbiAgICB9XG5cbiAgICBnZXQgcmluZ19hdG9tcygpIHtcbiAgICAgIHJldHVybiBnZXRfcmluZ19hdG9tc19mb3IodGhpcy5pZGVudGlmaWVyLCB0aGlzLmRlcml2YXRpdmUpO1xuICAgIH1cblxuICAgIGdldCBwcm90bygpIHtcbiAgICAgIHJldHVybiAoTU9OT1NBQ0NIQVJJREVTW3RoaXMuaWRlbnRpZmllcl0gfHwge30pLnR5cGU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNsYXNzIFN1Z2FyTWFzcyBleHRlbmRzIGJhc2Uge1xuICAgIHN0YXRpYyBnZXQgTW9ub3NhY2NoYXJpZGUoKSB7IHJldHVybiBNb25vc2FjY2hhcmlkZU1hc3M7IH1cblxuICAgIGdldCBhdG9tcygpIHtcbiAgICAgIGNvbnN0IG1vbm9zYWNjaGFyaWRlX2F0b21zID0gdGhpcy5jb21wb3NpdGlvbigpLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAoIHJlcyA9PiByZXMuYXRvbXMgKS5mbGF0KCk7XG5cbiAgICAgIC8vIE9ubHkgdGhlIHBhcmVudCBzdWdhciBnZXRzIHRvIGFkZCBiYWNrIGluIHRoZSByZWR1Y2luZyBlbmQgYXRvbXNcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucm9vdC5kZXJpdmF0aXZlLnJlZHVjaW5nX2VuZChtb25vc2FjY2hhcmlkZV9hdG9tcyk7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZ2V0IG1hc3MoKSB7XG4gICAgICByZXR1cm4gY29tcG9zaXRpb25fdG9fbWFzcyh0aGlzLmF0b21zKTtcbiAgICB9XG5cbiAgICBzZXQgcmVkdWNpbmdfZW5kKHJlZHVjdGlvbj1GUkVFX1JFRFVDSU5HX0VORCkge1xuXG4gICAgfVxuXG4gICAgZGVyaXZhdGlzZShkZXJpdmF0aXZlKSB7XG4gICAgICBmb3IgKGxldCByZXMgb2YgdGhpcy5jb21wb3NpdGlvbigpKSB7XG4gICAgICAgIHJlcy5kZXJpdmF0aXZlID0gZGVyaXZhdGl2ZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG5leHBvcnQgeyBDLCBILCBPLCBOLCBOQSwgTWFzcywgVU5ERVJJVkFUSVNFRCwgUEVSTUVUSFlMQVRFRCwgY2FsY3VsYXRlX2FfZnJhZ21lbnRfY29tcG9zaXRpb24sIHN1bW1hcmlzZV9jb21wb3NpdGlvbiwgY29tcG9zaXRpb25fdG9fbWFzcywgZGVsZXRlX2NvbXBvc2l0aW9uLCBSZWZlcmVuY2VDb21wb3NpdGlvbiB9OyJdLCJtYXBwaW5ncyI6IkFBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQXVHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../glycan.js/js/Mass.js\n");

/***/ }),

/***/ "../glycan.js/js/Monosaccharide.js":
/*!*****************************************!*\
  !*** ../glycan.js/js/Monosaccharide.js ***!
  \*****************************************/
/*! exports provided: calculateSiblingOrder, default, StrictMonosaccharide */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculateSiblingOrder\", function() { return reorder_kids; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Monosaccharide; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StrictMonosaccharide\", function() { return StrictMonosaccharide; });\n\n\nvar LINKAGES = {\n  'O': -100,\n  'N': -200\n};\nvar anomer_symbol = Symbol('anomer');\nvar identifier_symbol = Symbol('identifier');\nvar parent_linkage_symbol = Symbol('parent_linkage');\nvar parent_symbol = Symbol('parent');\nvar unknown_count_symbol = Symbol('unknown_count');\nvar MAX_KNOWN_LINKAGE = 100;\nvar only_unique = (v, i, s) => s.indexOf(v) === i;\nvar leaves_of_residue = function leaves_of_residue(residue) {\n  if (residue.children.length == 0) {\n    return [residue];\n  }\n  return Array.prototype.concat.apply([], residue.children.map(leaves_of_residue));\n};\nvar get_path_to_root = function get_path_to_root(roots, residue) {\n  var result = [residue];\n  while (roots.indexOf(result[0]) < 0) {\n    result.unshift(result[0].parent);\n  }\n  return result;\n};\nvar residue_sorter = function residue_sorter(a, b) {\n  if (a.parent.linkageOf(a) !== b.parent.linkageOf(b)) {\n    return a.parent.linkageOf(a) - b.parent.linkageOf(b);\n  }\n  if (a.identifier !== b.identifier) {\n    return a.identifier.toUpperCase() < b.identifier.toUpperCase() ? -1 : 1;\n  }\n  return 0;\n};\nvar path_sorter = function path_sorter(path_a, path_b) {\n  var path_a_loop = [].concat(path_a);\n  var path_b_loop = [].concat(path_b);\n  while (path_a_loop.length > 0 && path_b_loop.length > 0) {\n    var a = path_a_loop.shift();\n    var b = path_b_loop.shift();\n    var res = residue_sorter(a, b);\n    if (res) {\n      return res;\n    }\n  }\n  // We want the longest path length, therefore -1 * diff\n  return -1 * (path_a_loop.length - path_b_loop.length);\n};\nvar reorder_kids = function reorder_kids(children) {\n  var leaves = [];\n  for (var child of children) {\n    leaves = leaves.concat(leaves_of_residue(child));\n  }\n  var paths = leaves.map(get_path_to_root.bind(null, children));\n  var sorted_kids = paths.sort(path_sorter);\n  return sorted_kids.map(path => path[0]).filter(only_unique);\n};\n\n\n/*   We basically want a barebones Monosacharide class that uses\n  some common set of identifiers for each of the monosaccharide\n  units. We can then mixin things like mass and sequence\n  translation to edit the actual functionality for the sugar.\n  Can even have a 'strict mode' sugar mixin that enforces\n  rules.\n*/\n\nvar linkage_map = new WeakMap();\nvar children_map = new WeakMap();\nvar tag_map = new WeakMap();\nclass Monosaccharide {\n  static get LINKAGES() {\n    return LINKAGES;\n  }\n  constructor(identifier) {\n    if (!identifier) {\n      throw new Error('Missing identifier');\n    }\n    // Accept any identifier - we can do\n    // checking on validity of identifiers\n    // via mixins.\n    this[identifier_symbol] = identifier;\n  }\n  get depth() {\n    var start = this;\n    var count = 1;\n    while (start.parent) {\n      count++;\n      start = start.parent;\n    }\n    return count;\n  }\n  get identifier() {\n    return this[identifier_symbol];\n  }\n  get anomer() {\n    return this[anomer_symbol];\n  }\n  // This should be a tristate variable a/b/?\n  set anomer(anomer) {\n    this[anomer_symbol] = anomer;\n  }\n\n  // parent linkage\n  get parent_linkage() {\n    return this[parent_linkage_symbol];\n  }\n\n  // Accept any number for the parent linkage. Also accept null for\n  // unknown linkage\n  set parent_linkage(linkage) {\n    this[parent_linkage_symbol] = linkage;\n  }\n  get parent() {\n    return this[parent_symbol];\n  }\n\n  // This should spit out an immutable array - force usage of the api\n  // to add/remove children.\n  get children() {\n    return Object.freeze([].concat(children_map.get(this) || []));\n  }\n  get child_linkages() {\n    var results = new Map();\n    this.children.forEach(mono => {\n      var position = linkage_map.get(mono);\n      var real_position = position;\n      if (position > MAX_KNOWN_LINKAGE) {\n        real_position = 0;\n      }\n      var kids = results.get(real_position);\n      if (!kids) {\n        kids = [];\n        results.set(real_position, kids);\n      }\n      kids.push(mono);\n    });\n    return results;\n  }\n  get siblings() {\n    var self = this;\n    if (!this.parent) {\n      return [];\n    }\n    return this.parent.children.filter(mono => mono !== self);\n  }\n  balance() {\n    var ascend = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    if (Object.isFrozen(this)) {\n      throw new TypeError('Cannot balance child ordering of frozen monosaccharide');\n    }\n    var child_order = reorder_kids(this.children);\n    this[unknown_count_symbol] = 0;\n    var unknown_count = 0;\n    for (var child of child_order) {\n      if (linkage_map.get(child) > MAX_KNOWN_LINKAGE) {\n        unknown_count += 1;\n        linkage_map.set(child, MAX_KNOWN_LINKAGE + 1 + unknown_count);\n      }\n    }\n    this[unknown_count_symbol] = unknown_count;\n    children_map.set(this, child_order);\n    var parent = this;\n    if (!ascend) {\n      return;\n    }\n    while (parent && parent.parent) {\n      var parent_link = parent.parent.linkageOf(parent);\n      if (parent.parent.child_linkages.get(parent_link).length > 0) {\n        parent.parent.balance(false);\n      }\n      parent = parent.parent;\n    }\n  }\n\n  // child linkages\n\n  // methods:\n  // add child\n  addChild(linkage, child) {\n    if (Object.isFrozen(this) || Object.isFrozen(child)) {\n      throw new TypeError('Cannot add child on frozen monosaccharide');\n    }\n    if (typeof linkage !== 'number') {\n      throw new Error('Linkage must be number');\n    }\n    if (linkage > MAX_KNOWN_LINKAGE) {\n      throw new Error(\"Cannot set defined linkage greater than \".concat(MAX_KNOWN_LINKAGE));\n    }\n    if (linkage == 0) {\n      this[unknown_count_symbol] = this[unknown_count_symbol] || 0;\n      var unknown_count = this[unknown_count_symbol];\n      this[unknown_count_symbol] = unknown_count + 1;\n      linkage = MAX_KNOWN_LINKAGE + 1 + unknown_count;\n    }\n\n    // When we read in the sugar from\n    // a sequence, we want to make addChild inaccessible\n    // so that we can protect the ordering of the branches\n    // and we can save some processing (especially since\n    // IUPAC condensed delivers branch ordering as part\n    // of the format).\n\n    // BUT.. when we have a sugar that we are adding to\n    // like when drawing, or programattically building a sugar\n    // we should trigger branch ordering routines that\n    // maintain the true ordering of branches.\n\n    var insert_index = 0;\n    for (var existing_child of this.children) {\n      if (linkage_map.get(existing_child) <= linkage) {\n        insert_index += 1;\n      } else {\n        break;\n      }\n    }\n    linkage_map.set(child, linkage);\n\n    // We should insert this child at the correct position in the children\n    // map\n    var current_children = children_map.get(this) || [];\n    current_children.splice(insert_index, 0, child);\n    children_map.set(this, current_children);\n\n    // Each child references its parent.\n    // When you clear this, you don't\n    // have any strong references to this monosaccharide\n    // and all its kids, so they will get GC'ed\n    child[parent_symbol] = this;\n\n    // jshint +W027\n  }\n\n  // remove child\n  removeChild(new_linkage, target) {\n    var self = this;\n    if (Object.isFrozen(self)) {\n      throw new TypeError('Cannot remove child on frozen monosaccharide');\n    }\n    var kids = children_map.get(self);\n    var remover = child => {\n      kids.splice(kids.indexOf(child), 1);\n      linkage_map.delete(child);\n      child[parent_symbol] = null;\n      if (new_linkage == 0) {\n        this[unknown_count_symbol] -= 1;\n      }\n    };\n    var target_matcher = kid => target ? kid === target : true;\n    for (var [linkage, children] of this.child_linkages) {\n      if (new_linkage == linkage) {\n        children.filter(target_matcher).forEach(remover);\n      }\n    }\n  }\n  donateChildrenTo(parent) {\n    if (Object.isFrozen(this) || Object.isFrozen(parent)) {\n      throw new TypeError('Cannot adopt children on frozen monosaccharide');\n    }\n    for (var [, children] of this.child_linkages) {\n      for (var kid of children) {\n        parent.graft(kid);\n      }\n    }\n  }\n  replaceChild(child, new_child, override_position) {\n    if (Object.isFrozen(this) || Object.isFrozen(new_child) || Object.isFrozen(child)) {\n      throw new TypeError('Cannot replace child on frozen monosaccharide');\n    }\n    var position = this.linkageOf(child);\n    var parent_pos = child.parent_linkage;\n    var anomer = child.anomer;\n    var new_self = this.removeChild(position, child);\n    var parent = new_self ? new_self : this;\n    new_child.parent_linkage = parent_pos;\n    new_child.anomer = anomer;\n    if (typeof override_position !== 'undefined') {\n      parent.addChild(override_position, new_child);\n    } else {\n      parent.addChild(position, new_child);\n    }\n  }\n  linkageOf(child) {\n    var linkages = this.child_linkages.entries();\n    var curr;\n    for (curr of linkages) {\n      if (curr[1].indexOf(child) >= 0) {\n        return curr[0];\n      }\n    }\n  }\n  graft(child) {\n    if (Object.isFrozen(this) || Object.isFrozen(child)) {\n      throw new TypeError('Cannot graft child on frozen monosaccharide');\n    }\n    var old_parent = child.parent;\n    var linkage = old_parent.linkageOf(child);\n    old_parent.removeChild(linkage, child);\n    this.addChild(linkage, child);\n  }\n  childAt(linkage) {\n    var kids = this.child_linkages.get(linkage);\n    return kids ? kids[0] : kids;\n  }\n  toString() {\n    return this.identifier;\n  }\n  valueOf() {\n    return this.identifier;\n  }\n  setTag(tagname, value) {\n    if (!tag_map.has(this)) {\n      tag_map.set(this, new Map());\n    }\n    var tag_set = tag_map.get(this);\n    var tag_symbol = typeof tagname === 'symbol' ? tagname : Symbol(tagname);\n    tag_set.set(tag_symbol, typeof value !== 'undefined' ? value : true);\n    if (value === null) {\n      tag_set.delete(tag_symbol);\n    }\n    return tag_symbol;\n  }\n  getTags() {\n    if (!tag_map.has(this)) {\n      return [];\n    }\n    return [...tag_map.get(this).keys()];\n  }\n  getTag(tag) {\n    if (!tag_map.has(this)) {\n      return;\n    }\n    var tag_set = tag_map.get(this);\n    return tag_set.get(tag);\n  }\n  copyTagsFrom(residue) {\n    if (!tag_map.has(this)) {\n      tag_map.set(this, new Map());\n    }\n    var tag_set = tag_map.get(this);\n    for (var tag of (tag_map.get(residue) || new Map()).keys()) {\n      tag_set.set(tag, tag_map.get(residue).get(tag));\n    }\n  }\n  clone() {\n    var result = new this.constructor(this.identifier);\n    result[anomer_symbol] = this[anomer_symbol];\n    result[parent_linkage_symbol] = this[parent_linkage_symbol];\n    result.copyTagsFrom(this);\n    return result;\n  }\n  toSugar(sugarclass) {\n    var temp_sugar = new sugarclass();\n    temp_sugar.root = this;\n    var return_value = temp_sugar.clone();\n    temp_sugar.root = null;\n    return return_value;\n  }\n\n  // cast to sugar (make monosaccharide a sugar/glycan class)\n}\nvar StrictLinkages = superclass => class extends superclass {\n  addChild(linkage, child) {\n    if (this.childAt(linkage)) {\n      this.removeChild(linkage);\n    }\n    return super.addChild(linkage, child);\n  }\n};\nclass StrictMonosaccharide extends StrictLinkages(Monosaccharide) {}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL01vbm9zYWNjaGFyaWRlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL2dseWNhbi5qcy9qcy9Nb25vc2FjY2hhcmlkZS5qcz9jNThkIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgTElOS0FHRVMgPSB7ICdPJyA6IC0xMDAsICdOJyA6IC0yMDAgfTtcblxubGV0IGFub21lcl9zeW1ib2wgPSBTeW1ib2woJ2Fub21lcicpO1xubGV0IGlkZW50aWZpZXJfc3ltYm9sID0gU3ltYm9sKCdpZGVudGlmaWVyJyk7XG5sZXQgcGFyZW50X2xpbmthZ2Vfc3ltYm9sID0gU3ltYm9sKCdwYXJlbnRfbGlua2FnZScpO1xubGV0IHBhcmVudF9zeW1ib2wgPSBTeW1ib2woJ3BhcmVudCcpO1xuXG5jb25zdCB1bmtub3duX2NvdW50X3N5bWJvbCA9IFN5bWJvbCgndW5rbm93bl9jb3VudCcpO1xuY29uc3QgTUFYX0tOT1dOX0xJTktBR0UgPSAxMDA7XG5cbmNvbnN0IG9ubHlfdW5pcXVlID0gKHYsIGksIHMpID0+IHMuaW5kZXhPZih2KSA9PT0gaTtcblxuXG5jb25zdCBsZWF2ZXNfb2ZfcmVzaWR1ZSA9IGZ1bmN0aW9uKHJlc2lkdWUpIHtcbiAgaWYgKHJlc2lkdWUuY2hpbGRyZW4ubGVuZ3RoID09IDApIHtcbiAgICByZXR1cm4gW3Jlc2lkdWVdO1xuICB9XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLHJlc2lkdWUuY2hpbGRyZW4ubWFwKGxlYXZlc19vZl9yZXNpZHVlKSk7XG59O1xuXG5jb25zdCBnZXRfcGF0aF90b19yb290ID0gZnVuY3Rpb24ocm9vdHMscmVzaWR1ZSkge1xuICBsZXQgcmVzdWx0ID0gW3Jlc2lkdWVdO1xuICB3aGlsZSAoIHJvb3RzLmluZGV4T2YocmVzdWx0WzBdKSA8IDAgKSB7XG4gICAgcmVzdWx0LnVuc2hpZnQoIHJlc3VsdFswXS5wYXJlbnQgKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuY29uc3QgcmVzaWR1ZV9zb3J0ZXIgPSBmdW5jdGlvbihhLGIpIHtcbiAgaWYgKGEucGFyZW50LmxpbmthZ2VPZihhKSAhPT0gYi5wYXJlbnQubGlua2FnZU9mKGIpKSB7XG4gICAgcmV0dXJuIGEucGFyZW50LmxpbmthZ2VPZihhKSAtIGIucGFyZW50LmxpbmthZ2VPZihiKTtcbiAgfVxuICBpZiAoYS5pZGVudGlmaWVyICE9PSBiLmlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gKGEuaWRlbnRpZmllci50b1VwcGVyQ2FzZSgpIDwgYi5pZGVudGlmaWVyLnRvVXBwZXJDYXNlKCkgPyAtMSA6IDEpO1xuICB9XG4gIHJldHVybiAwO1xufTtcblxuY29uc3QgcGF0aF9zb3J0ZXIgPSBmdW5jdGlvbihwYXRoX2EscGF0aF9iKSB7XG4gIGxldCBwYXRoX2FfbG9vcCA9IFtdLmNvbmNhdChwYXRoX2EpO1xuICBsZXQgcGF0aF9iX2xvb3AgPSBbXS5jb25jYXQocGF0aF9iKTtcblxuICB3aGlsZSAoIHBhdGhfYV9sb29wLmxlbmd0aCA+IDAgJiYgcGF0aF9iX2xvb3AubGVuZ3RoID4gMCApIHtcbiAgICBsZXQgYSA9IHBhdGhfYV9sb29wLnNoaWZ0KCk7XG4gICAgbGV0IGIgPSBwYXRoX2JfbG9vcC5zaGlmdCgpO1xuICAgIGxldCByZXMgPSByZXNpZHVlX3NvcnRlcihhLGIpO1xuICAgIGlmIChyZXMpIHtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICB9XG4gIC8vIFdlIHdhbnQgdGhlIGxvbmdlc3QgcGF0aCBsZW5ndGgsIHRoZXJlZm9yZSAtMSAqIGRpZmZcbiAgcmV0dXJuIC0xKihwYXRoX2FfbG9vcC5sZW5ndGggLSBwYXRoX2JfbG9vcC5sZW5ndGgpO1xufTtcblxuY29uc3QgcmVvcmRlcl9raWRzID0gZnVuY3Rpb24oY2hpbGRyZW4pIHtcbiAgbGV0IGxlYXZlcyA9IFtdO1xuICBmb3IgKGxldCBjaGlsZCBvZiBjaGlsZHJlbikge1xuICAgIGxlYXZlcyA9IGxlYXZlcy5jb25jYXQobGVhdmVzX29mX3Jlc2lkdWUoY2hpbGQpKTtcbiAgfVxuICBsZXQgcGF0aHMgPSBsZWF2ZXMubWFwKCBnZXRfcGF0aF90b19yb290LmJpbmQobnVsbCxjaGlsZHJlbikgKTtcbiAgbGV0IHNvcnRlZF9raWRzID0gcGF0aHMuc29ydChwYXRoX3NvcnRlcik7XG4gIHJldHVybiBzb3J0ZWRfa2lkcy5tYXAoIHBhdGggPT4gcGF0aFswXSApLmZpbHRlciggb25seV91bmlxdWUgKTtcbn07XG5cbmV4cG9ydCB7IHJlb3JkZXJfa2lkcyBhcyBjYWxjdWxhdGVTaWJsaW5nT3JkZXIgfTtcblxuLyogICBXZSBiYXNpY2FsbHkgd2FudCBhIGJhcmVib25lcyBNb25vc2FjaGFyaWRlIGNsYXNzIHRoYXQgdXNlc1xuICBzb21lIGNvbW1vbiBzZXQgb2YgaWRlbnRpZmllcnMgZm9yIGVhY2ggb2YgdGhlIG1vbm9zYWNjaGFyaWRlXG4gIHVuaXRzLiBXZSBjYW4gdGhlbiBtaXhpbiB0aGluZ3MgbGlrZSBtYXNzIGFuZCBzZXF1ZW5jZVxuICB0cmFuc2xhdGlvbiB0byBlZGl0IHRoZSBhY3R1YWwgZnVuY3Rpb25hbGl0eSBmb3IgdGhlIHN1Z2FyLlxuICBDYW4gZXZlbiBoYXZlIGEgJ3N0cmljdCBtb2RlJyBzdWdhciBtaXhpbiB0aGF0IGVuZm9yY2VzXG4gIHJ1bGVzLlxuKi9cblxubGV0IGxpbmthZ2VfbWFwID0gbmV3IFdlYWtNYXAoKTtcbmxldCBjaGlsZHJlbl9tYXAgPSBuZXcgV2Vha01hcCgpO1xubGV0IHRhZ19tYXAgPSBuZXcgV2Vha01hcCgpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb25vc2FjY2hhcmlkZSB7XG4gIHN0YXRpYyBnZXQgTElOS0FHRVMoKSB7XG4gICAgcmV0dXJuIExJTktBR0VTO1xuICB9XG4gIGNvbnN0cnVjdG9yKGlkZW50aWZpZXIpIHtcbiAgICBpZiAoICEgaWRlbnRpZmllciApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBpZGVudGlmaWVyJyk7XG4gICAgfVxuICAgIC8vIEFjY2VwdCBhbnkgaWRlbnRpZmllciAtIHdlIGNhbiBkb1xuICAgIC8vIGNoZWNraW5nIG9uIHZhbGlkaXR5IG9mIGlkZW50aWZpZXJzXG4gICAgLy8gdmlhIG1peGlucy5cbiAgICB0aGlzW2lkZW50aWZpZXJfc3ltYm9sXSA9IGlkZW50aWZpZXI7XG4gIH1cblxuICBnZXQgZGVwdGgoKSB7XG4gICAgbGV0IHN0YXJ0ID0gdGhpcztcbiAgICBsZXQgY291bnQgPSAxO1xuICAgIHdoaWxlIChzdGFydC5wYXJlbnQpIHtcbiAgICAgIGNvdW50Kys7XG4gICAgICBzdGFydCA9IHN0YXJ0LnBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIGNvdW50O1xuICB9XG5cbiAgZ2V0IGlkZW50aWZpZXIoKSB7XG4gICAgcmV0dXJuIHRoaXNbaWRlbnRpZmllcl9zeW1ib2xdO1xuICB9XG5cbiAgZ2V0IGFub21lcigpIHtcbiAgICByZXR1cm4gdGhpc1thbm9tZXJfc3ltYm9sXTtcbiAgfVxuICAvLyBUaGlzIHNob3VsZCBiZSBhIHRyaXN0YXRlIHZhcmlhYmxlIGEvYi8/XG4gIHNldCBhbm9tZXIoYW5vbWVyKSB7XG4gICAgdGhpc1thbm9tZXJfc3ltYm9sXSA9IGFub21lcjtcbiAgfVxuXG4gIC8vIHBhcmVudCBsaW5rYWdlXG4gIGdldCBwYXJlbnRfbGlua2FnZSgpIHtcbiAgICByZXR1cm4gdGhpc1twYXJlbnRfbGlua2FnZV9zeW1ib2xdO1xuICB9XG5cbiAgLy8gQWNjZXB0IGFueSBudW1iZXIgZm9yIHRoZSBwYXJlbnQgbGlua2FnZS4gQWxzbyBhY2NlcHQgbnVsbCBmb3JcbiAgLy8gdW5rbm93biBsaW5rYWdlXG4gIHNldCBwYXJlbnRfbGlua2FnZShsaW5rYWdlKSB7XG4gICAgdGhpc1twYXJlbnRfbGlua2FnZV9zeW1ib2xdID0gbGlua2FnZTtcbiAgfVxuXG4gIGdldCBwYXJlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXNbcGFyZW50X3N5bWJvbF07XG4gIH1cblxuICAvLyBUaGlzIHNob3VsZCBzcGl0IG91dCBhbiBpbW11dGFibGUgYXJyYXkgLSBmb3JjZSB1c2FnZSBvZiB0aGUgYXBpXG4gIC8vIHRvIGFkZC9yZW1vdmUgY2hpbGRyZW4uXG4gIGdldCBjaGlsZHJlbigpIHtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShbXS5jb25jYXQoY2hpbGRyZW5fbWFwLmdldCh0aGlzKSB8fCBbXSkpO1xuICB9XG5cbiAgZ2V0IGNoaWxkX2xpbmthZ2VzKCkge1xuICAgIHZhciByZXN1bHRzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChtb25vID0+IHtcbiAgICAgIGxldCBwb3NpdGlvbiA9IGxpbmthZ2VfbWFwLmdldChtb25vKTtcbiAgICAgIGxldCByZWFsX3Bvc2l0aW9uID0gcG9zaXRpb247XG5cbiAgICAgIGlmIChwb3NpdGlvbiA+IE1BWF9LTk9XTl9MSU5LQUdFKSB7XG4gICAgICAgIHJlYWxfcG9zaXRpb24gPSAwO1xuICAgICAgfVxuXG4gICAgICBsZXQga2lkcyA9IHJlc3VsdHMuZ2V0KCByZWFsX3Bvc2l0aW9uICk7XG4gICAgICBpZiAoICEga2lkcyApIHtcbiAgICAgICAga2lkcyA9IFtdO1xuICAgICAgICByZXN1bHRzLnNldCggcmVhbF9wb3NpdGlvbiwga2lkcyApO1xuICAgICAgfVxuICAgICAga2lkcy5wdXNoKG1vbm8pO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG5cbiAgZ2V0IHNpYmxpbmdzKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAoICEgdGhpcy5wYXJlbnQgKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnBhcmVudC5jaGlsZHJlbi5maWx0ZXIobW9ubyA9PiBtb25vICE9PSBzZWxmKTtcbiAgfVxuXG4gIGJhbGFuY2UoYXNjZW5kPXRydWUpIHtcbiAgICBpZiAoT2JqZWN0LmlzRnJvemVuKHRoaXMpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgYmFsYW5jZSBjaGlsZCBvcmRlcmluZyBvZiBmcm96ZW4gbW9ub3NhY2NoYXJpZGUnKTtcbiAgICB9XG4gICAgbGV0IGNoaWxkX29yZGVyID0gcmVvcmRlcl9raWRzKHRoaXMuY2hpbGRyZW4pO1xuICAgIHRoaXNbdW5rbm93bl9jb3VudF9zeW1ib2xdID0gMDtcbiAgICBsZXQgdW5rbm93bl9jb3VudCA9IDA7XG4gICAgZm9yIChsZXQgY2hpbGQgb2YgY2hpbGRfb3JkZXIpIHtcbiAgICAgIGlmIChsaW5rYWdlX21hcC5nZXQoY2hpbGQpID4gTUFYX0tOT1dOX0xJTktBR0UpIHtcbiAgICAgICAgdW5rbm93bl9jb3VudCArPSAxO1xuICAgICAgICBsaW5rYWdlX21hcC5zZXQoY2hpbGQsTUFYX0tOT1dOX0xJTktBR0UrMSt1bmtub3duX2NvdW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpc1t1bmtub3duX2NvdW50X3N5bWJvbF0gPSB1bmtub3duX2NvdW50O1xuICAgIGNoaWxkcmVuX21hcC5zZXQodGhpcyxjaGlsZF9vcmRlcik7XG4gICAgbGV0IHBhcmVudCA9IHRoaXM7XG4gICAgaWYgKCAhIGFzY2VuZCApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd2hpbGUgKHBhcmVudCAmJiBwYXJlbnQucGFyZW50KSB7XG4gICAgICBsZXQgcGFyZW50X2xpbmsgPSBwYXJlbnQucGFyZW50LmxpbmthZ2VPZihwYXJlbnQpO1xuICAgICAgaWYgKHBhcmVudC5wYXJlbnQuY2hpbGRfbGlua2FnZXMuZ2V0KHBhcmVudF9saW5rKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHBhcmVudC5wYXJlbnQuYmFsYW5jZShmYWxzZSk7XG4gICAgICB9XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH1cbiAgfVxuXG4gIC8vIGNoaWxkIGxpbmthZ2VzXG5cbiAgLy8gbWV0aG9kczpcbiAgLy8gYWRkIGNoaWxkXG4gIGFkZENoaWxkKGxpbmthZ2UsY2hpbGQpIHtcbiAgICBpZiAoT2JqZWN0LmlzRnJvemVuKHRoaXMpIHx8IE9iamVjdC5pc0Zyb3plbihjaGlsZCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBhZGQgY2hpbGQgb24gZnJvemVuIG1vbm9zYWNjaGFyaWRlJyk7XG4gICAgfVxuXG4gICAgaWYgKCh0eXBlb2YgbGlua2FnZSkgIT09ICdudW1iZXInKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xpbmthZ2UgbXVzdCBiZSBudW1iZXInKTtcbiAgICB9XG5cbiAgICBpZiAobGlua2FnZSA+IE1BWF9LTk9XTl9MSU5LQUdFKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBzZXQgZGVmaW5lZCBsaW5rYWdlIGdyZWF0ZXIgdGhhbiAke01BWF9LTk9XTl9MSU5LQUdFfWApO1xuICAgIH1cblxuICAgIGlmIChsaW5rYWdlID09IDApIHtcbiAgICAgIHRoaXNbdW5rbm93bl9jb3VudF9zeW1ib2xdID0gKHRoaXNbdW5rbm93bl9jb3VudF9zeW1ib2xdIHx8IDApO1xuICAgICAgbGV0IHVua25vd25fY291bnQgPSAgdGhpc1t1bmtub3duX2NvdW50X3N5bWJvbF07XG4gICAgICB0aGlzW3Vua25vd25fY291bnRfc3ltYm9sXSA9IHVua25vd25fY291bnQrMTtcbiAgICAgIGxpbmthZ2UgPSBNQVhfS05PV05fTElOS0FHRSsxK3Vua25vd25fY291bnQ7XG4gICAgfVxuXG4gICAgLy8gV2hlbiB3ZSByZWFkIGluIHRoZSBzdWdhciBmcm9tXG4gICAgLy8gYSBzZXF1ZW5jZSwgd2Ugd2FudCB0byBtYWtlIGFkZENoaWxkIGluYWNjZXNzaWJsZVxuICAgIC8vIHNvIHRoYXQgd2UgY2FuIHByb3RlY3QgdGhlIG9yZGVyaW5nIG9mIHRoZSBicmFuY2hlc1xuICAgIC8vIGFuZCB3ZSBjYW4gc2F2ZSBzb21lIHByb2Nlc3NpbmcgKGVzcGVjaWFsbHkgc2luY2VcbiAgICAvLyBJVVBBQyBjb25kZW5zZWQgZGVsaXZlcnMgYnJhbmNoIG9yZGVyaW5nIGFzIHBhcnRcbiAgICAvLyBvZiB0aGUgZm9ybWF0KS5cblxuICAgIC8vIEJVVC4uIHdoZW4gd2UgaGF2ZSBhIHN1Z2FyIHRoYXQgd2UgYXJlIGFkZGluZyB0b1xuICAgIC8vIGxpa2Ugd2hlbiBkcmF3aW5nLCBvciBwcm9ncmFtYXR0aWNhbGx5IGJ1aWxkaW5nIGEgc3VnYXJcbiAgICAvLyB3ZSBzaG91bGQgdHJpZ2dlciBicmFuY2ggb3JkZXJpbmcgcm91dGluZXMgdGhhdFxuICAgIC8vIG1haW50YWluIHRoZSB0cnVlIG9yZGVyaW5nIG9mIGJyYW5jaGVzLlxuXG4gICAgbGV0IGluc2VydF9pbmRleCA9IDA7XG5cbiAgICBmb3IgKGxldCBleGlzdGluZ19jaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICBpZiAobGlua2FnZV9tYXAuZ2V0KGV4aXN0aW5nX2NoaWxkKSA8PSBsaW5rYWdlKSB7XG4gICAgICAgIGluc2VydF9pbmRleCArPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGlua2FnZV9tYXAuc2V0KGNoaWxkLGxpbmthZ2UpO1xuXG5cbiAgICAvLyBXZSBzaG91bGQgaW5zZXJ0IHRoaXMgY2hpbGQgYXQgdGhlIGNvcnJlY3QgcG9zaXRpb24gaW4gdGhlIGNoaWxkcmVuXG4gICAgLy8gbWFwXG4gICAgbGV0IGN1cnJlbnRfY2hpbGRyZW4gPSBjaGlsZHJlbl9tYXAuZ2V0KHRoaXMpIHx8IFtdO1xuXG4gICAgY3VycmVudF9jaGlsZHJlbi5zcGxpY2UoaW5zZXJ0X2luZGV4LCAwLCBjaGlsZCk7XG5cbiAgICBjaGlsZHJlbl9tYXAuc2V0KHRoaXMsIGN1cnJlbnRfY2hpbGRyZW4pO1xuXG4gICAgLy8gRWFjaCBjaGlsZCByZWZlcmVuY2VzIGl0cyBwYXJlbnQuXG4gICAgLy8gV2hlbiB5b3UgY2xlYXIgdGhpcywgeW91IGRvbid0XG4gICAgLy8gaGF2ZSBhbnkgc3Ryb25nIHJlZmVyZW5jZXMgdG8gdGhpcyBtb25vc2FjY2hhcmlkZVxuICAgIC8vIGFuZCBhbGwgaXRzIGtpZHMsIHNvIHRoZXkgd2lsbCBnZXQgR0MnZWRcbiAgICBjaGlsZFtwYXJlbnRfc3ltYm9sXSA9IHRoaXM7XG5cbiAgICAvLyBqc2hpbnQgK1cwMjdcblxuICB9XG5cbiAgLy8gcmVtb3ZlIGNoaWxkXG4gIHJlbW92ZUNoaWxkKG5ld19saW5rYWdlLHRhcmdldCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAoT2JqZWN0LmlzRnJvemVuKHNlbGYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgcmVtb3ZlIGNoaWxkIG9uIGZyb3plbiBtb25vc2FjY2hhcmlkZScpO1xuICAgIH1cblxuICAgIHZhciBraWRzID0gY2hpbGRyZW5fbWFwLmdldChzZWxmKTtcblxuICAgIGxldCByZW1vdmVyID0gKGNoaWxkKSA9PiB7XG4gICAgICBraWRzLnNwbGljZShraWRzLmluZGV4T2YoY2hpbGQpLDEpO1xuICAgICAgbGlua2FnZV9tYXAuZGVsZXRlKGNoaWxkKTtcbiAgICAgIGNoaWxkW3BhcmVudF9zeW1ib2xdID0gbnVsbDtcbiAgICAgIGlmIChuZXdfbGlua2FnZSA9PSAwKSB7XG4gICAgICAgIHRoaXNbdW5rbm93bl9jb3VudF9zeW1ib2xdIC09IDE7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxldCB0YXJnZXRfbWF0Y2hlciA9IChraWQpID0+IHRhcmdldCA/IChraWQgPT09IHRhcmdldCkgOiB0cnVlO1xuXG4gICAgZm9yIChsZXQgW2xpbmthZ2UsY2hpbGRyZW5dIG9mIHRoaXMuY2hpbGRfbGlua2FnZXMpIHtcbiAgICAgIGlmIChuZXdfbGlua2FnZSA9PSBsaW5rYWdlKSB7XG4gICAgICAgIGNoaWxkcmVuLmZpbHRlciggdGFyZ2V0X21hdGNoZXIgKS5mb3JFYWNoKHJlbW92ZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGRvbmF0ZUNoaWxkcmVuVG8ocGFyZW50KSB7XG4gICAgaWYgKE9iamVjdC5pc0Zyb3plbih0aGlzKSB8fCBPYmplY3QuaXNGcm96ZW4ocGFyZW50KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGFkb3B0IGNoaWxkcmVuIG9uIGZyb3plbiBtb25vc2FjY2hhcmlkZScpO1xuICAgIH1cbiAgICBmb3IgKGxldCBbLGNoaWxkcmVuXSBvZiB0aGlzLmNoaWxkX2xpbmthZ2VzKSB7XG4gICAgICBmb3IgKGxldCBraWQgb2YgY2hpbGRyZW4pIHtcbiAgICAgICAgcGFyZW50LmdyYWZ0KGtpZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVwbGFjZUNoaWxkKGNoaWxkLG5ld19jaGlsZCxvdmVycmlkZV9wb3NpdGlvbikge1xuICAgIGlmIChPYmplY3QuaXNGcm96ZW4odGhpcykgfHwgT2JqZWN0LmlzRnJvemVuKG5ld19jaGlsZCkgfHwgT2JqZWN0LmlzRnJvemVuKGNoaWxkKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IHJlcGxhY2UgY2hpbGQgb24gZnJvemVuIG1vbm9zYWNjaGFyaWRlJyk7XG4gICAgfVxuXG4gICAgbGV0IHBvc2l0aW9uID0gdGhpcy5saW5rYWdlT2YoY2hpbGQpO1xuICAgIGxldCBwYXJlbnRfcG9zID0gY2hpbGQucGFyZW50X2xpbmthZ2U7XG4gICAgbGV0IGFub21lciA9IGNoaWxkLmFub21lcjtcblxuICAgIGxldCBuZXdfc2VsZiA9IHRoaXMucmVtb3ZlQ2hpbGQocG9zaXRpb24sY2hpbGQpO1xuICAgIGxldCBwYXJlbnQgPSBuZXdfc2VsZiA/IG5ld19zZWxmIDogdGhpcztcbiAgICBuZXdfY2hpbGQucGFyZW50X2xpbmthZ2UgPSBwYXJlbnRfcG9zO1xuICAgIG5ld19jaGlsZC5hbm9tZXIgPSBhbm9tZXI7XG4gICAgaWYgKHR5cGVvZiBvdmVycmlkZV9wb3NpdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHBhcmVudC5hZGRDaGlsZChvdmVycmlkZV9wb3NpdGlvbixuZXdfY2hpbGQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJlbnQuYWRkQ2hpbGQocG9zaXRpb24sbmV3X2NoaWxkKTtcbiAgICB9XG4gIH1cblxuICBsaW5rYWdlT2YoY2hpbGQpIHtcbiAgICBsZXQgbGlua2FnZXMgPSB0aGlzLmNoaWxkX2xpbmthZ2VzLmVudHJpZXMoKTtcbiAgICBsZXQgY3VycjtcbiAgICBmb3IgKGN1cnIgb2YgbGlua2FnZXMpIHtcbiAgICAgIGlmIChjdXJyWzFdLmluZGV4T2YoY2hpbGQpID49IDApIHtcbiAgICAgICAgcmV0dXJuIGN1cnJbMF07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ3JhZnQoY2hpbGQpIHtcbiAgICBpZiAoT2JqZWN0LmlzRnJvemVuKHRoaXMpIHx8IE9iamVjdC5pc0Zyb3plbihjaGlsZCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBncmFmdCBjaGlsZCBvbiBmcm96ZW4gbW9ub3NhY2NoYXJpZGUnKTtcbiAgICB9XG5cbiAgICBsZXQgb2xkX3BhcmVudCA9IGNoaWxkLnBhcmVudDtcbiAgICBsZXQgbGlua2FnZSA9IG9sZF9wYXJlbnQubGlua2FnZU9mKGNoaWxkKTtcbiAgICBvbGRfcGFyZW50LnJlbW92ZUNoaWxkKGxpbmthZ2UsY2hpbGQpO1xuICAgIHRoaXMuYWRkQ2hpbGQobGlua2FnZSxjaGlsZCk7XG4gIH1cblxuICBjaGlsZEF0KGxpbmthZ2UpIHtcbiAgICBsZXQga2lkcyA9IHRoaXMuY2hpbGRfbGlua2FnZXMuZ2V0KGxpbmthZ2UpO1xuICAgIHJldHVybiBraWRzID8ga2lkc1swXSA6IGtpZHM7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5pZGVudGlmaWVyO1xuICB9XG5cbiAgdmFsdWVPZigpIHtcbiAgICByZXR1cm4gdGhpcy5pZGVudGlmaWVyO1xuICB9XG5cbiAgc2V0VGFnKHRhZ25hbWUsdmFsdWUpIHtcbiAgICBpZiAoISB0YWdfbWFwLmhhcyh0aGlzKSApIHtcbiAgICAgIHRhZ19tYXAuc2V0KHRoaXMsIG5ldyBNYXAoKSk7XG4gICAgfVxuICAgIGxldCB0YWdfc2V0ID0gdGFnX21hcC5nZXQodGhpcyk7XG4gICAgbGV0IHRhZ19zeW1ib2wgPSAodHlwZW9mIHRhZ25hbWUgPT09ICdzeW1ib2wnKSA/IHRhZ25hbWUgOiBTeW1ib2wodGFnbmFtZSk7XG4gICAgdGFnX3NldC5zZXQodGFnX3N5bWJvbCwodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykgPyB2YWx1ZSA6IHRydWUgKTtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHRhZ19zZXQuZGVsZXRlKHRhZ19zeW1ib2wpO1xuICAgIH1cbiAgICByZXR1cm4gdGFnX3N5bWJvbDtcbiAgfVxuXG4gIGdldFRhZ3MoKSB7XG4gICAgaWYgKCEgdGFnX21hcC5oYXModGhpcykgKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiBbLi4udGFnX21hcC5nZXQodGhpcykua2V5cygpXTtcbiAgfVxuXG4gIGdldFRhZyh0YWcpIHtcbiAgICBpZiAoISB0YWdfbWFwLmhhcyh0aGlzKSApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHRhZ19zZXQgPSB0YWdfbWFwLmdldCh0aGlzKTtcbiAgICByZXR1cm4gdGFnX3NldC5nZXQodGFnKTtcbiAgfVxuXG4gIGNvcHlUYWdzRnJvbShyZXNpZHVlKSB7XG4gICAgaWYgKCEgdGFnX21hcC5oYXModGhpcykgKSB7XG4gICAgICB0YWdfbWFwLnNldCh0aGlzLCBuZXcgTWFwKCkpO1xuICAgIH1cbiAgICBsZXQgdGFnX3NldCA9IHRhZ19tYXAuZ2V0KHRoaXMpO1xuXG4gICAgZm9yIChjb25zdCB0YWcgb2YgKHRhZ19tYXAuZ2V0KHJlc2lkdWUpIHx8IG5ldyBNYXAoKSkua2V5cygpICkge1xuICAgICAgdGFnX3NldC5zZXQodGFnLCB0YWdfbWFwLmdldChyZXNpZHVlKS5nZXQodGFnKSk7XG4gICAgfVxuICB9XG5cbiAgY2xvbmUoKSB7XG4gICAgbGV0IHJlc3VsdCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuaWRlbnRpZmllcik7XG4gICAgcmVzdWx0W2Fub21lcl9zeW1ib2xdID0gdGhpc1thbm9tZXJfc3ltYm9sXTtcbiAgICByZXN1bHRbcGFyZW50X2xpbmthZ2Vfc3ltYm9sXSA9IHRoaXNbcGFyZW50X2xpbmthZ2Vfc3ltYm9sXTtcbiAgICByZXN1bHQuY29weVRhZ3NGcm9tKHRoaXMpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICB0b1N1Z2FyKHN1Z2FyY2xhc3MpIHtcbiAgICBsZXQgdGVtcF9zdWdhciA9IG5ldyBzdWdhcmNsYXNzKCk7XG4gICAgdGVtcF9zdWdhci5yb290ID0gdGhpcztcbiAgICBsZXQgcmV0dXJuX3ZhbHVlID0gdGVtcF9zdWdhci5jbG9uZSgpO1xuICAgIHRlbXBfc3VnYXIucm9vdCA9IG51bGw7XG4gICAgcmV0dXJuIHJldHVybl92YWx1ZTtcbiAgfVxuXG4gIC8vIGNhc3QgdG8gc3VnYXIgKG1ha2UgbW9ub3NhY2NoYXJpZGUgYSBzdWdhci9nbHljYW4gY2xhc3MpXG59XG5cbmxldCBTdHJpY3RMaW5rYWdlcyA9IChzdXBlcmNsYXNzKSA9PiBjbGFzcyBleHRlbmRzIHN1cGVyY2xhc3Mge1xuICBhZGRDaGlsZChsaW5rYWdlLGNoaWxkKSB7XG4gICAgaWYgKHRoaXMuY2hpbGRBdChsaW5rYWdlKSkge1xuICAgICAgdGhpcy5yZW1vdmVDaGlsZChsaW5rYWdlKTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLmFkZENoaWxkKGxpbmthZ2UsY2hpbGQpO1xuICB9XG59O1xuXG5leHBvcnQgY2xhc3MgU3RyaWN0TW9ub3NhY2NoYXJpZGUgZXh0ZW5kcyBTdHJpY3RMaW5rYWdlcyhNb25vc2FjY2hhcmlkZSkge31cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../glycan.js/js/Monosaccharide.js\n");

/***/ }),

/***/ "../glycan.js/js/Reaction.js":
/*!***********************************!*\
  !*** ../glycan.js/js/Reaction.js ***!
  \***********************************/
/*! exports provided: default, SEQUENCE_CACHEKEY */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SEQUENCE_CACHEKEY\", function() { return SEQUENCE_CACHEKEY; });\n/* harmony import */ var _Sugar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Sugar */ \"../glycan.js/js/Sugar.js\");\n/* harmony import */ var _Epimerisation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Epimerisation */ \"../glycan.js/js/Epimerisation.js\");\n/* harmony import */ var _Repeat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Repeat */ \"../glycan.js/js/Repeat.js\");\n/* harmony import */ var _ReactionSet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ReactionSet */ \"../glycan.js/js/ReactionSet.js\");\n\n\n\n\nvar comment_symbol = Symbol('comment_string');\nvar negative_symbol = Symbol('is_negative');\nvar reaction_sugar = Symbol('reaction_sugar');\nvar reaction_position = Symbol('reaction_position');\nvar reaction_position_string = Symbol('reaction_position_string');\nvar validate_location = (sugar, location) => sugar.locate_monosaccharide(location);\nvar SEQUENCE_CACHEKEY = Symbol('Sequence Cache');\n\n// We rewrite the sequence to\n// get rid of the placeholder Root\n// root monosaccharide.\n\nvar rewrite_sequence = base => {\n  return class extends base {\n    get sequence() {\n      var seq = super.sequence;\n      return seq.replace(/Root/, '');\n    }\n    set sequence(seq) {\n      super.sequence = seq;\n      return;\n    }\n  };\n};\nvar parseReaction = sugar => {\n  var comment = sugar[comment_symbol];\n  var negative_flag = false;\n  if (comment.indexOf('!') === 0) {\n    comment = comment.substring(1);\n    negative_flag = true;\n  }\n  var [subseq, location] = comment.split('@');\n  subseq = subseq.replace(/[{}]/g, '');\n  var reaction_class = rewrite_sequence(_Sugar__WEBPACK_IMPORTED_MODULE_0__[\"default\"].CopyIO(sugar));\n  var subsugar = new reaction_class();\n  sugar[negative_symbol] = negative_flag;\n  subsugar.sequence = subseq;\n  sugar[reaction_sugar] = subsugar;\n  sugar[reaction_position] = validate_location(sugar, location);\n  if (!sugar[reaction_position]) {\n    throw new Error('Cannot locate attachment point');\n  }\n  if (subsugar.root.identifier !== 'Root') {\n    var attachment = sugar[reaction_position];\n    var epimierisable = new _Epimerisation__WEBPACK_IMPORTED_MODULE_1__[\"EpimerisableMonosaccharide\"](attachment, subsugar.root.identifier, false);\n    attachment.donateChildrenTo(epimierisable);\n    epimierisable.copyTagsFrom(attachment);\n    if (attachment.parent) {\n      attachment.parent.replaceChild(attachment, epimierisable);\n    } else {\n      sugar.root = epimierisable;\n    }\n    sugar[reaction_position] = epimierisable;\n  }\n  sugar[reaction_position_string] = location;\n  sugar.attachment_tag = Symbol('attachment');\n  sugar[reaction_position].setTag(sugar.attachment_tag);\n};\nvar cache_symbol = Symbol('search_cache');\nvar find_sugar_substrates_caches = new Map();\nvar find_sugar_substrates = function find_sugar_substrates(sugar, cacheKey) {\n  var sugar_caches;\n  var sugar_cache;\n  var use_seqs = cacheKey === SEQUENCE_CACHEKEY;\n  if (cacheKey) {\n    if (!find_sugar_substrates_caches.has(cacheKey)) {\n      sugar_caches = use_seqs ? new Map() : new WeakMap();\n      find_sugar_substrates_caches.set(cacheKey, sugar_caches);\n    } else {\n      sugar_caches = find_sugar_substrates_caches.get(cacheKey);\n    }\n    sugar_cache = sugar_caches.get(use_seqs ? sugar.sequence : sugar);\n    if (!sugar_cache) {\n      sugar_cache = new Map();\n      sugar_caches.set(use_seqs ? sugar.sequence : sugar, sugar_cache);\n    }\n  }\n  var is_epimerase = this.composition().some(res => res instanceof _Epimerisation__WEBPACK_IMPORTED_MODULE_1__[\"EpimerisableMonosaccharide\"]);\n  var cache_lookup_key = this.sequence + this[reaction_position_string];\n  var cache_hit = sugar_cache ? sugar_cache.has(cache_lookup_key) : false;\n  var results = sugar_cache ? sugar_cache.has(cache_lookup_key) ? sugar_cache.get(cache_lookup_key) : null : null;\n\n  // The attachment tag is part of the reaction\n  if (!results) {\n    var substrates = sugar.match_sugar_pattern(this, _ReactionSet__WEBPACK_IMPORTED_MODULE_3__[\"comparator\"]) || [];\n    results = substrates.map(match => {\n      var first_tagged = match.composition_for_tag(this.attachment_tag)[0];\n      if (!first_tagged) {\n        return;\n      }\n      return first_tagged.original;\n    }).filter(r => r);\n    if (sugar_cache && (!is_epimerase || results.length == 0)) {\n      if (use_seqs) {\n        sugar_cache.set(cache_lookup_key, results.map(res => sugar.location_for_monosaccharide(res)));\n      } else {\n        sugar_cache.set(cache_lookup_key, results);\n      }\n    }\n  }\n  if (use_seqs && results[0] && typeof results[0] === 'string') {\n    results = results.map(pos => sugar.locate_monosaccharide(pos));\n  }\n  return results;\n};\nvar execute = function execute(sugar, residue) {\n  var all_locations;\n  if (!residue) {\n    all_locations = [...find_sugar_substrates.call(this, sugar)].map(res => sugar.location_for_monosaccharide(res));\n  } else {\n    all_locations = [sugar.location_for_monosaccharide(residue)];\n  }\n  var added = new Set();\n  for (var attachment_location of all_locations) {\n    var attachment = sugar.locate_monosaccharide(attachment_location);\n    var addition = this[reaction_sugar].clone();\n    if (addition.root.identifier !== 'Root') {\n      var epimierisable = new _Epimerisation__WEBPACK_IMPORTED_MODULE_1__[\"EpimerisableMonosaccharide\"](attachment, addition.root.identifier, true);\n      if (attachment instanceof _Repeat__WEBPACK_IMPORTED_MODULE_2__[\"default\"].Monosaccharide && attachment.repeat.mode == _Repeat__WEBPACK_IMPORTED_MODULE_2__[\"default\"].MODE_MINIMAL && !(attachment.parent instanceof _Repeat__WEBPACK_IMPORTED_MODULE_2__[\"default\"].Monosaccharide)) {\n        // Special case starting repeat\n        var current_parent = attachment.parent;\n        var current_repeat = attachment.repeat;\n        attachment.original.donateChildrenTo(epimierisable);\n        current_repeat.template.root.parent.replaceChild(attachment.original, epimierisable);\n        current_repeat.template.root = epimierisable;\n        current_parent.replaceChild(attachment, current_repeat.root);\n        attachment = epimierisable;\n        added.add(epimierisable);\n        for (var kid of addition.root.children) {\n          attachment.graft(kid);\n          [...addition.composition(kid)].forEach(added.add, added);\n        }\n        var cloned = current_repeat.clone();\n        cloned.children = current_repeat.children;\n        current_repeat.root.parent.replaceChild(current_repeat.root, cloned.root);\n      } else {\n        for (var _kid of addition.root.children) {\n          attachment.graft(_kid);\n          [...addition.composition(_kid)].forEach(added.add, added);\n        }\n        attachment.donateChildrenTo(epimierisable);\n        epimierisable.copyTagsFrom(attachment);\n        attachment = sugar.locate_monosaccharide(attachment_location);\n        if (attachment !== sugar.root) {\n          attachment.parent.replaceChild(attachment, epimierisable);\n        } else {\n          sugar.root = epimierisable;\n          attachment = epimierisable;\n        }\n        added.add(epimierisable);\n      }\n    } else {\n      if (attachment instanceof _Repeat__WEBPACK_IMPORTED_MODULE_2__[\"default\"].Monosaccharide && attachment.repeat.mode == _Repeat__WEBPACK_IMPORTED_MODULE_2__[\"default\"].MODE_MINIMAL) {\n        attachment = attachment.original;\n      }\n\n      // Simple addition of residues\n\n      for (var _kid2 of addition.root.children) {\n        attachment.graft(_kid2);\n        [...addition.composition(_kid2)].forEach(added.add, added);\n      }\n    }\n  }\n  return [...added];\n};\nvar execute_all = function execute_all(sugar) {\n  var results = [];\n  var attach_symbol = Symbol('attach');\n  for (var attachment of find_sugar_substrates.call(this, sugar)) {\n    var addition = this[reaction_sugar].clone();\n    attachment.setTag(attach_symbol, true);\n    var new_sugar = sugar.clone();\n    var new_attachment = new_sugar.composition_for_tag(attach_symbol)[0];\n    for (var kid of addition.root.children) {\n      new_attachment.graft(kid);\n    }\n    attachment.setTag(attach_symbol, null);\n    new_attachment.setTag(attach_symbol, null);\n    results.push(new_sugar);\n  }\n  return results;\n};\nvar filter_delta_exists = function filter_delta_exists(attachments, sugar) {\n  var delta = this.delta;\n  var unmatched_attachments = attachments.filter(res => {\n    return sugar.trace(delta, res, _ReactionSet__WEBPACK_IMPORTED_MODULE_3__[\"comparator\"]).length == 0;\n  });\n  return unmatched_attachments;\n};\nclass Reaction extends _Sugar__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  set comment(comment) {\n    this[comment_symbol] = comment;\n    parseReaction(this);\n    this.freeze();\n    this.delta.freeze();\n  }\n  get comment() {\n    if (this.delta) {\n      return undefined;\n    }\n    return this[comment_symbol];\n  }\n  get delta() {\n    return this[reaction_sugar];\n  }\n  get negative() {\n    return this[negative_symbol];\n  }\n\n  // Move to a container class with positive and negative assertions\n  tagSubstrateResidues(sugar) {\n    var tag = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Symbol('substrate');\n    var cacheKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var test_result = find_sugar_substrates.call(this, sugar, cacheKey);\n    if (this.negative) {\n      var without_delta = filter_delta_exists.call(this, test_result, sugar);\n      test_result = test_result.filter(res => without_delta.indexOf(res) < 0);\n    }\n    test_result.forEach(res => res.setTag(tag));\n    return tag;\n  }\n  tagAvailableSubstrateResidues(sugar) {\n    var tag = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Symbol('substrate');\n    var test_result = find_sugar_substrates.call(this, sugar);\n    var without_delta = filter_delta_exists.call(this, test_result, sugar);\n    test_result = test_result.filter(res => without_delta.indexOf(res) < 0);\n    test_result.forEach(res => res.setTag(tag));\n    return tag;\n  }\n  worksOn(sugar) {\n    var test_result = find_sugar_substrates.call(this, sugar);\n    if (test_result.length < 1) {\n      return this.negative || false;\n    }\n    if (this.negative) {\n      var unmatched_attachments = filter_delta_exists.call(this, test_result, sugar);\n      return unmatched_attachments.length > 0;\n    } else {\n      return true;\n    }\n  }\n\n  // Move to a container class with positive and negative assertions\n  execute(sugar, residue) {\n    return execute.call(this, sugar, residue);\n  }\n  generate(sugar) {\n    return execute_all.call(this, sugar);\n  }\n}\nReaction.Comparator = _ReactionSet__WEBPACK_IMPORTED_MODULE_3__[\"comparator\"];\n/* harmony default export */ __webpack_exports__[\"default\"] = (Reaction);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL1JlYWN0aW9uLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL2dseWNhbi5qcy9qcy9SZWFjdGlvbi5qcz8yZmI1Il0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IFN1Z2FyIGZyb20gJy4vU3VnYXInO1xuXG5pbXBvcnQgeyBFcGltZXJpc2FibGVNb25vc2FjY2hhcmlkZSB9IGZyb20gJy4vRXBpbWVyaXNhdGlvbic7XG5pbXBvcnQgUmVwZWF0IGZyb20gJy4vUmVwZWF0JztcbmltcG9ydCB7IGNvbXBhcmF0b3IgfSBmcm9tICcuL1JlYWN0aW9uU2V0JztcblxubGV0IGNvbW1lbnRfc3ltYm9sID0gU3ltYm9sKCdjb21tZW50X3N0cmluZycpO1xubGV0IG5lZ2F0aXZlX3N5bWJvbCA9IFN5bWJvbCgnaXNfbmVnYXRpdmUnKTtcbmxldCByZWFjdGlvbl9zdWdhciA9IFN5bWJvbCgncmVhY3Rpb25fc3VnYXInKTtcbmxldCByZWFjdGlvbl9wb3NpdGlvbiA9IFN5bWJvbCgncmVhY3Rpb25fcG9zaXRpb24nKTtcbmxldCByZWFjdGlvbl9wb3NpdGlvbl9zdHJpbmcgPSBTeW1ib2woJ3JlYWN0aW9uX3Bvc2l0aW9uX3N0cmluZycpO1xuXG5jb25zdCB2YWxpZGF0ZV9sb2NhdGlvbiA9IChzdWdhcixsb2NhdGlvbikgPT4gc3VnYXIubG9jYXRlX21vbm9zYWNjaGFyaWRlKGxvY2F0aW9uKTtcblxuY29uc3QgU0VRVUVOQ0VfQ0FDSEVLRVkgPSBTeW1ib2woJ1NlcXVlbmNlIENhY2hlJyk7XG5cbi8vIFdlIHJld3JpdGUgdGhlIHNlcXVlbmNlIHRvXG4vLyBnZXQgcmlkIG9mIHRoZSBwbGFjZWhvbGRlciBSb290XG4vLyByb290IG1vbm9zYWNjaGFyaWRlLlxuXG5sZXQgcmV3cml0ZV9zZXF1ZW5jZSA9IGJhc2UgPT4ge1xuICByZXR1cm4gY2xhc3MgZXh0ZW5kcyBiYXNlIHtcbiAgICBnZXQgc2VxdWVuY2UoKSB7XG4gICAgICBsZXQgc2VxID0gc3VwZXIuc2VxdWVuY2U7XG4gICAgICByZXR1cm4gc2VxLnJlcGxhY2UoL1Jvb3QvLCcnKTtcbiAgICB9XG4gICAgc2V0IHNlcXVlbmNlKHNlcSkge1xuICAgICAgc3VwZXIuc2VxdWVuY2UgPSBzZXE7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xufTtcblxuXG5sZXQgcGFyc2VSZWFjdGlvbiA9IChzdWdhcikgPT4ge1xuICBsZXQgY29tbWVudCA9IHN1Z2FyW2NvbW1lbnRfc3ltYm9sXTtcbiAgbGV0IG5lZ2F0aXZlX2ZsYWcgPSBmYWxzZTtcbiAgaWYgKGNvbW1lbnQuaW5kZXhPZignIScpID09PSAwKSB7XG4gICAgY29tbWVudCA9IGNvbW1lbnQuc3Vic3RyaW5nKDEpO1xuICAgIG5lZ2F0aXZlX2ZsYWcgPSB0cnVlO1xuICB9XG4gIGxldCBbIHN1YnNlcSwgbG9jYXRpb24gXSA9IGNvbW1lbnQuc3BsaXQoJ0AnKTtcbiAgc3Vic2VxID0gc3Vic2VxLnJlcGxhY2UoL1t7fV0vZywnJyk7XG5cbiAgbGV0IHJlYWN0aW9uX2NsYXNzID0gcmV3cml0ZV9zZXF1ZW5jZShTdWdhci5Db3B5SU8oc3VnYXIpKTtcblxuICBsZXQgc3Vic3VnYXIgPSBuZXcgcmVhY3Rpb25fY2xhc3MoKTtcbiAgc3VnYXJbbmVnYXRpdmVfc3ltYm9sXSA9IG5lZ2F0aXZlX2ZsYWc7XG4gIHN1YnN1Z2FyLnNlcXVlbmNlID0gc3Vic2VxO1xuXG4gIHN1Z2FyWyByZWFjdGlvbl9zdWdhciBdID0gc3Vic3VnYXI7XG4gIHN1Z2FyWyByZWFjdGlvbl9wb3NpdGlvbiBdID0gdmFsaWRhdGVfbG9jYXRpb24oc3VnYXIsbG9jYXRpb24pO1xuICBpZiAoISAgc3VnYXJbIHJlYWN0aW9uX3Bvc2l0aW9uIF0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBsb2NhdGUgYXR0YWNobWVudCBwb2ludCcpO1xuICB9XG5cbiAgaWYgKHN1YnN1Z2FyLnJvb3QuaWRlbnRpZmllciAhPT0gJ1Jvb3QnKSB7XG4gICAgbGV0IGF0dGFjaG1lbnQgPSBzdWdhcltyZWFjdGlvbl9wb3NpdGlvbl07XG5cbiAgICBsZXQgZXBpbWllcmlzYWJsZSA9IG5ldyBFcGltZXJpc2FibGVNb25vc2FjY2hhcmlkZShhdHRhY2htZW50LHN1YnN1Z2FyLnJvb3QuaWRlbnRpZmllcixmYWxzZSk7XG4gICAgYXR0YWNobWVudC5kb25hdGVDaGlsZHJlblRvKGVwaW1pZXJpc2FibGUpO1xuICAgIGVwaW1pZXJpc2FibGUuY29weVRhZ3NGcm9tKGF0dGFjaG1lbnQpO1xuICAgIGlmIChhdHRhY2htZW50LnBhcmVudCkge1xuICAgICAgYXR0YWNobWVudC5wYXJlbnQucmVwbGFjZUNoaWxkKGF0dGFjaG1lbnQsZXBpbWllcmlzYWJsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1Z2FyLnJvb3QgPSBlcGltaWVyaXNhYmxlO1xuICAgIH1cbiAgICBzdWdhcltyZWFjdGlvbl9wb3NpdGlvbl0gPSBlcGltaWVyaXNhYmxlO1xuICB9XG5cbiAgc3VnYXJbIHJlYWN0aW9uX3Bvc2l0aW9uX3N0cmluZyBdID0gbG9jYXRpb247XG4gIHN1Z2FyLmF0dGFjaG1lbnRfdGFnID0gU3ltYm9sKCdhdHRhY2htZW50Jyk7XG4gIHN1Z2FyWyByZWFjdGlvbl9wb3NpdGlvbiBdLnNldFRhZyhzdWdhci5hdHRhY2htZW50X3RhZyk7XG59O1xuXG5jb25zdCBjYWNoZV9zeW1ib2wgPSBTeW1ib2woJ3NlYXJjaF9jYWNoZScpO1xuY29uc3QgZmluZF9zdWdhcl9zdWJzdHJhdGVzX2NhY2hlcyA9IG5ldyBNYXAoKTtcblxubGV0IGZpbmRfc3VnYXJfc3Vic3RyYXRlcyA9IGZ1bmN0aW9uKHN1Z2FyLGNhY2hlS2V5KSB7XG4gIGxldCBzdWdhcl9jYWNoZXM7XG4gIGxldCBzdWdhcl9jYWNoZTtcblxuICBjb25zdCB1c2Vfc2VxcyA9IGNhY2hlS2V5ID09PSBTRVFVRU5DRV9DQUNIRUtFWTtcbiAgaWYgKGNhY2hlS2V5KSB7XG4gICAgaWYgKCAhIGZpbmRfc3VnYXJfc3Vic3RyYXRlc19jYWNoZXMuaGFzKGNhY2hlS2V5KSApIHtcbiAgICAgIHN1Z2FyX2NhY2hlcyA9IHVzZV9zZXFzID8gbmV3IE1hcCA6IG5ldyBXZWFrTWFwKCk7XG4gICAgICBmaW5kX3N1Z2FyX3N1YnN0cmF0ZXNfY2FjaGVzLnNldChjYWNoZUtleSxzdWdhcl9jYWNoZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdWdhcl9jYWNoZXMgPSBmaW5kX3N1Z2FyX3N1YnN0cmF0ZXNfY2FjaGVzLmdldChjYWNoZUtleSk7XG4gICAgfVxuICAgIHN1Z2FyX2NhY2hlID0gc3VnYXJfY2FjaGVzLmdldCh1c2Vfc2VxcyA/IHN1Z2FyLnNlcXVlbmNlIDogc3VnYXIpO1xuICAgIGlmICggISBzdWdhcl9jYWNoZSApIHtcbiAgICAgIHN1Z2FyX2NhY2hlID0gbmV3IE1hcCgpO1xuICAgICAgc3VnYXJfY2FjaGVzLnNldCh1c2Vfc2VxcyA/IHN1Z2FyLnNlcXVlbmNlIDogc3VnYXIsc3VnYXJfY2FjaGUpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGlzX2VwaW1lcmFzZSA9IHRoaXMuY29tcG9zaXRpb24oKS5zb21lKCByZXMgPT4gcmVzIGluc3RhbmNlb2YgRXBpbWVyaXNhYmxlTW9ub3NhY2NoYXJpZGUpO1xuXG4gIGNvbnN0IGNhY2hlX2xvb2t1cF9rZXkgPSB0aGlzLnNlcXVlbmNlK3RoaXNbcmVhY3Rpb25fcG9zaXRpb25fc3RyaW5nXTtcblxuICBsZXQgY2FjaGVfaGl0ID0gc3VnYXJfY2FjaGUgPyBzdWdhcl9jYWNoZS5oYXMoY2FjaGVfbG9va3VwX2tleSkgOiBmYWxzZTtcblxuICBsZXQgcmVzdWx0cyA9IHN1Z2FyX2NhY2hlID8gKCBzdWdhcl9jYWNoZS5oYXMoY2FjaGVfbG9va3VwX2tleSkgPyBzdWdhcl9jYWNoZS5nZXQoY2FjaGVfbG9va3VwX2tleSkgOiBudWxsICkgOiBudWxsO1xuXG4gIC8vIFRoZSBhdHRhY2htZW50IHRhZyBpcyBwYXJ0IG9mIHRoZSByZWFjdGlvblxuICBpZiAoICEgcmVzdWx0cyApIHtcbiAgICBsZXQgc3Vic3RyYXRlcyA9IHN1Z2FyLm1hdGNoX3N1Z2FyX3BhdHRlcm4odGhpcyxjb21wYXJhdG9yKSB8fCBbXTtcbiAgICByZXN1bHRzID0gc3Vic3RyYXRlcy5tYXAoIG1hdGNoID0+IHtcbiAgICAgIGxldCBmaXJzdF90YWdnZWQgPSBtYXRjaC5jb21wb3NpdGlvbl9mb3JfdGFnKHRoaXMuYXR0YWNobWVudF90YWcpWzBdO1xuICAgICAgaWYgKCAhIGZpcnN0X3RhZ2dlZCApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZpcnN0X3RhZ2dlZC5vcmlnaW5hbDtcbiAgICB9KS5maWx0ZXIoIHIgPT4gciApO1xuICAgIGlmIChzdWdhcl9jYWNoZSAmJiAoIWlzX2VwaW1lcmFzZSB8fCByZXN1bHRzLmxlbmd0aCA9PSAwKSkge1xuICAgICAgaWYgKHVzZV9zZXFzKSB7XG4gICAgICAgIHN1Z2FyX2NhY2hlLnNldChjYWNoZV9sb29rdXBfa2V5LCByZXN1bHRzLm1hcCggcmVzID0+IHN1Z2FyLmxvY2F0aW9uX2Zvcl9tb25vc2FjY2hhcmlkZShyZXMpICkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3VnYXJfY2FjaGUuc2V0KGNhY2hlX2xvb2t1cF9rZXkscmVzdWx0cyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHVzZV9zZXFzICYmIHJlc3VsdHNbMF0gJiYgdHlwZW9mIHJlc3VsdHNbMF0gPT09ICdzdHJpbmcnICkge1xuICAgIHJlc3VsdHMgPSByZXN1bHRzLm1hcCggcG9zID0+IHN1Z2FyLmxvY2F0ZV9tb25vc2FjY2hhcmlkZShwb3MpICk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0cztcbn07XG5cbmxldCBleGVjdXRlID0gZnVuY3Rpb24oc3VnYXIscmVzaWR1ZSkge1xuICBsZXQgYWxsX2xvY2F0aW9ucztcblxuICBpZiAoICEgcmVzaWR1ZSApIHtcbiAgICBhbGxfbG9jYXRpb25zID0gWy4uLmZpbmRfc3VnYXJfc3Vic3RyYXRlcy5jYWxsKHRoaXMsc3VnYXIpXS5tYXAoIHJlcyA9PiBzdWdhci5sb2NhdGlvbl9mb3JfbW9ub3NhY2NoYXJpZGUocmVzKSApO1xuICB9IGVsc2Uge1xuICAgIGFsbF9sb2NhdGlvbnMgPSBbIHN1Z2FyLmxvY2F0aW9uX2Zvcl9tb25vc2FjY2hhcmlkZShyZXNpZHVlKSBdO1xuICB9XG5cbiAgbGV0IGFkZGVkID0gbmV3IFNldCgpO1xuXG4gIGZvciAobGV0IGF0dGFjaG1lbnRfbG9jYXRpb24gb2YgYWxsX2xvY2F0aW9ucyApIHtcbiAgICBsZXQgYXR0YWNobWVudCA9IHN1Z2FyLmxvY2F0ZV9tb25vc2FjY2hhcmlkZShhdHRhY2htZW50X2xvY2F0aW9uKTtcbiAgICBsZXQgYWRkaXRpb24gPSB0aGlzWyByZWFjdGlvbl9zdWdhciBdLmNsb25lKCk7XG4gICAgaWYgKGFkZGl0aW9uLnJvb3QuaWRlbnRpZmllciAhPT0gJ1Jvb3QnKSB7XG4gICAgICBsZXQgZXBpbWllcmlzYWJsZSA9IG5ldyBFcGltZXJpc2FibGVNb25vc2FjY2hhcmlkZShhdHRhY2htZW50LGFkZGl0aW9uLnJvb3QuaWRlbnRpZmllcix0cnVlKTtcbiAgICAgIGlmICggKGF0dGFjaG1lbnQgaW5zdGFuY2VvZiBSZXBlYXQuTW9ub3NhY2NoYXJpZGUpICYmIGF0dGFjaG1lbnQucmVwZWF0Lm1vZGUgPT0gUmVwZWF0Lk1PREVfTUlOSU1BTCAmJiAhIChhdHRhY2htZW50LnBhcmVudCBpbnN0YW5jZW9mIFJlcGVhdC5Nb25vc2FjY2hhcmlkZSkgICkge1xuICAgICAgICAvLyBTcGVjaWFsIGNhc2Ugc3RhcnRpbmcgcmVwZWF0XG4gICAgICAgIGxldCBjdXJyZW50X3BhcmVudCA9IGF0dGFjaG1lbnQucGFyZW50O1xuICAgICAgICBsZXQgY3VycmVudF9yZXBlYXQgPSBhdHRhY2htZW50LnJlcGVhdDtcblxuICAgICAgICBhdHRhY2htZW50Lm9yaWdpbmFsLmRvbmF0ZUNoaWxkcmVuVG8oZXBpbWllcmlzYWJsZSk7XG4gICAgICAgIGN1cnJlbnRfcmVwZWF0LnRlbXBsYXRlLnJvb3QucGFyZW50LnJlcGxhY2VDaGlsZChhdHRhY2htZW50Lm9yaWdpbmFsLGVwaW1pZXJpc2FibGUpO1xuICAgICAgICBjdXJyZW50X3JlcGVhdC50ZW1wbGF0ZS5yb290ID0gZXBpbWllcmlzYWJsZTtcblxuICAgICAgICBjdXJyZW50X3BhcmVudC5yZXBsYWNlQ2hpbGQoYXR0YWNobWVudCxjdXJyZW50X3JlcGVhdC5yb290KTtcblxuICAgICAgICBhdHRhY2htZW50ID0gZXBpbWllcmlzYWJsZTtcbiAgICAgICAgYWRkZWQuYWRkKGVwaW1pZXJpc2FibGUpO1xuXG4gICAgICAgIGZvciAobGV0IGtpZCBvZiBhZGRpdGlvbi5yb290LmNoaWxkcmVuKSB7XG4gICAgICAgICAgYXR0YWNobWVudC5ncmFmdChraWQpO1xuICAgICAgICAgIFsuLi5hZGRpdGlvbi5jb21wb3NpdGlvbihraWQpXS5mb3JFYWNoKGFkZGVkLmFkZCwgYWRkZWQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjbG9uZWQgPSBjdXJyZW50X3JlcGVhdC5jbG9uZSgpO1xuXG4gICAgICAgIGNsb25lZC5jaGlsZHJlbiA9IGN1cnJlbnRfcmVwZWF0LmNoaWxkcmVuO1xuXG4gICAgICAgIGN1cnJlbnRfcmVwZWF0LnJvb3QucGFyZW50LnJlcGxhY2VDaGlsZChjdXJyZW50X3JlcGVhdC5yb290LGNsb25lZC5yb290KTtcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgZm9yIChsZXQga2lkIG9mIGFkZGl0aW9uLnJvb3QuY2hpbGRyZW4pIHtcbiAgICAgICAgICBhdHRhY2htZW50LmdyYWZ0KGtpZCk7XG4gICAgICAgICAgWy4uLmFkZGl0aW9uLmNvbXBvc2l0aW9uKGtpZCldLmZvckVhY2goYWRkZWQuYWRkLCBhZGRlZCk7XG4gICAgICAgIH1cbiAgICAgICAgYXR0YWNobWVudC5kb25hdGVDaGlsZHJlblRvKGVwaW1pZXJpc2FibGUpO1xuICAgICAgICBlcGltaWVyaXNhYmxlLmNvcHlUYWdzRnJvbShhdHRhY2htZW50KTtcblxuICAgICAgICBhdHRhY2htZW50ID0gc3VnYXIubG9jYXRlX21vbm9zYWNjaGFyaWRlKGF0dGFjaG1lbnRfbG9jYXRpb24pO1xuICAgICAgICBpZiAoYXR0YWNobWVudCAhPT0gc3VnYXIucm9vdCkge1xuICAgICAgICAgIGF0dGFjaG1lbnQucGFyZW50LnJlcGxhY2VDaGlsZChhdHRhY2htZW50LGVwaW1pZXJpc2FibGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN1Z2FyLnJvb3QgPSBlcGltaWVyaXNhYmxlO1xuICAgICAgICAgIGF0dGFjaG1lbnQgPSBlcGltaWVyaXNhYmxlO1xuICAgICAgICB9XG4gICAgICAgIGFkZGVkLmFkZChlcGltaWVyaXNhYmxlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuXG4gICAgICBpZiAoIChhdHRhY2htZW50IGluc3RhbmNlb2YgUmVwZWF0Lk1vbm9zYWNjaGFyaWRlKSAmJiBhdHRhY2htZW50LnJlcGVhdC5tb2RlID09IFJlcGVhdC5NT0RFX01JTklNQUwgKSB7XG4gICAgICAgIGF0dGFjaG1lbnQgPSBhdHRhY2htZW50Lm9yaWdpbmFsO1xuICAgICAgfVxuXG4gICAgICAvLyBTaW1wbGUgYWRkaXRpb24gb2YgcmVzaWR1ZXNcblxuICAgICAgZm9yIChsZXQga2lkIG9mIGFkZGl0aW9uLnJvb3QuY2hpbGRyZW4pIHtcbiAgICAgICAgYXR0YWNobWVudC5ncmFmdChraWQpO1xuICAgICAgICBbLi4uYWRkaXRpb24uY29tcG9zaXRpb24oa2lkKV0uZm9yRWFjaChhZGRlZC5hZGQsIGFkZGVkKTtcbiAgICAgIH1cblxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBbLi4uYWRkZWRdO1xufTtcblxubGV0IGV4ZWN1dGVfYWxsID0gZnVuY3Rpb24oc3VnYXIpIHtcbiAgbGV0IHJlc3VsdHMgPSBbXTtcbiAgbGV0IGF0dGFjaF9zeW1ib2wgPSBTeW1ib2woJ2F0dGFjaCcpO1xuICBmb3IgKGxldCBhdHRhY2htZW50IG9mIGZpbmRfc3VnYXJfc3Vic3RyYXRlcy5jYWxsKHRoaXMsc3VnYXIpKSB7XG4gICAgbGV0IGFkZGl0aW9uID0gdGhpc1sgcmVhY3Rpb25fc3VnYXIgXS5jbG9uZSgpO1xuICAgIGF0dGFjaG1lbnQuc2V0VGFnKGF0dGFjaF9zeW1ib2wsdHJ1ZSk7XG4gICAgbGV0IG5ld19zdWdhciA9IHN1Z2FyLmNsb25lKCk7XG4gICAgbGV0IG5ld19hdHRhY2htZW50ID0gbmV3X3N1Z2FyLmNvbXBvc2l0aW9uX2Zvcl90YWcoYXR0YWNoX3N5bWJvbClbMF07XG4gICAgZm9yIChsZXQga2lkIG9mIGFkZGl0aW9uLnJvb3QuY2hpbGRyZW4pIHtcbiAgICAgIG5ld19hdHRhY2htZW50LmdyYWZ0KGtpZCk7XG4gICAgfVxuICAgIGF0dGFjaG1lbnQuc2V0VGFnKGF0dGFjaF9zeW1ib2wsbnVsbCk7XG4gICAgbmV3X2F0dGFjaG1lbnQuc2V0VGFnKGF0dGFjaF9zeW1ib2wsbnVsbCk7XG4gICAgcmVzdWx0cy5wdXNoKG5ld19zdWdhcik7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHM7XG59O1xuXG5sZXQgZmlsdGVyX2RlbHRhX2V4aXN0cyA9IGZ1bmN0aW9uKGF0dGFjaG1lbnRzLHN1Z2FyKSB7XG4gIGxldCBkZWx0YSA9IHRoaXMuZGVsdGE7XG4gIGxldCB1bm1hdGNoZWRfYXR0YWNobWVudHMgPSBhdHRhY2htZW50cy5maWx0ZXIoIHJlcyA9PiB7XG4gICAgcmV0dXJuIHN1Z2FyLnRyYWNlKGRlbHRhLHJlcyxjb21wYXJhdG9yKS5sZW5ndGggPT0gMDtcbiAgfSk7XG4gIHJldHVybiB1bm1hdGNoZWRfYXR0YWNobWVudHM7XG59O1xuXG5jbGFzcyBSZWFjdGlvbiBleHRlbmRzIFN1Z2FyIHtcbiAgc2V0IGNvbW1lbnQoY29tbWVudCkge1xuICAgIHRoaXNbY29tbWVudF9zeW1ib2xdID0gY29tbWVudDtcbiAgICBwYXJzZVJlYWN0aW9uKHRoaXMpO1xuICAgIHRoaXMuZnJlZXplKCk7XG4gICAgdGhpcy5kZWx0YS5mcmVlemUoKTtcbiAgfVxuICBnZXQgY29tbWVudCgpIHtcbiAgICBpZiAodGhpcy5kZWx0YSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNbY29tbWVudF9zeW1ib2xdO1xuICB9XG4gIGdldCBkZWx0YSgpIHtcbiAgICByZXR1cm4gdGhpc1sgcmVhY3Rpb25fc3VnYXIgXTtcbiAgfVxuXG4gIGdldCBuZWdhdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpc1sgbmVnYXRpdmVfc3ltYm9sIF07XG4gIH1cblxuICAvLyBNb3ZlIHRvIGEgY29udGFpbmVyIGNsYXNzIHdpdGggcG9zaXRpdmUgYW5kIG5lZ2F0aXZlIGFzc2VydGlvbnNcbiAgdGFnU3Vic3RyYXRlUmVzaWR1ZXMoc3VnYXIsdGFnPVN5bWJvbCgnc3Vic3RyYXRlJyksY2FjaGVLZXk9bnVsbCkge1xuICAgIGxldCB0ZXN0X3Jlc3VsdCA9IGZpbmRfc3VnYXJfc3Vic3RyYXRlcy5jYWxsKHRoaXMsc3VnYXIsY2FjaGVLZXkpO1xuICAgIGlmICh0aGlzLm5lZ2F0aXZlKSB7XG4gICAgICBsZXQgd2l0aG91dF9kZWx0YSA9IGZpbHRlcl9kZWx0YV9leGlzdHMuY2FsbCh0aGlzLHRlc3RfcmVzdWx0LHN1Z2FyKTtcbiAgICAgIHRlc3RfcmVzdWx0ID0gdGVzdF9yZXN1bHQuZmlsdGVyKCByZXMgPT4gd2l0aG91dF9kZWx0YS5pbmRleE9mKHJlcykgPCAwICk7XG4gICAgfVxuICAgIHRlc3RfcmVzdWx0LmZvckVhY2goIHJlcyA9PiByZXMuc2V0VGFnKHRhZykgKTtcbiAgICByZXR1cm4gdGFnO1xuICB9XG5cbiAgdGFnQXZhaWxhYmxlU3Vic3RyYXRlUmVzaWR1ZXMoc3VnYXIsdGFnPVN5bWJvbCgnc3Vic3RyYXRlJykpIHtcbiAgICBsZXQgdGVzdF9yZXN1bHQgPSBmaW5kX3N1Z2FyX3N1YnN0cmF0ZXMuY2FsbCh0aGlzLHN1Z2FyKTtcbiAgICBsZXQgd2l0aG91dF9kZWx0YSA9IGZpbHRlcl9kZWx0YV9leGlzdHMuY2FsbCh0aGlzLHRlc3RfcmVzdWx0LHN1Z2FyKTtcbiAgICB0ZXN0X3Jlc3VsdCA9IHRlc3RfcmVzdWx0LmZpbHRlciggcmVzID0+IHdpdGhvdXRfZGVsdGEuaW5kZXhPZihyZXMpIDwgMCApO1xuICAgIHRlc3RfcmVzdWx0LmZvckVhY2goIHJlcyA9PiByZXMuc2V0VGFnKHRhZykgKTtcbiAgICByZXR1cm4gdGFnO1xuICB9XG5cbiAgd29ya3NPbihzdWdhcikge1xuICAgIGxldCB0ZXN0X3Jlc3VsdCA9IGZpbmRfc3VnYXJfc3Vic3RyYXRlcy5jYWxsKHRoaXMsc3VnYXIpO1xuICAgIGlmICggdGVzdF9yZXN1bHQubGVuZ3RoIDwgMSApIHtcbiAgICAgIHJldHVybiB0aGlzLm5lZ2F0aXZlIHx8IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGhpcy5uZWdhdGl2ZSkge1xuICAgICAgbGV0IHVubWF0Y2hlZF9hdHRhY2htZW50cyA9IGZpbHRlcl9kZWx0YV9leGlzdHMuY2FsbCh0aGlzLHRlc3RfcmVzdWx0LHN1Z2FyKTtcbiAgICAgIHJldHVybiB1bm1hdGNoZWRfYXR0YWNobWVudHMubGVuZ3RoID4gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgLy8gTW92ZSB0byBhIGNvbnRhaW5lciBjbGFzcyB3aXRoIHBvc2l0aXZlIGFuZCBuZWdhdGl2ZSBhc3NlcnRpb25zXG4gIGV4ZWN1dGUoc3VnYXIscmVzaWR1ZSkge1xuICAgIHJldHVybiBleGVjdXRlLmNhbGwodGhpcyxzdWdhcixyZXNpZHVlKTtcbiAgfVxuXG4gIGdlbmVyYXRlKHN1Z2FyKSB7XG4gICAgcmV0dXJuIGV4ZWN1dGVfYWxsLmNhbGwodGhpcyxzdWdhcik7XG4gIH1cblxuXG59XG5cblJlYWN0aW9uLkNvbXBhcmF0b3IgPSBjb21wYXJhdG9yO1xuXG5leHBvcnQgZGVmYXVsdCBSZWFjdGlvbjtcblxuZXhwb3J0IHsgU0VRVUVOQ0VfQ0FDSEVLRVkgfTtcbiJdLCJtYXBwaW5ncyI6IkFBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../glycan.js/js/Reaction.js\n");

/***/ }),

/***/ "../glycan.js/js/ReactionSet.js":
/*!**************************************!*\
  !*** ../glycan.js/js/ReactionSet.js ***!
  \**************************************/
/*! exports provided: ReactionSet, ReactionGroup, comparator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ReactionSet\", function() { return ReactionSet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ReactionGroup\", function() { return ReactionGroup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"comparator\", function() { return comparator; });\n/* harmony import */ var _Reaction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Reaction */ \"../glycan.js/js/Reaction.js\");\n/* harmony import */ var _Searching__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Searching */ \"../glycan.js/js/Searching.js\");\n/* harmony import */ var _Epimerisation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Epimerisation */ \"../glycan.js/js/Epimerisation.js\");\n/* harmony import */ var _Debug__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Debug */ \"../glycan.js/js/Debug.js\");\n\n\n\n\n\nvar reactions = Symbol('reactions');\nvar reactionset = Symbol('reactionset');\nvar module_string = 'glycanjs:reactionset';\nvar log = Object(_Debug__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(module_string);\nvar EPIMERISED_TAG = Symbol('has_been_epimerised');\nvar clean_tags = tag => {\n  return res => res.setTag(tag, null);\n};\nvar not_in_array = array => {\n  return el => array.indexOf(el) < 0;\n};\nvar only_unique = (v, i, s) => s.indexOf(v) === i;\nvar match_root_original = res => {\n  return tree => tree.root.original === res;\n};\nvar identifier_comparator = (a, b) => {\n  if (a.getTag(EPIMERISED_TAG) === b.identifier) {\n    return true;\n  }\n  if (b.getTag(EPIMERISED_TAG) === a.identifier) {\n    return true;\n  }\n  return a.identifier === b.identifier;\n};\nvar comparator = (a, b) => {\n  if (!a || !b) {\n    return false;\n  }\n  if (a.identifier === '*' || b.identifier === '*') {\n    return true;\n  }\n  var same_id = identifier_comparator(a, b);\n  var same_linkage = false;\n  var same_anomer = false;\n  if (a.parent && b.parent) {\n    if (a.parent.linkageOf(a) === 0 || b.parent.linkageOf(b) === 0) {\n      same_linkage = true;\n    } else {\n      same_linkage = a.parent.linkageOf(a) === b.parent.linkageOf(b);\n    }\n    if (a.anomer === b.anomer) {\n      same_anomer = true;\n    }\n  }\n  if (!a.parent && !b.parent) {\n    same_linkage = true;\n    same_anomer = true;\n  }\n  return same_id && same_linkage && same_anomer;\n};\nvar filter_with_delta = function filter_with_delta(attachments, sugar) {\n  var delta = this.delta;\n  var matched_attachments = attachments.map(res => {\n    var trees = Object(_Searching__WEBPACK_IMPORTED_MODULE_1__[\"CacheTrace\"])(sugar, delta, res, comparator);\n    trees = trees.filter(match_root_original(res));\n    return trees;\n  }).filter(trace_result => trace_result.length > 0);\n  return matched_attachments;\n};\nvar find_sugar_substrates = function find_sugar_substrates(sugar) {\n  var cacheKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var result_attachments = [];\n  for (var reaction of this.positive) {\n    var current_attachment = Symbol('curr_attachment');\n    reaction.tagSubstrateResidues(sugar, current_attachment, cacheKey);\n    var attachments = sugar.composition_for_tag(current_attachment);\n    attachments.forEach(clean_tags(current_attachment));\n    result_attachments = result_attachments.concat(attachments);\n  }\n  if (result_attachments.length < 1) {\n    return result_attachments;\n  }\n  for (var _reaction of this.negative) {\n    var _current_attachment = Symbol('curr_attachment');\n    _reaction.tagSubstrateResidues(sugar, _current_attachment, cacheKey);\n    var _attachments = sugar.composition_for_tag(_current_attachment);\n    _attachments.forEach(clean_tags(_current_attachment));\n    result_attachments = result_attachments.filter(not_in_array(_attachments));\n    if (result_attachments.length < 1) {\n      return result_attachments;\n    }\n  }\n  return result_attachments;\n};\nclass ReactionSet {\n  constructor() {\n    this[reactions] = [];\n  }\n  get delta() {\n    return this.positive[0].delta;\n  }\n  get positive() {\n    return this[reactions].filter(reac => !reac.negative);\n  }\n  get negative() {\n    return this[reactions].filter(reac => reac.negative);\n  }\n  addReactionRule(reaction) {\n    this[reactions].push(reaction);\n  }\n  tagSubstrateResidues(sugar) {\n    var tag = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Symbol('substrate');\n    var cacheKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    for (var residue of find_sugar_substrates.call(this, sugar, cacheKey)) {\n      residue.setTag(tag);\n    }\n    return tag;\n  }\n  tagAvailableSubstrateResidues(sugar) {\n    var tag = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Symbol('substrate');\n    var attachments = find_sugar_substrates.call(this, sugar);\n    var unavailable = filter_with_delta.call(this, attachments, sugar);\n    unavailable = [].concat.apply([], unavailable);\n    unavailable = unavailable.map(tree => tree.root.original);\n    var available = attachments.filter(res => unavailable.indexOf(res) < 0);\n    for (var residue of available) {\n      if (!residue.parent && residue.children.length > 0 && residue.linkageOf(residue.children[0]) < 0) {\n        continue;\n      }\n      residue.setTag(tag);\n    }\n    return tag;\n  }\n  worksOn(sugar) {\n    return find_sugar_substrates.call(this, sugar).length > 0;\n  }\n  execute() {}\n  generate() {}\n}\nvar create_reaction = (reaction_class, cache, reac) => {\n  if (reac.length < 1) {\n    return;\n  }\n  var set = new ReactionSet();\n  for (var seq of reac) {\n    var reac_obj = null;\n    if (cache.has(seq)) {\n      reac_obj = cache.get(seq);\n    } else {\n      reac_obj = new reaction_class();\n      reac_obj.sequence = seq;\n      cache.set(seq, reac_obj);\n    }\n    set.addReactionRule(reac_obj);\n  }\n  return set;\n};\nfunction getAllSupportedActions(sugar, reactions) {\n  var possible_linkages = [];\n  var possible_anomers = [];\n  var possible_donors = [];\n  for (var reaction of reactions) {\n    var substrates = sugar.composition_for_tag(reaction.tagAvailableSubstrateResidues(sugar));\n    if (substrates.length > 0) {\n      var _ret = function () {\n        var donor_res = reaction.delta.root.children[0];\n        var reac_linkage = reaction.delta.root.linkageOf(donor_res);\n        if (!substrates.some(res => res.childAt(reac_linkage) === undefined)) {\n          return \"continue\";\n        }\n        var donor_seq = reaction.delta.root.identifier !== 'Root' ? reaction.delta.sequence : donor_res.toSugar(reaction.delta.constructor).sequence;\n        possible_linkages.push(reac_linkage);\n        possible_donors.push(donor_seq);\n        possible_anomers.push(donor_res.anomer);\n      }();\n      if (_ret === \"continue\") continue;\n    }\n  }\n  possible_anomers = possible_anomers.filter(only_unique);\n  possible_linkages = possible_linkages.filter(only_unique);\n  possible_donors = possible_donors.filter(only_unique);\n  return {\n    anomer: possible_anomers,\n    linkage: possible_linkages,\n    donor: possible_donors,\n    substrate: []\n  };\n}\nvar reaction_cache = new Map();\nclass ReactionGroup {\n  constructor() {\n    this[reactionset] = [];\n  }\n  static groupFromJSON(json, sugarclass) {\n    var epimerases = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    var reaction_group = new this();\n    var reaction_class = _Reaction__WEBPACK_IMPORTED_MODULE_0__[\"default\"].CopyIO(new sugarclass());\n    var genes = Object.keys(json);\n    genes = epimerases.filter(gene => genes.indexOf(gene) >= 0).concat(genes.filter(gene => epimerases.indexOf(gene) < 0));\n    for (var gene of genes) {\n      if (json[gene].reactions.length > 0) {\n        for (var set of json[gene].reactions.map(create_reaction.bind(null, reaction_class, reaction_cache))) {\n          if (set) {\n            reaction_group.addReactionSet(set);\n          }\n        }\n      }\n    }\n    return reaction_group;\n  }\n  get reactions() {\n    return this[reactionset];\n  }\n  addReactionSet(reaction) {\n    if (this[reactionset].indexOf(reaction) < 0) {\n      this[reactionset].push(reaction);\n    }\n    return reaction;\n  }\n  tagSubstrateResidues(sugar) {\n    var reactions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.reactions;\n    var tag = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Symbol('substrate');\n    var cacheKey = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    for (var reaction of reactions) {\n      reaction.tagSubstrateResidues(sugar, tag, cacheKey = null);\n    }\n    return tag;\n  }\n  tagAvailableSubstrateResidues(sugar) {\n    var reactions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.reactions;\n    var tag = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Symbol('substrate');\n    for (var reaction of reactions) {\n      reaction.tagAvailableSubstrateResidues(sugar, tag);\n    }\n    return tag;\n  }\n\n  /* What possible linkages can be made on this sugar at the \n     given sugar, donor, linkage and substrate\n   */\n\n  supportsLinkageAt(sugar, donor, linkage, substrate) {\n    var reactions = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.reactions;\n    if (!donor) {\n      return getAllSupportedActions(sugar, reactions);\n    }\n    var possible_linkages = [];\n    var possible_anomers = [];\n    var possible_donors = [];\n    var donor_filtered = this.reactions.filter(reaction => {\n      var donor_res = reaction.delta.root.children[0];\n      if (!donor_res) {\n        return false;\n      }\n      var donor_seq = donor_res.toSugar(reaction.delta.constructor).sequence;\n      var reac_linkage = reaction.delta.root.linkageOf(donor_res);\n      var matching_donor = !donor || donor_seq === donor;\n      return matching_donor;\n    });\n    var possible_substrates_for_reaction = new WeakMap();\n    donor_filtered.forEach(reaction => {\n      var substrates = sugar.composition_for_tag(reaction.tagAvailableSubstrateResidues(sugar));\n      if (substrates.length > 0) {\n        var donor_res = reaction.delta.root.children[0];\n        var reac_linkage = reaction.delta.root.linkageOf(donor_res);\n        var free_substrate_children = substrates.filter(res => res.childAt(reac_linkage) === undefined);\n        possible_substrates_for_reaction.set(reaction, free_substrate_children);\n        if (free_substrate_children.length > 0) {\n          possible_linkages.push(reac_linkage);\n          possible_anomers.push(donor_res.anomer);\n        }\n      }\n    });\n    var used_linkage_filtered = donor_filtered.filter(reac => (possible_substrates_for_reaction.get(reac) || []).length > 0);\n    var filtered_reactions = used_linkage_filtered;\n    possible_anomers = possible_anomers.filter(only_unique);\n    possible_linkages = possible_linkages.filter(only_unique);\n    log.info(\"Remaining reactions after filtering by donor \".concat(donor_filtered.length));\n    log.info(\"Remaining reactions after filtering by used_linakge \".concat(used_linkage_filtered.length));\n\n    // If there isn't a linkage specified - what are the possible\n    // linkages that this reaction set supports\n\n    if (used_linkage_filtered.length < 1 || typeof linkage === 'undefined' && typeof substrate === 'undefined') {\n      var substrates = used_linkage_filtered.map(reac => possible_substrates_for_reaction.get(reac)).flat().filter(only_unique);\n      return used_linkage_filtered.length > 0 ? {\n        anomer: possible_anomers,\n        linkage: possible_linkages,\n        substrate: substrates\n      } : {\n        anomer: [],\n        linkage: [],\n        substrate: []\n      };\n    }\n\n    // If there is a linkage - filter the reactions down to the\n    // reactions that support the linkage we want\n\n    if (typeof linkage !== 'undefined') {\n      var linkage_filtered = filtered_reactions.filter(reaction => {\n        var donor_res = reaction.delta.root.children[0];\n        var reac_linkage = reaction.delta.root.linkageOf(donor_res);\n        return reac_linkage === 0 || reac_linkage === linkage;\n      });\n      filtered_reactions = linkage_filtered;\n      log.info(\"Remaining reactions after filtering by linkage \".concat(linkage_filtered.length));\n      if (linkage_filtered.length < 1) {\n        return linkage_filtered.length > 0 ? {\n          anomer: possible_anomers,\n          linkage: [linkage],\n          substrate: []\n        } : {\n          anomer: [],\n          linkage: [],\n          substrate: []\n        };\n      }\n    }\n    if (substrate) {\n      possible_linkages = [];\n      possible_anomers = [];\n    }\n    var possible_anomer_linkages = [];\n    for (var reaction of filtered_reactions) {\n      var _substrates = possible_substrates_for_reaction.get(reaction);\n      if (_substrates.indexOf(substrate) >= 0) {\n        var donor_res = reaction.delta.root.children[0];\n        var reac_linkage = reaction.delta.root.linkageOf(donor_res);\n        possible_linkages.push(reac_linkage);\n        possible_anomers.push(donor_res.anomer);\n        possible_anomer_linkages.push(donor_res.anomer + reac_linkage);\n      }\n    }\n    possible_anomers = possible_anomers.filter(only_unique);\n    possible_linkages = possible_linkages.filter(only_unique);\n    if (possible_linkages.length > 0 && possible_anomers.length > 0 && substrate) {\n      return {\n        anomer: possible_anomers,\n        linkage: possible_linkages,\n        anomerlinks: possible_anomer_linkages,\n        substrate: [substrate]\n      };\n    } else {\n      return {\n        anomer: possible_anomers,\n        linkage: possible_linkages,\n        substrate: []\n      };\n    }\n  }\n  supportLinkages(sugar) {\n    var reactions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.reactions;\n    var with_support = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Symbol('with_support');\n    var cacheKey = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    var symbol_map = new WeakMap();\n    for (var to_reset of sugar.composition_for_tag(EPIMERISED_TAG)) {\n      to_reset.setTag(EPIMERISED_TAG, null);\n      to_reset.setTag(_Searching__WEBPACK_IMPORTED_MODULE_1__[\"SKIP_CACHE_TAG\"], null);\n    }\n    for (var reaction of reactions) {\n      if (!symbol_map.has(reaction)) {\n        symbol_map.set(reaction, {\n          substrate: Symbol('substrate'),\n          residue: Symbol('residue')\n        });\n      }\n      var is_epimerisation_reaction = false;\n      if (reaction instanceof ReactionSet) {\n        for (var single_reaction of reaction.positive) {\n          var epimerisable = single_reaction.composition().filter(res => res instanceof _Epimerisation__WEBPACK_IMPORTED_MODULE_2__[\"EpimerisableMonosaccharide\"]);\n          if (epimerisable.length > 0) {\n            is_epimerisation_reaction = true;\n            single_reaction.delta.root.setTag(EPIMERISED_TAG, epimerisable[0].identifier);\n          }\n          epimerisable.forEach(res => {\n            res.enable();\n          });\n        }\n      }\n      reaction.tagSubstrateResidues(sugar, symbol_map.get(reaction).substrate, cacheKey);\n      if (reaction instanceof ReactionSet) {\n        for (var _single_reaction of reaction.positive) {\n          var _epimerisable = _single_reaction.composition().filter(res => res instanceof _Epimerisation__WEBPACK_IMPORTED_MODULE_2__[\"EpimerisableMonosaccharide\"]);\n          _epimerisable.forEach(res => res.disable());\n        }\n      }\n      var attachments = sugar.composition_for_tag(symbol_map.get(reaction).substrate);\n      var trees = filter_with_delta.call(reaction, attachments, sugar);\n      var supported = trees.map(tree => {\n        var tree_root = tree[0];\n        var part_supported = tree_root.composition(tree_root.root.children[0]);\n        return part_supported.map(res => res.original);\n      });\n      if (is_epimerisation_reaction) {\n        for (var tree of trees.flat()) {\n          for (var epimerised of tree.composition_for_tag(EPIMERISED_TAG)) {\n            epimerised.original.setTag(EPIMERISED_TAG, epimerised.getTag(EPIMERISED_TAG));\n            epimerised.original.setTag(_Searching__WEBPACK_IMPORTED_MODULE_1__[\"SKIP_CACHE_TAG\"], true);\n          }\n        }\n      }\n      for (var residue of [].concat.apply([], supported)) {\n        if (residue.getTag(EPIMERISED_TAG) && is_epimerisation_reaction) {\n          // We should skip supporting this specific residue because it's\n          // only an epimerisation reaction, and not telling us anything\n          // about the original residue\n          continue;\n        }\n        residue.setTag(symbol_map.get(reaction).residue);\n        residue.setTag(with_support);\n      }\n    }\n    this.map = symbol_map;\n    return with_support;\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL1JlYWN0aW9uU2V0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL2dseWNhbi5qcy9qcy9SZWFjdGlvblNldC5qcz9lZjM5Il0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IFJlYWN0aW9uIGZyb20gJy4vUmVhY3Rpb24nO1xuXG5pbXBvcnQgeyBDYWNoZVRyYWNlIH0gZnJvbSAnLi9TZWFyY2hpbmcnO1xuXG5pbXBvcnQgeyBFcGltZXJpc2FibGVNb25vc2FjY2hhcmlkZSB9IGZyb20gJy4vRXBpbWVyaXNhdGlvbic7XG5cbmltcG9ydCB7IFNLSVBfQ0FDSEVfVEFHIH0gZnJvbSAnLi9TZWFyY2hpbmcnO1xuXG5pbXBvcnQgZGVidWcgZnJvbSAnLi9EZWJ1Zyc7XG5cbmNvbnN0IHJlYWN0aW9ucyA9IFN5bWJvbCgncmVhY3Rpb25zJyk7XG5cbmNvbnN0IHJlYWN0aW9uc2V0ID0gU3ltYm9sKCdyZWFjdGlvbnNldCcpO1xuXG5jb25zdCBtb2R1bGVfc3RyaW5nPSdnbHljYW5qczpyZWFjdGlvbnNldCc7XG5cbmNvbnN0IGxvZyA9IGRlYnVnKG1vZHVsZV9zdHJpbmcpO1xuXG5jb25zdCBFUElNRVJJU0VEX1RBRyA9IFN5bWJvbCgnaGFzX2JlZW5fZXBpbWVyaXNlZCcpO1xuXG5cbmxldCBjbGVhbl90YWdzID0gKHRhZykgPT4geyByZXR1cm4gcmVzID0+IHJlcy5zZXRUYWcodGFnLG51bGwpOyB9O1xuXG5sZXQgbm90X2luX2FycmF5ID0gKGFycmF5KSA9PiB7IHJldHVybiBlbCA9PiBhcnJheS5pbmRleE9mKGVsKSA8IDA7IH07XG5cbmxldCBvbmx5X3VuaXF1ZSA9ICh2LCBpLCBzKSA9PiBzLmluZGV4T2YodikgPT09IGk7XG5cbmxldCBtYXRjaF9yb290X29yaWdpbmFsID0gKHJlcykgPT4geyByZXR1cm4gdHJlZSA9PiB0cmVlLnJvb3Qub3JpZ2luYWwgPT09IHJlczsgfTtcblxubGV0IGlkZW50aWZpZXJfY29tcGFyYXRvciA9IChhLGIpID0+IHtcblxuICBpZiAoYS5nZXRUYWcoRVBJTUVSSVNFRF9UQUcpID09PSBiLmlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoYi5nZXRUYWcoRVBJTUVSSVNFRF9UQUcpID09PSBhLmlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiAoYS5pZGVudGlmaWVyID09PSBiLmlkZW50aWZpZXIpO1xufTtcblxubGV0IGNvbXBhcmF0b3IgPSAoYSxiKSA9PiB7XG4gIGlmICggISBhIHx8ICEgYiApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGEuaWRlbnRpZmllciA9PT0gJyonIHx8IGIuaWRlbnRpZmllciA9PT0gJyonKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBsZXQgc2FtZV9pZCA9IGlkZW50aWZpZXJfY29tcGFyYXRvcihhLGIpO1xuICBsZXQgc2FtZV9saW5rYWdlID0gZmFsc2U7XG4gIGxldCBzYW1lX2Fub21lciA9IGZhbHNlO1xuXG4gIGlmICggYS5wYXJlbnQgJiYgYi5wYXJlbnQgKSB7XG4gICAgaWYgKGEucGFyZW50LmxpbmthZ2VPZihhKSA9PT0gMCB8fCBiLnBhcmVudC5saW5rYWdlT2YoYikgPT09IDApIHtcbiAgICAgIHNhbWVfbGlua2FnZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNhbWVfbGlua2FnZSA9IGEucGFyZW50LmxpbmthZ2VPZihhKSA9PT0gYi5wYXJlbnQubGlua2FnZU9mKGIpO1xuICAgIH1cbiAgICBpZiAoYS5hbm9tZXIgPT09IGIuYW5vbWVyKSB7XG4gICAgICBzYW1lX2Fub21lciA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKCAhIGEucGFyZW50ICYmICEgYi5wYXJlbnQgKSB7XG4gICAgc2FtZV9saW5rYWdlID0gdHJ1ZTtcbiAgICBzYW1lX2Fub21lciA9IHRydWU7XG4gIH1cblxuICByZXR1cm4gc2FtZV9pZCAmJiBzYW1lX2xpbmthZ2UgJiYgc2FtZV9hbm9tZXI7XG59O1xuXG5sZXQgZmlsdGVyX3dpdGhfZGVsdGEgPSBmdW5jdGlvbihhdHRhY2htZW50cyxzdWdhcikge1xuICBsZXQgZGVsdGEgPSB0aGlzLmRlbHRhO1xuICBsZXQgbWF0Y2hlZF9hdHRhY2htZW50cyA9IGF0dGFjaG1lbnRzLm1hcCggcmVzID0+IHtcbiAgICBsZXQgdHJlZXMgPSBDYWNoZVRyYWNlKHN1Z2FyLGRlbHRhLHJlcyxjb21wYXJhdG9yKTtcbiAgICB0cmVlcyA9IHRyZWVzLmZpbHRlciggbWF0Y2hfcm9vdF9vcmlnaW5hbChyZXMpICk7XG4gICAgcmV0dXJuIHRyZWVzO1xuICB9KS5maWx0ZXIoIHRyYWNlX3Jlc3VsdCA9PiB0cmFjZV9yZXN1bHQubGVuZ3RoID4gMCApO1xuICByZXR1cm4gbWF0Y2hlZF9hdHRhY2htZW50cztcbn07XG5cbmxldCBmaW5kX3N1Z2FyX3N1YnN0cmF0ZXMgPSBmdW5jdGlvbihzdWdhcixjYWNoZUtleT1udWxsKSB7XG4gIGxldCByZXN1bHRfYXR0YWNobWVudHMgPSBbXTtcbiAgZm9yIChsZXQgcmVhY3Rpb24gb2YgdGhpcy5wb3NpdGl2ZSkge1xuICAgIGxldCBjdXJyZW50X2F0dGFjaG1lbnQgPSBTeW1ib2woJ2N1cnJfYXR0YWNobWVudCcpO1xuICAgIHJlYWN0aW9uLnRhZ1N1YnN0cmF0ZVJlc2lkdWVzKHN1Z2FyLGN1cnJlbnRfYXR0YWNobWVudCxjYWNoZUtleSk7XG4gICAgbGV0IGF0dGFjaG1lbnRzID0gc3VnYXIuY29tcG9zaXRpb25fZm9yX3RhZyhjdXJyZW50X2F0dGFjaG1lbnQpO1xuICAgIGF0dGFjaG1lbnRzLmZvckVhY2goIGNsZWFuX3RhZ3MoY3VycmVudF9hdHRhY2htZW50KSApO1xuICAgIHJlc3VsdF9hdHRhY2htZW50cyA9IHJlc3VsdF9hdHRhY2htZW50cy5jb25jYXQoIGF0dGFjaG1lbnRzICk7XG4gIH1cbiAgaWYgKHJlc3VsdF9hdHRhY2htZW50cy5sZW5ndGggPCAxKSB7XG4gICAgcmV0dXJuIHJlc3VsdF9hdHRhY2htZW50cztcbiAgfVxuICBmb3IgKGxldCByZWFjdGlvbiBvZiB0aGlzLm5lZ2F0aXZlKSB7XG4gICAgbGV0IGN1cnJlbnRfYXR0YWNobWVudCA9IFN5bWJvbCgnY3Vycl9hdHRhY2htZW50Jyk7XG4gICAgcmVhY3Rpb24udGFnU3Vic3RyYXRlUmVzaWR1ZXMoc3VnYXIsY3VycmVudF9hdHRhY2htZW50LGNhY2hlS2V5KTtcbiAgICBsZXQgYXR0YWNobWVudHMgPSBzdWdhci5jb21wb3NpdGlvbl9mb3JfdGFnKGN1cnJlbnRfYXR0YWNobWVudCk7XG4gICAgYXR0YWNobWVudHMuZm9yRWFjaCggY2xlYW5fdGFncyhjdXJyZW50X2F0dGFjaG1lbnQpICk7XG4gICAgcmVzdWx0X2F0dGFjaG1lbnRzID0gcmVzdWx0X2F0dGFjaG1lbnRzLmZpbHRlciggbm90X2luX2FycmF5KGF0dGFjaG1lbnRzKSApO1xuICAgIGlmIChyZXN1bHRfYXR0YWNobWVudHMubGVuZ3RoIDwgMSkge1xuICAgICAgcmV0dXJuIHJlc3VsdF9hdHRhY2htZW50cztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdF9hdHRhY2htZW50cztcbn07XG5cbmNsYXNzIFJlYWN0aW9uU2V0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpc1tyZWFjdGlvbnNdID0gW107XG4gIH1cblxuICBnZXQgZGVsdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zaXRpdmVbMF0uZGVsdGE7XG4gIH1cblxuICBnZXQgcG9zaXRpdmUoKSB7XG4gICAgcmV0dXJuIHRoaXNbcmVhY3Rpb25zXS5maWx0ZXIoIHJlYWMgPT4gISByZWFjLm5lZ2F0aXZlICk7XG4gIH1cblxuICBnZXQgbmVnYXRpdmUoKSB7XG4gICAgcmV0dXJuIHRoaXNbcmVhY3Rpb25zXS5maWx0ZXIoIHJlYWMgPT4gcmVhYy5uZWdhdGl2ZSApO1xuICB9XG5cbiAgYWRkUmVhY3Rpb25SdWxlKHJlYWN0aW9uKSB7XG4gICAgdGhpc1tyZWFjdGlvbnNdLnB1c2gocmVhY3Rpb24pO1xuICB9XG5cbiAgdGFnU3Vic3RyYXRlUmVzaWR1ZXMoc3VnYXIsdGFnPVN5bWJvbCgnc3Vic3RyYXRlJyksY2FjaGVLZXk9bnVsbCkge1xuICAgIGZvciAobGV0IHJlc2lkdWUgb2YgZmluZF9zdWdhcl9zdWJzdHJhdGVzLmNhbGwodGhpcyxzdWdhcixjYWNoZUtleSkpIHtcbiAgICAgIHJlc2lkdWUuc2V0VGFnKHRhZyk7XG4gICAgfVxuICAgIHJldHVybiB0YWc7XG4gIH1cblxuICB0YWdBdmFpbGFibGVTdWJzdHJhdGVSZXNpZHVlcyhzdWdhcix0YWc9U3ltYm9sKCdzdWJzdHJhdGUnKSkge1xuICAgIGxldCBhdHRhY2htZW50cyA9IGZpbmRfc3VnYXJfc3Vic3RyYXRlcy5jYWxsKHRoaXMsc3VnYXIpO1xuICAgIGxldCB1bmF2YWlsYWJsZSA9IGZpbHRlcl93aXRoX2RlbHRhLmNhbGwodGhpcyxhdHRhY2htZW50cyxzdWdhcik7XG4gICAgdW5hdmFpbGFibGUgPSBbXS5jb25jYXQuYXBwbHkoW10sdW5hdmFpbGFibGUpO1xuICAgIHVuYXZhaWxhYmxlID0gdW5hdmFpbGFibGUubWFwKCB0cmVlID0+IHRyZWUucm9vdC5vcmlnaW5hbCApO1xuICAgIGxldCBhdmFpbGFibGUgPSBhdHRhY2htZW50cy5maWx0ZXIoIHJlcyA9PiB1bmF2YWlsYWJsZS5pbmRleE9mKHJlcykgPCAwICk7XG4gICAgZm9yIChsZXQgcmVzaWR1ZSBvZiBhdmFpbGFibGUpIHtcbiAgICAgIGlmICghIHJlc2lkdWUucGFyZW50ICYmIHJlc2lkdWUuY2hpbGRyZW4ubGVuZ3RoID4gMCAmJiByZXNpZHVlLmxpbmthZ2VPZihyZXNpZHVlLmNoaWxkcmVuWzBdKSA8IDAgKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcmVzaWR1ZS5zZXRUYWcodGFnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhZztcbiAgfVxuXG4gIHdvcmtzT24oc3VnYXIpIHtcbiAgICByZXR1cm4gZmluZF9zdWdhcl9zdWJzdHJhdGVzLmNhbGwodGhpcyxzdWdhcikubGVuZ3RoID4gMDtcbiAgfVxuICBleGVjdXRlKCkge1xuICB9XG4gIGdlbmVyYXRlKCkge1xuICB9XG59XG5cbmNvbnN0IGNyZWF0ZV9yZWFjdGlvbiA9IChyZWFjdGlvbl9jbGFzcyxjYWNoZSxyZWFjKSA9PiB7XG4gIGlmIChyZWFjLmxlbmd0aCA8IDEpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHNldCA9IG5ldyBSZWFjdGlvblNldCgpO1xuICBmb3IgKCBsZXQgc2VxIG9mIHJlYWMgKSB7XG4gICAgbGV0IHJlYWNfb2JqID0gbnVsbDtcbiAgICBpZiAoY2FjaGUuaGFzKHNlcSkpIHtcbiAgICAgIHJlYWNfb2JqID0gY2FjaGUuZ2V0KHNlcSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlYWNfb2JqID0gbmV3IHJlYWN0aW9uX2NsYXNzKCk7XG4gICAgICByZWFjX29iai5zZXF1ZW5jZSA9IHNlcTtcbiAgICAgIGNhY2hlLnNldChzZXEscmVhY19vYmopO1xuICAgIH1cbiAgICBzZXQuYWRkUmVhY3Rpb25SdWxlKHJlYWNfb2JqKTtcbiAgfVxuICByZXR1cm4gc2V0O1xufTtcblxuXG5mdW5jdGlvbiBnZXRBbGxTdXBwb3J0ZWRBY3Rpb25zKHN1Z2FyLHJlYWN0aW9ucykge1xuXG4gIGxldCBwb3NzaWJsZV9saW5rYWdlcyA9IFtdO1xuICBsZXQgcG9zc2libGVfYW5vbWVycyA9IFtdO1xuICBsZXQgcG9zc2libGVfZG9ub3JzID0gW107XG5cbiAgZm9yIChsZXQgcmVhY3Rpb24gb2YgcmVhY3Rpb25zKSB7XG4gICAgbGV0IHN1YnN0cmF0ZXMgPSBzdWdhci5jb21wb3NpdGlvbl9mb3JfdGFnKHJlYWN0aW9uLnRhZ0F2YWlsYWJsZVN1YnN0cmF0ZVJlc2lkdWVzKHN1Z2FyKSk7XG4gICAgaWYgKHN1YnN0cmF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgbGV0IGRvbm9yX3JlcyA9IHJlYWN0aW9uLmRlbHRhLnJvb3QuY2hpbGRyZW5bMF07XG4gICAgICBsZXQgcmVhY19saW5rYWdlID0gcmVhY3Rpb24uZGVsdGEucm9vdC5saW5rYWdlT2YoZG9ub3JfcmVzKTtcbiAgICAgIGlmICggISBzdWJzdHJhdGVzLnNvbWUoIHJlcyA9PiByZXMuY2hpbGRBdChyZWFjX2xpbmthZ2UpID09PSB1bmRlZmluZWQgKSApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBsZXQgZG9ub3Jfc2VxID0gcmVhY3Rpb24uZGVsdGEucm9vdC5pZGVudGlmaWVyICE9PSAnUm9vdCcgPyByZWFjdGlvbi5kZWx0YS5zZXF1ZW5jZSA6IGRvbm9yX3Jlcy50b1N1Z2FyKHJlYWN0aW9uLmRlbHRhLmNvbnN0cnVjdG9yKS5zZXF1ZW5jZTtcbiAgICAgIHBvc3NpYmxlX2xpbmthZ2VzLnB1c2gocmVhY19saW5rYWdlKTtcbiAgICAgIHBvc3NpYmxlX2Rvbm9ycy5wdXNoKGRvbm9yX3NlcSk7XG4gICAgICBwb3NzaWJsZV9hbm9tZXJzLnB1c2goZG9ub3JfcmVzLmFub21lcik7XG4gICAgfVxuICB9XG4gIHBvc3NpYmxlX2Fub21lcnMgPSBwb3NzaWJsZV9hbm9tZXJzLmZpbHRlcihvbmx5X3VuaXF1ZSk7XG4gIHBvc3NpYmxlX2xpbmthZ2VzID0gcG9zc2libGVfbGlua2FnZXMuZmlsdGVyKG9ubHlfdW5pcXVlKTtcbiAgcG9zc2libGVfZG9ub3JzID0gcG9zc2libGVfZG9ub3JzLmZpbHRlcihvbmx5X3VuaXF1ZSk7XG5cbiAgcmV0dXJuIHsgYW5vbWVyOiBwb3NzaWJsZV9hbm9tZXJzLCBsaW5rYWdlOiBwb3NzaWJsZV9saW5rYWdlcywgZG9ub3I6IHBvc3NpYmxlX2Rvbm9ycywgc3Vic3RyYXRlOiBbXSB9O1xuXG59XG5cbmNvbnN0IHJlYWN0aW9uX2NhY2hlID0gbmV3IE1hcCgpO1xuXG5jbGFzcyBSZWFjdGlvbkdyb3VwIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpc1tyZWFjdGlvbnNldF0gPSBbXTtcbiAgfVxuXG4gIHN0YXRpYyBncm91cEZyb21KU09OKGpzb24sc3VnYXJjbGFzcyxlcGltZXJhc2VzPVtdKSB7XG4gICAgbGV0IHJlYWN0aW9uX2dyb3VwID0gbmV3IHRoaXMoKTtcbiAgICBjb25zdCByZWFjdGlvbl9jbGFzcyA9IFJlYWN0aW9uLkNvcHlJTyhuZXcgc3VnYXJjbGFzcygpKTtcbiAgICBsZXQgZ2VuZXMgPSBPYmplY3Qua2V5cyhqc29uKTtcbiAgICBnZW5lcyA9IGVwaW1lcmFzZXMuZmlsdGVyKCBnZW5lID0+IGdlbmVzLmluZGV4T2YoZ2VuZSkgPj0gMCkuY29uY2F0KCBnZW5lcy5maWx0ZXIoIGdlbmUgPT4gZXBpbWVyYXNlcy5pbmRleE9mKGdlbmUpIDwgMCApICk7XG4gICAgZm9yIChsZXQgZ2VuZSBvZiBnZW5lcykge1xuICAgICAgaWYgKGpzb25bZ2VuZV0ucmVhY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChsZXQgc2V0IG9mIGpzb25bZ2VuZV0ucmVhY3Rpb25zLm1hcCggY3JlYXRlX3JlYWN0aW9uLmJpbmQobnVsbCxyZWFjdGlvbl9jbGFzcyxyZWFjdGlvbl9jYWNoZSkgKSkge1xuICAgICAgICAgIGlmIChzZXQpIHtcbiAgICAgICAgICAgIHJlYWN0aW9uX2dyb3VwLmFkZFJlYWN0aW9uU2V0KHNldCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZWFjdGlvbl9ncm91cDtcbiAgfVxuXG4gIGdldCByZWFjdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXNbcmVhY3Rpb25zZXRdO1xuICB9XG5cbiAgYWRkUmVhY3Rpb25TZXQocmVhY3Rpb24pIHtcbiAgICBpZiAodGhpc1tyZWFjdGlvbnNldF0uaW5kZXhPZihyZWFjdGlvbikgPCAwKSB7XG4gICAgICB0aGlzW3JlYWN0aW9uc2V0XS5wdXNoKHJlYWN0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlYWN0aW9uO1xuICB9XG4gIHRhZ1N1YnN0cmF0ZVJlc2lkdWVzKHN1Z2FyLHJlYWN0aW9ucz10aGlzLnJlYWN0aW9ucyx0YWc9U3ltYm9sKCdzdWJzdHJhdGUnKSxjYWNoZUtleT1udWxsKSB7XG4gICAgZm9yIChsZXQgcmVhY3Rpb24gb2YgcmVhY3Rpb25zKSB7XG4gICAgICByZWFjdGlvbi50YWdTdWJzdHJhdGVSZXNpZHVlcyhzdWdhcix0YWcsY2FjaGVLZXk9bnVsbCk7XG4gICAgfVxuICAgIHJldHVybiB0YWc7XG4gIH1cbiAgdGFnQXZhaWxhYmxlU3Vic3RyYXRlUmVzaWR1ZXMoc3VnYXIscmVhY3Rpb25zPXRoaXMucmVhY3Rpb25zLHRhZz1TeW1ib2woJ3N1YnN0cmF0ZScpKSB7XG4gICAgZm9yIChsZXQgcmVhY3Rpb24gb2YgcmVhY3Rpb25zKSB7XG4gICAgICByZWFjdGlvbi50YWdBdmFpbGFibGVTdWJzdHJhdGVSZXNpZHVlcyhzdWdhcix0YWcpO1xuICAgIH1cbiAgICByZXR1cm4gdGFnO1xuICB9XG5cbiAgLyogV2hhdCBwb3NzaWJsZSBsaW5rYWdlcyBjYW4gYmUgbWFkZSBvbiB0aGlzIHN1Z2FyIGF0IHRoZSBcbiAgICAgZ2l2ZW4gc3VnYXIsIGRvbm9yLCBsaW5rYWdlIGFuZCBzdWJzdHJhdGVcbiAgICovXG5cbiAgc3VwcG9ydHNMaW5rYWdlQXQoc3VnYXIsZG9ub3IsbGlua2FnZSxzdWJzdHJhdGUscmVhY3Rpb25zPXRoaXMucmVhY3Rpb25zKSB7XG5cbiAgICBpZiAoICEgZG9ub3IgKSB7XG4gICAgICByZXR1cm4gZ2V0QWxsU3VwcG9ydGVkQWN0aW9ucyhzdWdhcixyZWFjdGlvbnMpO1xuICAgIH1cblxuICAgIGxldCBwb3NzaWJsZV9saW5rYWdlcyA9IFtdO1xuICAgIGxldCBwb3NzaWJsZV9hbm9tZXJzID0gW107XG4gICAgbGV0IHBvc3NpYmxlX2Rvbm9ycyA9IFtdO1xuXG4gICAgbGV0IGRvbm9yX2ZpbHRlcmVkID0gdGhpcy5yZWFjdGlvbnMuZmlsdGVyKCByZWFjdGlvbiA9PiB7XG4gICAgICBsZXQgZG9ub3JfcmVzID0gcmVhY3Rpb24uZGVsdGEucm9vdC5jaGlsZHJlblswXTtcbiAgICAgIGlmICggISBkb25vcl9yZXMgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGxldCBkb25vcl9zZXEgPSBkb25vcl9yZXMudG9TdWdhcihyZWFjdGlvbi5kZWx0YS5jb25zdHJ1Y3Rvcikuc2VxdWVuY2U7XG4gICAgICBsZXQgcmVhY19saW5rYWdlID0gcmVhY3Rpb24uZGVsdGEucm9vdC5saW5rYWdlT2YoZG9ub3JfcmVzKTtcbiAgICAgIGxldCBtYXRjaGluZ19kb25vciA9ICghIGRvbm9yIHx8IChkb25vcl9zZXEgPT09IGRvbm9yKSk7XG4gICAgICByZXR1cm4gbWF0Y2hpbmdfZG9ub3I7XG4gICAgfSk7XG5cbiAgICBsZXQgcG9zc2libGVfc3Vic3RyYXRlc19mb3JfcmVhY3Rpb24gPSBuZXcgV2Vha01hcCgpO1xuXG4gICAgZG9ub3JfZmlsdGVyZWQuZm9yRWFjaCggcmVhY3Rpb24gPT4ge1xuICAgICAgbGV0IHN1YnN0cmF0ZXMgPSBzdWdhci5jb21wb3NpdGlvbl9mb3JfdGFnKHJlYWN0aW9uLnRhZ0F2YWlsYWJsZVN1YnN0cmF0ZVJlc2lkdWVzKHN1Z2FyKSk7XG4gICAgICBpZiAoc3Vic3RyYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxldCBkb25vcl9yZXMgPSByZWFjdGlvbi5kZWx0YS5yb290LmNoaWxkcmVuWzBdO1xuICAgICAgICBsZXQgcmVhY19saW5rYWdlID0gcmVhY3Rpb24uZGVsdGEucm9vdC5saW5rYWdlT2YoZG9ub3JfcmVzKTtcbiAgICAgICAgbGV0IGZyZWVfc3Vic3RyYXRlX2NoaWxkcmVuID0gc3Vic3RyYXRlcy5maWx0ZXIoIHJlcyA9PiByZXMuY2hpbGRBdChyZWFjX2xpbmthZ2UpID09PSB1bmRlZmluZWQgKTtcbiAgICAgICAgcG9zc2libGVfc3Vic3RyYXRlc19mb3JfcmVhY3Rpb24uc2V0KHJlYWN0aW9uLGZyZWVfc3Vic3RyYXRlX2NoaWxkcmVuKTtcbiAgICAgICAgaWYgKGZyZWVfc3Vic3RyYXRlX2NoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBwb3NzaWJsZV9saW5rYWdlcy5wdXNoKHJlYWNfbGlua2FnZSk7XG4gICAgICAgICAgcG9zc2libGVfYW5vbWVycy5wdXNoKGRvbm9yX3Jlcy5hbm9tZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgdXNlZF9saW5rYWdlX2ZpbHRlcmVkID0gZG9ub3JfZmlsdGVyZWQuZmlsdGVyKCByZWFjID0+IChwb3NzaWJsZV9zdWJzdHJhdGVzX2Zvcl9yZWFjdGlvbi5nZXQocmVhYykgfHwgW10pLmxlbmd0aCA+IDAgKTtcblxuICAgIGxldCBmaWx0ZXJlZF9yZWFjdGlvbnMgPSB1c2VkX2xpbmthZ2VfZmlsdGVyZWQ7XG5cbiAgICBwb3NzaWJsZV9hbm9tZXJzID0gcG9zc2libGVfYW5vbWVycy5maWx0ZXIob25seV91bmlxdWUpO1xuICAgIHBvc3NpYmxlX2xpbmthZ2VzID0gcG9zc2libGVfbGlua2FnZXMuZmlsdGVyKG9ubHlfdW5pcXVlKTtcblxuICAgIGxvZy5pbmZvKGBSZW1haW5pbmcgcmVhY3Rpb25zIGFmdGVyIGZpbHRlcmluZyBieSBkb25vciAke2Rvbm9yX2ZpbHRlcmVkLmxlbmd0aH1gKTtcbiAgICBsb2cuaW5mbyhgUmVtYWluaW5nIHJlYWN0aW9ucyBhZnRlciBmaWx0ZXJpbmcgYnkgdXNlZF9saW5ha2dlICR7dXNlZF9saW5rYWdlX2ZpbHRlcmVkLmxlbmd0aH1gKTtcblxuICAgIC8vIElmIHRoZXJlIGlzbid0IGEgbGlua2FnZSBzcGVjaWZpZWQgLSB3aGF0IGFyZSB0aGUgcG9zc2libGVcbiAgICAvLyBsaW5rYWdlcyB0aGF0IHRoaXMgcmVhY3Rpb24gc2V0IHN1cHBvcnRzXG5cbiAgICBpZiAoIHVzZWRfbGlua2FnZV9maWx0ZXJlZC5sZW5ndGggPCAxIHx8ICh0eXBlb2YgbGlua2FnZSA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHN1YnN0cmF0ZSA9PT0gJ3VuZGVmaW5lZCcpICkge1xuICAgICAgbGV0IHN1YnN0cmF0ZXMgPSB1c2VkX2xpbmthZ2VfZmlsdGVyZWQubWFwKCByZWFjID0+IHBvc3NpYmxlX3N1YnN0cmF0ZXNfZm9yX3JlYWN0aW9uLmdldChyZWFjKSApLmZsYXQoKS5maWx0ZXIob25seV91bmlxdWUpO1xuICAgICAgcmV0dXJuIHVzZWRfbGlua2FnZV9maWx0ZXJlZC5sZW5ndGggPiAwID8geyBhbm9tZXI6IHBvc3NpYmxlX2Fub21lcnMsIGxpbmthZ2U6IHBvc3NpYmxlX2xpbmthZ2VzLCBzdWJzdHJhdGU6IHN1YnN0cmF0ZXMgfSA6IHsgYW5vbWVyOltdLCBsaW5rYWdlOiBbXSwgc3Vic3RyYXRlOiBbXSB9O1xuICAgIH1cblxuICAgIC8vIElmIHRoZXJlIGlzIGEgbGlua2FnZSAtIGZpbHRlciB0aGUgcmVhY3Rpb25zIGRvd24gdG8gdGhlXG4gICAgLy8gcmVhY3Rpb25zIHRoYXQgc3VwcG9ydCB0aGUgbGlua2FnZSB3ZSB3YW50XG5cbiAgICBpZiAodHlwZW9mIGxpbmthZ2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBsZXQgbGlua2FnZV9maWx0ZXJlZCA9IGZpbHRlcmVkX3JlYWN0aW9ucy5maWx0ZXIoIHJlYWN0aW9uID0+IHtcbiAgICAgICAgbGV0IGRvbm9yX3JlcyA9IHJlYWN0aW9uLmRlbHRhLnJvb3QuY2hpbGRyZW5bMF07XG4gICAgICAgIGxldCByZWFjX2xpbmthZ2UgPSByZWFjdGlvbi5kZWx0YS5yb290LmxpbmthZ2VPZihkb25vcl9yZXMpO1xuICAgICAgICByZXR1cm4gKHJlYWNfbGlua2FnZSA9PT0gMCB8fCByZWFjX2xpbmthZ2UgPT09IGxpbmthZ2UpO1xuICAgICAgfSk7XG5cbiAgICAgIGZpbHRlcmVkX3JlYWN0aW9ucyA9IGxpbmthZ2VfZmlsdGVyZWQ7XG5cbiAgICAgIGxvZy5pbmZvKGBSZW1haW5pbmcgcmVhY3Rpb25zIGFmdGVyIGZpbHRlcmluZyBieSBsaW5rYWdlICR7bGlua2FnZV9maWx0ZXJlZC5sZW5ndGh9YCk7XG4gICAgICBpZiAoIGxpbmthZ2VfZmlsdGVyZWQubGVuZ3RoIDwgMSApIHtcbiAgICAgICAgcmV0dXJuIGxpbmthZ2VfZmlsdGVyZWQubGVuZ3RoID4gMCA/IHsgYW5vbWVyOiBwb3NzaWJsZV9hbm9tZXJzLCBsaW5rYWdlOiBbIGxpbmthZ2UgXSwgc3Vic3RyYXRlOiBbXSB9IDogeyBhbm9tZXI6IFtdLCBsaW5rYWdlOiBbXSwgc3Vic3RyYXRlOiBbXSB9O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIHN1YnN0cmF0ZSApIHtcbiAgICAgIHBvc3NpYmxlX2xpbmthZ2VzID0gW107XG4gICAgICBwb3NzaWJsZV9hbm9tZXJzID0gW107XG4gICAgfVxuICAgIGxldCBwb3NzaWJsZV9hbm9tZXJfbGlua2FnZXMgPSBbXTtcblxuICAgIGZvciAobGV0IHJlYWN0aW9uIG9mIGZpbHRlcmVkX3JlYWN0aW9ucykge1xuICAgICAgbGV0IHN1YnN0cmF0ZXMgPSBwb3NzaWJsZV9zdWJzdHJhdGVzX2Zvcl9yZWFjdGlvbi5nZXQocmVhY3Rpb24pO1xuICAgICAgaWYgKHN1YnN0cmF0ZXMuaW5kZXhPZihzdWJzdHJhdGUpID49IDApIHtcbiAgICAgICAgbGV0IGRvbm9yX3JlcyA9IHJlYWN0aW9uLmRlbHRhLnJvb3QuY2hpbGRyZW5bMF07XG4gICAgICAgIGxldCByZWFjX2xpbmthZ2UgPSByZWFjdGlvbi5kZWx0YS5yb290LmxpbmthZ2VPZihkb25vcl9yZXMpO1xuICAgICAgICBwb3NzaWJsZV9saW5rYWdlcy5wdXNoKHJlYWNfbGlua2FnZSk7XG4gICAgICAgIHBvc3NpYmxlX2Fub21lcnMucHVzaChkb25vcl9yZXMuYW5vbWVyKTtcbiAgICAgICAgcG9zc2libGVfYW5vbWVyX2xpbmthZ2VzLnB1c2goZG9ub3JfcmVzLmFub21lcityZWFjX2xpbmthZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHBvc3NpYmxlX2Fub21lcnMgPSBwb3NzaWJsZV9hbm9tZXJzLmZpbHRlcihvbmx5X3VuaXF1ZSk7XG4gICAgcG9zc2libGVfbGlua2FnZXMgPSBwb3NzaWJsZV9saW5rYWdlcy5maWx0ZXIob25seV91bmlxdWUpO1xuXG4gICAgaWYgKHBvc3NpYmxlX2xpbmthZ2VzLmxlbmd0aCA+IDAgJiYgcG9zc2libGVfYW5vbWVycy5sZW5ndGggPiAwICYmIHN1YnN0cmF0ZSkge1xuICAgICAgcmV0dXJuIHsgYW5vbWVyOiBwb3NzaWJsZV9hbm9tZXJzLCBsaW5rYWdlOiBwb3NzaWJsZV9saW5rYWdlcywgYW5vbWVybGlua3M6IHBvc3NpYmxlX2Fub21lcl9saW5rYWdlcyAsIHN1YnN0cmF0ZTogWyBzdWJzdHJhdGUgXX07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7IGFub21lcjogcG9zc2libGVfYW5vbWVycywgbGlua2FnZTogcG9zc2libGVfbGlua2FnZXMsIHN1YnN0cmF0ZTogW10gfTtcbiAgICB9XG4gIH1cblxuICBzdXBwb3J0TGlua2FnZXMoc3VnYXIscmVhY3Rpb25zPXRoaXMucmVhY3Rpb25zLHdpdGhfc3VwcG9ydD1TeW1ib2woJ3dpdGhfc3VwcG9ydCcpLGNhY2hlS2V5PW51bGwpIHtcbiAgICBsZXQgc3ltYm9sX21hcCA9IG5ldyBXZWFrTWFwKCk7XG5cbiAgICBmb3IgKCBsZXQgdG9fcmVzZXQgb2Ygc3VnYXIuY29tcG9zaXRpb25fZm9yX3RhZyhFUElNRVJJU0VEX1RBRykgKSB7XG4gICAgICB0b19yZXNldC5zZXRUYWcoRVBJTUVSSVNFRF9UQUcsbnVsbCk7XG4gICAgICB0b19yZXNldC5zZXRUYWcoU0tJUF9DQUNIRV9UQUcsbnVsbCk7XG4gICAgfVxuXG4gICAgZm9yICggbGV0IHJlYWN0aW9uIG9mIHJlYWN0aW9ucyApIHtcbiAgICAgIGlmICggISBzeW1ib2xfbWFwLmhhcyggcmVhY3Rpb24gKSkge1xuICAgICAgICBzeW1ib2xfbWFwLnNldCggcmVhY3Rpb24sIHsgc3Vic3RyYXRlOiBTeW1ib2woJ3N1YnN0cmF0ZScpLCByZXNpZHVlOiBTeW1ib2woJ3Jlc2lkdWUnKSB9KTtcbiAgICAgIH1cblxuICAgICAgdmFyIGlzX2VwaW1lcmlzYXRpb25fcmVhY3Rpb24gPSBmYWxzZTtcblxuICAgICAgaWYgKHJlYWN0aW9uIGluc3RhbmNlb2YgUmVhY3Rpb25TZXQpIHtcbiAgICAgICAgZm9yIChsZXQgc2luZ2xlX3JlYWN0aW9uIG9mIHJlYWN0aW9uLnBvc2l0aXZlKSB7XG4gICAgICAgICAgbGV0IGVwaW1lcmlzYWJsZSA9IHNpbmdsZV9yZWFjdGlvbi5jb21wb3NpdGlvbigpLmZpbHRlciggcmVzID0+IHJlcyBpbnN0YW5jZW9mIEVwaW1lcmlzYWJsZU1vbm9zYWNjaGFyaWRlICk7XG4gICAgICAgICAgaWYgKGVwaW1lcmlzYWJsZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpc19lcGltZXJpc2F0aW9uX3JlYWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIHNpbmdsZV9yZWFjdGlvbi5kZWx0YS5yb290LnNldFRhZyhFUElNRVJJU0VEX1RBRyxlcGltZXJpc2FibGVbMF0uaWRlbnRpZmllcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVwaW1lcmlzYWJsZS5mb3JFYWNoKCByZXMgPT4ge1xuICAgICAgICAgICAgcmVzLmVuYWJsZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJlYWN0aW9uLnRhZ1N1YnN0cmF0ZVJlc2lkdWVzKHN1Z2FyLHN5bWJvbF9tYXAuZ2V0KHJlYWN0aW9uKS5zdWJzdHJhdGUsY2FjaGVLZXkpO1xuXG4gICAgICBpZiAocmVhY3Rpb24gaW5zdGFuY2VvZiBSZWFjdGlvblNldCkge1xuICAgICAgICBmb3IgKGxldCBzaW5nbGVfcmVhY3Rpb24gb2YgcmVhY3Rpb24ucG9zaXRpdmUpIHtcbiAgICAgICAgICBsZXQgZXBpbWVyaXNhYmxlID0gc2luZ2xlX3JlYWN0aW9uLmNvbXBvc2l0aW9uKCkuZmlsdGVyKCByZXMgPT4gcmVzIGluc3RhbmNlb2YgRXBpbWVyaXNhYmxlTW9ub3NhY2NoYXJpZGUgKTtcbiAgICAgICAgICBlcGltZXJpc2FibGUuZm9yRWFjaCggcmVzID0+IHJlcy5kaXNhYmxlKCkgKTsgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGV0IGF0dGFjaG1lbnRzID0gc3VnYXIuY29tcG9zaXRpb25fZm9yX3RhZyhzeW1ib2xfbWFwLmdldChyZWFjdGlvbikuc3Vic3RyYXRlKTtcbiAgICAgIGxldCB0cmVlcyA9IGZpbHRlcl93aXRoX2RlbHRhLmNhbGwocmVhY3Rpb24sYXR0YWNobWVudHMsc3VnYXIpO1xuICAgICAgbGV0IHN1cHBvcnRlZCA9IHRyZWVzLm1hcCggdHJlZSA9PiB7XG4gICAgICAgIGxldCB0cmVlX3Jvb3QgPSB0cmVlWzBdO1xuICAgICAgICBsZXQgcGFydF9zdXBwb3J0ZWQgPSB0cmVlX3Jvb3QuY29tcG9zaXRpb24odHJlZV9yb290LnJvb3QuY2hpbGRyZW5bMF0pO1xuICAgICAgICByZXR1cm4gcGFydF9zdXBwb3J0ZWQubWFwKCByZXMgPT4gcmVzLm9yaWdpbmFsICk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGlzX2VwaW1lcmlzYXRpb25fcmVhY3Rpb24pIHtcbiAgICAgICAgZm9yIChsZXQgdHJlZSBvZiB0cmVlcy5mbGF0KCkpIHtcbiAgICAgICAgICBmb3IgKGxldCBlcGltZXJpc2VkIG9mIHRyZWUuY29tcG9zaXRpb25fZm9yX3RhZyhFUElNRVJJU0VEX1RBRykpIHtcbiAgICAgICAgICAgIGVwaW1lcmlzZWQub3JpZ2luYWwuc2V0VGFnKEVQSU1FUklTRURfVEFHLCBlcGltZXJpc2VkLmdldFRhZyhFUElNRVJJU0VEX1RBRykpO1xuICAgICAgICAgICAgZXBpbWVyaXNlZC5vcmlnaW5hbC5zZXRUYWcoU0tJUF9DQUNIRV9UQUcsIHRydWUpO1xuXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IHJlc2lkdWUgb2YgW10uY29uY2F0LmFwcGx5KFtdLCBzdXBwb3J0ZWQpKSB7XG4gICAgICAgIGlmIChyZXNpZHVlLmdldFRhZyhFUElNRVJJU0VEX1RBRykgJiYgaXNfZXBpbWVyaXNhdGlvbl9yZWFjdGlvbikge1xuICAgICAgICAgIC8vIFdlIHNob3VsZCBza2lwIHN1cHBvcnRpbmcgdGhpcyBzcGVjaWZpYyByZXNpZHVlIGJlY2F1c2UgaXQnc1xuICAgICAgICAgIC8vIG9ubHkgYW4gZXBpbWVyaXNhdGlvbiByZWFjdGlvbiwgYW5kIG5vdCB0ZWxsaW5nIHVzIGFueXRoaW5nXG4gICAgICAgICAgLy8gYWJvdXQgdGhlIG9yaWdpbmFsIHJlc2lkdWVcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXNpZHVlLnNldFRhZyhzeW1ib2xfbWFwLmdldChyZWFjdGlvbikucmVzaWR1ZSk7XG4gICAgICAgIHJlc2lkdWUuc2V0VGFnKHdpdGhfc3VwcG9ydCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubWFwID0gc3ltYm9sX21hcDtcbiAgICByZXR1cm4gd2l0aF9zdXBwb3J0O1xuICB9XG5cbn1cblxuZXhwb3J0IHtSZWFjdGlvblNldCwgUmVhY3Rpb25Hcm91cCwgY29tcGFyYXRvciB9OyJdLCJtYXBwaW5ncyI6IkFBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBR0E7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../glycan.js/js/ReactionSet.js\n");

/***/ }),

/***/ "../glycan.js/js/Renderer.js":
/*!***********************************!*\
  !*** ../glycan.js/js/Renderer.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Debug */ \"../glycan.js/js/Debug.js\");\n/* harmony import */ var _Monosaccharide__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Monosaccharide */ \"../glycan.js/js/Monosaccharide.js\");\n/* harmony import */ var _Repeat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Repeat */ \"../glycan.js/js/Repeat.js\");\n\n\n\n\n\nvar module_string = 'glycanjs:renderer';\nvar log = Object(_Debug__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(module_string);\nvar canvas_symbol = Symbol('canvas');\nvar layout_cache = Symbol('cached_layout');\nvar layout_engine = Symbol('layout');\nvar rendered_sugars_symbol = Symbol('rendered_sugars');\nvar rendered_symbol = Symbol('rendered_elements');\nvar group_tag_symbol = Symbol('group_tag');\nvar rotate_symbol = Symbol('rotate');\nvar SCALE = 100;\nvar PRECISION = 1;\nvar FULL_REFRESH = true;\nvar str = num => num.toFixed(PRECISION);\nvar calculate_moved_residues = function calculate_moved_residues(layout, residue) {\n  if (!layout) {\n    // We don't have a layout specified, so we\n    // should skip moving any residues around!\n    return false;\n  }\n  var current = this[layout_cache].get(residue);\n  var updated = layout.get(residue);\n  if (!current) {\n    this[layout_cache].set(residue, layout.get(residue));\n    return true;\n  }\n  this[layout_cache].set(residue, updated);\n  return !(current.x === updated.x && current.y === updated.y && current.width === updated.width && current.height === updated.height && current.z === updated.z);\n};\nvar generic_long_axis_size = res => res.height;\nvar generic_short_axis_size = res => res.width;\nvar render_link_label = function render_link_label(anomer, linkage, child_pos, parent_pos, canvas) {\n  var ROTATE = this.rotate;\n  var LTR = this.leftToRight;\n  var get_long_axis_size = ROTATE ? generic_short_axis_size : generic_long_axis_size;\n  var get_short_axis_size = ROTATE ? generic_long_axis_size : generic_short_axis_size;\n  var fancy_anomer = '?';\n  if (anomer === 'b') {\n    fancy_anomer = '\\u03B2';\n  }\n  if (anomer === 'a') {\n    fancy_anomer = '\\u03B1';\n  }\n  linkage = linkage || '?';\n  if (linkage < 0) {\n    linkage = '';\n  }\n  var [child_cx, child_cy, parent_cx, parent_cy] = [child_pos.x + child_pos.width / 2, child_pos.y + child_pos.height / 2, parent_pos.x + parent_pos.width / 2, parent_pos.y + parent_pos.height / 2];\n  var long_axis = ROTATE ? child_cx - parent_cx : child_cy - parent_cy;\n  var short_axis = ROTATE ? child_cy - parent_cy : child_cx - parent_cx;\n  var long_axis_size = get_long_axis_size(child_pos) + get_long_axis_size(parent_pos);\n  var short_axis_base = ROTATE ? parent_cy : parent_cx;\n  var long_axis_base = ROTATE ? child_pos.x : child_pos.y;\n  var short_axis_direction = ROTATE ? child_pos.y - parent_pos.y : child_pos.x - parent_pos.x;\n  var long_axis_direction = ROTATE ? child_pos.x - parent_pos.x : child_pos.y - parent_pos.y;\n  var gradient = short_axis / long_axis;\n  if (!isFinite(gradient)) {\n    gradient = -1;\n    if (short_axis_direction > 0) {\n      gradient = 1;\n    }\n  }\n  var residue_distance = long_axis;\n  var ratio = 1;\n  var child_distance = residue_distance * ratio;\n  if (Math.abs(residue_distance) >= long_axis_size / 2) {\n    residue_distance -= long_axis_size / 2;\n    child_distance = residue_distance * ratio + get_long_axis_size(parent_pos) / 2;\n  } else if (residue_distance == 0) {\n    child_distance = 0.425 * Math.abs(short_axis);\n  }\n  var short_axis_pos = gradient * child_distance;\n  if (short_axis_pos === 0) {\n    short_axis_pos += get_short_axis_size(child_pos) / 10;\n  }\n  var short_axis_coord = SCALE * (short_axis_base + short_axis_pos);\n  var long_axis_coord = SCALE * (long_axis_base + (LTR ? 0 : 1) * get_long_axis_size(child_pos));\n  if (long_axis_direction === 0) {\n    long_axis_coord = SCALE * (long_axis_base + get_long_axis_size(child_pos) / 8);\n    if (long_axis_coord > SCALE / 4) {\n      long_axis_coord = SCALE / 4;\n    }\n  }\n  var label = this.renderLinkageLabel(canvas, ROTATE ? long_axis_coord : short_axis_coord, ROTATE ? short_axis_coord : long_axis_coord, fancy_anomer + linkage, ROTATE, short_axis_pos, Math.abs(gradient) < 1 ? LTR : false);\n  canvas.sendToBack(label);\n  return label;\n};\nvar point_along_line = (x0, y0, x1, y1, t) => {\n  return [(1 - t) * x0 + t * x1, (1 - t) * y0 + t * y1];\n};\nvar perpendicular_line = (x0, y0, x1, y1, length) => {\n  var x = y0 - y1; // as vector at 90 deg to the line\n  var y = x1 - x0;\n  var len = length / Math.hypot(x, y);\n  x *= len;\n  y *= len;\n  return [x0 + x, y0 + y, x0 - x, y0 - y];\n};\nvar half_perpendicular_line = (x0, y0, x1, y1, length) => {\n  var x = y0 - y1; // as vector at 90 deg to the line\n  var y = x1 - x0;\n  var len = length / Math.hypot(x, y);\n  x *= len;\n  y *= len;\n  return [x0 - x, y0 - y, x0, y0];\n};\nvar render_linkage = function render_linkage(child_pos, parent_pos, child, parent, sugar, canvas) {\n  var show_labels = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : true;\n  if (!parent_pos) {\n    return;\n  }\n  var positions = [SCALE * (child_pos.x + child_pos.width / 2), SCALE * (child_pos.y + child_pos.height / 2), SCALE * (parent_pos.x + parent_pos.width / 2), SCALE * (parent_pos.y + parent_pos.height / 2)];\n  var group = this.renderLinkageGroup(canvas, sugar, child);\n  canvas.sendToBack(group);\n  group.line(...positions, {\n    'stroke-width': str(SCALE / 100),\n    'stroke': '#333'\n  });\n  if (show_labels) {\n    render_link_label.call(this, child.anomer, parent.linkageOf(child), child_pos, parent_pos, group);\n  }\n  var child_repeat = child instanceof _Repeat__WEBPACK_IMPORTED_MODULE_2__[\"default\"].Monosaccharide && child.repeat.mode !== _Repeat__WEBPACK_IMPORTED_MODULE_2__[\"default\"].MODE_EXPAND;\n  var parent_repeat = parent instanceof _Repeat__WEBPACK_IMPORTED_MODULE_2__[\"default\"].Monosaccharide && parent.repeat.mode !== _Repeat__WEBPACK_IMPORTED_MODULE_2__[\"default\"].MODE_EXPAND;\n  var different_repeats = child_repeat && parent_repeat && child.repeat !== parent.repeat;\n  if (child_repeat && child.endsRepeatUnit && child.children.filter(res => ['Fuc', 'HSO3'].indexOf(res.identifier) < 0).length === 0) {\n    var extents = [SCALE * (child_pos.x + child_pos.width / 2), SCALE * (child_pos.y + child_pos.height / 2), SCALE * (parent_pos.x + parent_pos.width / 2), SCALE * (parent_pos.y + parent_pos.height / 2)];\n    var reverse_cap = -1;\n    var bracket_scale = 0.25;\n    if (child_pos.x - parent_pos.x !== 0 && child_pos.y - parent_pos.y !== 0) {\n      bracket_scale = 1 / 4;\n    }\n    var bracket_position = point_along_line(...extents, -0.5);\n    var perpendicular = perpendicular_line(bracket_position[0], bracket_position[1], extents[2], extents[3], SCALE * child_pos.width * bracket_scale);\n    var cap = half_perpendicular_line(...perpendicular, reverse_cap * SCALE * child_pos.width / 8);\n    var cap_end = half_perpendicular_line(perpendicular[2], perpendicular[3], perpendicular[0], perpendicular[1], reverse_cap * -1 * SCALE * child_pos.width / 8);\n    group.line(...perpendicular, {\n      'stroke-width': str(5 * SCALE / 100),\n      'stroke': '#999'\n    });\n    group.line(...cap, {\n      'stroke-width': str(5 * SCALE / 100),\n      'stroke': '#999'\n    });\n    group.line(...cap_end, {\n      'stroke-width': str(5 * SCALE / 100),\n      'stroke': '#999'\n    });\n  }\n  if (child_repeat ? !parent_repeat || different_repeats : parent_repeat) {\n    // This line should go to the edges of the icons along the long (y-axis)\n    var _extents = [SCALE * (child_pos.x + child_pos.width / 2), SCALE * (child_pos.y + child_pos.height / 2), SCALE * (parent_pos.x + parent_pos.width / 2), SCALE * (parent_pos.y + parent_pos.height / 2)];\n    var _reverse_cap = child_repeat ? 1 : -1;\n    var _bracket_scale = 0.25;\n    if (child_pos.x - parent_pos.x !== 0 && child_pos.y - parent_pos.y !== 0) {\n      _bracket_scale = 1 / 4;\n    }\n    var _bracket_position = point_along_line(..._extents, _reverse_cap > 0 ? 0.55 : 0.5);\n    var _perpendicular = perpendicular_line(_bracket_position[0], _bracket_position[1], _extents[2], _extents[3], SCALE * child_pos.width * _bracket_scale);\n    var _cap = half_perpendicular_line(..._perpendicular, _reverse_cap * SCALE * child_pos.width / 8);\n    var _cap_end = half_perpendicular_line(_perpendicular[2], _perpendicular[3], _perpendicular[0], _perpendicular[1], _reverse_cap * -1 * SCALE * child_pos.width / 8);\n    group.line(..._perpendicular, {\n      'stroke-width': str(5 * SCALE / 100),\n      'stroke': '#999'\n    });\n    group.line(..._cap, {\n      'stroke-width': str(5 * SCALE / 100),\n      'stroke': '#999'\n    });\n    group.line(..._cap_end, {\n      'stroke-width': str(5 * SCALE / 100),\n      'stroke': '#999'\n    });\n    if (child_repeat) {\n      group.text(_cap[2], _cap[3], child.repeat.identifier, {\n        'font-size': str(Math.floor(SCALE / 3)),\n        'text-anchor': this.rotate ? 'middle' : 'end',\n        'dy': this.rotate ? '1em' : '0.25em',\n        'dx': this.rotate ? '-0.25em' : '-0.25em'\n      });\n    }\n  }\n  return group;\n};\nvar cleanup_residues = function cleanup_residues(active_residues) {\n  var active = new Set(active_residues);\n  for (var res of this.rendered.keys()) {\n    if (!(res instanceof _Monosaccharide__WEBPACK_IMPORTED_MODULE_1__[\"default\"])) {\n      continue;\n    }\n    if (!active.has(res)) {\n      var elements = this.rendered.get(res);\n      this.removeRendered(elements);\n      this.rendered.delete(res);\n    }\n  }\n};\nvar layout_sugar = function layout_sugar(sugar, layout_engine) {\n  if (!layout_engine) {\n    log.info('No layout engine specified, skipping layout');\n    return;\n  }\n  log.info('Laying out', sugar.sequence);\n  var layout = layout_engine.PerformLayout(sugar);\n  layout.calculateIdentifier = layout_engine.CalculateIdentifier;\n  return layout;\n};\nvar render_sugar = function render_sugar(sugar, layout) {\n  var new_residues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : sugar.composition();\n  var xvals = [];\n  var yvals = [];\n  var container = this.rendered.get(sugar);\n  var ROTATE = this.rotate;\n  var LTR = this.leftToRight;\n\n  // Setup container and set up tagging\n\n  container = this.setupContainer(container, sugar);\n  if (new_residues.length < 1) {\n    return;\n  }\n  var zindices = [];\n  for (var residue of layout ? new_residues : []) {\n    var position = layout.get(residue);\n    var xval = position.x;\n    var yval = position.y;\n    if (ROTATE) {\n      position.x = LTR ? -1 * (yval + position.height) : yval;\n      position.y = LTR ? xval : -1 * (xval + position.width);\n    }\n    xvals.push(position.x);\n    xvals.push(position.x + position.width);\n    yvals.push(position.y);\n    yvals.push(position.y + position.height);\n    var icon = null;\n    var current = this.rendered.get(residue);\n    if (!current) {\n      // Render icon\n      icon = this.renderIcon(container, layout.calculateIdentifier(residue), residue, sugar);\n      current = {\n        residue: icon,\n        linkage: null\n      };\n      this.rendered.set(residue, current);\n    } else {\n      icon = current.residue;\n    }\n    if (position.z !== 1) {\n      zindices.push({\n        z: position.z,\n        icon: icon\n      });\n    }\n    var show_labels = this[layout_engine].LINKS == true;\n    if (current.linkage) {\n      // Remove linkage\n      this.removeRendered({\n        linkage: current.linkage\n      });\n    }\n\n    // Render linkage\n    current.linkage = this.renderLinkage(position, residue.parent ? layout.get(residue.parent) : undefined, residue, residue.parent, sugar, container, show_labels && residue.identifier !== 'HSO3');\n    var rotate_angle = 0;\n    if (position.rotate) {\n      rotate_angle = position.rotate;\n    }\n    if (ROTATE && !position.keep_horizontal) {\n      rotate_angle -= LTR ? -90 : 90;\n    }\n    this.setIconPosition(icon, position.x * SCALE, position.y * SCALE, position.width * SCALE, position.height * SCALE, rotate_angle);\n  }\n  var correct_order = zindices.map(z => z.icon.element).map(el => [...el.parentNode.children].indexOf(el)).map((v, i, a) => v - (a[i - 1] || 0)).map(v => v >= 0).reduce((curr, next) => curr && next, true);\n  if (!correct_order) {\n    for (var zindex of zindices.sort((a, b) => a.z - b.z)) {\n      container.sendToFront(zindex.icon);\n    }\n  }\n  if (this.groupTag && container.tagGroup) {\n    var els_to_render = [];\n    for (var _residue of sugar.composition_for_tag(this.groupTag)) {\n      var rendered_els = this.rendered.get(_residue);\n      if (!rendered_els) {\n        continue;\n      }\n      if (rendered_els.linkage) {\n        container.tagGroup.appendChild(rendered_els.linkage);\n      }\n      els_to_render.push(rendered_els.residue);\n    }\n    for (var el of els_to_render) {\n      container.tagGroup.appendChild(el.element);\n    }\n  }\n  return container;\n};\nclass Renderer {\n  constructor(container, layout) {\n    if (container && layout) {\n      this[layout_engine] = layout;\n      this[layout_cache] = new WeakMap();\n    }\n    this[rendered_sugars_symbol] = [];\n    this[rendered_symbol] = new Map();\n  }\n  get LayoutEngine() {\n    return this[layout_engine];\n  }\n  set LayoutEngine(engine) {\n    this[layout_engine] = engine;\n  }\n  static get GLOBAL_SCALE() {\n    return SCALE;\n  }\n  get element() {\n    return this[canvas_symbol];\n  }\n  set element(el) {\n    this[canvas_symbol] = el;\n  }\n  get rendered() {\n    return this[rendered_symbol];\n  }\n  set groupTag(tag) {\n    if (tag !== this[group_tag_symbol]) {\n      this.resetTags();\n    }\n    this[group_tag_symbol] = tag;\n  }\n  get groupTag() {\n    return this[group_tag_symbol];\n  }\n  addSugar(sugar) {\n    this[rendered_sugars_symbol].push(sugar);\n  }\n  get sugars() {\n    return Object.freeze([].concat(this[rendered_sugars_symbol]));\n  }\n  layoutFor(sugarElement) {\n    if (!this.global_layout.has(sugarElement)) {\n      return;\n    }\n    var {\n      x,\n      y,\n      width,\n      height\n    } = this.global_layout.get(sugarElement);\n    return {\n      x,\n      y,\n      width,\n      height\n    };\n  }\n  refresh() {\n    cleanup_residues.bind(this)(Array.prototype.concat(...this[rendered_sugars_symbol].map(sug => sug.composition())));\n    this.global_layout = new WeakMap();\n    for (var sugar of this[rendered_sugars_symbol]) {\n      var layout = layout_sugar(sugar, this[layout_engine]);\n      if (layout) {\n        for (var sugarEl of [sugar, ...sugar.composition()]) {\n          this.global_layout.set(sugarEl, layout.get(sugarEl));\n        }\n      }\n      var modified_residues = FULL_REFRESH ? sugar.composition() : sugar.composition().filter(calculate_moved_residues.bind(this, layout));\n      render_sugar.bind(this)(sugar, layout, modified_residues);\n    }\n    return Promise.resolve();\n  }\n  setupContainer() {}\n  resetTags() {}\n  removeRendered() {}\n  renderIcon() {}\n  renderLinkageLabel() {}\n  renderLinkage() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return render_linkage.call(this, ...args);\n  }\n  get horizontal() {\n    return this[rotate_symbol];\n  }\n  set horizontal(flag) {\n    if (flag) {\n      this[rotate_symbol] = true;\n    } else {\n      this[rotate_symbol] = false;\n    }\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (Renderer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL1JlbmRlcmVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL2dseWNhbi5qcy9qcy9SZW5kZXJlci5qcz9iZWE3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGRlYnVnIGZyb20gJy4vRGVidWcnO1xuXG5pbXBvcnQgTW9ub3NhY2NoYXJpZGUgZnJvbSAnLi9Nb25vc2FjY2hhcmlkZSc7XG5cbmltcG9ydCBSZXBlYXQgZnJvbSAnLi9SZXBlYXQnO1xuXG5jb25zdCBtb2R1bGVfc3RyaW5nPSdnbHljYW5qczpyZW5kZXJlcic7XG5cbmNvbnN0IGxvZyA9IGRlYnVnKG1vZHVsZV9zdHJpbmcpO1xuXG5jb25zdCBjYW52YXNfc3ltYm9sID0gU3ltYm9sKCdjYW52YXMnKTtcblxuY29uc3QgbGF5b3V0X2NhY2hlID0gU3ltYm9sKCdjYWNoZWRfbGF5b3V0Jyk7XG5cbmNvbnN0IGxheW91dF9lbmdpbmUgPSBTeW1ib2woJ2xheW91dCcpO1xuXG5jb25zdCByZW5kZXJlZF9zdWdhcnNfc3ltYm9sID0gU3ltYm9sKCdyZW5kZXJlZF9zdWdhcnMnKTtcblxuY29uc3QgcmVuZGVyZWRfc3ltYm9sID0gU3ltYm9sKCdyZW5kZXJlZF9lbGVtZW50cycpO1xuXG5jb25zdCBncm91cF90YWdfc3ltYm9sID0gU3ltYm9sKCdncm91cF90YWcnKTtcblxuY29uc3Qgcm90YXRlX3N5bWJvbCA9IFN5bWJvbCgncm90YXRlJyk7XG5cbmNvbnN0IFNDQUxFID0gMTAwO1xuXG5jb25zdCBQUkVDSVNJT04gPSAxO1xuXG5jb25zdCBGVUxMX1JFRlJFU0ggPSB0cnVlO1xuXG5jb25zdCBzdHIgPSAobnVtKSA9PiBudW0udG9GaXhlZChQUkVDSVNJT04pO1xuXG5jb25zdCBjYWxjdWxhdGVfbW92ZWRfcmVzaWR1ZXMgPSBmdW5jdGlvbihsYXlvdXQscmVzaWR1ZSkge1xuICBpZiAoISBsYXlvdXQgKSB7XG4gICAgLy8gV2UgZG9uJ3QgaGF2ZSBhIGxheW91dCBzcGVjaWZpZWQsIHNvIHdlXG4gICAgLy8gc2hvdWxkIHNraXAgbW92aW5nIGFueSByZXNpZHVlcyBhcm91bmQhXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGxldCBjdXJyZW50ID0gdGhpc1tsYXlvdXRfY2FjaGVdLmdldChyZXNpZHVlKTtcbiAgbGV0IHVwZGF0ZWQgPSBsYXlvdXQuZ2V0KHJlc2lkdWUpO1xuICBpZiAoICEgY3VycmVudCApIHtcbiAgICB0aGlzW2xheW91dF9jYWNoZV0uc2V0KHJlc2lkdWUsbGF5b3V0LmdldChyZXNpZHVlKSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdGhpc1tsYXlvdXRfY2FjaGVdLnNldChyZXNpZHVlLHVwZGF0ZWQpO1xuICByZXR1cm4gKCAhICggY3VycmVudC54ID09PSB1cGRhdGVkLnggJiZcbiAgICAgY3VycmVudC55ID09PSB1cGRhdGVkLnkgJiZcbiAgICAgY3VycmVudC53aWR0aCA9PT0gdXBkYXRlZC53aWR0aCAmJlxuICAgICBjdXJyZW50LmhlaWdodCA9PT0gdXBkYXRlZC5oZWlnaHQgJiZcbiAgICAgY3VycmVudC56ID09PSB1cGRhdGVkLnogKSk7XG59O1xuXG5jb25zdCBnZW5lcmljX2xvbmdfYXhpc19zaXplID0gKHJlcykgPT4gcmVzLmhlaWdodDtcbmNvbnN0IGdlbmVyaWNfc2hvcnRfYXhpc19zaXplID0gKHJlcykgPT4gcmVzLndpZHRoO1xuXG5jb25zdCByZW5kZXJfbGlua19sYWJlbCA9IGZ1bmN0aW9uKGFub21lcixsaW5rYWdlLGNoaWxkX3BvcyxwYXJlbnRfcG9zLGNhbnZhcykge1xuXG4gIGNvbnN0IFJPVEFURSA9IHRoaXMucm90YXRlO1xuICBjb25zdCBMVFIgPSB0aGlzLmxlZnRUb1JpZ2h0O1xuXG4gIGxldCBnZXRfbG9uZ19heGlzX3NpemUgPSBST1RBVEUgPyBnZW5lcmljX3Nob3J0X2F4aXNfc2l6ZSA6IGdlbmVyaWNfbG9uZ19heGlzX3NpemU7XG4gIGxldCBnZXRfc2hvcnRfYXhpc19zaXplID0gUk9UQVRFID8gZ2VuZXJpY19sb25nX2F4aXNfc2l6ZSA6IGdlbmVyaWNfc2hvcnRfYXhpc19zaXplO1xuXG5cbiAgbGV0IGZhbmN5X2Fub21lciA9ICc/JztcbiAgaWYgKGFub21lciA9PT0gJ2InKSB7IGZhbmN5X2Fub21lciA9ICdcXHUwM0IyJzsgfVxuICBpZiAoYW5vbWVyID09PSAnYScpIHsgZmFuY3lfYW5vbWVyID0gJ1xcdTAzQjEnOyB9XG5cbiAgbGlua2FnZSA9IGxpbmthZ2UgfHwgJz8nO1xuICBpZiAobGlua2FnZSA8IDApIHtcbiAgICBsaW5rYWdlPScnO1xuICB9XG4gIGxldCBbY2hpbGRfY3gsY2hpbGRfY3kscGFyZW50X2N4LHBhcmVudF9jeV0gPSBbY2hpbGRfcG9zLngrY2hpbGRfcG9zLndpZHRoLzIsXG4gICAgY2hpbGRfcG9zLnkrY2hpbGRfcG9zLmhlaWdodC8yLFxuICAgIHBhcmVudF9wb3MueCtwYXJlbnRfcG9zLndpZHRoLzIsXG4gICAgcGFyZW50X3Bvcy55K3BhcmVudF9wb3MuaGVpZ2h0LzJdO1xuXG4gIGxldCBsb25nX2F4aXMgPSBST1RBVEUgPyBjaGlsZF9jeCAtIHBhcmVudF9jeCA6IGNoaWxkX2N5IC0gcGFyZW50X2N5O1xuICBsZXQgc2hvcnRfYXhpcyA9IFJPVEFURSA/IGNoaWxkX2N5IC0gcGFyZW50X2N5IDogY2hpbGRfY3ggLSBwYXJlbnRfY3g7XG5cbiAgbGV0IGxvbmdfYXhpc19zaXplID0gZ2V0X2xvbmdfYXhpc19zaXplKGNoaWxkX3BvcykgKyBnZXRfbG9uZ19heGlzX3NpemUocGFyZW50X3Bvcyk7XG5cbiAgbGV0IHNob3J0X2F4aXNfYmFzZSA9IFJPVEFURSA/IHBhcmVudF9jeSA6IHBhcmVudF9jeDtcbiAgbGV0IGxvbmdfYXhpc19iYXNlID0gUk9UQVRFID8gY2hpbGRfcG9zLnggOiBjaGlsZF9wb3MueTtcblxuICBsZXQgc2hvcnRfYXhpc19kaXJlY3Rpb24gPSBST1RBVEUgPyBjaGlsZF9wb3MueSAtIHBhcmVudF9wb3MueSA6IGNoaWxkX3Bvcy54IC0gcGFyZW50X3Bvcy54O1xuICBsZXQgbG9uZ19heGlzX2RpcmVjdGlvbiA9IFJPVEFURSA/IGNoaWxkX3Bvcy54IC0gcGFyZW50X3Bvcy54IDogY2hpbGRfcG9zLnkgLSBwYXJlbnRfcG9zLnk7XG5cbiAgbGV0IGdyYWRpZW50ID0gc2hvcnRfYXhpcyAvXG4gICAgICAgICAgICAgICAgIGxvbmdfYXhpcztcblxuICBpZiAoISBpc0Zpbml0ZShncmFkaWVudCkpIHtcbiAgICBncmFkaWVudCA9IC0xO1xuICAgIGlmIChzaG9ydF9heGlzX2RpcmVjdGlvbiA+IDApIHtcbiAgICAgIGdyYWRpZW50ID0gMTtcbiAgICB9XG4gIH1cblxuICBsZXQgcmVzaWR1ZV9kaXN0YW5jZSA9IGxvbmdfYXhpcztcblxuICBjb25zdCByYXRpbyA9IDE7XG5cbiAgbGV0IGNoaWxkX2Rpc3RhbmNlID0gcmVzaWR1ZV9kaXN0YW5jZSpyYXRpbztcblxuICBpZiAoTWF0aC5hYnMocmVzaWR1ZV9kaXN0YW5jZSkgPj0gKGxvbmdfYXhpc19zaXplLzIpICkge1xuICAgIHJlc2lkdWVfZGlzdGFuY2UgLT0gbG9uZ19heGlzX3NpemUvMjtcbiAgICBjaGlsZF9kaXN0YW5jZSA9IHJlc2lkdWVfZGlzdGFuY2UqcmF0aW8gKyBnZXRfbG9uZ19heGlzX3NpemUocGFyZW50X3BvcykvMjtcbiAgfSBlbHNlIGlmIChyZXNpZHVlX2Rpc3RhbmNlID09IDApIHtcbiAgICBjaGlsZF9kaXN0YW5jZSA9IDAuNDI1Kk1hdGguYWJzKHNob3J0X2F4aXMpO1xuICB9XG4gIGxldCBzaG9ydF9heGlzX3BvcyA9ICggZ3JhZGllbnQgKiBjaGlsZF9kaXN0YW5jZSApO1xuICBpZiAoc2hvcnRfYXhpc19wb3MgPT09IDApIHtcbiAgICBzaG9ydF9heGlzX3BvcyArPSBnZXRfc2hvcnRfYXhpc19zaXplKGNoaWxkX3BvcykvMTA7XG4gIH1cblxuICBsZXQgc2hvcnRfYXhpc19jb29yZCA9IFNDQUxFKihzaG9ydF9heGlzX2Jhc2UgKyBzaG9ydF9heGlzX3Bvcyk7XG4gIGxldCBsb25nX2F4aXNfY29vcmQgPSBTQ0FMRSoobG9uZ19heGlzX2Jhc2UgKyAoTFRSID8gMCA6IDEpKmdldF9sb25nX2F4aXNfc2l6ZShjaGlsZF9wb3MpKTtcblxuICBpZiAobG9uZ19heGlzX2RpcmVjdGlvbiA9PT0gMCkge1xuICAgIGxvbmdfYXhpc19jb29yZCA9IFNDQUxFKihsb25nX2F4aXNfYmFzZSArIGdldF9sb25nX2F4aXNfc2l6ZShjaGlsZF9wb3MpLzgpO1xuICAgIGlmICggbG9uZ19heGlzX2Nvb3JkID4gU0NBTEUvNCApIHtcbiAgICAgIGxvbmdfYXhpc19jb29yZCA9IFNDQUxFLzQ7XG4gICAgfVxuICB9XG5cbiAgbGV0IGxhYmVsID0gdGhpcy5yZW5kZXJMaW5rYWdlTGFiZWwoIGNhbnZhcyxcbiAgICBST1RBVEUgPyBsb25nX2F4aXNfY29vcmQgOiBzaG9ydF9heGlzX2Nvb3JkLFxuICAgIFJPVEFURSA/IHNob3J0X2F4aXNfY29vcmQgOiBsb25nX2F4aXNfY29vcmQsXG4gICAgZmFuY3lfYW5vbWVyK2xpbmthZ2UsXG4gICAgUk9UQVRFLFxuICAgIHNob3J0X2F4aXNfcG9zLFxuICAgIE1hdGguYWJzKGdyYWRpZW50KSA8IDEgPyBMVFIgOiBmYWxzZSApO1xuXG4gIGNhbnZhcy5zZW5kVG9CYWNrKGxhYmVsKTtcbiAgcmV0dXJuIGxhYmVsO1xufTtcblxuY29uc3QgcG9pbnRfYWxvbmdfbGluZSA9ICh4MCx5MCx4MSx5MSx0KSA9PiB7XG4gIHJldHVybiBbKDEtdCkqeDAgKyB0KngxLCAoMS10KSp5MCArIHQqeTEgXTtcbn07XG5cbmNvbnN0IHBlcnBlbmRpY3VsYXJfbGluZSA9ICh4MCx5MCx4MSx5MSxsZW5ndGgpID0+IHtcbiAgbGV0IHggPSB5MCAtIHkxOyAvLyBhcyB2ZWN0b3IgYXQgOTAgZGVnIHRvIHRoZSBsaW5lXG4gIGxldCB5ID0geDEgLSB4MDtcbiAgY29uc3QgbGVuID0gbGVuZ3RoIC8gTWF0aC5oeXBvdCh4LCB5KTtcbiAgeCAqPSBsZW47XG4gIHkgKj0gbGVuOyBcbiAgcmV0dXJuIFt4MCArIHgsIHkwICsgeSwgeDAgLSB4LCB5MCAtIHldO1xufTtcblxuY29uc3QgaGFsZl9wZXJwZW5kaWN1bGFyX2xpbmUgPSAoeDAseTAseDEseTEsbGVuZ3RoKSA9PiB7XG4gIGxldCB4ID0geTAgLSB5MTsgLy8gYXMgdmVjdG9yIGF0IDkwIGRlZyB0byB0aGUgbGluZVxuICBsZXQgeSA9IHgxIC0geDA7XG4gIGNvbnN0IGxlbiA9IGxlbmd0aCAvIE1hdGguaHlwb3QoeCwgeSk7XG4gIHggKj0gbGVuO1xuICB5ICo9IGxlbjsgXG4gIHJldHVybiBbeDAgLSB4LCB5MCAtIHksIHgwLCB5MF07XG59O1xuXG5cbmNvbnN0IHJlbmRlcl9saW5rYWdlID0gZnVuY3Rpb24oY2hpbGRfcG9zLHBhcmVudF9wb3MsY2hpbGQscGFyZW50LHN1Z2FyLGNhbnZhcyxzaG93X2xhYmVscyA9IHRydWUpIHtcbiAgaWYgKCAhIHBhcmVudF9wb3MgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBwb3NpdGlvbnMgPSBbXG4gICAgU0NBTEUqKGNoaWxkX3Bvcy54ICsgY2hpbGRfcG9zLndpZHRoIC8gMiksXG4gICAgU0NBTEUqKGNoaWxkX3Bvcy55ICsgY2hpbGRfcG9zLmhlaWdodCAvIDIpLFxuICAgIFNDQUxFKihwYXJlbnRfcG9zLnggKyBwYXJlbnRfcG9zLndpZHRoIC8gMiksXG4gICAgU0NBTEUqKHBhcmVudF9wb3MueSArIHBhcmVudF9wb3MuaGVpZ2h0IC8gMilcbiAgXTtcbiAgbGV0IGdyb3VwID0gdGhpcy5yZW5kZXJMaW5rYWdlR3JvdXAoY2FudmFzLHN1Z2FyLGNoaWxkKTtcbiAgY2FudmFzLnNlbmRUb0JhY2soZ3JvdXApO1xuICBncm91cC5saW5lKC4uLnBvc2l0aW9ucywgeyAnc3Ryb2tlLXdpZHRoJzogc3RyKFNDQUxFLzEwMCksICdzdHJva2UnOiAnIzMzMycgfSk7XG5cbiAgaWYgKCBzaG93X2xhYmVscyApIHtcbiAgICByZW5kZXJfbGlua19sYWJlbC5jYWxsKHRoaXMsY2hpbGQuYW5vbWVyLHBhcmVudC5saW5rYWdlT2YoY2hpbGQpLGNoaWxkX3BvcyxwYXJlbnRfcG9zLGdyb3VwKTtcbiAgfVxuXG4gIGNvbnN0IGNoaWxkX3JlcGVhdCA9IChjaGlsZCBpbnN0YW5jZW9mIFJlcGVhdC5Nb25vc2FjY2hhcmlkZSkgJiYgY2hpbGQucmVwZWF0Lm1vZGUgIT09IFJlcGVhdC5NT0RFX0VYUEFORDtcbiAgY29uc3QgcGFyZW50X3JlcGVhdCA9IChwYXJlbnQgaW5zdGFuY2VvZiBSZXBlYXQuTW9ub3NhY2NoYXJpZGUpICYmIHBhcmVudC5yZXBlYXQubW9kZSAhPT0gUmVwZWF0Lk1PREVfRVhQQU5EO1xuICBjb25zdCBkaWZmZXJlbnRfcmVwZWF0cyA9IGNoaWxkX3JlcGVhdCAmJiBwYXJlbnRfcmVwZWF0ICYmIGNoaWxkLnJlcGVhdCAhPT0gcGFyZW50LnJlcGVhdDtcblxuICBpZiAoY2hpbGRfcmVwZWF0ICYmIGNoaWxkLmVuZHNSZXBlYXRVbml0ICYmIGNoaWxkLmNoaWxkcmVuLmZpbHRlciggcmVzID0+IFsnRnVjJywnSFNPMyddLmluZGV4T2YocmVzLmlkZW50aWZpZXIpIDwgMCApLmxlbmd0aCA9PT0gMCApIHtcbiAgICBjb25zdCBleHRlbnRzID0gW1xuICAgICAgU0NBTEUqKGNoaWxkX3Bvcy54ICsgY2hpbGRfcG9zLndpZHRoIC8gMiksXG4gICAgICBTQ0FMRSooY2hpbGRfcG9zLnkgKyBjaGlsZF9wb3MuaGVpZ2h0IC8gMiksXG4gICAgICBTQ0FMRSoocGFyZW50X3Bvcy54ICsgcGFyZW50X3Bvcy53aWR0aCAvIDIpLFxuICAgICAgU0NBTEUqKHBhcmVudF9wb3MueSArIHBhcmVudF9wb3MuaGVpZ2h0IC8gMilcbiAgICBdO1xuICAgIGNvbnN0IHJldmVyc2VfY2FwID0gLTE7XG5cbiAgICBsZXQgYnJhY2tldF9zY2FsZSA9IDAuMjU7XG5cbiAgICBpZiAoY2hpbGRfcG9zLnggLSBwYXJlbnRfcG9zLnggIT09IDAgJiYgY2hpbGRfcG9zLnkgLSBwYXJlbnRfcG9zLnkgIT09IDAgKSB7XG4gICAgICBicmFja2V0X3NjYWxlID0gMS80O1xuICAgIH1cblxuICAgIGNvbnN0IGJyYWNrZXRfcG9zaXRpb24gPSBwb2ludF9hbG9uZ19saW5lKC4uLmV4dGVudHMsIC0wLjUgKTtcbiAgICBjb25zdCBwZXJwZW5kaWN1bGFyID0gcGVycGVuZGljdWxhcl9saW5lKCBicmFja2V0X3Bvc2l0aW9uWzBdLGJyYWNrZXRfcG9zaXRpb25bMV0sIGV4dGVudHNbMl0sZXh0ZW50c1szXSAsIFNDQUxFICogY2hpbGRfcG9zLndpZHRoICogYnJhY2tldF9zY2FsZSApO1xuICAgIGNvbnN0IGNhcCA9IGhhbGZfcGVycGVuZGljdWxhcl9saW5lKCAuLi5wZXJwZW5kaWN1bGFyICwgcmV2ZXJzZV9jYXAqU0NBTEUgKiBjaGlsZF9wb3Mud2lkdGggLyA4ICk7XG4gICAgY29uc3QgY2FwX2VuZCA9IGhhbGZfcGVycGVuZGljdWxhcl9saW5lKCBwZXJwZW5kaWN1bGFyWzJdLHBlcnBlbmRpY3VsYXJbM10scGVycGVuZGljdWxhclswXSxwZXJwZW5kaWN1bGFyWzFdICwgcmV2ZXJzZV9jYXAqLTEqU0NBTEUgKiBjaGlsZF9wb3Mud2lkdGggLyA4ICk7XG5cbiAgICBncm91cC5saW5lKC4uLnBlcnBlbmRpY3VsYXIsIHsgJ3N0cm9rZS13aWR0aCc6IHN0cig1KlNDQUxFLzEwMCksICdzdHJva2UnOiAnIzk5OScgfSk7XG4gICAgZ3JvdXAubGluZSguLi5jYXAsIHsgJ3N0cm9rZS13aWR0aCc6IHN0cig1KlNDQUxFLzEwMCksICdzdHJva2UnOiAnIzk5OScgfSk7XG4gICAgZ3JvdXAubGluZSguLi5jYXBfZW5kLCB7ICdzdHJva2Utd2lkdGgnOiBzdHIoNSpTQ0FMRS8xMDApLCAnc3Ryb2tlJzogJyM5OTknIH0pO1xuXG4gIH1cblxuXG4gIGlmICggY2hpbGRfcmVwZWF0ID8gKCEgcGFyZW50X3JlcGVhdCB8fCBkaWZmZXJlbnRfcmVwZWF0cykgOiBwYXJlbnRfcmVwZWF0ICkge1xuXG5cbiAgICAvLyBUaGlzIGxpbmUgc2hvdWxkIGdvIHRvIHRoZSBlZGdlcyBvZiB0aGUgaWNvbnMgYWxvbmcgdGhlIGxvbmcgKHktYXhpcylcbiAgICBjb25zdCBleHRlbnRzID0gW1xuICAgICAgU0NBTEUqKGNoaWxkX3Bvcy54ICsgY2hpbGRfcG9zLndpZHRoIC8gMiksXG4gICAgICBTQ0FMRSooY2hpbGRfcG9zLnkgKyBjaGlsZF9wb3MuaGVpZ2h0IC8gMiksXG4gICAgICBTQ0FMRSoocGFyZW50X3Bvcy54ICsgcGFyZW50X3Bvcy53aWR0aCAvIDIpLFxuICAgICAgU0NBTEUqKHBhcmVudF9wb3MueSArIHBhcmVudF9wb3MuaGVpZ2h0IC8gMilcbiAgICBdO1xuXG4gICAgY29uc3QgcmV2ZXJzZV9jYXAgPSBjaGlsZF9yZXBlYXQgPyAxIDogLTE7XG5cbiAgICBsZXQgYnJhY2tldF9zY2FsZSA9IDAuMjU7XG4gICAgaWYgKGNoaWxkX3Bvcy54IC0gcGFyZW50X3Bvcy54ICE9PSAwICYmIGNoaWxkX3Bvcy55IC0gcGFyZW50X3Bvcy55ICE9PSAwICkge1xuICAgICAgYnJhY2tldF9zY2FsZSA9IDEvNDtcbiAgICB9XG4gICAgY29uc3QgYnJhY2tldF9wb3NpdGlvbiA9IHBvaW50X2Fsb25nX2xpbmUoLi4uZXh0ZW50cywgcmV2ZXJzZV9jYXAgPiAwID8gMC41NSA6IDAuNSApO1xuICAgIGNvbnN0IHBlcnBlbmRpY3VsYXIgPSBwZXJwZW5kaWN1bGFyX2xpbmUoIGJyYWNrZXRfcG9zaXRpb25bMF0sYnJhY2tldF9wb3NpdGlvblsxXSwgZXh0ZW50c1syXSxleHRlbnRzWzNdICwgU0NBTEUgKiBjaGlsZF9wb3Mud2lkdGggKiBicmFja2V0X3NjYWxlICk7XG4gICAgY29uc3QgY2FwID0gaGFsZl9wZXJwZW5kaWN1bGFyX2xpbmUoIC4uLnBlcnBlbmRpY3VsYXIgLCByZXZlcnNlX2NhcCpTQ0FMRSAqIGNoaWxkX3Bvcy53aWR0aCAvIDggKTtcbiAgICBjb25zdCBjYXBfZW5kID0gaGFsZl9wZXJwZW5kaWN1bGFyX2xpbmUoIHBlcnBlbmRpY3VsYXJbMl0scGVycGVuZGljdWxhclszXSxwZXJwZW5kaWN1bGFyWzBdLHBlcnBlbmRpY3VsYXJbMV0gLCByZXZlcnNlX2NhcCotMSpTQ0FMRSAqIGNoaWxkX3Bvcy53aWR0aCAvIDggKTtcblxuICAgIGdyb3VwLmxpbmUoLi4ucGVycGVuZGljdWxhciwgeyAnc3Ryb2tlLXdpZHRoJzogc3RyKDUqU0NBTEUvMTAwKSwgJ3N0cm9rZSc6ICcjOTk5JyB9KTtcbiAgICBncm91cC5saW5lKC4uLmNhcCwgeyAnc3Ryb2tlLXdpZHRoJzogc3RyKDUqU0NBTEUvMTAwKSwgJ3N0cm9rZSc6ICcjOTk5JyB9KTtcbiAgICBncm91cC5saW5lKC4uLmNhcF9lbmQsIHsgJ3N0cm9rZS13aWR0aCc6IHN0cig1KlNDQUxFLzEwMCksICdzdHJva2UnOiAnIzk5OScgfSk7XG5cbiAgICBpZiAoY2hpbGRfcmVwZWF0KSB7XG4gICAgICBncm91cC50ZXh0KCBjYXBbMl0gLCBjYXBbM10sIGNoaWxkLnJlcGVhdC5pZGVudGlmaWVyLCB7ICdmb250LXNpemUnIDogc3RyKE1hdGguZmxvb3IoU0NBTEUvMykpLCAndGV4dC1hbmNob3InIDogdGhpcy5yb3RhdGUgPyAnbWlkZGxlJyA6ICdlbmQnLCAnZHknIDogdGhpcy5yb3RhdGUgPyAnMWVtJzonMC4yNWVtJywgJ2R4JyA6IHRoaXMucm90YXRlID8gJy0wLjI1ZW0nIDogJy0wLjI1ZW0nIH0gKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZ3JvdXA7XG59O1xuXG5jb25zdCBjbGVhbnVwX3Jlc2lkdWVzID0gZnVuY3Rpb24oYWN0aXZlX3Jlc2lkdWVzKSB7XG4gIGxldCBhY3RpdmUgPSBuZXcgU2V0KGFjdGl2ZV9yZXNpZHVlcyk7XG4gIGZvciAobGV0IHJlcyBvZiB0aGlzLnJlbmRlcmVkLmtleXMoKSkge1xuICAgIGlmICggISAocmVzIGluc3RhbmNlb2YgTW9ub3NhY2NoYXJpZGUpICkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmICghIGFjdGl2ZS5oYXMocmVzKSkge1xuICAgICAgbGV0IGVsZW1lbnRzID0gdGhpcy5yZW5kZXJlZC5nZXQocmVzKTtcbiAgICAgIHRoaXMucmVtb3ZlUmVuZGVyZWQoZWxlbWVudHMpO1xuICAgICAgdGhpcy5yZW5kZXJlZC5kZWxldGUocmVzKTtcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IGxheW91dF9zdWdhciA9IGZ1bmN0aW9uKHN1Z2FyLGxheW91dF9lbmdpbmUpIHtcbiAgaWYgKCAhIGxheW91dF9lbmdpbmUgKSB7XG4gICAgbG9nLmluZm8oJ05vIGxheW91dCBlbmdpbmUgc3BlY2lmaWVkLCBza2lwcGluZyBsYXlvdXQnKTtcbiAgICByZXR1cm47XG4gIH1cbiAgbG9nLmluZm8oJ0xheWluZyBvdXQnLHN1Z2FyLnNlcXVlbmNlKTtcbiAgbGV0IGxheW91dCA9IGxheW91dF9lbmdpbmUuUGVyZm9ybUxheW91dChzdWdhcik7XG4gIGxheW91dC5jYWxjdWxhdGVJZGVudGlmaWVyID0gbGF5b3V0X2VuZ2luZS5DYWxjdWxhdGVJZGVudGlmaWVyO1xuICByZXR1cm4gbGF5b3V0O1xufTtcblxuY29uc3QgcmVuZGVyX3N1Z2FyID0gZnVuY3Rpb24oc3VnYXIsbGF5b3V0LG5ld19yZXNpZHVlcz1zdWdhci5jb21wb3NpdGlvbigpKSB7XG4gIGxldCB4dmFscyA9IFtdO1xuICBsZXQgeXZhbHMgPSBbXTtcbiAgbGV0IGNvbnRhaW5lciA9IHRoaXMucmVuZGVyZWQuZ2V0KHN1Z2FyKTtcblxuICBjb25zdCBST1RBVEUgPSB0aGlzLnJvdGF0ZTtcbiAgY29uc3QgTFRSID0gdGhpcy5sZWZ0VG9SaWdodDtcblxuICAvLyBTZXR1cCBjb250YWluZXIgYW5kIHNldCB1cCB0YWdnaW5nXG5cbiAgY29udGFpbmVyID0gdGhpcy5zZXR1cENvbnRhaW5lcihjb250YWluZXIsc3VnYXIpO1xuXG4gIGlmIChuZXdfcmVzaWR1ZXMubGVuZ3RoIDwgMSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCB6aW5kaWNlcyA9IFtdO1xuICBmb3IgKGxldCByZXNpZHVlIG9mIChsYXlvdXQgPyBuZXdfcmVzaWR1ZXMgOiBbXSkpIHtcblxuICAgIGxldCBwb3NpdGlvbiA9IGxheW91dC5nZXQocmVzaWR1ZSk7XG4gICAgbGV0IHh2YWwgPSBwb3NpdGlvbi54O1xuICAgIGxldCB5dmFsID0gcG9zaXRpb24ueTtcbiAgICBpZiAoUk9UQVRFKSB7XG4gICAgICBwb3NpdGlvbi54ID0gTFRSPyAtMSooeXZhbCArIHBvc2l0aW9uLmhlaWdodCkgOiB5dmFsO1xuICAgICAgcG9zaXRpb24ueSA9IExUUj8geHZhbCA6IC0xKih4dmFsICsgcG9zaXRpb24ud2lkdGgpO1xuICAgIH1cblxuICAgIHh2YWxzLnB1c2gocG9zaXRpb24ueCk7XG4gICAgeHZhbHMucHVzaChwb3NpdGlvbi54K3Bvc2l0aW9uLndpZHRoKTtcbiAgICB5dmFscy5wdXNoKHBvc2l0aW9uLnkpO1xuICAgIHl2YWxzLnB1c2gocG9zaXRpb24ueStwb3NpdGlvbi5oZWlnaHQpO1xuXG4gICAgbGV0IGljb24gPSBudWxsO1xuXG4gICAgbGV0IGN1cnJlbnQgPSB0aGlzLnJlbmRlcmVkLmdldChyZXNpZHVlKTtcblxuICAgIGlmICggISBjdXJyZW50ICkge1xuICAgICAgLy8gUmVuZGVyIGljb25cbiAgICAgIGljb24gPSB0aGlzLnJlbmRlckljb24oIGNvbnRhaW5lciwgbGF5b3V0LmNhbGN1bGF0ZUlkZW50aWZpZXIocmVzaWR1ZSkgLCByZXNpZHVlLCBzdWdhciApO1xuICAgICAgY3VycmVudCA9IHsgcmVzaWR1ZTogaWNvbiwgbGlua2FnZTogbnVsbCB9O1xuICAgICAgdGhpcy5yZW5kZXJlZC5zZXQocmVzaWR1ZSwgY3VycmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGljb24gPSBjdXJyZW50LnJlc2lkdWU7XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uLnogIT09IDEpIHtcbiAgICAgIHppbmRpY2VzLnB1c2goeyB6OiBwb3NpdGlvbi56LCBpY29uOiBpY29uIH0pO1xuICAgIH1cbiAgICBsZXQgc2hvd19sYWJlbHMgPSB0aGlzW2xheW91dF9lbmdpbmVdLkxJTktTID09IHRydWU7XG5cbiAgICBpZiAoIGN1cnJlbnQubGlua2FnZSApIHtcbiAgICAgIC8vIFJlbW92ZSBsaW5rYWdlXG4gICAgICB0aGlzLnJlbW92ZVJlbmRlcmVkKHtsaW5rYWdlOiBjdXJyZW50LmxpbmthZ2UgfSk7XG4gICAgfVxuXG4gICAgLy8gUmVuZGVyIGxpbmthZ2VcbiAgICBjdXJyZW50LmxpbmthZ2UgPSB0aGlzLnJlbmRlckxpbmthZ2UocG9zaXRpb24sIHJlc2lkdWUucGFyZW50ID8gbGF5b3V0LmdldChyZXNpZHVlLnBhcmVudCkgOiB1bmRlZmluZWQsIHJlc2lkdWUscmVzaWR1ZS5wYXJlbnQsIHN1Z2FyLCBjb250YWluZXIsIHNob3dfbGFiZWxzICYmIHJlc2lkdWUuaWRlbnRpZmllciAhPT0gJ0hTTzMnICk7XG5cbiAgICBsZXQgcm90YXRlX2FuZ2xlID0gMDtcbiAgICBpZiAocG9zaXRpb24ucm90YXRlKSB7XG4gICAgICByb3RhdGVfYW5nbGUgPSBwb3NpdGlvbi5yb3RhdGU7XG4gICAgfVxuXG4gICAgaWYgKFJPVEFURSAmJiAhIHBvc2l0aW9uLmtlZXBfaG9yaXpvbnRhbCkge1xuICAgICAgcm90YXRlX2FuZ2xlIC09IChMVFIgPyAtOTAgOiA5MCk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRJY29uUG9zaXRpb24oaWNvbixwb3NpdGlvbi54KlNDQUxFLHBvc2l0aW9uLnkqU0NBTEUscG9zaXRpb24ud2lkdGgqU0NBTEUscG9zaXRpb24uaGVpZ2h0KlNDQUxFLHJvdGF0ZV9hbmdsZSk7XG4gIH1cbiAgbGV0IGNvcnJlY3Rfb3JkZXIgPSB6aW5kaWNlcy5tYXAoIHogPT4gei5pY29uLmVsZW1lbnQgKVxuICAgIC5tYXAoIGVsID0+IFsuLi5lbC5wYXJlbnROb2RlLmNoaWxkcmVuXS5pbmRleE9mKGVsKSApXG4gICAgLm1hcCggKHYsaSxhKSA9PiB2IC0gKGFbaS0xXSB8fCAwKSApXG4gICAgLm1hcCggdiA9PiB2ID49IDAgKVxuICAgIC5yZWR1Y2UoIChjdXJyLG5leHQpID0+IGN1cnIgJiYgbmV4dCwgdHJ1ZSk7XG4gIGlmICggISBjb3JyZWN0X29yZGVyICkge1xuICAgIGZvciAobGV0IHppbmRleCBvZiB6aW5kaWNlcy5zb3J0KCAoYSxiKSA9PiBhLnogLSBiLnogKSApIHtcbiAgICAgIGNvbnRhaW5lci5zZW5kVG9Gcm9udCh6aW5kZXguaWNvbik7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRoaXMuZ3JvdXBUYWcgJiYgY29udGFpbmVyLnRhZ0dyb3VwKSB7XG4gICAgbGV0IGVsc190b19yZW5kZXIgPSBbXTtcbiAgICBmb3IgKGxldCByZXNpZHVlIG9mIHN1Z2FyLmNvbXBvc2l0aW9uX2Zvcl90YWcodGhpcy5ncm91cFRhZykgKSB7XG4gICAgICBsZXQgcmVuZGVyZWRfZWxzID0gdGhpcy5yZW5kZXJlZC5nZXQocmVzaWR1ZSk7XG4gICAgICBpZiAoICEgcmVuZGVyZWRfZWxzICkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChyZW5kZXJlZF9lbHMubGlua2FnZSkge1xuICAgICAgICBjb250YWluZXIudGFnR3JvdXAuYXBwZW5kQ2hpbGQocmVuZGVyZWRfZWxzLmxpbmthZ2UpO1xuICAgICAgfVxuICAgICAgZWxzX3RvX3JlbmRlci5wdXNoKHJlbmRlcmVkX2Vscy5yZXNpZHVlKTtcbiAgICB9XG4gICAgZm9yIChsZXQgZWwgb2YgZWxzX3RvX3JlbmRlcikge1xuICAgICAgY29udGFpbmVyLnRhZ0dyb3VwLmFwcGVuZENoaWxkKGVsLmVsZW1lbnQpO1xuICAgIH1cblxuXG4gIH1cbiAgcmV0dXJuIGNvbnRhaW5lcjtcbn07XG5cbmNsYXNzIFJlbmRlcmVyIHtcbiAgY29uc3RydWN0b3IoY29udGFpbmVyLGxheW91dCkge1xuICAgIGlmIChjb250YWluZXIgJiYgbGF5b3V0KSB7XG4gICAgICB0aGlzW2xheW91dF9lbmdpbmVdID0gbGF5b3V0O1xuICAgICAgdGhpc1tsYXlvdXRfY2FjaGVdID0gbmV3IFdlYWtNYXAoKTtcbiAgICB9XG4gICAgdGhpc1tyZW5kZXJlZF9zdWdhcnNfc3ltYm9sXSA9IFtdO1xuICAgIHRoaXNbcmVuZGVyZWRfc3ltYm9sXSA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIGdldCBMYXlvdXRFbmdpbmUoKSB7XG4gICAgcmV0dXJuIHRoaXNbbGF5b3V0X2VuZ2luZV07XG4gIH1cblxuICBzZXQgTGF5b3V0RW5naW5lKGVuZ2luZSkge1xuICAgIHRoaXNbbGF5b3V0X2VuZ2luZV0gPSBlbmdpbmU7XG4gIH1cblxuXG4gIHN0YXRpYyBnZXQgR0xPQkFMX1NDQUxFKCkge1xuICAgIHJldHVybiBTQ0FMRTtcbiAgfVxuXG4gIGdldCBlbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzW2NhbnZhc19zeW1ib2xdO1xuICB9XG5cbiAgc2V0IGVsZW1lbnQoZWwpIHtcbiAgICB0aGlzW2NhbnZhc19zeW1ib2xdID0gZWw7XG4gIH1cblxuXG4gIGdldCByZW5kZXJlZCgpIHtcbiAgICByZXR1cm4gdGhpc1tyZW5kZXJlZF9zeW1ib2xdO1xuICB9XG5cbiAgc2V0IGdyb3VwVGFnKHRhZykge1xuICAgIGlmICggdGFnICE9PSB0aGlzW2dyb3VwX3RhZ19zeW1ib2xdKSB7XG4gICAgICB0aGlzLnJlc2V0VGFncygpO1xuICAgIH1cbiAgICB0aGlzW2dyb3VwX3RhZ19zeW1ib2xdID0gdGFnO1xuICB9XG5cbiAgZ2V0IGdyb3VwVGFnKCkge1xuICAgIHJldHVybiB0aGlzW2dyb3VwX3RhZ19zeW1ib2xdO1xuICB9XG5cbiAgYWRkU3VnYXIoc3VnYXIpIHtcbiAgICB0aGlzW3JlbmRlcmVkX3N1Z2Fyc19zeW1ib2xdLnB1c2goc3VnYXIpO1xuICB9XG5cbiAgZ2V0IHN1Z2FycygpIHtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShbXS5jb25jYXQoIHRoaXNbcmVuZGVyZWRfc3VnYXJzX3N5bWJvbF0gKSk7XG4gIH1cblxuICBsYXlvdXRGb3Ioc3VnYXJFbGVtZW50KSB7XG4gICAgaWYgKCAhIHRoaXMuZ2xvYmFsX2xheW91dC5oYXMoc3VnYXJFbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQge3gseSx3aWR0aCxoZWlnaHR9ID0gdGhpcy5nbG9iYWxfbGF5b3V0LmdldChzdWdhckVsZW1lbnQpO1xuICAgIHJldHVybiB7eCx5LHdpZHRoLGhlaWdodH07XG4gIH1cblxuICByZWZyZXNoKCkge1xuICAgIGNsZWFudXBfcmVzaWR1ZXMuYmluZCh0aGlzKShBcnJheS5wcm90b3R5cGUuY29uY2F0KC4uLnRoaXNbcmVuZGVyZWRfc3VnYXJzX3N5bWJvbF0ubWFwKHN1ZyA9PiBzdWcuY29tcG9zaXRpb24oKSkpKTtcbiAgICB0aGlzLmdsb2JhbF9sYXlvdXQgPSBuZXcgV2Vha01hcCgpO1xuICAgIGZvciAobGV0IHN1Z2FyIG9mIHRoaXNbcmVuZGVyZWRfc3VnYXJzX3N5bWJvbF0pIHtcbiAgICAgIGxldCBsYXlvdXQgPSBsYXlvdXRfc3VnYXIoc3VnYXIsdGhpc1tsYXlvdXRfZW5naW5lXSk7XG4gICAgICBpZiAoIGxheW91dCApIHtcbiAgICAgICAgZm9yIChsZXQgc3VnYXJFbCBvZiBbc3VnYXIsLi4uc3VnYXIuY29tcG9zaXRpb24oKV0pIHtcbiAgICAgICAgICB0aGlzLmdsb2JhbF9sYXlvdXQuc2V0KHN1Z2FyRWwsbGF5b3V0LmdldChzdWdhckVsKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBtb2RpZmllZF9yZXNpZHVlcyA9IEZVTExfUkVGUkVTSCA/IHN1Z2FyLmNvbXBvc2l0aW9uKCkgOiBzdWdhci5jb21wb3NpdGlvbigpLmZpbHRlcihjYWxjdWxhdGVfbW92ZWRfcmVzaWR1ZXMuYmluZCh0aGlzLGxheW91dCkpO1xuICAgICAgcmVuZGVyX3N1Z2FyLmJpbmQodGhpcykoc3VnYXIsIGxheW91dCxtb2RpZmllZF9yZXNpZHVlcyk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIHNldHVwQ29udGFpbmVyKCkge1xuICB9XG5cbiAgcmVzZXRUYWdzKCkge1xuICB9XG5cbiAgcmVtb3ZlUmVuZGVyZWQoKSB7XG4gIH1cblxuICByZW5kZXJJY29uKCkge1xuICB9XG5cbiAgcmVuZGVyTGlua2FnZUxhYmVsKCkge1xuICB9XG5cbiAgcmVuZGVyTGlua2FnZSguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHJlbmRlcl9saW5rYWdlLmNhbGwodGhpcywuLi5hcmdzKTtcbiAgfVxuXG4gIGdldCBob3Jpem9udGFsKCkge1xuICAgIHJldHVybiB0aGlzW3JvdGF0ZV9zeW1ib2xdO1xuICB9XG5cbiAgc2V0IGhvcml6b250YWwoZmxhZykge1xuICAgIGlmIChmbGFnKSB7XG4gICAgICB0aGlzW3JvdGF0ZV9zeW1ib2xdID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpc1tyb3RhdGVfc3ltYm9sXSA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG59XG5cblxuZXhwb3J0IGRlZmF1bHQgUmVuZGVyZXI7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBUUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFHQTtBQUdBO0FBQ0E7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../glycan.js/js/Renderer.js\n");

/***/ }),

/***/ "../glycan.js/js/Repeat.js":
/*!*********************************!*\
  !*** ../glycan.js/js/Repeat.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Repeat; });\n/* harmony import */ var _Monosaccharide__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Monosaccharide */ \"../glycan.js/js/Monosaccharide.js\");\n/* harmony import */ var _Tracing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Tracing */ \"../glycan.js/js/Tracing.js\");\n/* harmony import */ var _lib_MixedTupleMap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/MixedTupleMap */ \"../glycan.js/lib/MixedTupleMap.js\");\n\n\nvar template_sugar = Symbol('template_sugar');\nvar last_residue = Symbol('last_residue');\nvar min_repeats = Symbol('min_repeats');\nvar max_repeats = Symbol('max_repeats');\nvar identifier_symbol = Symbol('identifier');\nvar active_mode = Symbol('active_mode');\nvar MODE_EXPAND = Symbol('MODE_EXPAND');\nvar MODE_MINIMAL = Symbol('MODE_MINIMAL');\nvar parent_symbol = Symbol('parent');\nvar sort_order_symbol = Symbol('sort_order');\nvar child_residue_symbol = Symbol('child_residue');\nvar repeat_symbol = Symbol('repeat');\nvar counter_symbol = Symbol('counter');\n\n\n\n\n/*\n\n// Usage:\n// Create repeat unit from a sequence\n\n// When we add child to a monosaccharide\n// of a repeat sugar, the monosaccharide\n// that gets added on should not be repeated\n// too\n\n// When we match a repeat, there should be\n// two modes: Expand and minimal. Expand\n// expands the repeat out to the max\n// number of repeat units, and minimal\n// only matches the minimal repeat unit\n\n*/\n\nvar repeat_wraps = new _lib_MixedTupleMap__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nvar counter_map = {};\nclass Counter {\n  constructor() {}\n  static get(counter) {\n    if (!counter_map[counter]) {\n      counter_map[counter] = new Counter();\n    }\n    return counter_map[counter];\n  }\n}\nvar get_wrapped_residue = (clazz, repeat, monosaccharide, parent, counter) => {\n  var id_tuple = [repeat, Counter.get(counter), monosaccharide];\n  if (!repeat_wraps.has(id_tuple)) {\n    repeat_wraps.set(id_tuple, new clazz(monosaccharide, parent, repeat, counter));\n  }\n  return repeat_wraps.get(id_tuple);\n};\nvar patch_parent = (residue, repeat) => {\n  Object.defineProperty(residue, 'parent', {\n    configurable: true,\n    enumerable: true,\n    get: () => {\n      var max_count = repeat.mode === MODE_EXPAND ? repeat.max : repeat.mode === MODE_MINIMAL ? repeat.min : 1;\n      var parent = get_wrapped_residue(repeat.constructor.Monosaccharide, repeat, repeat[last_residue], null, max_count);\n      return parent;\n    }\n  });\n};\nvar repeat_iterator = function* repeat_iterator(repeat) {\n  var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : repeat.root;\n  yield start;\n  if (!(start instanceof RepeatMonosaccharide)) {\n    return;\n  }\n  var kids = start.children;\n  for (var kid of kids) {\n    for (var child of repeat_iterator(repeat, kid)) {\n      yield child;\n    }\n  }\n};\nvar copy_children_skipping_residue;\nclass RepeatMonosaccharide extends _Tracing__WEBPACK_IMPORTED_MODULE_1__[\"TracedMonosaccharide\"] {\n  constructor(original, parent, repeat, counter) {\n    super(original);\n    this[parent_symbol] = parent;\n    this[repeat_symbol] = repeat;\n    this[counter_symbol] = counter;\n    return this;\n  }\n  static is_wrapped(r) {\n    return r instanceof RepeatMonosaccharide;\n  }\n  static is_not_wrapped(r) {\n    return !RepeatMonosaccharide.is_wrapped(r);\n  }\n  clone() {\n    var result = new this.constructor(this.original, this[parent_symbol], this[repeat_symbol].clone(), this[counter_symbol]);\n    result.copyTagsFrom(this);\n    return result;\n  }\n  get repeat() {\n    return this[repeat_symbol];\n  }\n  get counter() {\n    return this[counter_symbol];\n  }\n  balance() {\n    var parent_linkages = this.children.map(res => {\n      return {\n        link: this.linkageOf(res),\n        res: res\n      };\n    });\n    parent_linkages.sort((a, b) => a.link - b.link);\n    var all_children = parent_linkages.map(obj => obj.res);\n    all_children = Object.freeze(Object(_Monosaccharide__WEBPACK_IMPORTED_MODULE_0__[\"calculateSiblingOrder\"])(all_children));\n    all_children.forEach((child, idx) => {\n      child[sort_order_symbol] = idx + 1;\n    });\n  }\n  addChild(linkage, child) {\n    if (this.repeat.mode === MODE_EXPAND && (!this.endsRepeatUnit || this.counter < this.repeat.max)) {\n      return super.addChild(linkage, child);\n    }\n    if (this.repeat[child_residue_symbol].children.indexOf(child) < 0) {\n      this.repeat[child_residue_symbol].addChild(linkage, child);\n      patch_parent(child, this.repeat);\n    }\n  }\n  donateChildrenTo(parent) {\n    if (this.counter === this.repeat.max && this.endsRepeatUnit) {\n      for (var kid of this.repeat.children) {\n        delete kid.parent;\n        parent.graft(kid);\n      }\n    } else {\n      copy_children_skipping_residue(this, parent);\n    }\n  }\n  replaceChild(child, new_child, override_position) {\n    if (this.repeat.mode === MODE_EXPAND) {\n      return super.replaceChild(child, new_child, override_position);\n    }\n    if (!(child instanceof RepeatMonosaccharide)) {\n      return super.replaceChild(child, new_child, override_position);\n    }\n    if (this.repeat[last_residue] === child.original) {\n      this.repeat[last_residue] = new_child;\n    }\n    var replacement = this.original.replaceChild(child.original, new_child, override_position);\n    return replacement;\n  }\n  removeChild(linkage, child) {\n    if (this.repeat.mode === MODE_EXPAND) {\n      // If this is the end of a repeat, we simply remove the child from the \n      // child of the repeat unit\n      if (this.endsRepeatUnit && this.counter === this.repeat.max) {\n        return this.repeat[child_residue_symbol].removeChild(linkage, child);\n      } else {\n        // Children added on to expanded repeat units aren't\n        // controlled by the RepeatMonosaccharide children code\n\n        if (!(child instanceof RepeatMonosaccharide)) {\n          return super.removeChild(linkage, child);\n        } else {\n          // We are going to break the repeat by\n          // cloning residues up to the end of the\n          // last repeatUnit and grafting them \n          // onto the parent\n\n          // Copy repeat from parent of child up to start of repeat\n          // and then add to the repeat, grafting across children\n          // when needed\n          var parent = this;\n          while (parent && parent instanceof RepeatMonosaccharide && !parent.endsRepeatUnit) {\n            parent = parent.parent;\n          }\n          var res_class = this.original.constructor;\n          var new_root = new res_class('temp_root');\n          var clone_map = copy_children_skipping_residue(parent, new_root, child);\n          if (!clone_map.get(this)) {\n            clone_map.set(this, this);\n          }\n          var replaced_parent = clone_map.get(this);\n          if (replaced_parent !== this) {\n            this.balance = () => {\n              return replaced_parent.balance();\n            };\n            replaced_parent.renderer = this.renderer;\n          }\n          if (parent instanceof RepeatMonosaccharide) {\n            parent.repeat.max = parent.counter;\n            parent.repeat.children = [...new_root.children];\n          } else {\n            for (var repeat_kid of parent.children.filter(res => res instanceof RepeatMonosaccharide)) {\n              parent.removeChild(parent.linkageOf(repeat_kid), repeat_kid);\n            }\n            for (var _child of new_root.children) {\n              parent.graft(_child);\n            }\n          }\n          return replaced_parent;\n        }\n      }\n    }\n    if (this.repeat.mode === MODE_MINIMAL) {\n      if (child instanceof RepeatMonosaccharide) {\n        if (child.endsRepeatUnit) {\n          child.original.parent.removeChild(child.original.parent.linkageOf(child.original), child.original);\n          child.repeat.root.parent.replaceChild(child.repeat.root, child.repeat.root.original);\n          return;\n        }\n        child.original.parent.removeChild(child.original.parent.linkageOf(child.original), child.original);\n        return;\n      } else {\n        if (this.repeat.children.indexOf(child) >= 0) {\n          this.repeat[child_residue_symbol].removeChild(linkage, child);\n          delete child.parent;\n          return;\n        }\n        throw new Error('REPEAT_UNREACHABLE');\n      }\n    }\n    if (!this.endsRepeatUnit) {\n      throw new Error('Removing a child that isnt at the end of a repeat');\n    }\n  }\n  get endsRepeatUnit() {\n    return this.original === this.repeat[last_residue];\n  }\n  get parent() {\n    if (this[parent_symbol]) {\n      return this[parent_symbol];\n    }\n    return super.parent;\n  }\n  linkageOf(child) {\n    if (child instanceof RepeatMonosaccharide && child.repeat === this.repeat) {\n      if (this.endsRepeatUnit && child.repeat === this.repeat && child.counter !== this.counter && child.original === this.repeat.root.original) {\n        return this.repeat.root.parent.linkageOf(this.repeat.root);\n      }\n      return this.original.linkageOf(child.original);\n    } else if (this.endsRepeatUnit && this.repeat.children.indexOf(child) >= 0) {\n      return this.repeat[child_residue_symbol].linkageOf(child);\n    } else {\n      return new _Monosaccharide__WEBPACK_IMPORTED_MODULE_0__[\"default\"](' ').linkageOf.call(this, child);\n    }\n  }\n  get child_linkages() {\n    var linkage_map = super.child_linkages;\n    var results = new Map();\n    for (var link of linkage_map.keys()) {\n      for (var res of linkage_map.get(link).filter(RepeatMonosaccharide.is_wrapped)) {\n        var wrapped_link = res.original.parent.linkageOf(res.original);\n        results.set(wrapped_link, (results.get(wrapped_link) || []).concat(res));\n      }\n      for (var _res of linkage_map.get(link).filter(RepeatMonosaccharide.is_not_wrapped)) {\n        results.set(link, (results.get(link) || []).concat(_res));\n      }\n    }\n    return results;\n  }\n  get children() {\n    var max_count = this.repeat.mode === MODE_EXPAND ? this.repeat.max : this.repeat.mode === MODE_MINIMAL ? this.repeat.min : 1;\n    var original_kids = this.original.children;\n    var self_kids = super.children;\n    var repeat_end_kids = [];\n    if (this.repeat.mode === MODE_MINIMAL) {\n      self_kids = [];\n    }\n    if (this.endsRepeatUnit && this.counter >= max_count) {\n      repeat_end_kids = this.repeat.children;\n    }\n    var results = [];\n    if (this.endsRepeatUnit && this.counter < max_count) {\n      results.push(get_wrapped_residue(this.constructor, this.repeat, this.repeat.root.original, this, this.counter + 1));\n    }\n    var wrapped_original = original_kids.map(child => get_wrapped_residue(this.constructor, this.repeat, child, this, this.counter));\n    var mapped = Object.freeze([self_kids, repeat_end_kids, results].reduce((curr, newarr) => curr.concat(newarr), wrapped_original));\n    if (mapped.length > 0 && mapped.every(child => child[sort_order_symbol])) {\n      var sorted_mapped = Object.freeze(mapped.slice().sort((a, b) => a[sort_order_symbol] - b[sort_order_symbol]));\n      return sorted_mapped;\n    } else {\n      return mapped;\n    }\n  }\n}\ncopy_children_skipping_residue = (parent, newroot, toskip) => {\n  var parent_repeat_kids = parent.children.filter(res => res !== toskip);\n  var cloned_map = new Map();\n  var graft_cloner = (newparent, res) => {\n    var old_parent = res.parent;\n    var linkage = old_parent.linkageOf(res);\n    var toadd = res instanceof RepeatMonosaccharide ? res.original.clone() : res;\n    if (old_parent instanceof RepeatMonosaccharide && old_parent.repeat[child_residue_symbol].children.indexOf(res) >= 0) {\n      old_parent.repeat[child_residue_symbol].removeChild(linkage, res);\n      delete res.parent;\n    }\n    cloned_map.set(res, toadd);\n    if (newparent.children.indexOf(toadd) < 0) {\n      newparent.addChild(linkage, toadd);\n    }\n  };\n  parent_repeat_kids.forEach(graft_cloner.bind(null, newroot));\n  for (var kid of parent_repeat_kids) {\n    cloned_map = new Map([...cloned_map, ...copy_children_skipping_residue(kid, cloned_map.get(kid), toskip)]);\n  }\n  return cloned_map;\n};\nclass Repeat {\n  constructor(sugar, attachment) {\n    var min = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var max = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n    this[template_sugar] = sugar;\n    var main_branch_residue = sugar.leaves()[0];\n    if (sugar.root.identifier === 'Root') {\n      sugar.root = sugar.root.children[0];\n    }\n    this[last_residue] = main_branch_residue;\n    if (!attachment) {\n      if (sugar.leaves.length !== 1) {\n        throw new Error('Too many leaves on repeat without defined attachment site');\n      }\n    } else {\n      this[last_residue] = typeof attachment === 'string' && !(attachment instanceof _Monosaccharide__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) ? sugar.locate_monosaccharide(attachment) : attachment;\n    }\n    if (typeof attachment !== 'string') {\n      attachment = sugar.location_for_monosaccharide(this[last_residue]);\n    }\n    this[min_repeats] = min;\n    this[max_repeats] = max;\n    this[child_residue_symbol] = new _Monosaccharide__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('Root');\n  }\n  clone() {\n    var cloned = new this.constructor(this[template_sugar], this[last_residue], this.min, this.max);\n    cloned.identifier = this.identifier;\n    if (this.mode) {\n      cloned.mode = this.mode;\n    }\n    return cloned;\n  }\n  get off_main() {\n    return this[last_residue] !== this[template_sugar].leaves()[0];\n  }\n  static get Monosaccharide() {\n    return RepeatMonosaccharide;\n  }\n  static addToSugar(sugar, start, end, mode) {\n    var min = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n    var max = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\n    if (!(start instanceof _Monosaccharide__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) && typeof start === 'string') {\n      start = sugar.locate_monosaccharide(start);\n    }\n    if (!(end instanceof _Monosaccharide__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) && typeof end === 'string') {\n      end = sugar.locate_monosaccharide(end);\n    }\n    var temp_end = new _Monosaccharide__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('Root');\n    for (var kid of end.children) {\n      temp_end.graft(kid);\n    }\n    var parent = start.parent;\n    var parent_link = parent.linkageOf(start);\n    parent.removeChild(parent_link, start);\n    if (parent instanceof RepeatMonosaccharide) {\n      var new_start = start.clone();\n      for (var _kid of start.children) {\n        new_start.graft(_kid);\n      }\n      start = new_start;\n    }\n    var temp_sugar = new sugar.constructor();\n    temp_sugar.root = new _Monosaccharide__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('Root');\n    temp_sugar.root.addChild(parent_link, start);\n    var repeat = new Repeat(temp_sugar, end, min, max);\n    repeat.mode = mode;\n    for (var _kid2 of temp_end.children) {\n      repeat[child_residue_symbol].graft(_kid2);\n      patch_parent(_kid2, repeat);\n    }\n    parent.addChild(parent_link, repeat.root);\n    return repeat;\n  }\n  static get MODE_EXPAND() {\n    return MODE_EXPAND;\n  }\n  static get MODE_MINIMAL() {\n    return MODE_MINIMAL;\n  }\n  get template() {\n    return this[template_sugar];\n  }\n  get root() {\n    var root = get_wrapped_residue(RepeatMonosaccharide, this, this[template_sugar].root, null, this.min);\n    if (this[template_sugar].root.parent && !root.parent) {\n      var target_linkage = this[template_sugar].root.parent.linkageOf(this[template_sugar].root);\n      var placeholder = this[template_sugar].root.parent.clone();\n      placeholder.removeChild(target_linkage, this[template_sugar].root);\n      placeholder.addChild(target_linkage, root);\n    }\n    return root;\n  }\n  get attachment() {\n    return this.template.location_for_monosaccharide(this[last_residue]);\n  }\n  get identifier() {\n    return this[identifier_symbol] || '';\n  }\n  set identifier(id) {\n    this[identifier_symbol] = id;\n  }\n  get mode() {\n    return this[active_mode];\n  }\n  set mode(mode) {\n    if ([MODE_MINIMAL, MODE_EXPAND].indexOf(mode) < 0) {\n      throw new Error('Invalid mode');\n    }\n    this[active_mode] = mode;\n  }\n  get min() {\n    return this[min_repeats];\n  }\n  get max() {\n    return this[max_repeats];\n  }\n  set max(max) {\n    this[max_repeats] = max;\n  }\n  get children() {\n    return this[child_residue_symbol].children;\n  }\n  set children(children) {\n    var root = this[child_residue_symbol];\n    for (var kid of root.children.filter(kid => children.indexOf(kid) < 0)) {\n      root.removeChild(root.linkageOf(kid), kid);\n    }\n    for (var residue of children.filter(kid => root.children.indexOf(kid) < 0)) {\n      if (residue.parent) {\n        root.graft(residue);\n      } else {\n        root.addChild(0, residue);\n      }\n      patch_parent(residue, this);\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL1JlcGVhdC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9nbHljYW4uanMvanMvUmVwZWF0LmpzP2JjZGEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCB0ZW1wbGF0ZV9zdWdhciA9IFN5bWJvbCgndGVtcGxhdGVfc3VnYXInKTtcblxuY29uc3QgbGFzdF9yZXNpZHVlID0gU3ltYm9sKCdsYXN0X3Jlc2lkdWUnKTtcblxuY29uc3QgbWluX3JlcGVhdHMgPSBTeW1ib2woJ21pbl9yZXBlYXRzJyk7XG5jb25zdCBtYXhfcmVwZWF0cyA9IFN5bWJvbCgnbWF4X3JlcGVhdHMnKTtcblxuY29uc3QgaWRlbnRpZmllcl9zeW1ib2wgPSBTeW1ib2woJ2lkZW50aWZpZXInKTtcblxuY29uc3QgYWN0aXZlX21vZGUgPSBTeW1ib2woJ2FjdGl2ZV9tb2RlJyk7XG5cbmNvbnN0IE1PREVfRVhQQU5EID0gU3ltYm9sKCdNT0RFX0VYUEFORCcpO1xuY29uc3QgTU9ERV9NSU5JTUFMID0gU3ltYm9sKCdNT0RFX01JTklNQUwnKTtcblxuY29uc3QgcGFyZW50X3N5bWJvbCA9IFN5bWJvbCgncGFyZW50Jyk7XG5cbmNvbnN0IHNvcnRfb3JkZXJfc3ltYm9sID0gU3ltYm9sKCdzb3J0X29yZGVyJyk7XG5cbmNvbnN0IGNoaWxkX3Jlc2lkdWVfc3ltYm9sID0gU3ltYm9sKCdjaGlsZF9yZXNpZHVlJyk7XG5cbmNvbnN0IHJlcGVhdF9zeW1ib2wgPSBTeW1ib2woJ3JlcGVhdCcpO1xuXG5jb25zdCBjb3VudGVyX3N5bWJvbCA9IFN5bWJvbCgnY291bnRlcicpO1xuXG5pbXBvcnQgeyBkZWZhdWx0IGFzIE1vbm9zYWNjaGFyaWRlLCBjYWxjdWxhdGVTaWJsaW5nT3JkZXIgfSBmcm9tICcuL01vbm9zYWNjaGFyaWRlJztcblxuaW1wb3J0IHsgVHJhY2VkTW9ub3NhY2NoYXJpZGUgfSBmcm9tICcuL1RyYWNpbmcnO1xuXG5pbXBvcnQgTWl4ZWRUdXBsZU1hcCBmcm9tICcuLi9saWIvTWl4ZWRUdXBsZU1hcCc7XG5cbi8qXG5cbi8vIFVzYWdlOlxuLy8gQ3JlYXRlIHJlcGVhdCB1bml0IGZyb20gYSBzZXF1ZW5jZVxuXG4vLyBXaGVuIHdlIGFkZCBjaGlsZCB0byBhIG1vbm9zYWNjaGFyaWRlXG4vLyBvZiBhIHJlcGVhdCBzdWdhciwgdGhlIG1vbm9zYWNjaGFyaWRlXG4vLyB0aGF0IGdldHMgYWRkZWQgb24gc2hvdWxkIG5vdCBiZSByZXBlYXRlZFxuLy8gdG9vXG5cbi8vIFdoZW4gd2UgbWF0Y2ggYSByZXBlYXQsIHRoZXJlIHNob3VsZCBiZVxuLy8gdHdvIG1vZGVzOiBFeHBhbmQgYW5kIG1pbmltYWwuIEV4cGFuZFxuLy8gZXhwYW5kcyB0aGUgcmVwZWF0IG91dCB0byB0aGUgbWF4XG4vLyBudW1iZXIgb2YgcmVwZWF0IHVuaXRzLCBhbmQgbWluaW1hbFxuLy8gb25seSBtYXRjaGVzIHRoZSBtaW5pbWFsIHJlcGVhdCB1bml0XG5cbiovXG5cbmNvbnN0IHJlcGVhdF93cmFwcyA9IG5ldyBNaXhlZFR1cGxlTWFwKCk7XG5cbmNvbnN0IGNvdW50ZXJfbWFwID0ge307XG5cbmNsYXNzIENvdW50ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgfVxuXG4gIHN0YXRpYyBnZXQoY291bnRlcikge1xuICAgIGlmICghIGNvdW50ZXJfbWFwW2NvdW50ZXJdKSB7XG4gICAgICBjb3VudGVyX21hcFtjb3VudGVyXSA9IG5ldyBDb3VudGVyKCk7XG4gICAgfVxuICAgIHJldHVybiBjb3VudGVyX21hcFtjb3VudGVyXTtcbiAgfVxufVxuXG5jb25zdCBnZXRfd3JhcHBlZF9yZXNpZHVlID0gKGNsYXp6LHJlcGVhdCxtb25vc2FjY2hhcmlkZSxwYXJlbnQsY291bnRlcikgPT4ge1xuICBsZXQgaWRfdHVwbGUgPSBbcmVwZWF0LENvdW50ZXIuZ2V0KGNvdW50ZXIpLG1vbm9zYWNjaGFyaWRlXTtcbiAgaWYgKCAhIHJlcGVhdF93cmFwcy5oYXMoaWRfdHVwbGUpICkge1xuICAgIHJlcGVhdF93cmFwcy5zZXQoaWRfdHVwbGUsIG5ldyBjbGF6eihtb25vc2FjY2hhcmlkZSxwYXJlbnQscmVwZWF0LGNvdW50ZXIpKTtcbiAgfVxuICByZXR1cm4gcmVwZWF0X3dyYXBzLmdldChpZF90dXBsZSk7XG59O1xuXG5jb25zdCBwYXRjaF9wYXJlbnQgPSAocmVzaWR1ZSxyZXBlYXQpID0+IHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlc2lkdWUsJ3BhcmVudCcsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQgOiAoKSA9PiB7XG4gICAgICBjb25zdCBtYXhfY291bnQgPSByZXBlYXQubW9kZSA9PT0gTU9ERV9FWFBBTkQgPyByZXBlYXQubWF4IDogcmVwZWF0Lm1vZGUgPT09IE1PREVfTUlOSU1BTCA/IHJlcGVhdC5taW4gOiAxO1xuICAgICAgbGV0IHBhcmVudCA9IGdldF93cmFwcGVkX3Jlc2lkdWUocmVwZWF0LmNvbnN0cnVjdG9yLk1vbm9zYWNjaGFyaWRlLCByZXBlYXQsIHJlcGVhdFtsYXN0X3Jlc2lkdWVdLG51bGwsbWF4X2NvdW50KTtcbiAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgfVxuICB9KTtcbn07XG5cbmNvbnN0IHJlcGVhdF9pdGVyYXRvciA9IGZ1bmN0aW9uKihyZXBlYXQsc3RhcnQ9cmVwZWF0LnJvb3QpIHtcbiAgeWllbGQgc3RhcnQ7XG4gIGlmICghIChzdGFydCBpbnN0YW5jZW9mIFJlcGVhdE1vbm9zYWNjaGFyaWRlKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQga2lkcyA9IHN0YXJ0LmNoaWxkcmVuO1xuICBmb3IgKGxldCBraWQgb2Yga2lkcykge1xuICAgIGZvciAobGV0IGNoaWxkIG9mIHJlcGVhdF9pdGVyYXRvcihyZXBlYXQsa2lkKSkge1xuICAgICAgeWllbGQgY2hpbGQ7XG4gICAgfVxuICB9XG59XG5cbmxldCBjb3B5X2NoaWxkcmVuX3NraXBwaW5nX3Jlc2lkdWU7XG5cbmNsYXNzIFJlcGVhdE1vbm9zYWNjaGFyaWRlIGV4dGVuZHMgVHJhY2VkTW9ub3NhY2NoYXJpZGUge1xuXG4gIGNvbnN0cnVjdG9yKG9yaWdpbmFsLHBhcmVudCxyZXBlYXQsY291bnRlcikge1xuICAgIHN1cGVyKG9yaWdpbmFsKTtcbiAgICB0aGlzW3BhcmVudF9zeW1ib2xdID0gcGFyZW50O1xuICAgIHRoaXNbcmVwZWF0X3N5bWJvbF0gPSByZXBlYXQ7XG4gICAgdGhpc1tjb3VudGVyX3N5bWJvbF0gPSBjb3VudGVyO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc3RhdGljIGlzX3dyYXBwZWQocikge1xuICAgIHJldHVybiByIGluc3RhbmNlb2YgUmVwZWF0TW9ub3NhY2NoYXJpZGU7XG4gIH1cblxuICBzdGF0aWMgaXNfbm90X3dyYXBwZWQocikge1xuICAgIHJldHVybiAhIFJlcGVhdE1vbm9zYWNjaGFyaWRlLmlzX3dyYXBwZWQocik7XG4gIH1cblxuXG4gIGNsb25lKCkge1xuICAgIGxldCByZXN1bHQgPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLm9yaWdpbmFsLHRoaXNbcGFyZW50X3N5bWJvbF0sdGhpc1tyZXBlYXRfc3ltYm9sXS5jbG9uZSgpLHRoaXNbY291bnRlcl9zeW1ib2xdKTtcbiAgICByZXN1bHQuY29weVRhZ3NGcm9tKHRoaXMpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBnZXQgcmVwZWF0KCkge1xuICAgIHJldHVybiB0aGlzW3JlcGVhdF9zeW1ib2xdO1xuICB9XG5cbiAgZ2V0IGNvdW50ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXNbY291bnRlcl9zeW1ib2xdO1xuICB9XG5cblxuICBiYWxhbmNlKCkge1xuICAgIGNvbnN0IHBhcmVudF9saW5rYWdlcyA9IHRoaXMuY2hpbGRyZW4ubWFwKCByZXMgPT4ge3JldHVybiB7IGxpbms6IHRoaXMubGlua2FnZU9mKHJlcyksIHJlczogcmVzIH07IH0pO1xuICAgIHBhcmVudF9saW5rYWdlcy5zb3J0KCAoYSxiKSA9PiBhLmxpbmsgLSBiLmxpbmsgKTtcbiAgICBsZXQgYWxsX2NoaWxkcmVuID0gcGFyZW50X2xpbmthZ2VzLm1hcCggb2JqID0+IG9iai5yZXMgKTtcbiAgICBhbGxfY2hpbGRyZW4gPSBPYmplY3QuZnJlZXplKCBjYWxjdWxhdGVTaWJsaW5nT3JkZXIoYWxsX2NoaWxkcmVuKSApO1xuICAgIGFsbF9jaGlsZHJlbi5mb3JFYWNoKCAoY2hpbGQsaWR4KSA9PiB7XG4gICAgICBjaGlsZFtzb3J0X29yZGVyX3N5bWJvbF0gPSBpZHgrMTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZENoaWxkKGxpbmthZ2UsY2hpbGQpIHtcbiAgICBpZiAodGhpcy5yZXBlYXQubW9kZSA9PT0gTU9ERV9FWFBBTkQgJiYgKCEgdGhpcy5lbmRzUmVwZWF0VW5pdCB8fCB0aGlzLmNvdW50ZXIgPCB0aGlzLnJlcGVhdC5tYXggKSkge1xuICAgICAgcmV0dXJuIHN1cGVyLmFkZENoaWxkKGxpbmthZ2UsY2hpbGQpO1xuICAgIH1cbiAgICBpZiAodGhpcy5yZXBlYXRbY2hpbGRfcmVzaWR1ZV9zeW1ib2xdLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpIDwgMCkge1xuICAgICAgdGhpcy5yZXBlYXRbY2hpbGRfcmVzaWR1ZV9zeW1ib2xdLmFkZENoaWxkKGxpbmthZ2UsY2hpbGQpO1xuICAgICAgcGF0Y2hfcGFyZW50KGNoaWxkLHRoaXMucmVwZWF0KTtcbiAgICB9XG4gIH1cblxuICBkb25hdGVDaGlsZHJlblRvKHBhcmVudCkge1xuICAgIGlmICh0aGlzLmNvdW50ZXIgPT09IHRoaXMucmVwZWF0Lm1heCAmJiB0aGlzLmVuZHNSZXBlYXRVbml0KSB7XG4gICAgICBmb3IgKGxldCBraWQgb2YgdGhpcy5yZXBlYXQuY2hpbGRyZW4pIHtcbiAgICAgICAgZGVsZXRlIGtpZC5wYXJlbnQ7XG4gICAgICAgIHBhcmVudC5ncmFmdChraWQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb3B5X2NoaWxkcmVuX3NraXBwaW5nX3Jlc2lkdWUodGhpcyxwYXJlbnQpO1xuICAgIH1cbiAgfVxuXG4gIHJlcGxhY2VDaGlsZChjaGlsZCxuZXdfY2hpbGQsb3ZlcnJpZGVfcG9zaXRpb24pIHtcbiAgICBpZiAodGhpcy5yZXBlYXQubW9kZSA9PT0gTU9ERV9FWFBBTkQpIHtcbiAgICAgIHJldHVybiBzdXBlci5yZXBsYWNlQ2hpbGQoY2hpbGQsbmV3X2NoaWxkLG92ZXJyaWRlX3Bvc2l0aW9uKTtcbiAgICB9XG4gICAgaWYgKCEgKGNoaWxkIGluc3RhbmNlb2YgUmVwZWF0TW9ub3NhY2NoYXJpZGUpKSB7XG4gICAgICByZXR1cm4gc3VwZXIucmVwbGFjZUNoaWxkKGNoaWxkLG5ld19jaGlsZCxvdmVycmlkZV9wb3NpdGlvbik7XG4gICAgfVxuICAgIGlmICh0aGlzLnJlcGVhdFtsYXN0X3Jlc2lkdWVdID09PSBjaGlsZC5vcmlnaW5hbCkge1xuICAgICAgdGhpcy5yZXBlYXRbbGFzdF9yZXNpZHVlXSA9IG5ld19jaGlsZDtcbiAgICB9XG4gICAgbGV0IHJlcGxhY2VtZW50ID0gdGhpcy5vcmlnaW5hbC5yZXBsYWNlQ2hpbGQoY2hpbGQub3JpZ2luYWwsbmV3X2NoaWxkLG92ZXJyaWRlX3Bvc2l0aW9uKTtcbiAgICByZXR1cm4gcmVwbGFjZW1lbnQ7XG4gIH1cblxuICByZW1vdmVDaGlsZChsaW5rYWdlLGNoaWxkKSB7XG4gICAgaWYgKHRoaXMucmVwZWF0Lm1vZGUgPT09IE1PREVfRVhQQU5EKSB7XG5cbiAgICAgIC8vIElmIHRoaXMgaXMgdGhlIGVuZCBvZiBhIHJlcGVhdCwgd2Ugc2ltcGx5IHJlbW92ZSB0aGUgY2hpbGQgZnJvbSB0aGUgXG4gICAgICAvLyBjaGlsZCBvZiB0aGUgcmVwZWF0IHVuaXRcbiAgICAgIGlmICh0aGlzLmVuZHNSZXBlYXRVbml0ICYmIHRoaXMuY291bnRlciA9PT0gdGhpcy5yZXBlYXQubWF4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcGVhdFtjaGlsZF9yZXNpZHVlX3N5bWJvbF0ucmVtb3ZlQ2hpbGQobGlua2FnZSxjaGlsZCk7XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vIENoaWxkcmVuIGFkZGVkIG9uIHRvIGV4cGFuZGVkIHJlcGVhdCB1bml0cyBhcmVuJ3RcbiAgICAgICAgLy8gY29udHJvbGxlZCBieSB0aGUgUmVwZWF0TW9ub3NhY2NoYXJpZGUgY2hpbGRyZW4gY29kZVxuXG4gICAgICAgIGlmICggISAoY2hpbGQgaW5zdGFuY2VvZiBSZXBlYXRNb25vc2FjY2hhcmlkZSkgKSB7XG4gICAgICAgICAgcmV0dXJuIHN1cGVyLnJlbW92ZUNoaWxkKGxpbmthZ2UsY2hpbGQpO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgLy8gV2UgYXJlIGdvaW5nIHRvIGJyZWFrIHRoZSByZXBlYXQgYnlcbiAgICAgICAgICAvLyBjbG9uaW5nIHJlc2lkdWVzIHVwIHRvIHRoZSBlbmQgb2YgdGhlXG4gICAgICAgICAgLy8gbGFzdCByZXBlYXRVbml0IGFuZCBncmFmdGluZyB0aGVtIFxuICAgICAgICAgIC8vIG9udG8gdGhlIHBhcmVudFxuXG4gICAgICAgICAgLy8gQ29weSByZXBlYXQgZnJvbSBwYXJlbnQgb2YgY2hpbGQgdXAgdG8gc3RhcnQgb2YgcmVwZWF0XG4gICAgICAgICAgLy8gYW5kIHRoZW4gYWRkIHRvIHRoZSByZXBlYXQsIGdyYWZ0aW5nIGFjcm9zcyBjaGlsZHJlblxuICAgICAgICAgIC8vIHdoZW4gbmVlZGVkXG4gICAgICAgICAgbGV0IHBhcmVudCA9IHRoaXM7XG4gICAgICAgICAgd2hpbGUgKCBwYXJlbnQgJiYgKHBhcmVudCBpbnN0YW5jZW9mIFJlcGVhdE1vbm9zYWNjaGFyaWRlKSAmJiAhIHBhcmVudC5lbmRzUmVwZWF0VW5pdCApIHtcbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGV0IHJlc19jbGFzcyA9IHRoaXMub3JpZ2luYWwuY29uc3RydWN0b3I7XG4gICAgICAgICAgbGV0IG5ld19yb290ID0gbmV3IHJlc19jbGFzcygndGVtcF9yb290Jyk7XG4gICAgICAgICAgbGV0IGNsb25lX21hcCA9IGNvcHlfY2hpbGRyZW5fc2tpcHBpbmdfcmVzaWR1ZShwYXJlbnQsbmV3X3Jvb3QsY2hpbGQpO1xuICAgICAgICAgIGlmICggISBjbG9uZV9tYXAuZ2V0KHRoaXMpICkge1xuICAgICAgICAgICAgY2xvbmVfbWFwLnNldCh0aGlzLHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgcmVwbGFjZWRfcGFyZW50ID0gY2xvbmVfbWFwLmdldCh0aGlzKTtcbiAgICAgICAgICBpZiAocmVwbGFjZWRfcGFyZW50ICE9PSB0aGlzKSB7XG4gICAgICAgICAgICB0aGlzLmJhbGFuY2UgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiByZXBsYWNlZF9wYXJlbnQuYmFsYW5jZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlcGxhY2VkX3BhcmVudC5yZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCBwYXJlbnQgaW5zdGFuY2VvZiBSZXBlYXRNb25vc2FjY2hhcmlkZSApIHtcbiAgICAgICAgICAgIHBhcmVudC5yZXBlYXQubWF4ID0gcGFyZW50LmNvdW50ZXI7XG4gICAgICAgICAgICBwYXJlbnQucmVwZWF0LmNoaWxkcmVuID0gWy4uLm5ld19yb290LmNoaWxkcmVuXTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgcmVwZWF0X2tpZCBvZiBwYXJlbnQuY2hpbGRyZW4uZmlsdGVyKCByZXMgPT4gKHJlcyBpbnN0YW5jZW9mIFJlcGVhdE1vbm9zYWNjaGFyaWRlKSkpIHtcbiAgICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKHBhcmVudC5saW5rYWdlT2YocmVwZWF0X2tpZCkscmVwZWF0X2tpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiBuZXdfcm9vdC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICBwYXJlbnQuZ3JhZnQoY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVwbGFjZWRfcGFyZW50O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmVwZWF0Lm1vZGUgPT09IE1PREVfTUlOSU1BTCkge1xuICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgUmVwZWF0TW9ub3NhY2NoYXJpZGUpIHtcbiAgICAgICAgaWYgKGNoaWxkLmVuZHNSZXBlYXRVbml0KSB7XG4gICAgICAgICAgY2hpbGQub3JpZ2luYWwucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkLm9yaWdpbmFsLnBhcmVudC5saW5rYWdlT2YoY2hpbGQub3JpZ2luYWwpLGNoaWxkLm9yaWdpbmFsKTtcbiAgICAgICAgICBjaGlsZC5yZXBlYXQucm9vdC5wYXJlbnQucmVwbGFjZUNoaWxkKGNoaWxkLnJlcGVhdC5yb290LCBjaGlsZC5yZXBlYXQucm9vdC5vcmlnaW5hbCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkLm9yaWdpbmFsLnBhcmVudC5yZW1vdmVDaGlsZChjaGlsZC5vcmlnaW5hbC5wYXJlbnQubGlua2FnZU9mKGNoaWxkLm9yaWdpbmFsKSxjaGlsZC5vcmlnaW5hbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLnJlcGVhdC5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKSA+PSAwICkge1xuICAgICAgICAgIHRoaXMucmVwZWF0W2NoaWxkX3Jlc2lkdWVfc3ltYm9sXS5yZW1vdmVDaGlsZChsaW5rYWdlLGNoaWxkKTtcbiAgICAgICAgICBkZWxldGUgY2hpbGQucGFyZW50O1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JFUEVBVF9VTlJFQUNIQUJMRScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICggISB0aGlzLmVuZHNSZXBlYXRVbml0ICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZW1vdmluZyBhIGNoaWxkIHRoYXQgaXNudCBhdCB0aGUgZW5kIG9mIGEgcmVwZWF0Jyk7XG4gICAgfVxuXG4gIH1cblxuICBnZXQgZW5kc1JlcGVhdFVuaXQoKSB7XG4gICAgcmV0dXJuIHRoaXMub3JpZ2luYWwgPT09IHRoaXMucmVwZWF0W2xhc3RfcmVzaWR1ZV07XG4gIH1cblxuICBnZXQgcGFyZW50KCkge1xuICAgIGlmICh0aGlzW3BhcmVudF9zeW1ib2xdKSB7XG4gICAgICByZXR1cm4gdGhpc1twYXJlbnRfc3ltYm9sXTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLnBhcmVudDtcbiAgfVxuXG4gIGxpbmthZ2VPZihjaGlsZCkge1xuICAgIGlmICgoY2hpbGQgaW5zdGFuY2VvZiBSZXBlYXRNb25vc2FjY2hhcmlkZSkgJiYgY2hpbGQucmVwZWF0ID09PSB0aGlzLnJlcGVhdCkge1xuICAgICAgaWYgKHRoaXMuZW5kc1JlcGVhdFVuaXQgJiYgY2hpbGQucmVwZWF0ID09PSB0aGlzLnJlcGVhdCAmJiBjaGlsZC5jb3VudGVyICE9PSB0aGlzLmNvdW50ZXIgJiYgY2hpbGQub3JpZ2luYWwgPT09IHRoaXMucmVwZWF0LnJvb3Qub3JpZ2luYWwgKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcGVhdC5yb290LnBhcmVudC5saW5rYWdlT2YodGhpcy5yZXBlYXQucm9vdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5vcmlnaW5hbC5saW5rYWdlT2YoY2hpbGQub3JpZ2luYWwpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5lbmRzUmVwZWF0VW5pdCAmJiB0aGlzLnJlcGVhdC5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKSA+PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXBlYXRbY2hpbGRfcmVzaWR1ZV9zeW1ib2xdLmxpbmthZ2VPZihjaGlsZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAobmV3IE1vbm9zYWNjaGFyaWRlKCcgJykpLmxpbmthZ2VPZi5jYWxsKHRoaXMsY2hpbGQpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBjaGlsZF9saW5rYWdlcygpIHtcbiAgICBsZXQgbGlua2FnZV9tYXAgPSBzdXBlci5jaGlsZF9saW5rYWdlcztcbiAgICBsZXQgcmVzdWx0cyA9IG5ldyBNYXAoKTtcbiAgICBmb3IgKGxldCBsaW5rIG9mIGxpbmthZ2VfbWFwLmtleXMoKSkge1xuICAgICAgZm9yIChsZXQgcmVzIG9mIGxpbmthZ2VfbWFwLmdldChsaW5rKS5maWx0ZXIoIFJlcGVhdE1vbm9zYWNjaGFyaWRlLmlzX3dyYXBwZWQgKSkge1xuICAgICAgICBsZXQgd3JhcHBlZF9saW5rID0gcmVzLm9yaWdpbmFsLnBhcmVudC5saW5rYWdlT2YocmVzLm9yaWdpbmFsKTtcbiAgICAgICAgcmVzdWx0cy5zZXQoIHdyYXBwZWRfbGluayAsIChyZXN1bHRzLmdldCh3cmFwcGVkX2xpbmspIHx8IFtdKS5jb25jYXQocmVzKSApO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgcmVzIG9mIGxpbmthZ2VfbWFwLmdldChsaW5rKS5maWx0ZXIoIFJlcGVhdE1vbm9zYWNjaGFyaWRlLmlzX25vdF93cmFwcGVkICkpIHtcbiAgICAgICAgcmVzdWx0cy5zZXQoIGxpbmssIChyZXN1bHRzLmdldChsaW5rKSB8fCBbXSkuY29uY2F0KHJlcykgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cblxuICBnZXQgY2hpbGRyZW4oKSB7XG5cbiAgICBjb25zdCBtYXhfY291bnQgPSB0aGlzLnJlcGVhdC5tb2RlID09PSBNT0RFX0VYUEFORCA/IHRoaXMucmVwZWF0Lm1heCA6IHRoaXMucmVwZWF0Lm1vZGUgPT09IE1PREVfTUlOSU1BTCA/IHRoaXMucmVwZWF0Lm1pbiA6IDE7XG5cbiAgICBsZXQgb3JpZ2luYWxfa2lkcyA9IHRoaXMub3JpZ2luYWwuY2hpbGRyZW47XG4gICAgbGV0IHNlbGZfa2lkcyA9IHN1cGVyLmNoaWxkcmVuO1xuXG4gICAgbGV0IHJlcGVhdF9lbmRfa2lkcyA9IFtdO1xuXG4gICAgaWYgKHRoaXMucmVwZWF0Lm1vZGUgPT09IE1PREVfTUlOSU1BTCkge1xuICAgICAgc2VsZl9raWRzID0gW107XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZW5kc1JlcGVhdFVuaXQgJiYgdGhpcy5jb3VudGVyID49IG1heF9jb3VudCkge1xuICAgICAgcmVwZWF0X2VuZF9raWRzID0gdGhpcy5yZXBlYXQuY2hpbGRyZW47XG4gICAgfVxuXG4gICAgbGV0IHJlc3VsdHMgPSBbXTtcblxuICAgIGlmICh0aGlzLmVuZHNSZXBlYXRVbml0ICYmIHRoaXMuY291bnRlciA8IG1heF9jb3VudCApIHtcbiAgICAgIHJlc3VsdHMucHVzaChnZXRfd3JhcHBlZF9yZXNpZHVlKHRoaXMuY29uc3RydWN0b3IsIHRoaXMucmVwZWF0LCB0aGlzLnJlcGVhdC5yb290Lm9yaWdpbmFsLCB0aGlzLCB0aGlzLmNvdW50ZXIgKyAxKSk7XG4gICAgfVxuICAgIGNvbnN0IHdyYXBwZWRfb3JpZ2luYWwgPSBvcmlnaW5hbF9raWRzLm1hcCggY2hpbGQgPT4gZ2V0X3dyYXBwZWRfcmVzaWR1ZSh0aGlzLmNvbnN0cnVjdG9yLHRoaXMucmVwZWF0LCBjaGlsZCwgdGhpcywgdGhpcy5jb3VudGVyICkpO1xuICAgIGNvbnN0IG1hcHBlZCA9IE9iamVjdC5mcmVlemUoW3NlbGZfa2lkcyxyZXBlYXRfZW5kX2tpZHMscmVzdWx0c10ucmVkdWNlKCAoY3VycixuZXdhcnIpID0+IGN1cnIuY29uY2F0KG5ld2FyciksIHdyYXBwZWRfb3JpZ2luYWwgKSk7XG4gICAgaWYgKG1hcHBlZC5sZW5ndGggPiAwICYmIG1hcHBlZC5ldmVyeSggY2hpbGQgPT4gY2hpbGRbc29ydF9vcmRlcl9zeW1ib2xdKSkge1xuICAgICAgbGV0IHNvcnRlZF9tYXBwZWQgPSBPYmplY3QuZnJlZXplKG1hcHBlZC5zbGljZSgpLnNvcnQoIChhLGIpID0+IGFbc29ydF9vcmRlcl9zeW1ib2xdIC0gYltzb3J0X29yZGVyX3N5bWJvbF0gKSk7XG4gICAgICByZXR1cm4gc29ydGVkX21hcHBlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG1hcHBlZDtcbiAgICB9XG4gIH1cblxufVxuXG5jb3B5X2NoaWxkcmVuX3NraXBwaW5nX3Jlc2lkdWUgPSAocGFyZW50LG5ld3Jvb3QsdG9za2lwKSA9PiB7XG4gIGxldCBwYXJlbnRfcmVwZWF0X2tpZHMgPSBwYXJlbnQuY2hpbGRyZW4uZmlsdGVyKCByZXMgPT4gcmVzICE9PSB0b3NraXAgKTtcbiAgbGV0IGNsb25lZF9tYXAgPSBuZXcgTWFwKCk7XG4gIGNvbnN0IGdyYWZ0X2Nsb25lciA9IChuZXdwYXJlbnQscmVzKSA9PiB7XG4gICAgbGV0IG9sZF9wYXJlbnQgPSByZXMucGFyZW50O1xuICAgIGxldCBsaW5rYWdlID0gb2xkX3BhcmVudC5saW5rYWdlT2YocmVzKTtcbiAgICBsZXQgdG9hZGQgPSAocmVzIGluc3RhbmNlb2YgUmVwZWF0TW9ub3NhY2NoYXJpZGUpID8gcmVzLm9yaWdpbmFsLmNsb25lKCkgOiByZXM7XG4gICAgaWYgKChvbGRfcGFyZW50IGluc3RhbmNlb2YgUmVwZWF0TW9ub3NhY2NoYXJpZGUpICYmIG9sZF9wYXJlbnQucmVwZWF0W2NoaWxkX3Jlc2lkdWVfc3ltYm9sXS5jaGlsZHJlbi5pbmRleE9mKHJlcykgPj0gMCkge1xuICAgICAgb2xkX3BhcmVudC5yZXBlYXRbY2hpbGRfcmVzaWR1ZV9zeW1ib2xdLnJlbW92ZUNoaWxkKGxpbmthZ2UscmVzKTtcbiAgICAgIGRlbGV0ZSByZXMucGFyZW50O1xuICAgIH1cbiAgICBjbG9uZWRfbWFwLnNldChyZXMsdG9hZGQpO1xuICAgIGlmIChuZXdwYXJlbnQuY2hpbGRyZW4uaW5kZXhPZih0b2FkZCkgPCAwKSB7XG4gICAgICBuZXdwYXJlbnQuYWRkQ2hpbGQobGlua2FnZSwgdG9hZGQpO1xuICAgIH1cbiAgfTtcbiAgcGFyZW50X3JlcGVhdF9raWRzLmZvckVhY2goIGdyYWZ0X2Nsb25lci5iaW5kKG51bGwsbmV3cm9vdCkgKTtcbiAgZm9yIChsZXQga2lkIG9mIHBhcmVudF9yZXBlYXRfa2lkcykge1xuICAgIGNsb25lZF9tYXAgPSBuZXcgTWFwKCBbLi4uY2xvbmVkX21hcCwgLi4uY29weV9jaGlsZHJlbl9za2lwcGluZ19yZXNpZHVlKGtpZCwgY2xvbmVkX21hcC5nZXQoa2lkKSwgdG9za2lwICldKTtcbiAgfVxuICByZXR1cm4gY2xvbmVkX21hcDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlcGVhdCB7XG5cbiAgY29uc3RydWN0b3Ioc3VnYXIsYXR0YWNobWVudCxtaW49MSxtYXg9MSkge1xuICAgIHRoaXNbdGVtcGxhdGVfc3VnYXJdID0gc3VnYXI7XG5cbiAgICBsZXQgbWFpbl9icmFuY2hfcmVzaWR1ZSA9IHN1Z2FyLmxlYXZlcygpWzBdO1xuXG4gICAgaWYgKHN1Z2FyLnJvb3QuaWRlbnRpZmllciA9PT0gJ1Jvb3QnKSB7XG4gICAgICBzdWdhci5yb290ID0gc3VnYXIucm9vdC5jaGlsZHJlblswXTtcbiAgICB9XG5cbiAgICB0aGlzW2xhc3RfcmVzaWR1ZV0gPSBtYWluX2JyYW5jaF9yZXNpZHVlO1xuXG4gICAgaWYgKCAhIGF0dGFjaG1lbnQgKSB7XG4gICAgICBpZiAoc3VnYXIubGVhdmVzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RvbyBtYW55IGxlYXZlcyBvbiByZXBlYXQgd2l0aG91dCBkZWZpbmVkIGF0dGFjaG1lbnQgc2l0ZScpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzW2xhc3RfcmVzaWR1ZV0gPSAoKHR5cGVvZiBhdHRhY2htZW50ID09PSAnc3RyaW5nJykgJiYgISAoYXR0YWNobWVudCBpbnN0YW5jZW9mIE1vbm9zYWNjaGFyaWRlKSkgPyBzdWdhci5sb2NhdGVfbW9ub3NhY2NoYXJpZGUoYXR0YWNobWVudCkgOiBhdHRhY2htZW50O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgYXR0YWNobWVudCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGF0dGFjaG1lbnQgPSBzdWdhci5sb2NhdGlvbl9mb3JfbW9ub3NhY2NoYXJpZGUodGhpc1tsYXN0X3Jlc2lkdWVdKTtcbiAgICB9XG5cbiAgICB0aGlzW21pbl9yZXBlYXRzXSA9IG1pbjtcbiAgICB0aGlzW21heF9yZXBlYXRzXSA9IG1heDtcbiAgICB0aGlzW2NoaWxkX3Jlc2lkdWVfc3ltYm9sXSA9IG5ldyBNb25vc2FjY2hhcmlkZSgnUm9vdCcpO1xuXG4gIH1cblxuICBjbG9uZSgpIHtcbiAgICBsZXQgY2xvbmVkID0gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpc1t0ZW1wbGF0ZV9zdWdhcl0sdGhpc1tsYXN0X3Jlc2lkdWVdLHRoaXMubWluLHRoaXMubWF4KTtcbiAgICBjbG9uZWQuaWRlbnRpZmllciA9IHRoaXMuaWRlbnRpZmllcjtcbiAgICBpZiAodGhpcy5tb2RlKSB7XG4gICAgICBjbG9uZWQubW9kZSA9IHRoaXMubW9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGNsb25lZDtcbiAgfVxuXG4gIGdldCBvZmZfbWFpbigpIHtcbiAgICByZXR1cm4gdGhpc1tsYXN0X3Jlc2lkdWVdICE9PSB0aGlzW3RlbXBsYXRlX3N1Z2FyXS5sZWF2ZXMoKVswXTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgTW9ub3NhY2NoYXJpZGUoKSB7XG4gICAgcmV0dXJuIFJlcGVhdE1vbm9zYWNjaGFyaWRlO1xuICB9XG5cbiAgc3RhdGljIGFkZFRvU3VnYXIoc3VnYXIsc3RhcnQsZW5kLG1vZGUsbWluPTEsbWF4PTEpIHtcbiAgICBpZiAoISAoc3RhcnQgaW5zdGFuY2VvZiBNb25vc2FjY2hhcmlkZSkgJiYgKHR5cGVvZiBzdGFydCA9PT0gJ3N0cmluZycpKSB7XG4gICAgICBzdGFydCA9IHN1Z2FyLmxvY2F0ZV9tb25vc2FjY2hhcmlkZShzdGFydCk7XG4gICAgfVxuICAgIGlmICghIChlbmQgaW5zdGFuY2VvZiBNb25vc2FjY2hhcmlkZSkgJiYgKHR5cGVvZiBlbmQgPT09ICdzdHJpbmcnKSkge1xuICAgICAgZW5kID0gc3VnYXIubG9jYXRlX21vbm9zYWNjaGFyaWRlKGVuZCk7XG4gICAgfVxuXG4gICAgbGV0IHRlbXBfZW5kID0gbmV3IE1vbm9zYWNjaGFyaWRlKCdSb290Jyk7XG4gICAgZm9yIChsZXQga2lkIG9mIGVuZC5jaGlsZHJlbikge1xuICAgICAgdGVtcF9lbmQuZ3JhZnQoa2lkKTtcbiAgICB9XG5cbiAgICBsZXQgcGFyZW50ID0gc3RhcnQucGFyZW50O1xuICAgIGxldCBwYXJlbnRfbGluayA9IHBhcmVudC5saW5rYWdlT2Yoc3RhcnQpO1xuICAgIHBhcmVudC5yZW1vdmVDaGlsZChwYXJlbnRfbGluayxzdGFydCk7XG5cbiAgICBpZiAocGFyZW50IGluc3RhbmNlb2YgUmVwZWF0TW9ub3NhY2NoYXJpZGUpIHtcbiAgICAgIGxldCBuZXdfc3RhcnQgPSBzdGFydC5jbG9uZSgpO1xuICAgICAgZm9yIChsZXQga2lkIG9mIHN0YXJ0LmNoaWxkcmVuKSB7XG4gICAgICAgIG5ld19zdGFydC5ncmFmdChraWQpO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBuZXdfc3RhcnQ7XG4gICAgfVxuXG4gICAgbGV0IHRlbXBfc3VnYXIgPSBuZXcgc3VnYXIuY29uc3RydWN0b3IoKTtcbiAgICB0ZW1wX3N1Z2FyLnJvb3QgPSBuZXcgTW9ub3NhY2NoYXJpZGUoJ1Jvb3QnKTtcbiAgICB0ZW1wX3N1Z2FyLnJvb3QuYWRkQ2hpbGQocGFyZW50X2xpbmssc3RhcnQpO1xuICAgIGxldCByZXBlYXQgPSBuZXcgUmVwZWF0KHRlbXBfc3VnYXIsZW5kLG1pbixtYXgpO1xuICAgIHJlcGVhdC5tb2RlID0gbW9kZTtcbiAgICBmb3IgKGxldCBraWQgb2YgdGVtcF9lbmQuY2hpbGRyZW4pIHtcbiAgICAgIHJlcGVhdFtjaGlsZF9yZXNpZHVlX3N5bWJvbF0uZ3JhZnQoa2lkKTtcbiAgICAgIHBhdGNoX3BhcmVudChraWQscmVwZWF0KTtcbiAgICB9XG4gICAgcGFyZW50LmFkZENoaWxkKHBhcmVudF9saW5rLHJlcGVhdC5yb290KTtcbiAgICByZXR1cm4gcmVwZWF0O1xuICB9XG5cblxuICBzdGF0aWMgZ2V0IE1PREVfRVhQQU5EKCkge1xuICAgIHJldHVybiBNT0RFX0VYUEFORDtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgTU9ERV9NSU5JTUFMKCkge1xuICAgIHJldHVybiBNT0RFX01JTklNQUw7XG4gIH1cblxuICBnZXQgdGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXNbdGVtcGxhdGVfc3VnYXJdO1xuICB9XG5cbiAgZ2V0IHJvb3QoKSB7XG4gICAgbGV0IHJvb3QgPSBnZXRfd3JhcHBlZF9yZXNpZHVlKFJlcGVhdE1vbm9zYWNjaGFyaWRlLHRoaXMsdGhpc1t0ZW1wbGF0ZV9zdWdhcl0ucm9vdCxudWxsLHRoaXMubWluKTtcbiAgICBpZiAodGhpc1t0ZW1wbGF0ZV9zdWdhcl0ucm9vdC5wYXJlbnQgJiYgISByb290LnBhcmVudCApIHtcbiAgICAgIGxldCB0YXJnZXRfbGlua2FnZSA9IHRoaXNbdGVtcGxhdGVfc3VnYXJdLnJvb3QucGFyZW50LmxpbmthZ2VPZih0aGlzW3RlbXBsYXRlX3N1Z2FyXS5yb290KTtcbiAgICAgIGxldCBwbGFjZWhvbGRlciA9IHRoaXNbdGVtcGxhdGVfc3VnYXJdLnJvb3QucGFyZW50LmNsb25lKCk7XG4gICAgICBwbGFjZWhvbGRlci5yZW1vdmVDaGlsZCh0YXJnZXRfbGlua2FnZSx0aGlzW3RlbXBsYXRlX3N1Z2FyXS5yb290KTtcbiAgICAgIHBsYWNlaG9sZGVyLmFkZENoaWxkKHRhcmdldF9saW5rYWdlLHJvb3QpO1xuICAgIH1cbiAgICByZXR1cm4gcm9vdDtcbiAgfVxuXG4gIGdldCBhdHRhY2htZW50KCkge1xuICAgIHJldHVybiB0aGlzLnRlbXBsYXRlLmxvY2F0aW9uX2Zvcl9tb25vc2FjY2hhcmlkZSh0aGlzW2xhc3RfcmVzaWR1ZV0pO1xuICB9XG5cbiAgZ2V0IGlkZW50aWZpZXIoKSB7XG4gICAgcmV0dXJuIHRoaXNbaWRlbnRpZmllcl9zeW1ib2xdIHx8ICcnO1xuICB9XG5cbiAgc2V0IGlkZW50aWZpZXIoaWQpIHtcbiAgICB0aGlzW2lkZW50aWZpZXJfc3ltYm9sXSA9IGlkO1xuICB9XG5cbiAgZ2V0IG1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXNbYWN0aXZlX21vZGVdO1xuICB9XG5cbiAgc2V0IG1vZGUobW9kZSkge1xuICAgIGlmICggW01PREVfTUlOSU1BTCxNT0RFX0VYUEFORF0uaW5kZXhPZihtb2RlKSA8IDAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbW9kZScpO1xuICAgIH1cbiAgICB0aGlzW2FjdGl2ZV9tb2RlXSA9IG1vZGU7XG4gIH1cblxuICBnZXQgbWluKCkge1xuICAgIHJldHVybiB0aGlzW21pbl9yZXBlYXRzXTtcbiAgfVxuXG4gIGdldCBtYXgoKSB7XG4gICAgcmV0dXJuIHRoaXNbbWF4X3JlcGVhdHNdO1xuICB9XG5cbiAgc2V0IG1heChtYXgpIHtcbiAgICB0aGlzW21heF9yZXBlYXRzXSA9IG1heDtcbiAgfVxuXG4gIGdldCBjaGlsZHJlbigpIHtcbiAgICByZXR1cm4gdGhpc1tjaGlsZF9yZXNpZHVlX3N5bWJvbF0uY2hpbGRyZW47XG4gIH1cblxuICBzZXQgY2hpbGRyZW4oY2hpbGRyZW4pIHtcbiAgICBsZXQgcm9vdCA9IHRoaXNbY2hpbGRfcmVzaWR1ZV9zeW1ib2xdO1xuICAgIGZvciAobGV0IGtpZCBvZiByb290LmNoaWxkcmVuLmZpbHRlcigga2lkID0+IGNoaWxkcmVuLmluZGV4T2Yoa2lkKSA8IDAgKSkge1xuICAgICAgcm9vdC5yZW1vdmVDaGlsZChyb290LmxpbmthZ2VPZihraWQpLGtpZCk7XG4gICAgfVxuICAgIGZvciAobGV0IHJlc2lkdWUgb2YgY2hpbGRyZW4uZmlsdGVyKCBraWQgPT4gcm9vdC5jaGlsZHJlbi5pbmRleE9mKGtpZCkgPCAwKSkge1xuICAgICAgaWYgKHJlc2lkdWUucGFyZW50KSB7XG4gICAgICAgIHJvb3QuZ3JhZnQocmVzaWR1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb290LmFkZENoaWxkKDAscmVzaWR1ZSk7XG4gICAgICB9XG4gICAgICBwYXRjaF9wYXJlbnQocmVzaWR1ZSx0aGlzKTtcbiAgICB9XG4gIH1cblxufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../glycan.js/js/Repeat.js\n");

/***/ }),

/***/ "../glycan.js/js/SVGCanvas.js":
/*!************************************!*\
  !*** ../glycan.js/js/SVGCanvas.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Debug */ \"../glycan.js/js/Debug.js\");\n\n\n\nvar module_string = 'glycanjs:svgcanvas';\nvar log = Object(_Debug__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(module_string);\nvar SVGNS = 'http://www.w3.org/2000/svg';\nvar PRECISION = 1;\nvar str = num => num.toFixed(PRECISION);\nclass SVGCanvas {\n  constructor(container) {\n    log.info('Creating canvas element');\n    var is_defs = container.nodeName === 'DEFS';\n    this.canvas = this.createElement(is_defs ? 'symbol' : 'svg', container.ownerDocument);\n    this.canvas.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink');\n    container.appendChild(this.canvas);\n  }\n  createElement(tag) {\n    var doc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.canvas.ownerDocument;\n    return doc.createElementNS(SVGNS, tag);\n  }\n  appendChild(element) {\n    this.canvas.appendChild(element);\n  }\n  group(a_g) {\n    if (!a_g) {\n      a_g = this.canvas.ownerDocument.createElementNS(SVGNS, 'g');\n      this.appendChild(a_g);\n    }\n    return Object.create(this, {\n      appendChild: {\n        value: el => a_g.appendChild(el)\n      },\n      setAttribute: {\n        value: (name, val) => a_g.setAttribute(name, val)\n      },\n      setAttributeNS: {\n        value: (ns, name, val) => a_g.setAttributeNS(ns, name, val)\n      },\n      element: {\n        value: a_g\n      }\n    });\n  }\n  use(ref, x, y, width, height) {\n    var a_use = this.canvas.ownerDocument.createElementNS(SVGNS, 'use');\n    a_use.setAttribute('x', str(x));\n    a_use.setAttribute('y', str(y));\n    a_use.setAttribute('width', str(width));\n    a_use.setAttribute('height', str(height));\n    a_use.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', ref);\n    this.appendChild(a_use);\n    return a_use;\n  }\n  rect(x, y, width, height) {\n    var a_rect = this.canvas.ownerDocument.createElementNS(SVGNS, 'rect');\n    a_rect.setAttribute('x', str(x));\n    a_rect.setAttribute('y', str(y));\n    a_rect.setAttribute('width', str(width));\n    a_rect.setAttribute('height', str(height));\n    this.appendChild(a_rect);\n    return a_rect;\n  }\n  line(x, y, x2, y2) {\n    var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    var a_line = this.canvas.ownerDocument.createElementNS(SVGNS, 'line');\n    a_line.setAttribute('x1', str(x));\n    a_line.setAttribute('y1', str(y));\n    a_line.setAttribute('x2', str(x2));\n    a_line.setAttribute('y2', str(y2));\n    for (var key of Object.keys(options)) {\n      a_line.setAttribute(key, options[key]);\n    }\n    var [fill_style, stroke_style, stroke_width] = [options.fill ? \"fill: var(--fill-color,\".concat(options.fill, \");\") : '', options.stroke ? \"stroke: var(--stroke-color,\".concat(options.stroke, \");\") : '', options['stroke-width'] ? \"stroke-width: var(--stroke-width,\".concat(options['stroke-width'], \")\") : ''];\n    a_line.setAttribute('style', \"\".concat(fill_style).concat(stroke_style).concat(stroke_width));\n    a_line.setAttribute('stroke-linecap', 'round');\n    this.appendChild(a_line);\n    return a_line;\n  }\n  text(x, y, text) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var a_text = this.canvas.ownerDocument.createElementNS(SVGNS, 'text');\n    var a_tspan = this.canvas.ownerDocument.createElementNS(SVGNS, 'tspan');\n    if (typeof text != 'string') {\n      a_text.appendChild(text);\n    } else {\n      a_text.appendChild(a_tspan);\n      a_tspan.textContent = text;\n      a_tspan.setAttribute('dy', '0');\n    }\n    a_text.style.fontFamily = 'Helvetica, Verdana, Arial, Sans-serif';\n    a_text.setAttribute('x', str(x));\n    a_text.setAttribute('y', str(y));\n    for (var optkey of ['font-size', 'text-anchor']) {\n      if (options[optkey]) {\n        a_text.setAttribute(optkey, options[optkey]);\n      }\n    }\n    for (var _optkey of ['dy', 'dx']) {\n      if (options[_optkey]) {\n        a_tspan.setAttribute(_optkey, options[_optkey]);\n      }\n    }\n    this.appendChild(a_text);\n    return a_text;\n  }\n  sendToBack(element) {\n    if (element.element) {\n      element = element.element;\n    }\n    var parent = element.parentNode;\n    parent.insertBefore(element, parent.firstChild);\n    return element;\n  }\n  sendToFront(element) {\n    if (element.element) {\n      element = element.element;\n    }\n    var parent = element.parentNode;\n    parent.insertBefore(element, null);\n    return element;\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (SVGCanvas);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL1NWR0NhbnZhcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9nbHljYW4uanMvanMvU1ZHQ2FudmFzLmpzP2MxMDEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgZGVidWcgZnJvbSAnLi9EZWJ1Zyc7XG5cbmNvbnN0IG1vZHVsZV9zdHJpbmc9J2dseWNhbmpzOnN2Z2NhbnZhcyc7XG5cbmNvbnN0IGxvZyA9IGRlYnVnKG1vZHVsZV9zdHJpbmcpO1xuXG5jb25zdCBTVkdOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5cbmNvbnN0IFBSRUNJU0lPTiA9IDE7XG5cbmNvbnN0IHN0ciA9IChudW0pID0+IG51bS50b0ZpeGVkKFBSRUNJU0lPTik7XG5cbmNsYXNzIFNWR0NhbnZhcyB7XG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lcikge1xuICAgIGxvZy5pbmZvKCdDcmVhdGluZyBjYW52YXMgZWxlbWVudCcpO1xuICAgIGxldCBpc19kZWZzID0gY29udGFpbmVyLm5vZGVOYW1lID09PSAnREVGUyc7XG4gICAgdGhpcy5jYW52YXMgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoaXNfZGVmcyA/ICdzeW1ib2wnIDogJ3N2ZycsY29udGFpbmVyLm93bmVyRG9jdW1lbnQpO1xuICAgIHRoaXMuY2FudmFzLnNldEF0dHJpYnV0ZSgneG1sbnM6eGxpbmsnLCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY2FudmFzKTtcbiAgfVxuXG4gIGNyZWF0ZUVsZW1lbnQodGFnLGRvYz10aGlzLmNhbnZhcy5vd25lckRvY3VtZW50KSB7XG4gICAgcmV0dXJuIGRvYy5jcmVhdGVFbGVtZW50TlMoU1ZHTlMsdGFnKTtcbiAgfVxuXG4gIGFwcGVuZENoaWxkKGVsZW1lbnQpIHtcbiAgICB0aGlzLmNhbnZhcy5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgfVxuXG4gIGdyb3VwKGFfZykge1xuICAgIGlmICggISBhX2cgKSB7XG4gICAgICBhX2cgPSB0aGlzLmNhbnZhcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdOUywnZycpO1xuICAgICAgdGhpcy5hcHBlbmRDaGlsZChhX2cpO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZSh0aGlzLHtcbiAgICAgIGFwcGVuZENoaWxkOiB7IHZhbHVlOiBlbCA9PiBhX2cuYXBwZW5kQ2hpbGQoZWwpIH0sXG4gICAgICBzZXRBdHRyaWJ1dGU6IHsgdmFsdWU6IChuYW1lLHZhbCkgPT4gYV9nLnNldEF0dHJpYnV0ZShuYW1lLHZhbCkgfSxcbiAgICAgIHNldEF0dHJpYnV0ZU5TOiB7IHZhbHVlOiAobnMsbmFtZSx2YWwpID0+IGFfZy5zZXRBdHRyaWJ1dGVOUyhucyxuYW1lLHZhbCkgfSxcbiAgICAgIGVsZW1lbnQ6IHsgdmFsdWU6IGFfZyB9XG4gICAgfSk7XG4gIH1cblxuICB1c2UocmVmLHgseSx3aWR0aCxoZWlnaHQpIHtcbiAgICBsZXQgYV91c2UgPSB0aGlzLmNhbnZhcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdOUywndXNlJyk7XG4gICAgYV91c2Uuc2V0QXR0cmlidXRlKCd4Jywgc3RyKHgpKTtcbiAgICBhX3VzZS5zZXRBdHRyaWJ1dGUoJ3knLCBzdHIoeSkpO1xuICAgIGFfdXNlLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBzdHIod2lkdGgpKTtcbiAgICBhX3VzZS5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHN0cihoZWlnaHQpKTtcbiAgICBhX3VzZS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsJ3hsaW5rOmhyZWYnLHJlZik7XG4gICAgdGhpcy5hcHBlbmRDaGlsZChhX3VzZSk7XG4gICAgcmV0dXJuIGFfdXNlO1xuICB9XG5cbiAgcmVjdCh4LHksd2lkdGgsaGVpZ2h0KSB7XG4gICAgbGV0IGFfcmVjdCA9IHRoaXMuY2FudmFzLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR05TLCdyZWN0Jyk7XG4gICAgYV9yZWN0LnNldEF0dHJpYnV0ZSgneCcsIHN0cih4KSk7XG4gICAgYV9yZWN0LnNldEF0dHJpYnV0ZSgneScsIHN0cih5KSk7XG4gICAgYV9yZWN0LnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBzdHIod2lkdGgpKTtcbiAgICBhX3JlY3Quc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBzdHIoaGVpZ2h0KSk7XG4gICAgdGhpcy5hcHBlbmRDaGlsZChhX3JlY3QpO1xuICAgIHJldHVybiBhX3JlY3Q7XG4gIH1cblxuICBsaW5lKHgseSx4Mix5MixvcHRpb25zPXt9KSB7XG4gICAgbGV0IGFfbGluZSA9IHRoaXMuY2FudmFzLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR05TLCdsaW5lJyk7XG4gICAgYV9saW5lLnNldEF0dHJpYnV0ZSgneDEnLCBzdHIoeCkpO1xuICAgIGFfbGluZS5zZXRBdHRyaWJ1dGUoJ3kxJywgc3RyKHkpKTtcbiAgICBhX2xpbmUuc2V0QXR0cmlidXRlKCd4MicsIHN0cih4MikpO1xuICAgIGFfbGluZS5zZXRBdHRyaWJ1dGUoJ3kyJywgc3RyKHkyKSk7XG4gICAgZm9yIChsZXQga2V5IG9mIE9iamVjdC5rZXlzKG9wdGlvbnMpKSB7XG4gICAgICBhX2xpbmUuc2V0QXR0cmlidXRlKGtleSxvcHRpb25zW2tleV0pO1xuICAgIH1cbiAgICBsZXQgW2ZpbGxfc3R5bGUsc3Ryb2tlX3N0eWxlLHN0cm9rZV93aWR0aF0gPSBbIG9wdGlvbnMuZmlsbCA/IGBmaWxsOiB2YXIoLS1maWxsLWNvbG9yLCR7b3B0aW9ucy5maWxsfSk7YCA6ICcnLFxuICAgICAgb3B0aW9ucy5zdHJva2UgPyBgc3Ryb2tlOiB2YXIoLS1zdHJva2UtY29sb3IsJHtvcHRpb25zLnN0cm9rZX0pO2AgOiAnJyxcbiAgICAgIG9wdGlvbnNbJ3N0cm9rZS13aWR0aCddID8gYHN0cm9rZS13aWR0aDogdmFyKC0tc3Ryb2tlLXdpZHRoLCR7b3B0aW9uc1snc3Ryb2tlLXdpZHRoJ119KWAgOiAnJ1xuICAgIF07XG4gICAgYV9saW5lLnNldEF0dHJpYnV0ZSgnc3R5bGUnLGAke2ZpbGxfc3R5bGV9JHtzdHJva2Vfc3R5bGV9JHtzdHJva2Vfd2lkdGh9YCk7XG4gICAgYV9saW5lLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWxpbmVjYXAnLCdyb3VuZCcpO1xuICAgIHRoaXMuYXBwZW5kQ2hpbGQoYV9saW5lKTtcbiAgICByZXR1cm4gYV9saW5lO1xuICB9XG5cbiAgdGV4dCh4LHksdGV4dCxvcHRpb25zPXt9KSB7XG4gICAgbGV0IGFfdGV4dCA9IHRoaXMuY2FudmFzLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR05TLCd0ZXh0Jyk7XG4gICAgbGV0IGFfdHNwYW4gPSB0aGlzLmNhbnZhcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdOUywgJ3RzcGFuJyk7XG4gICAgaWYgKHR5cGVvZiB0ZXh0ICE9ICdzdHJpbmcnKSB7XG4gICAgICBhX3RleHQuYXBwZW5kQ2hpbGQodGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFfdGV4dC5hcHBlbmRDaGlsZChhX3RzcGFuKTtcbiAgICAgIGFfdHNwYW4udGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgICAgYV90c3Bhbi5zZXRBdHRyaWJ1dGUoJ2R5JywnMCcpO1xuICAgIH1cbiAgICBhX3RleHQuc3R5bGUuZm9udEZhbWlseSA9ICdIZWx2ZXRpY2EsIFZlcmRhbmEsIEFyaWFsLCBTYW5zLXNlcmlmJztcbiAgICBhX3RleHQuc2V0QXR0cmlidXRlKCd4JyxzdHIoeCkpO1xuICAgIGFfdGV4dC5zZXRBdHRyaWJ1dGUoJ3knLHN0cih5KSk7XG4gICAgZm9yIChsZXQgb3B0a2V5IG9mIFsnZm9udC1zaXplJywndGV4dC1hbmNob3InXSkge1xuICAgICAgaWYgKG9wdGlvbnNbb3B0a2V5XSkge1xuICAgICAgICBhX3RleHQuc2V0QXR0cmlidXRlKG9wdGtleSxvcHRpb25zW29wdGtleV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBvcHRrZXkgb2YgWydkeScsJ2R4J10pIHtcbiAgICAgIGlmIChvcHRpb25zW29wdGtleV0pIHtcbiAgICAgICAgYV90c3Bhbi5zZXRBdHRyaWJ1dGUob3B0a2V5LG9wdGlvbnNbb3B0a2V5XSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5hcHBlbmRDaGlsZChhX3RleHQpO1xuICAgIHJldHVybiBhX3RleHQ7XG4gIH1cblxuXG4gIHNlbmRUb0JhY2soZWxlbWVudCkge1xuICAgIGlmIChlbGVtZW50LmVsZW1lbnQpIHtcbiAgICAgIGVsZW1lbnQgPSBlbGVtZW50LmVsZW1lbnQ7XG4gICAgfVxuICAgIGxldCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgcGFyZW50Lmluc2VydEJlZm9yZShlbGVtZW50LHBhcmVudC5maXJzdENoaWxkKTtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIHNlbmRUb0Zyb250KGVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudC5lbGVtZW50KSB7XG4gICAgICBlbGVtZW50ID0gZWxlbWVudC5lbGVtZW50O1xuICAgIH1cbiAgICBsZXQgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoZWxlbWVudCxudWxsKTtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFNWR0NhbnZhczsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../glycan.js/js/SVGCanvas.js\n");

/***/ }),

/***/ "../glycan.js/js/SVGRenderer.js":
/*!**************************************!*\
  !*** ../glycan.js/js/SVGRenderer.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(process) {/* harmony import */ var _Debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Debug */ \"../glycan.js/js/Debug.js\");\n/* harmony import */ var _SVGCanvas__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SVGCanvas */ \"../glycan.js/js/SVGCanvas.js\");\n/* harmony import */ var _Renderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Renderer */ \"../glycan.js/js/Renderer.js\");\n/*global */\n\n\n\n\n\nvar module_string = 'glycanjs:svgrenderer';\nvar log = Object(_Debug__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(module_string);\nvar container_symbol = Symbol('document_container');\nvar SCALE = 100;\nvar GLYCANJSNS = 'https://glycocode.com/glycanjs';\nvar supported_events = 'mousemove mousedown mouseup click touchstart touchend touchmove drop dragover';\nvar PRECISION = 1;\nvar DEFAULT_PADDING = {\n  side: 1,\n  top: 1\n};\nvar isNodejs = () => {\n  return typeof process === 'object' && typeof process.versions === 'object' && typeof process.versions.node !== 'undefined';\n};\nvar SYMBOLS_DEF = !isNodejs() ? __webpack_require__(/*! ../sugars.svg */ \"../glycan.js/sugars.svg\").default : '';\nvar str = num => num.toFixed(PRECISION);\nvar upgrade_symbol_elements = (canvas, symbols) => {\n  var icons = canvas.ownerDocument.createElement('div');\n  icons.innerHTML = symbols.replace(/<\\?.*\\?>/, '');\n  var ids = [...icons.querySelectorAll('defs symbol')].map(el => el.getAttribute('id'));\n  for (var symbol of canvas.querySelectorAll('symbol')) {\n    if (ids.indexOf(symbol.getAttribute('id')) >= 0) {\n      symbol.parentNode.removeChild(symbol);\n    }\n  }\n  for (var defs of icons.querySelectorAll('defs')) {\n    canvas.appendChild(defs);\n  }\n};\nvar use_css_variables = canvas => {\n  for (var shape of canvas.querySelectorAll('symbol *[fill]')) {\n    var fill = shape.getAttribute('fill');\n    var strokeWidth = shape.getAttribute('stroke-width');\n    var stroke = shape.getAttribute('stroke');\n    if (fill) {\n      shape.style.fill = \"var(--fill-color,\".concat(fill, \")\");\n    }\n    if (strokeWidth) {\n      shape.style.strokeWidth = \"var(--stroke-width,\".concat(strokeWidth, \")\");\n    }\n    if (stroke) {\n      shape.style.stroke = \"var(--stroke-color,\".concat(stroke, \")\");\n    }\n  }\n  for (var line of canvas.querySelectorAll('g[*|location] line')) {\n    var _strokeWidth = line.getAttribute('stroke-width');\n    var _stroke = line.getAttribute('stroke');\n    if (_strokeWidth) {\n      line.style.strokeWidth = \"var(--stroke-width,\".concat(_strokeWidth, \")\");\n    }\n    if (_stroke) {\n      line.style.stroke = \"var(--stroke-color,\".concat(_stroke, \")\");\n    }\n  }\n};\nvar wire_canvas_events = function wire_canvas_events(canvas, callback) {\n  for (var target of supported_events.split(' ')) {\n    canvas.addEventListener(target, callback, {\n      passive: true,\n      capture: true\n    });\n  }\n};\nvar handle_events = function handle_events(svg, event) {\n  var ROTATE = this.rotate;\n  if (event.clientX) {\n    var pt = svg.createSVGPoint();\n    pt.x = event.clientX;\n    pt.y = event.clientY;\n    var transformed = pt.matrixTransform(svg.getScreenCTM().inverse());\n    var xpos = transformed.x / SCALE;\n    var ypos = transformed.y / SCALE;\n    event.sugarX = ROTATE ? -1 * ypos + 1 : xpos;\n    event.sugarY = ROTATE ? xpos : ypos;\n  }\n};\nvar StaticSVGRenderer;\nclass SVGRenderer extends _Renderer__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor(container, layout) {\n    log('SVGRenderer');\n    super(container, layout);\n    if (container && layout) {\n      this[container_symbol] = container;\n      this.element = new _SVGCanvas__WEBPACK_IMPORTED_MODULE_1__[\"default\"](container);\n      this.element.canvas.setAttribute('xmlns:glycanjs', GLYCANJSNS);\n      wire_canvas_events(this.element.canvas, handle_events.bind(this, this.element.canvas), {\n        passive: true,\n        capture: false\n      });\n    }\n  }\n  static get SYMBOLS() {\n    return SYMBOLS_DEF;\n  }\n  static get GLOBAL_SCALE() {\n    return SCALE;\n  }\n  appendSymbols() {\n    this.constructor.AppendSymbols(this);\n  }\n  static AppendSymbols(element) {\n    if (element instanceof SVGRenderer) {\n      element = element.element.canvas;\n    }\n    var icons_elements = Promise.resolve(this.SYMBOLS).then(symbols_string => {\n      return new DOMParser().parseFromString(symbols_string, 'image/svg+xml');\n    }).then(el => {\n      return el.querySelectorAll('svg defs');\n    });\n    if (!(element instanceof SVGDefsElement)) {\n      var el = element.ownerDocument.createElementNS('http://www.w3.org/2000/svg', 'defs');\n      element.appendChild(el);\n      element = el;\n    }\n    return icons_elements.then(symbols => {\n      console.log(symbols);\n      for (var symbol of symbols) {\n        element.appendChild(symbol.cloneNode(true));\n      }\n    });\n  }\n  static fromSVGElement(element, sugar_class) {\n    var renderer = new StaticSVGRenderer();\n    renderer[container_symbol] = element.parentNode;\n    renderer.element = new _SVGCanvas__WEBPACK_IMPORTED_MODULE_1__[\"default\"](element);\n    renderer.element.canvas = element;\n    upgrade_symbol_elements(element, SVGRenderer.SYMBOLS);\n    use_css_variables(element);\n    wire_canvas_events(element, handle_events.bind(renderer, element), {\n      passive: true,\n      capture: false\n    });\n    var sugar_elements = element.querySelectorAll('g');\n    for (var group of sugar_elements) {\n      if (!group.hasAttribute('glycanjs:sequence')) {\n        continue;\n      }\n      var sugar = new sugar_class();\n      sugar.sequence = group.getAttribute('glycanjs:sequence');\n      renderer.addSugar(sugar);\n      renderer.rendered.set(sugar, renderer.element.group(group));\n      for (var icon of group.querySelectorAll('use')) {\n        if (!icon.hasAttribute('glycanjs:location')) {\n          continue;\n        }\n        var rendered_data = {\n          residue: {\n            element: icon\n          }\n        };\n        if (icon.parentNode !== group) {\n          group.appendChild(icon);\n        }\n        renderer.rendered.set(sugar.locate_monosaccharide(icon.getAttribute('glycanjs:location')), rendered_data);\n      }\n      for (var link of group.querySelectorAll('g')) {\n        if (!link.hasAttribute('glycanjs:location')) {\n          continue;\n        }\n        if (link.parentNode !== group) {\n          group.appendChild(link);\n          renderer.element.sendToBack(link);\n        }\n        var _rendered_data = renderer.rendered.get(sugar.locate_monosaccharide(link.getAttribute('glycanjs:location')));\n        if (!_rendered_data) {\n          console.log('ERROR loading linkage for ', sugar.sequence, 'missing residue at', link.getAttribute('glycanjs:location'));\n          continue;\n        }\n        _rendered_data.linkage = link;\n      }\n    }\n    return renderer;\n  }\n  resetTags() {\n    for (var sugar of this.sugars) {\n      var container = this.rendered.get(sugar);\n      if (container.tagGroup) {\n        for (var el of [...container.tagGroup.element.childNodes]) {\n          container.appendChild(el);\n        }\n      }\n    }\n  }\n  setupContainer(container, sugar) {\n    var canvas = this.element;\n    if (!container) {\n      container = canvas.group();\n      container.setAttributeNS(null, 'pointer-events', 'none');\n      this.rendered.set(sugar, container);\n    }\n    container.setAttributeNS(GLYCANJSNS, 'glycanjs:sequence', sugar.sequence);\n    if (this.groupTag && !container.tagGroup) {\n      container.tagGroup = container.group();\n      container.tagGroup.element.setAttribute('class', 'tagged');\n    }\n\n    // Move all nodes out of the group\n    if (container.tagGroup) {\n      for (var el of container.tagGroup.element.childNodes) {\n        container.appendChild(el);\n      }\n      var tag_element_style = container.tagGroup.element.ownerDocument.defaultView.getComputedStyle(container.tagGroup.element);\n      if (tag_element_style) {\n        var zindex = tag_element_style.getPropertyValue('--zindex').trim() || 0;\n        zindex = parseInt(zindex);\n        var parent = container.tagGroup.element.parentElement;\n        if (zindex < 0) {\n          parent.insertBefore(container.tagGroup.element, parent.firstChild);\n        }\n        if (zindex > 0) {\n          parent.insertBefore(container.tagGroup.element, null);\n        }\n      }\n    }\n    return container;\n  }\n  renderLinkageGroup(canvas, sugar, residue) {\n    var group = canvas.group();\n    var location = sugar.location_for_monosaccharide(residue);\n    group.element.setAttributeNS(GLYCANJSNS, 'glycanjs:location', location);\n    group.element.setAttribute('part', \"linkage_\".concat(location));\n    return group;\n  }\n  renderLinkageLabel(canvas, x, y, text, ROTATE, short_axis_pos, LTR) {\n    var label = canvas.text(x, y, text);\n    label.setAttribute('font-size', str(Math.floor(SCALE / 3)));\n    label.firstChild.setAttribute('dy', '0.75em');\n    if (!ROTATE && short_axis_pos < 0) {\n      label.setAttribute('text-anchor', 'end');\n    }\n    if (ROTATE && LTR) {\n      label.setAttribute('text-anchor', 'end');\n    }\n    if (ROTATE && short_axis_pos < 0) {\n      label.firstChild.setAttribute('dy', '0em');\n    }\n    return label;\n  }\n  removeRendered(elements) {\n    if (elements.residue) {\n      elements.residue.element.parentNode.removeChild(elements.residue.element);\n    }\n    if (elements.linkage) {\n      if (elements.linkage.element) {\n        elements.linkage.element.parentNode.removeChild(elements.linkage.element);\n      } else {\n        elements.linkage.parentNode.removeChild(elements.linkage);\n      }\n    }\n  }\n  renderIcon(container, identifier, residue, sugar) {\n    var symbol_prefix = this.icon_prefix ? \"\".concat(this.icon_prefix, \"_\") : '';\n    var icon = container.use(\"#\".concat(symbol_prefix).concat(identifier), 0, 0, 1, 1);\n    var location = sugar.location_for_monosaccharide(residue);\n    icon.setAttributeNS(GLYCANJSNS, 'glycanjs:identifier', residue.identifier);\n    icon.setAttributeNS(GLYCANJSNS, 'glycanjs:location', location);\n    icon.setAttributeNS(GLYCANJSNS, 'glycanjs:parent', residue.parent ? sugar.location_for_monosaccharide(residue.parent) : '');\n    icon.setAttribute('part', \"residue_location_\".concat(location));\n    return {\n      element: icon\n    };\n  }\n  setIconPosition(icon, x, y, width, height, rotate) {\n    var rotate_str = '';\n    if (rotate !== 0) {\n      rotate_str = \"rotate(\".concat(str(rotate), \",\").concat(str(x + width / 2), \",\").concat(str(y + height / 2), \")\");\n    }\n    var transform = \"\".concat(rotate_str, \" translate(\").concat(str(x), \",\").concat(str(y), \") scale(\").concat(str(width), \",\").concat(str(height), \")\");\n    icon.element.setAttribute('transform', transform);\n  }\n  screenCoordinatesFromLayout(layout) {\n    var svg = this.element.canvas;\n    var pt = svg.createSVGPoint();\n    var xend = layout.x + layout.width;\n    var yend = layout.y + layout.height;\n    pt.x = layout.x * SCALE;\n    pt.y = layout.y * SCALE;\n    var transformed = pt.matrixTransform(svg.getScreenCTM());\n    layout.x = transformed.x;\n    layout.y = transformed.y;\n    pt.x = xend * SCALE;\n    pt.y = yend * SCALE;\n    transformed = pt.matrixTransform(svg.getScreenCTM());\n    layout.width = transformed.x - layout.x;\n    layout.height = transformed.y - layout.y;\n    return layout;\n  }\n  scaleToFit() {\n    var padding = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_PADDING;\n    var svg = this.element.canvas;\n    var bb = svg.getBBox();\n    var bbx = bb.x - SCALE * padding.side;\n    var bby = bb.y - SCALE * padding.top;\n    var bbw = bb.width + 2 * SCALE * padding.side;\n    var bbh = bb.height + 2 * SCALE * padding.top;\n    var vb = [bbx, bby, bbw, bbh];\n    svg.setAttribute('viewBox', vb.join(' '));\n    svg.setAttribute('preserveAspectRatio', 'xMidYMid meet');\n  }\n}\nStaticSVGRenderer = class extends SVGRenderer {\n  layoutFor(residue) {\n    var {\n      x,\n      y,\n      width,\n      height\n    } = this.rendered.get(residue).residue.element.getBoundingClientRect();\n    return {\n      x,\n      y,\n      width,\n      height\n    };\n  }\n  screenCoordinatesFromLayout(layout) {\n    return layout;\n  }\n};\nSVGRenderer.DEFAULT_PADDING = DEFAULT_PADDING;\n/* harmony default export */ __webpack_exports__[\"default\"] = (SVGRenderer);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../sviewer/node_modules/webpack/node_modules/process/browser.js */ \"./node_modules/webpack/node_modules/process/browser.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL1NWR1JlbmRlcmVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL2dseWNhbi5qcy9qcy9TVkdSZW5kZXJlci5qcz8wNThlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qZ2xvYmFsICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgZGVidWcgZnJvbSAnLi9EZWJ1Zyc7XG5cbmltcG9ydCBTVkdDYW52YXMgZnJvbSAnLi9TVkdDYW52YXMnO1xuXG5pbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9SZW5kZXJlcic7XG5cbmNvbnN0IG1vZHVsZV9zdHJpbmc9J2dseWNhbmpzOnN2Z3JlbmRlcmVyJztcblxuY29uc3QgbG9nID0gZGVidWcobW9kdWxlX3N0cmluZyk7XG5cbmNvbnN0IGNvbnRhaW5lcl9zeW1ib2wgPSBTeW1ib2woJ2RvY3VtZW50X2NvbnRhaW5lcicpO1xuXG5jb25zdCBTQ0FMRSA9IDEwMDtcblxuY29uc3QgR0xZQ0FOSlNOUyA9ICdodHRwczovL2dseWNvY29kZS5jb20vZ2x5Y2FuanMnO1xuXG5jb25zdCBzdXBwb3J0ZWRfZXZlbnRzID0gJ21vdXNlbW92ZSBtb3VzZWRvd24gbW91c2V1cCBjbGljayB0b3VjaHN0YXJ0IHRvdWNoZW5kIHRvdWNobW92ZSBkcm9wIGRyYWdvdmVyJztcblxuY29uc3QgUFJFQ0lTSU9OID0gMTtcblxuY29uc3QgREVGQVVMVF9QQURESU5HPSB7IHNpZGU6IDEsIHRvcDogMSB9O1xuXG5jb25zdCBpc05vZGVqcyA9ICgpID0+IHsgcmV0dXJuIHR5cGVvZiBwcm9jZXNzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZSAhPT0gJ3VuZGVmaW5lZCc7IH07XG5cbmNvbnN0IFNZTUJPTFNfREVGID0gKCAhIGlzTm9kZWpzKCkgKSA/IHJlcXVpcmUoJy4uL3N1Z2Fycy5zdmcnKS5kZWZhdWx0IDogJyc7XG5cbmNvbnN0IHN0ciA9IChudW0pID0+IG51bS50b0ZpeGVkKFBSRUNJU0lPTik7XG5cbmNvbnN0IHVwZ3JhZGVfc3ltYm9sX2VsZW1lbnRzID0gKGNhbnZhcyxzeW1ib2xzKSA9PiB7XG4gIGxldCBpY29ucyA9IGNhbnZhcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBpY29ucy5pbm5lckhUTUwgPSBzeW1ib2xzLnJlcGxhY2UoLzxcXD8uKlxcPz4vLCcnKTtcblxuICBsZXQgaWRzID0gWy4uLmljb25zLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RlZnMgc3ltYm9sJyldLm1hcCggZWwgPT4gZWwuZ2V0QXR0cmlidXRlKCdpZCcpKTtcbiAgZm9yIChsZXQgc3ltYm9sIG9mIGNhbnZhcy5xdWVyeVNlbGVjdG9yQWxsKCdzeW1ib2wnKSkge1xuICAgIGlmIChpZHMuaW5kZXhPZihzeW1ib2wuZ2V0QXR0cmlidXRlKCdpZCcpKSA+PSAwKSB7XG4gICAgICBzeW1ib2wucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzeW1ib2wpO1xuICAgIH1cbiAgfVxuICBmb3IgKGxldCBkZWZzIG9mIGljb25zLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RlZnMnKSkge1xuICAgIGNhbnZhcy5hcHBlbmRDaGlsZChkZWZzKTtcbiAgfVxufTtcblxuY29uc3QgdXNlX2Nzc192YXJpYWJsZXMgPSAoY2FudmFzKSA9PiB7XG4gIGZvciAobGV0IHNoYXBlIG9mIGNhbnZhcy5xdWVyeVNlbGVjdG9yQWxsKCdzeW1ib2wgKltmaWxsXScpKSB7XG4gICAgbGV0IGZpbGwgPSBzaGFwZS5nZXRBdHRyaWJ1dGUoJ2ZpbGwnKTtcbiAgICBsZXQgc3Ryb2tlV2lkdGggPSBzaGFwZS5nZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcpO1xuICAgIGxldCBzdHJva2UgPSBzaGFwZS5nZXRBdHRyaWJ1dGUoJ3N0cm9rZScpO1xuICAgIGlmIChmaWxsKSB7XG4gICAgICBzaGFwZS5zdHlsZS5maWxsID0gYHZhcigtLWZpbGwtY29sb3IsJHtmaWxsfSlgO1xuICAgIH1cbiAgICBpZiAoc3Ryb2tlV2lkdGgpIHtcbiAgICAgIHNoYXBlLnN0eWxlLnN0cm9rZVdpZHRoID0gYHZhcigtLXN0cm9rZS13aWR0aCwke3N0cm9rZVdpZHRofSlgO1xuICAgIH1cbiAgICBpZiAoc3Ryb2tlKSB7XG4gICAgICBzaGFwZS5zdHlsZS5zdHJva2UgPSBgdmFyKC0tc3Ryb2tlLWNvbG9yLCR7c3Ryb2tlfSlgO1xuICAgIH1cbiAgfVxuICBmb3IgKGxldCBsaW5lIG9mIGNhbnZhcy5xdWVyeVNlbGVjdG9yQWxsKCdnWyp8bG9jYXRpb25dIGxpbmUnKSkge1xuICAgIGxldCBzdHJva2VXaWR0aCA9IGxpbmUuZ2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnKTtcbiAgICBsZXQgc3Ryb2tlID0gbGluZS5nZXRBdHRyaWJ1dGUoJ3N0cm9rZScpO1xuICAgIGlmIChzdHJva2VXaWR0aCkge1xuICAgICAgbGluZS5zdHlsZS5zdHJva2VXaWR0aCA9IGB2YXIoLS1zdHJva2Utd2lkdGgsJHtzdHJva2VXaWR0aH0pYDtcbiAgICB9XG4gICAgaWYgKHN0cm9rZSkge1xuICAgICAgbGluZS5zdHlsZS5zdHJva2UgPSBgdmFyKC0tc3Ryb2tlLWNvbG9yLCR7c3Ryb2tlfSlgO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3Qgd2lyZV9jYW52YXNfZXZlbnRzID0gZnVuY3Rpb24oY2FudmFzLGNhbGxiYWNrKSB7XG4gIGZvciAobGV0IHRhcmdldCBvZiBzdXBwb3J0ZWRfZXZlbnRzLnNwbGl0KCcgJykpIHtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lciggdGFyZ2V0LCBjYWxsYmFjaywgeyBwYXNzaXZlOiB0cnVlLCBjYXB0dXJlOiB0cnVlIH0gKTtcbiAgfVxufTtcblxuY29uc3QgaGFuZGxlX2V2ZW50cyA9IGZ1bmN0aW9uKHN2ZyxldmVudCkge1xuICBjb25zdCBST1RBVEUgPSB0aGlzLnJvdGF0ZTtcbiAgaWYgKGV2ZW50LmNsaWVudFgpIHtcbiAgICB2YXIgcHQ9c3ZnLmNyZWF0ZVNWR1BvaW50KCk7XG4gICAgcHQueD1ldmVudC5jbGllbnRYO1xuICAgIHB0Lnk9ZXZlbnQuY2xpZW50WTtcbiAgICBsZXQgdHJhbnNmb3JtZWQgPSBwdC5tYXRyaXhUcmFuc2Zvcm0oc3ZnLmdldFNjcmVlbkNUTSgpLmludmVyc2UoKSk7XG4gICAgbGV0IHhwb3MgPSB0cmFuc2Zvcm1lZC54IC8gU0NBTEU7XG4gICAgbGV0IHlwb3MgPSB0cmFuc2Zvcm1lZC55IC8gU0NBTEU7XG4gICAgZXZlbnQuc3VnYXJYID0gUk9UQVRFID8gKCgtMSp5cG9zKSArIDEpIDogeHBvcztcbiAgICBldmVudC5zdWdhclkgPSBST1RBVEUgPyB4cG9zIDogeXBvcztcbiAgfVxufTtcblxubGV0IFN0YXRpY1NWR1JlbmRlcmVyO1xuXG5jbGFzcyBTVkdSZW5kZXJlciBleHRlbmRzIFJlbmRlcmVyIHtcbiAgY29uc3RydWN0b3IoY29udGFpbmVyLGxheW91dCkge1xuICAgIGxvZygnU1ZHUmVuZGVyZXInKTtcbiAgICBzdXBlcihjb250YWluZXIsbGF5b3V0KTtcblxuICAgIGlmIChjb250YWluZXIgJiYgbGF5b3V0KSB7XG4gICAgICB0aGlzW2NvbnRhaW5lcl9zeW1ib2xdID0gY29udGFpbmVyO1xuICAgICAgdGhpcy5lbGVtZW50ID0gbmV3IFNWR0NhbnZhcyhjb250YWluZXIpO1xuICAgICAgdGhpcy5lbGVtZW50LmNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3htbG5zOmdseWNhbmpzJyxHTFlDQU5KU05TKTtcbiAgICAgIHdpcmVfY2FudmFzX2V2ZW50cyh0aGlzLmVsZW1lbnQuY2FudmFzLCBoYW5kbGVfZXZlbnRzLmJpbmQodGhpcyx0aGlzLmVsZW1lbnQuY2FudmFzKSwge3Bhc3NpdmU6dHJ1ZSwgY2FwdHVyZTogZmFsc2UgfSApO1xuICAgIH1cblxuICB9XG5cbiAgc3RhdGljIGdldCBTWU1CT0xTKCkge1xuICAgIHJldHVybiBTWU1CT0xTX0RFRjtcbiAgfVxuXG5cbiAgc3RhdGljIGdldCBHTE9CQUxfU0NBTEUoKSB7XG4gICAgcmV0dXJuIFNDQUxFO1xuICB9XG5cbiAgYXBwZW5kU3ltYm9scygpIHtcbiAgICB0aGlzLmNvbnN0cnVjdG9yLkFwcGVuZFN5bWJvbHModGhpcyk7XG4gIH1cblxuICBzdGF0aWMgQXBwZW5kU3ltYm9scyhlbGVtZW50KSB7XG5cbiAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIFNWR1JlbmRlcmVyKSB7XG4gICAgICBlbGVtZW50ID0gZWxlbWVudC5lbGVtZW50LmNhbnZhcztcbiAgICB9XG5cbiAgICBjb25zdCBpY29uc19lbGVtZW50cyA9IFByb21pc2UucmVzb2x2ZSh0aGlzLlNZTUJPTFMpLnRoZW4oIHN5bWJvbHNfc3RyaW5nID0+IHtcbiAgICAgIHJldHVybiAobmV3IERPTVBhcnNlcigpKS5wYXJzZUZyb21TdHJpbmcoc3ltYm9sc19zdHJpbmcsICdpbWFnZS9zdmcreG1sJyk7XG4gICAgfSkudGhlbiggZWwgPT4ge1xuICAgICAgcmV0dXJuIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N2ZyBkZWZzJyk7XG4gICAgfSk7XG5cbiAgICBpZiAoISAoZWxlbWVudCBpbnN0YW5jZW9mIFNWR0RlZnNFbGVtZW50KSkge1xuICAgICAgbGV0IGVsID0gZWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCdkZWZzJyk7XG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGVsKTtcbiAgICAgIGVsZW1lbnQgPSBlbDtcbiAgICB9XG5cbiAgICByZXR1cm4gaWNvbnNfZWxlbWVudHMudGhlbiggc3ltYm9scyA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhzeW1ib2xzKTtcbiAgICAgIGZvciAobGV0IHN5bWJvbCBvZiBzeW1ib2xzICkge1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKHN5bWJvbC5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIH1cblxuICBzdGF0aWMgZnJvbVNWR0VsZW1lbnQoZWxlbWVudCxzdWdhcl9jbGFzcykge1xuICAgIGxldCByZW5kZXJlciA9IG5ldyBTdGF0aWNTVkdSZW5kZXJlcigpO1xuICAgIHJlbmRlcmVyW2NvbnRhaW5lcl9zeW1ib2xdID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIHJlbmRlcmVyLmVsZW1lbnQgPSBuZXcgU1ZHQ2FudmFzKGVsZW1lbnQpO1xuXG4gICAgcmVuZGVyZXIuZWxlbWVudC5jYW52YXMgPSBlbGVtZW50O1xuXG4gICAgdXBncmFkZV9zeW1ib2xfZWxlbWVudHMoZWxlbWVudCxTVkdSZW5kZXJlci5TWU1CT0xTKTtcbiAgICB1c2VfY3NzX3ZhcmlhYmxlcyhlbGVtZW50KTtcblxuICAgIHdpcmVfY2FudmFzX2V2ZW50cyhlbGVtZW50LCBoYW5kbGVfZXZlbnRzLmJpbmQocmVuZGVyZXIsZWxlbWVudCksIHsgcGFzc2l2ZTp0cnVlLCBjYXB0dXJlOmZhbHNlIH0gKTtcbiAgICBsZXQgc3VnYXJfZWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2cnKTtcbiAgICBmb3IgKGxldCBncm91cCBvZiBzdWdhcl9lbGVtZW50cykge1xuICAgICAgaWYgKCEgZ3JvdXAuaGFzQXR0cmlidXRlKCdnbHljYW5qczpzZXF1ZW5jZScpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgbGV0IHN1Z2FyID0gbmV3IHN1Z2FyX2NsYXNzKCk7XG4gICAgICBzdWdhci5zZXF1ZW5jZSA9IGdyb3VwLmdldEF0dHJpYnV0ZSgnZ2x5Y2FuanM6c2VxdWVuY2UnKTtcbiAgICAgIHJlbmRlcmVyLmFkZFN1Z2FyKHN1Z2FyKTtcbiAgICAgIHJlbmRlcmVyLnJlbmRlcmVkLnNldChzdWdhcixyZW5kZXJlci5lbGVtZW50Lmdyb3VwKGdyb3VwKSk7XG4gICAgICBmb3IgKGxldCBpY29uIG9mIGdyb3VwLnF1ZXJ5U2VsZWN0b3JBbGwoJ3VzZScpKSB7XG4gICAgICAgIGlmICggISBpY29uLmhhc0F0dHJpYnV0ZSgnZ2x5Y2FuanM6bG9jYXRpb24nKSApIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVuZGVyZWRfZGF0YSA9IHsgcmVzaWR1ZTogeyBlbGVtZW50OiBpY29uIH0gfTtcbiAgICAgICAgaWYgKGljb24ucGFyZW50Tm9kZSAhPT0gZ3JvdXApIHtcbiAgICAgICAgICBncm91cC5hcHBlbmRDaGlsZChpY29uKTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJlci5yZW5kZXJlZC5zZXQoIHN1Z2FyLmxvY2F0ZV9tb25vc2FjY2hhcmlkZShpY29uLmdldEF0dHJpYnV0ZSgnZ2x5Y2FuanM6bG9jYXRpb24nKSksIHJlbmRlcmVkX2RhdGEgKTtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGxpbmsgb2YgZ3JvdXAucXVlcnlTZWxlY3RvckFsbCgnZycpKSB7XG4gICAgICAgIGlmICggISBsaW5rLmhhc0F0dHJpYnV0ZSgnZ2x5Y2FuanM6bG9jYXRpb24nKSApIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGluay5wYXJlbnROb2RlICE9PSBncm91cCkge1xuICAgICAgICAgIGdyb3VwLmFwcGVuZENoaWxkKGxpbmspO1xuICAgICAgICAgIHJlbmRlcmVyLmVsZW1lbnQuc2VuZFRvQmFjayhsaW5rKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVuZGVyZWRfZGF0YSA9IHJlbmRlcmVyLnJlbmRlcmVkLmdldCggc3VnYXIubG9jYXRlX21vbm9zYWNjaGFyaWRlKGxpbmsuZ2V0QXR0cmlidXRlKCdnbHljYW5qczpsb2NhdGlvbicpKSApO1xuICAgICAgICBpZiAoICEgcmVuZGVyZWRfZGF0YSApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnRVJST1IgbG9hZGluZyBsaW5rYWdlIGZvciAnLHN1Z2FyLnNlcXVlbmNlLCdtaXNzaW5nIHJlc2lkdWUgYXQnLGxpbmsuZ2V0QXR0cmlidXRlKCdnbHljYW5qczpsb2NhdGlvbicpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJlZF9kYXRhLmxpbmthZ2UgPSBsaW5rO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVuZGVyZXI7XG4gIH1cblxuICByZXNldFRhZ3MoKSB7XG4gICAgZm9yIChsZXQgc3VnYXIgb2YgdGhpcy5zdWdhcnMpIHtcbiAgICAgIGxldCBjb250YWluZXIgPSB0aGlzLnJlbmRlcmVkLmdldChzdWdhcik7XG4gICAgICBpZiAoY29udGFpbmVyLnRhZ0dyb3VwKSB7XG4gICAgICAgIGZvciAobGV0IGVsIG9mIFsuLi5jb250YWluZXIudGFnR3JvdXAuZWxlbWVudC5jaGlsZE5vZGVzXSkge1xuICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzZXR1cENvbnRhaW5lcihjb250YWluZXIsc3VnYXIpIHtcbiAgICBjb25zdCBjYW52YXMgPSB0aGlzLmVsZW1lbnQ7XG5cbiAgICBpZiAoICEgY29udGFpbmVyICkge1xuICAgICAgY29udGFpbmVyID0gY2FudmFzLmdyb3VwKCk7XG4gICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlTlMobnVsbCwncG9pbnRlci1ldmVudHMnLCdub25lJyk7XG4gICAgICB0aGlzLnJlbmRlcmVkLnNldChzdWdhcixjb250YWluZXIpO1xuICAgIH1cblxuICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGVOUyhHTFlDQU5KU05TLCdnbHljYW5qczpzZXF1ZW5jZScsc3VnYXIuc2VxdWVuY2UpO1xuXG4gICAgaWYgKHRoaXMuZ3JvdXBUYWcgJiYgISBjb250YWluZXIudGFnR3JvdXApIHtcbiAgICAgIGNvbnRhaW5lci50YWdHcm91cCA9IGNvbnRhaW5lci5ncm91cCgpO1xuICAgICAgY29udGFpbmVyLnRhZ0dyb3VwLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsJ3RhZ2dlZCcpO1xuICAgIH1cblxuICAgIC8vIE1vdmUgYWxsIG5vZGVzIG91dCBvZiB0aGUgZ3JvdXBcbiAgICBpZiAoY29udGFpbmVyLnRhZ0dyb3VwKSB7XG4gICAgICBmb3IgKGxldCBlbCBvZiBjb250YWluZXIudGFnR3JvdXAuZWxlbWVudC5jaGlsZE5vZGVzKSB7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbCk7XG4gICAgICB9XG4gICAgICBsZXQgdGFnX2VsZW1lbnRfc3R5bGUgPSBjb250YWluZXIudGFnR3JvdXAuZWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoY29udGFpbmVyLnRhZ0dyb3VwLmVsZW1lbnQpO1xuICAgICAgaWYgKHRhZ19lbGVtZW50X3N0eWxlKSB7XG4gICAgICAgIGxldCB6aW5kZXggPSB0YWdfZWxlbWVudF9zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLXppbmRleCcpLnRyaW0oKSB8fCAwO1xuICAgICAgICB6aW5kZXggPSBwYXJzZUludCh6aW5kZXgpO1xuICAgICAgICBsZXQgcGFyZW50ID0gY29udGFpbmVyLnRhZ0dyb3VwLmVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgaWYgKHppbmRleCA8IDApIHtcbiAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNvbnRhaW5lci50YWdHcm91cC5lbGVtZW50LCBwYXJlbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHppbmRleCA+IDApIHtcbiAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNvbnRhaW5lci50YWdHcm91cC5lbGVtZW50LCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29udGFpbmVyO1xuICB9XG5cbiAgcmVuZGVyTGlua2FnZUdyb3VwKGNhbnZhcyxzdWdhcixyZXNpZHVlKSB7XG4gICAgbGV0IGdyb3VwID0gY2FudmFzLmdyb3VwKCk7XG4gICAgY29uc3QgbG9jYXRpb24gPSBzdWdhci5sb2NhdGlvbl9mb3JfbW9ub3NhY2NoYXJpZGUocmVzaWR1ZSk7XG4gICAgZ3JvdXAuZWxlbWVudC5zZXRBdHRyaWJ1dGVOUyhHTFlDQU5KU05TLCdnbHljYW5qczpsb2NhdGlvbicsbG9jYXRpb24pO1xuICAgIGdyb3VwLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdwYXJ0JyxgbGlua2FnZV8ke2xvY2F0aW9ufWApO1xuICAgIHJldHVybiBncm91cDtcbiAgfVxuXG4gIHJlbmRlckxpbmthZ2VMYWJlbChjYW52YXMseCx5LHRleHQsUk9UQVRFLHNob3J0X2F4aXNfcG9zLExUUikge1xuICAgIGxldCBsYWJlbCA9IGNhbnZhcy50ZXh0KCB4LCB5LCB0ZXh0ICk7XG4gICAgbGFiZWwuc2V0QXR0cmlidXRlKCdmb250LXNpemUnLHN0cihNYXRoLmZsb29yKFNDQUxFLzMpKSk7XG4gICAgbGFiZWwuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoJ2R5JywnMC43NWVtJyk7XG5cbiAgICBpZiAoISBST1RBVEUgJiYgc2hvcnRfYXhpc19wb3MgPCAwKSB7XG4gICAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ3RleHQtYW5jaG9yJywnZW5kJyk7XG4gICAgfVxuXG4gICAgaWYgKCBST1RBVEUgJiYgTFRSICkge1xuICAgICAgbGFiZWwuc2V0QXR0cmlidXRlKCd0ZXh0LWFuY2hvcicsJ2VuZCcpO1xuICAgIH1cblxuICAgIGlmIChST1RBVEUgJiYgc2hvcnRfYXhpc19wb3MgPCAwKSB7XG4gICAgICBsYWJlbC5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgnZHknLCcwZW0nKTtcbiAgICB9XG4gICAgcmV0dXJuIGxhYmVsO1xuICB9XG5cbiAgcmVtb3ZlUmVuZGVyZWQoZWxlbWVudHMpIHtcbiAgICBpZiAoZWxlbWVudHMucmVzaWR1ZSkge1xuICAgICAgZWxlbWVudHMucmVzaWR1ZS5lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudHMucmVzaWR1ZS5lbGVtZW50KTtcbiAgICB9XG4gICAgaWYgKGVsZW1lbnRzLmxpbmthZ2UpIHtcbiAgICAgIGlmIChlbGVtZW50cy5saW5rYWdlLmVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudHMubGlua2FnZS5lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudHMubGlua2FnZS5lbGVtZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnRzLmxpbmthZ2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50cy5saW5rYWdlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZW5kZXJJY29uKGNvbnRhaW5lcixpZGVudGlmaWVyLHJlc2lkdWUsc3VnYXIpIHtcbiAgICBsZXQgc3ltYm9sX3ByZWZpeCA9IHRoaXMuaWNvbl9wcmVmaXggPyBgJHt0aGlzLmljb25fcHJlZml4fV9gIDogJyc7XG4gICAgbGV0IGljb24gPSBjb250YWluZXIudXNlKGAjJHtzeW1ib2xfcHJlZml4fSR7aWRlbnRpZmllcn1gLDAsMCwxLDEpO1xuICAgIGNvbnN0IGxvY2F0aW9uID0gc3VnYXIubG9jYXRpb25fZm9yX21vbm9zYWNjaGFyaWRlKHJlc2lkdWUpO1xuICAgIGljb24uc2V0QXR0cmlidXRlTlMoR0xZQ0FOSlNOUywnZ2x5Y2FuanM6aWRlbnRpZmllcicscmVzaWR1ZS5pZGVudGlmaWVyKTtcbiAgICBpY29uLnNldEF0dHJpYnV0ZU5TKEdMWUNBTkpTTlMsJ2dseWNhbmpzOmxvY2F0aW9uJywgbG9jYXRpb24gKTtcbiAgICBpY29uLnNldEF0dHJpYnV0ZU5TKEdMWUNBTkpTTlMsJ2dseWNhbmpzOnBhcmVudCcsIHJlc2lkdWUucGFyZW50ID8gc3VnYXIubG9jYXRpb25fZm9yX21vbm9zYWNjaGFyaWRlKHJlc2lkdWUucGFyZW50KSA6ICcnKTtcblxuICAgIGljb24uc2V0QXR0cmlidXRlKCdwYXJ0JyxgcmVzaWR1ZV9sb2NhdGlvbl8ke2xvY2F0aW9ufWApO1xuXG4gICAgcmV0dXJuIHtlbGVtZW50OiBpY29uIH07XG4gIH1cblxuICBzZXRJY29uUG9zaXRpb24oaWNvbix4LHksd2lkdGgsaGVpZ2h0LHJvdGF0ZSkge1xuICAgIGxldCByb3RhdGVfc3RyID0gJyc7XG4gICAgaWYgKHJvdGF0ZSAhPT0gMCkge1xuICAgICAgcm90YXRlX3N0ciA9IGByb3RhdGUoJHtzdHIocm90YXRlKX0sJHtzdHIoeCArIHdpZHRoLzIpfSwke3N0cih5ICsgaGVpZ2h0LzIpfSlgO1xuICAgIH1cblxuICAgIGxldCB0cmFuc2Zvcm0gPSBgJHtyb3RhdGVfc3RyfSB0cmFuc2xhdGUoJHtzdHIoeCl9LCR7c3RyKHkpfSkgc2NhbGUoJHtzdHIod2lkdGgpfSwke3N0cihoZWlnaHQpfSlgO1xuICAgIGljb24uZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsdHJhbnNmb3JtKTtcbiAgfVxuXG4gIHNjcmVlbkNvb3JkaW5hdGVzRnJvbUxheW91dChsYXlvdXQpIHtcbiAgICBsZXQgc3ZnID0gdGhpcy5lbGVtZW50LmNhbnZhcztcbiAgICB2YXIgcHQ9c3ZnLmNyZWF0ZVNWR1BvaW50KCk7XG4gICAgbGV0IHhlbmQgPSBsYXlvdXQueCArIGxheW91dC53aWR0aDtcbiAgICBsZXQgeWVuZCA9IGxheW91dC55ICsgbGF5b3V0LmhlaWdodDtcbiAgICBwdC54PWxheW91dC54KlNDQUxFO1xuICAgIHB0Lnk9bGF5b3V0LnkqU0NBTEU7XG4gICAgbGV0IHRyYW5zZm9ybWVkID0gcHQubWF0cml4VHJhbnNmb3JtKHN2Zy5nZXRTY3JlZW5DVE0oKSk7XG4gICAgbGF5b3V0LnggPSB0cmFuc2Zvcm1lZC54O1xuICAgIGxheW91dC55ID0gdHJhbnNmb3JtZWQueTtcbiAgICBwdC54PXhlbmQqU0NBTEU7XG4gICAgcHQueT15ZW5kKlNDQUxFO1xuICAgIHRyYW5zZm9ybWVkID0gcHQubWF0cml4VHJhbnNmb3JtKHN2Zy5nZXRTY3JlZW5DVE0oKSk7XG4gICAgbGF5b3V0LndpZHRoID0gdHJhbnNmb3JtZWQueCAtIGxheW91dC54O1xuICAgIGxheW91dC5oZWlnaHQgPSB0cmFuc2Zvcm1lZC55IC0gbGF5b3V0Lnk7XG4gICAgcmV0dXJuIGxheW91dDtcbiAgfVxuXG4gIHNjYWxlVG9GaXQocGFkZGluZz1ERUZBVUxUX1BBRERJTkcpIHtcbiAgICBsZXQgc3ZnID0gdGhpcy5lbGVtZW50LmNhbnZhcztcbiAgICBsZXQgYmI9c3ZnLmdldEJCb3goKTtcbiAgICBsZXQgYmJ4PWJiLngtKFNDQUxFKnBhZGRpbmcuc2lkZSk7XG4gICAgbGV0IGJieT1iYi55LShTQ0FMRSpwYWRkaW5nLnRvcCk7XG4gICAgbGV0IGJidz1iYi53aWR0aCsoMipTQ0FMRSpwYWRkaW5nLnNpZGUpO1xuICAgIGxldCBiYmg9YmIuaGVpZ2h0KygyKlNDQUxFKnBhZGRpbmcudG9wKTtcbiAgICBsZXQgdmI9W2JieCxiYnksYmJ3LGJiaF07XG4gICAgc3ZnLnNldEF0dHJpYnV0ZSgndmlld0JveCcsIHZiLmpvaW4oJyAnKSApO1xuICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ3ByZXNlcnZlQXNwZWN0UmF0aW8nLCd4TWlkWU1pZCBtZWV0Jyk7XG4gIH1cblxufVxuXG5TdGF0aWNTVkdSZW5kZXJlciA9IGNsYXNzIGV4dGVuZHMgU1ZHUmVuZGVyZXIge1xuXG4gIGxheW91dEZvcihyZXNpZHVlKSB7XG4gICAgbGV0IHt4LHksd2lkdGgsaGVpZ2h0fSA9IHRoaXMucmVuZGVyZWQuZ2V0KHJlc2lkdWUpLnJlc2lkdWUuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4ge3gseSx3aWR0aCxoZWlnaHR9O1xuICB9XG5cbiAgc2NyZWVuQ29vcmRpbmF0ZXNGcm9tTGF5b3V0KGxheW91dCkge1xuICAgIHJldHVybiBsYXlvdXQ7XG4gIH1cbn07XG5cblxuU1ZHUmVuZGVyZXIuREVGQVVMVF9QQURESU5HID0gREVGQVVMVF9QQURESU5HO1xuXG5leHBvcnQgZGVmYXVsdCBTVkdSZW5kZXJlcjsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../glycan.js/js/SVGRenderer.js\n");

/***/ }),

/***/ "../glycan.js/js/Searching.js":
/*!************************************!*\
  !*** ../glycan.js/js/Searching.js ***!
  \************************************/
/*! exports provided: CachingSearcher, Searcher, CacheTrace, SKIP_CACHE_TAG */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CachingSearcher\", function() { return CachingSearcher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Searcher\", function() { return Searcher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CacheTrace\", function() { return CacheTrace; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SKIP_CACHE_TAG\", function() { return SKIP_CACHE_TAG; });\n/* harmony import */ var _Debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Debug */ \"../glycan.js/js/Debug.js\");\n/* harmony import */ var _TupleCache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TupleCache */ \"../glycan.js/js/TupleCache.js\");\n\n\n\n// import MixedTupleMap from '../lib/MixedTupleMap';\n\nvar module_string = 'glycanjs:searching';\nvar log = Object(_Debug__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(module_string);\nvar SKIP_CACHE_TAG = Symbol('skip_cache');\nvar flatten = array => [].concat.apply([], array);\nvar onlyUnique = function onlyUnique(value, index, self) {\n  return self.indexOf(value) === index;\n};\nvar global_match_subpath = function global_match_subpath(path_pattern, comparator, path) {\n  var test_residue = null;\n  var loop_pattern = [].concat(path_pattern);\n  var loop_path = [].concat(path);\n  while (test_residue = loop_pattern.shift()) {\n    var pattern_residues_remaining = loop_pattern.length > 0;\n    loop_path = loop_path.filter(comparator.bind(null, test_residue));\n    if (pattern_residues_remaining) {\n      loop_path = loop_path.map(matched => matched.parent);\n    }\n    loop_path = loop_path.filter(residue => residue !== null && typeof residue !== 'undefined');\n  }\n  // We get back the elements of the paths where we match the pattern\n  return loop_path.map(start => path.indexOf(start)).map(start_idx => path.slice(start_idx - path_pattern.length + 1, start_idx + 1));\n};\nvar match_fixed_paths = function match_fixed_paths(sugar, pattern, comparator) {\n  var paths = sugar.paths();\n  var search_paths = pattern.paths();\n  var potential_roots = [];\n  var search_path_match_count = new WeakMap();\n  var match_roots = match => match.map(residues => residues[residues.length - 1]);\n  search_paths.forEach(search_path => {\n    var matcher = global_match_subpath.bind(null, search_path, comparator);\n    var subpaths = paths.map(matcher);\n    potential_roots = potential_roots.concat(flatten(subpaths.map(match_roots))).filter(onlyUnique);\n    var matched_residues = flatten(flatten(subpaths)).filter(onlyUnique);\n    matched_residues.forEach(res => {\n      search_path_match_count.set(res, (search_path_match_count.get(res) || 0) + 1);\n    });\n  });\n  var wanted_roots = potential_roots.filter(res => search_path_match_count.get(res) == pattern.leaves().length);\n  return wanted_roots;\n};\nvar map_leaf_originals = function map_leaf_originals(trees, wildcard_symbol) {\n  var result = new WeakMap();\n  for (var tree of trees) {\n    log.info('For a Root tree match', tree.sequence, 'we are finding wildcard leaves');\n    for (var leaf of tree.leaves()) {\n      if (leaf.getTag(wildcard_symbol)) {\n        result.set(leaf.original, tree);\n        log.info('Adding leaf', leaf.original.identifier, ' to tree mapping');\n        if (leaf.parent) {\n          result.set(leaf.parent.original, tree);\n          log.info('Adding leaf parent', leaf.parent.original.identifier, ' to tree mapping');\n        }\n      }\n    }\n  }\n  return result;\n};\nvar wildcard_matcher = function wildcard_matcher(pattern, wildcard) {\n  return wildcard.children.map(kid => {\n    var new_sugar = kid.toSugar(pattern.constructor);\n    new_sugar.linkage = wildcard.linkageOf(kid);\n    new_sugar.parent_link = wildcard.parent ? wildcard.parent.linkageOf(wildcard) : 0;\n    return new_sugar;\n  });\n};\nvar match_wildcard_paths = function match_wildcard_paths(sugar, pattern, comparator) {\n  var wildcard_symbol = Symbol('wildcard');\n  log.info('Wildcard matching', sugar.sequence, pattern.sequence);\n  var wildcard_residues = pattern.composition().filter(res => res.identifier === '*');\n  var wildcard_subtrees = wildcard_residues.map(wildcard_matcher.bind(null, pattern));\n  var root_sugar = pattern.clone();\n  root_sugar.composition().filter(res => res.identifier === '*').forEach(wildcard => {\n    wildcard.children.map(kid => wildcard.removeChild(wildcard.linkageOf(kid), kid));\n    wildcard.setTag(wildcard_symbol, true);\n  });\n  log.info('Root sugar for wildcard matching', root_sugar.sequence);\n  log.info('We have', wildcard_subtrees.length, 'wildcard subtrees to ensure matches for');\n  wildcard_subtrees.forEach(subtree_set => subtree_set.forEach(subtree => {\n    var mono_class = subtree.constructor.Monosaccharide;\n    var new_root = new mono_class('*');\n    new_root.addChild(subtree.linkage, subtree.root);\n    subtree.root = new_root;\n    log.info('Wildcard subtree sequence:', subtree.sequence);\n  }));\n  var root_result = match_fixed_paths(sugar, root_sugar, comparator);\n\n  // Get a set of subtrees for the matches\n  // for the matched root\n  var root_trees = flatten(root_result.map(root => {\n    return sugar.trace(root_sugar, root, comparator);\n  }));\n  log.info('RESULTS from matching Root sugar, total of', root_trees.length, 'trees matched');\n  root_trees.forEach(rt => {\n    log.info('RESULT Root sugar match sequence', rt.sequence);\n    var wildcard = rt.composition_for_tag(wildcard_symbol)[0];\n    log.info('The residue acting as wildcard is', wildcard, 'with parent', wildcard.parent ? wildcard.parent.identifier : '(No root)');\n  });\n  // Grab the original leaves for the root match subtrees\n  var root_trees_by_leaf_original = map_leaf_originals(root_trees, wildcard_symbol);\n  var result = wildcard_subtrees.map(function subtree_set_filterer(subtree_set) {\n    return subtree_set.map(function subtree_filter(subtree) {\n      var roots = match_fixed_paths(sugar, subtree, comparator);\n      log.info('For subtree', subtree.sequence, 'we matched roots', roots.map(r => r.identifier));\n      log.info('We should be able to match each of these roots with a Root sugar match');\n      roots = roots.filter(root => !root.parent || subtree.parent_link == 0 || root.parent.linkageOf(root) == subtree.parent_link).map(root => {\n        log.info('The parents of ', root.identifier, root.parent, ' are being checked for being leaves of any root tree');\n        var parents = [...sugar.residues_to_root(root)];\n        for (var parent of parents) {\n          if (root_trees_by_leaf_original.get(parent)) {\n            return {\n              root: root,\n              parent_leaf: parent\n            };\n          }\n        }\n      }).filter(r => r);\n      log.info('Number of subtrees that are a parent of a root match', roots.length);\n      var result_trees = roots.map(root_pair => {\n        var subtree_results = sugar.trace(subtree, root_pair.root, comparator);\n        var traced_parent = root_trees_by_leaf_original.get(root_pair.parent_leaf);\n        var wildcard_res = root_sugar.composition_for_tag(wildcard_symbol)[0];\n        var grafted_results = [];\n        log.info('Matched after tracing', subtree_results);\n        for (var traced_subtree of subtree_results) {\n          var result_tree = traced_parent.clone();\n          var graft_residue = result_tree.composition_for_tag(wildcard_symbol)[0];\n          traced_subtree.root.original = wildcard_res;\n          if (graft_residue === result_tree.root) {\n            result_tree.root = traced_subtree.root;\n          } else {\n            traced_subtree.root.copyTagsFrom(graft_residue);\n            graft_residue.parent.replaceChild(graft_residue, traced_subtree.root, 0);\n          }\n          grafted_results.push(result_tree);\n        }\n        return grafted_results;\n      });\n      return flatten(result_trees);\n    });\n  });\n  log.info('Found', flatten(flatten(result)).length, 'matching trees');\n  return flatten(flatten(result));\n};\nclass Searcher {\n  static search(source, pattern, comparator) {\n    if (pattern.composition().filter(res => res.identifier === '*').length > 0) {\n      return this.search_wildcard_paths(source, pattern, comparator);\n    }\n    return this.search_fixed_paths(source, pattern, comparator);\n  }\n  static search_wildcard_paths(source, pattern, comparator) {\n    return match_wildcard_paths(source, pattern, comparator);\n  }\n  static search_fixed_paths(source, pattern, comparator) {\n    return match_fixed_paths(source, pattern, comparator);\n  }\n}\nvar cache_symbol = Symbol('cache_symbol');\nvar WILDCARD = {\n  type: 'wildcard'\n};\nvar FIXED = {\n  type: 'fixed'\n};\nvar COMPOSITION = {\n  type: 'composition'\n};\nvar TRACE = {\n  type: 'trace'\n};\nfunction not_null(val) {\n  return val !== null && typeof val !== 'undefined';\n}\nclass CachingSearcher extends Searcher {\n  static get Cache() {\n    if (!this[cache_symbol]) {\n      this[cache_symbol] = new _TupleCache__WEBPACK_IMPORTED_MODULE_1__[\"default\"](); //MixedTupleMap();\n    }\n    return this[cache_symbol];\n  }\n  static search(source, pattern, comparator) {\n    if (!Object.isFrozen(source) || !Object.isFrozen(pattern)) {\n      return super.search(source, pattern, comparator);\n    }\n    if ([...source.composition_for_tag(SKIP_CACHE_TAG)].length > 0) {\n      return super.search(source, pattern, comparator);\n    }\n    var source_tuple = [source, COMPOSITION];\n    var pattern_tuple = [pattern, COMPOSITION];\n    var pattern_composition = this.Cache.get(pattern_tuple);\n    var source_composition = this.Cache.get(source_tuple);\n    if (!source_composition) {\n      source_composition = source.composition().map(res => res.identifier);\n      this.Cache.set(source_tuple, source_composition);\n    }\n    if (!pattern_composition) {\n      pattern_composition = pattern.composition().map(res => res.identifier);\n      this.Cache.set(pattern_tuple, pattern_composition);\n    }\n    var composition_match = pattern_composition.every(res => res === '*' || not_null(source_composition.find(source_res => source_res === res)));\n    if (!composition_match) {\n      return [];\n    }\n    return super.search(source, pattern, comparator);\n  }\n  static search_wildcard_paths(source, pattern, comparator) {\n    if (!Object.isFrozen(source) || !Object.isFrozen(pattern)) {\n      return super.search_wildcard_paths(source, pattern, comparator);\n    }\n    if ([...source.composition_for_tag(SKIP_CACHE_TAG)].length > 0) {\n      return super.search_wildcard_paths(source, pattern, comparator);\n    }\n    var tuple = [source, pattern, comparator, WILDCARD];\n    if (this.Cache.has(tuple)) {\n      return this.Cache.get(tuple);\n    }\n    this.Cache.set(tuple, super.search_wildcard_paths(source, pattern, comparator));\n    return this.Cache.get(tuple);\n  }\n  static search_fixed_paths(source, pattern, comparator) {\n    if (!Object.isFrozen(source) || !Object.isFrozen(pattern)) {\n      return super.search_fixed_paths(source, pattern, comparator);\n    }\n    if ([...source.composition_for_tag(SKIP_CACHE_TAG)].length > 0) {\n      return super.search_fixed_paths(source, pattern, comparator);\n    }\n    var tuple = [source, pattern, comparator, FIXED];\n    if (this.Cache.has(tuple)) {\n      return this.Cache.get(tuple);\n    }\n    this.Cache.set(tuple, super.search_fixed_paths(source, pattern, comparator));\n    return this.Cache.get(tuple);\n  }\n}\nvar CacheTrace = (sugar, pattern, root, comparator) => {\n  if (!Object.isFrozen(sugar) || !Object.isFrozen(pattern)) {\n    return sugar.trace(pattern, root, comparator);\n  }\n  if ([...sugar.composition_for_tag(SKIP_CACHE_TAG)].length > 0) {\n    return sugar.trace(pattern, root, comparator);\n  }\n  var tuple = [sugar, pattern, root, comparator, TRACE];\n  var cache = CachingSearcher.Cache;\n  if (!cache.has(tuple)) {\n    cache.set(tuple, sugar.trace(pattern, root, comparator));\n  }\n  return cache.get(tuple).map(traced => traced.clone());\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL1NlYXJjaGluZy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9nbHljYW4uanMvanMvU2VhcmNoaW5nLmpzP2VjNmQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgZGVidWcgZnJvbSAnLi9EZWJ1Zyc7XG4vLyBpbXBvcnQgTWl4ZWRUdXBsZU1hcCBmcm9tICcuLi9saWIvTWl4ZWRUdXBsZU1hcCc7XG5pbXBvcnQgVHVwbGVDYWNoZSBmcm9tICcuL1R1cGxlQ2FjaGUnO1xuXG5jb25zdCBtb2R1bGVfc3RyaW5nPSdnbHljYW5qczpzZWFyY2hpbmcnO1xuXG5jb25zdCBsb2cgPSBkZWJ1Zyhtb2R1bGVfc3RyaW5nKTtcblxuY29uc3QgU0tJUF9DQUNIRV9UQUcgPSBTeW1ib2woJ3NraXBfY2FjaGUnKTtcblxubGV0IGZsYXR0ZW4gPSBhcnJheSA9PiBbXS5jb25jYXQuYXBwbHkoW10sIGFycmF5KTtcblxubGV0IG9ubHlVbmlxdWUgPSBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIHNlbGYpIHtcbiAgcmV0dXJuIHNlbGYuaW5kZXhPZih2YWx1ZSkgPT09IGluZGV4O1xufTtcblxubGV0IGdsb2JhbF9tYXRjaF9zdWJwYXRoID0gZnVuY3Rpb24ocGF0aF9wYXR0ZXJuLGNvbXBhcmF0b3IscGF0aCkge1xuICBsZXQgdGVzdF9yZXNpZHVlID0gbnVsbDtcbiAgbGV0IGxvb3BfcGF0dGVybiA9IFtdLmNvbmNhdChwYXRoX3BhdHRlcm4pO1xuICBsZXQgbG9vcF9wYXRoID0gW10uY29uY2F0KHBhdGgpO1xuICB3aGlsZSgodGVzdF9yZXNpZHVlID0gbG9vcF9wYXR0ZXJuLnNoaWZ0KCkpKSB7XG4gICAgbGV0IHBhdHRlcm5fcmVzaWR1ZXNfcmVtYWluaW5nID0gbG9vcF9wYXR0ZXJuLmxlbmd0aCA+IDA7XG4gICAgbG9vcF9wYXRoID0gbG9vcF9wYXRoLmZpbHRlciggY29tcGFyYXRvci5iaW5kKG51bGwsdGVzdF9yZXNpZHVlKSApO1xuICAgIGlmIChwYXR0ZXJuX3Jlc2lkdWVzX3JlbWFpbmluZykge1xuICAgICAgbG9vcF9wYXRoID0gbG9vcF9wYXRoLm1hcCggbWF0Y2hlZCA9PiBtYXRjaGVkLnBhcmVudCApO1xuICAgIH1cbiAgICBsb29wX3BhdGggPSBsb29wX3BhdGguZmlsdGVyKCByZXNpZHVlID0+IChyZXNpZHVlICE9PSBudWxsICYmIHR5cGVvZiByZXNpZHVlICE9PSAndW5kZWZpbmVkJykgKTtcbiAgfVxuICAvLyBXZSBnZXQgYmFjayB0aGUgZWxlbWVudHMgb2YgdGhlIHBhdGhzIHdoZXJlIHdlIG1hdGNoIHRoZSBwYXR0ZXJuXG4gIHJldHVybiBsb29wX3BhdGgubWFwKHN0YXJ0ID0+IHBhdGguaW5kZXhPZihzdGFydCkgKVxuICAgIC5tYXAoc3RhcnRfaWR4ID0+IHBhdGguc2xpY2UoIHN0YXJ0X2lkeCAtIHBhdGhfcGF0dGVybi5sZW5ndGggKyAxLCBzdGFydF9pZHggKyAxICkpO1xufTtcblxubGV0IG1hdGNoX2ZpeGVkX3BhdGhzID0gZnVuY3Rpb24oc3VnYXIscGF0dGVybixjb21wYXJhdG9yKSB7XG4gIGxldCBwYXRocyA9IHN1Z2FyLnBhdGhzKCk7XG4gIGxldCBzZWFyY2hfcGF0aHMgPSBwYXR0ZXJuLnBhdGhzKCk7XG4gIGxldCBwb3RlbnRpYWxfcm9vdHMgPSBbXTtcbiAgbGV0IHNlYXJjaF9wYXRoX21hdGNoX2NvdW50ID0gbmV3IFdlYWtNYXAoKTtcblxuICBsZXQgbWF0Y2hfcm9vdHMgPSBtYXRjaCA9PiBtYXRjaC5tYXAoIHJlc2lkdWVzID0+IHJlc2lkdWVzW3Jlc2lkdWVzLmxlbmd0aCAtIDFdICk7XG5cbiAgc2VhcmNoX3BhdGhzLmZvckVhY2goIHNlYXJjaF9wYXRoID0+IHtcbiAgICBsZXQgbWF0Y2hlciA9IGdsb2JhbF9tYXRjaF9zdWJwYXRoLmJpbmQobnVsbCxzZWFyY2hfcGF0aCxjb21wYXJhdG9yKTtcbiAgICBsZXQgc3VicGF0aHMgPSBwYXRocy5tYXAoIG1hdGNoZXIgKTtcbiAgICBwb3RlbnRpYWxfcm9vdHMgPSBwb3RlbnRpYWxfcm9vdHMuY29uY2F0KFxuICAgICAgZmxhdHRlbiggc3VicGF0aHMubWFwKCBtYXRjaF9yb290cyApIClcbiAgICApLmZpbHRlcihvbmx5VW5pcXVlKTtcbiAgICBsZXQgbWF0Y2hlZF9yZXNpZHVlcyA9IGZsYXR0ZW4oZmxhdHRlbihzdWJwYXRocykpLmZpbHRlcihvbmx5VW5pcXVlKTtcbiAgICBtYXRjaGVkX3Jlc2lkdWVzLmZvckVhY2goIHJlcyA9PiB7XG4gICAgICBzZWFyY2hfcGF0aF9tYXRjaF9jb3VudC5zZXQocmVzLCAoc2VhcmNoX3BhdGhfbWF0Y2hfY291bnQuZ2V0KHJlcykgfHwgMCkrIDEgKTtcbiAgICB9KTtcbiAgfSk7XG4gIGxldCB3YW50ZWRfcm9vdHMgPSBwb3RlbnRpYWxfcm9vdHMuZmlsdGVyKCByZXMgPT4gc2VhcmNoX3BhdGhfbWF0Y2hfY291bnQuZ2V0KHJlcykgPT0gcGF0dGVybi5sZWF2ZXMoKS5sZW5ndGggKTtcbiAgcmV0dXJuIHdhbnRlZF9yb290cztcbn07XG5cbmxldCBtYXBfbGVhZl9vcmlnaW5hbHMgPSBmdW5jdGlvbih0cmVlcyx3aWxkY2FyZF9zeW1ib2wpIHtcbiAgbGV0IHJlc3VsdCA9IG5ldyBXZWFrTWFwKCk7XG4gIGZvciAobGV0IHRyZWUgb2YgdHJlZXMpIHtcbiAgICBsb2cuaW5mbygnRm9yIGEgUm9vdCB0cmVlIG1hdGNoJyx0cmVlLnNlcXVlbmNlLCd3ZSBhcmUgZmluZGluZyB3aWxkY2FyZCBsZWF2ZXMnKTtcbiAgICBmb3IgKGxldCBsZWFmIG9mIHRyZWUubGVhdmVzKCkpIHtcbiAgICAgIGlmIChsZWFmLmdldFRhZyh3aWxkY2FyZF9zeW1ib2wpKSB7XG4gICAgICAgIHJlc3VsdC5zZXQobGVhZi5vcmlnaW5hbCx0cmVlKTtcbiAgICAgICAgbG9nLmluZm8oJ0FkZGluZyBsZWFmJyxsZWFmLm9yaWdpbmFsLmlkZW50aWZpZXIsJyB0byB0cmVlIG1hcHBpbmcnKTtcbiAgICAgICAgaWYgKGxlYWYucGFyZW50KSB7XG4gICAgICAgICAgcmVzdWx0LnNldChsZWFmLnBhcmVudC5vcmlnaW5hbCx0cmVlKTtcbiAgICAgICAgICBsb2cuaW5mbygnQWRkaW5nIGxlYWYgcGFyZW50JyxsZWFmLnBhcmVudC5vcmlnaW5hbC5pZGVudGlmaWVyLCcgdG8gdHJlZSBtYXBwaW5nJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmNvbnN0IHdpbGRjYXJkX21hdGNoZXIgPSBmdW5jdGlvbihwYXR0ZXJuLHdpbGRjYXJkKSB7XG4gIHJldHVybiB3aWxkY2FyZC5jaGlsZHJlbi5tYXAoIGtpZCA9PiB7XG4gICAgbGV0IG5ld19zdWdhciA9IGtpZC50b1N1Z2FyKHBhdHRlcm4uY29uc3RydWN0b3IpO1xuICAgIG5ld19zdWdhci5saW5rYWdlID0gd2lsZGNhcmQubGlua2FnZU9mKGtpZCk7XG4gICAgbmV3X3N1Z2FyLnBhcmVudF9saW5rID0gd2lsZGNhcmQucGFyZW50ID8gd2lsZGNhcmQucGFyZW50LmxpbmthZ2VPZih3aWxkY2FyZCkgOiAwO1xuICAgIHJldHVybiBuZXdfc3VnYXI7XG4gIH0pO1xufVxuXG5sZXQgbWF0Y2hfd2lsZGNhcmRfcGF0aHMgPSBmdW5jdGlvbihzdWdhcixwYXR0ZXJuLGNvbXBhcmF0b3IpIHtcbiAgY29uc3Qgd2lsZGNhcmRfc3ltYm9sID0gU3ltYm9sKCd3aWxkY2FyZCcpO1xuXG4gIGxvZy5pbmZvKCdXaWxkY2FyZCBtYXRjaGluZycsc3VnYXIuc2VxdWVuY2UscGF0dGVybi5zZXF1ZW5jZSk7XG4gIGxldCB3aWxkY2FyZF9yZXNpZHVlcyA9IHBhdHRlcm4uY29tcG9zaXRpb24oKS5maWx0ZXIoIHJlcyA9PiByZXMuaWRlbnRpZmllciA9PT0gJyonICk7XG5cbiAgbGV0IHdpbGRjYXJkX3N1YnRyZWVzID0gd2lsZGNhcmRfcmVzaWR1ZXMubWFwKCB3aWxkY2FyZF9tYXRjaGVyLmJpbmQobnVsbCxwYXR0ZXJuKSApO1xuXG4gIGxldCByb290X3N1Z2FyID0gcGF0dGVybi5jbG9uZSgpO1xuXG4gIHJvb3Rfc3VnYXIuY29tcG9zaXRpb24oKS5maWx0ZXIoIHJlcyA9PiByZXMuaWRlbnRpZmllciA9PT0gJyonKS5mb3JFYWNoKCB3aWxkY2FyZCA9PiB7XG4gICAgd2lsZGNhcmQuY2hpbGRyZW4ubWFwKCBraWQgPT4gd2lsZGNhcmQucmVtb3ZlQ2hpbGQod2lsZGNhcmQubGlua2FnZU9mKGtpZCksa2lkKSk7XG4gICAgd2lsZGNhcmQuc2V0VGFnKHdpbGRjYXJkX3N5bWJvbCx0cnVlKTtcbiAgfSk7XG5cbiAgbG9nLmluZm8oJ1Jvb3Qgc3VnYXIgZm9yIHdpbGRjYXJkIG1hdGNoaW5nJyxyb290X3N1Z2FyLnNlcXVlbmNlKTtcbiAgbG9nLmluZm8oJ1dlIGhhdmUnLHdpbGRjYXJkX3N1YnRyZWVzLmxlbmd0aCwnd2lsZGNhcmQgc3VidHJlZXMgdG8gZW5zdXJlIG1hdGNoZXMgZm9yJyk7XG4gIHdpbGRjYXJkX3N1YnRyZWVzLmZvckVhY2goIHN1YnRyZWVfc2V0ID0+IHN1YnRyZWVfc2V0LmZvckVhY2goIHN1YnRyZWUgPT4ge1xuICAgIGxldCBtb25vX2NsYXNzID0gc3VidHJlZS5jb25zdHJ1Y3Rvci5Nb25vc2FjY2hhcmlkZTtcbiAgICBsZXQgbmV3X3Jvb3QgPSBuZXcgbW9ub19jbGFzcygnKicpO1xuICAgIG5ld19yb290LmFkZENoaWxkKHN1YnRyZWUubGlua2FnZSxzdWJ0cmVlLnJvb3QpO1xuICAgIHN1YnRyZWUucm9vdCA9IG5ld19yb290O1xuICAgIGxvZy5pbmZvKCdXaWxkY2FyZCBzdWJ0cmVlIHNlcXVlbmNlOicsc3VidHJlZS5zZXF1ZW5jZSk7XG4gIH0pKTtcbiAgbGV0IHJvb3RfcmVzdWx0ID0gbWF0Y2hfZml4ZWRfcGF0aHMoc3VnYXIscm9vdF9zdWdhciwgY29tcGFyYXRvcik7XG5cbiAgLy8gR2V0IGEgc2V0IG9mIHN1YnRyZWVzIGZvciB0aGUgbWF0Y2hlc1xuICAvLyBmb3IgdGhlIG1hdGNoZWQgcm9vdFxuICBsZXQgcm9vdF90cmVlcyA9IGZsYXR0ZW4ocm9vdF9yZXN1bHQubWFwKCByb290ID0+IHtcbiAgICByZXR1cm4gc3VnYXIudHJhY2Uocm9vdF9zdWdhciwgcm9vdCwgY29tcGFyYXRvcik7XG4gIH0pKTtcbiAgbG9nLmluZm8oJ1JFU1VMVFMgZnJvbSBtYXRjaGluZyBSb290IHN1Z2FyLCB0b3RhbCBvZicscm9vdF90cmVlcy5sZW5ndGgsJ3RyZWVzIG1hdGNoZWQnKTtcbiAgcm9vdF90cmVlcy5mb3JFYWNoKCBydCA9PiB7XG4gICAgbG9nLmluZm8oJ1JFU1VMVCBSb290IHN1Z2FyIG1hdGNoIHNlcXVlbmNlJyxydC5zZXF1ZW5jZSk7XG4gICAgbGV0IHdpbGRjYXJkID0gcnQuY29tcG9zaXRpb25fZm9yX3RhZyh3aWxkY2FyZF9zeW1ib2wpWzBdO1xuICAgIGxvZy5pbmZvKCdUaGUgcmVzaWR1ZSBhY3RpbmcgYXMgd2lsZGNhcmQgaXMnLHdpbGRjYXJkLCd3aXRoIHBhcmVudCcsd2lsZGNhcmQucGFyZW50ID8gd2lsZGNhcmQucGFyZW50LmlkZW50aWZpZXIgOiAnKE5vIHJvb3QpJyk7XG4gIH0pO1xuICAvLyBHcmFiIHRoZSBvcmlnaW5hbCBsZWF2ZXMgZm9yIHRoZSByb290IG1hdGNoIHN1YnRyZWVzXG4gIGxldCByb290X3RyZWVzX2J5X2xlYWZfb3JpZ2luYWwgPSBtYXBfbGVhZl9vcmlnaW5hbHMocm9vdF90cmVlcyx3aWxkY2FyZF9zeW1ib2wpO1xuICBsZXQgcmVzdWx0ID0gd2lsZGNhcmRfc3VidHJlZXMubWFwKCBmdW5jdGlvbiBzdWJ0cmVlX3NldF9maWx0ZXJlcihzdWJ0cmVlX3NldCkge1xuICAgIHJldHVybiBzdWJ0cmVlX3NldC5tYXAoIGZ1bmN0aW9uIHN1YnRyZWVfZmlsdGVyKHN1YnRyZWUpIHtcbiAgICAgIGxldCByb290cyA9IG1hdGNoX2ZpeGVkX3BhdGhzKHN1Z2FyLHN1YnRyZWUsIGNvbXBhcmF0b3IpO1xuICAgICAgbG9nLmluZm8oJ0ZvciBzdWJ0cmVlJyxzdWJ0cmVlLnNlcXVlbmNlLCd3ZSBtYXRjaGVkIHJvb3RzJyxyb290cy5tYXAoIHIgPT4gci5pZGVudGlmaWVyICkpO1xuICAgICAgbG9nLmluZm8oJ1dlIHNob3VsZCBiZSBhYmxlIHRvIG1hdGNoIGVhY2ggb2YgdGhlc2Ugcm9vdHMgd2l0aCBhIFJvb3Qgc3VnYXIgbWF0Y2gnKTtcbiAgICAgIHJvb3RzID0gcm9vdHMuZmlsdGVyKHJvb3QgPT4gKCghIHJvb3QucGFyZW50KSB8fCBzdWJ0cmVlLnBhcmVudF9saW5rID09IDAgfHwgKHJvb3QucGFyZW50LmxpbmthZ2VPZihyb290KSA9PSBzdWJ0cmVlLnBhcmVudF9saW5rKSkgKVxuICAgICAgICAubWFwKCByb290ID0+IHtcbiAgICAgICAgICBsb2cuaW5mbygnVGhlIHBhcmVudHMgb2YgJyxyb290LmlkZW50aWZpZXIscm9vdC5wYXJlbnQsJyBhcmUgYmVpbmcgY2hlY2tlZCBmb3IgYmVpbmcgbGVhdmVzIG9mIGFueSByb290IHRyZWUnKTtcbiAgICAgICAgICBsZXQgcGFyZW50cyA9IFsuLi5zdWdhci5yZXNpZHVlc190b19yb290KHJvb3QpXTtcbiAgICAgICAgICBmb3IgKGxldCBwYXJlbnQgb2YgcGFyZW50cykge1xuICAgICAgICAgICAgaWYgKHJvb3RfdHJlZXNfYnlfbGVhZl9vcmlnaW5hbC5nZXQocGFyZW50KSkge1xuICAgICAgICAgICAgICByZXR1cm4geyByb290OiByb290LCBwYXJlbnRfbGVhZjogcGFyZW50IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuZmlsdGVyKCByID0+IHIgKTtcbiAgICAgIGxvZy5pbmZvKCdOdW1iZXIgb2Ygc3VidHJlZXMgdGhhdCBhcmUgYSBwYXJlbnQgb2YgYSByb290IG1hdGNoJyxyb290cy5sZW5ndGgpO1xuICAgICAgbGV0IHJlc3VsdF90cmVlcyA9IHJvb3RzLm1hcCggcm9vdF9wYWlyID0+IHtcbiAgICAgICAgbGV0IHN1YnRyZWVfcmVzdWx0cyA9IHN1Z2FyLnRyYWNlKHN1YnRyZWUsIHJvb3RfcGFpci5yb290LCBjb21wYXJhdG9yICk7XG4gICAgICAgIGxldCB0cmFjZWRfcGFyZW50ID0gcm9vdF90cmVlc19ieV9sZWFmX29yaWdpbmFsLmdldChyb290X3BhaXIucGFyZW50X2xlYWYpO1xuICAgICAgICBsZXQgd2lsZGNhcmRfcmVzID0gcm9vdF9zdWdhci5jb21wb3NpdGlvbl9mb3JfdGFnKHdpbGRjYXJkX3N5bWJvbClbMF07XG4gICAgICAgIGxldCBncmFmdGVkX3Jlc3VsdHMgPSBbXTtcbiAgICAgICAgbG9nLmluZm8oJ01hdGNoZWQgYWZ0ZXIgdHJhY2luZycsc3VidHJlZV9yZXN1bHRzKTtcbiAgICAgICAgZm9yIChsZXQgdHJhY2VkX3N1YnRyZWUgb2Ygc3VidHJlZV9yZXN1bHRzKSB7XG4gICAgICAgICAgbGV0IHJlc3VsdF90cmVlID0gdHJhY2VkX3BhcmVudC5jbG9uZSgpO1xuICAgICAgICAgIGxldCBncmFmdF9yZXNpZHVlID0gcmVzdWx0X3RyZWUuY29tcG9zaXRpb25fZm9yX3RhZyh3aWxkY2FyZF9zeW1ib2wpWzBdO1xuICAgICAgICAgIHRyYWNlZF9zdWJ0cmVlLnJvb3Qub3JpZ2luYWwgPSB3aWxkY2FyZF9yZXM7XG4gICAgICAgICAgaWYgKGdyYWZ0X3Jlc2lkdWUgPT09IHJlc3VsdF90cmVlLnJvb3QpIHtcbiAgICAgICAgICAgIHJlc3VsdF90cmVlLnJvb3QgPSB0cmFjZWRfc3VidHJlZS5yb290O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cmFjZWRfc3VidHJlZS5yb290LmNvcHlUYWdzRnJvbShncmFmdF9yZXNpZHVlKTtcbiAgICAgICAgICAgIGdyYWZ0X3Jlc2lkdWUucGFyZW50LnJlcGxhY2VDaGlsZChncmFmdF9yZXNpZHVlLHRyYWNlZF9zdWJ0cmVlLnJvb3QsMCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGdyYWZ0ZWRfcmVzdWx0cy5wdXNoKHJlc3VsdF90cmVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ3JhZnRlZF9yZXN1bHRzO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmxhdHRlbihyZXN1bHRfdHJlZXMpO1xuICAgIH0pO1xuICB9KTtcbiAgbG9nLmluZm8oJ0ZvdW5kJyxmbGF0dGVuKGZsYXR0ZW4ocmVzdWx0KSkubGVuZ3RoLCdtYXRjaGluZyB0cmVlcycpO1xuICByZXR1cm4gZmxhdHRlbihmbGF0dGVuKHJlc3VsdCkpO1xufTtcblxuY2xhc3MgU2VhcmNoZXIge1xuICBzdGF0aWMgc2VhcmNoKHNvdXJjZSxwYXR0ZXJuLGNvbXBhcmF0b3IpIHtcbiAgICBpZiAocGF0dGVybi5jb21wb3NpdGlvbigpLmZpbHRlciggcmVzID0+IHJlcy5pZGVudGlmaWVyID09PSAnKicgKS5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZWFyY2hfd2lsZGNhcmRfcGF0aHMoc291cmNlLHBhdHRlcm4sY29tcGFyYXRvcik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlYXJjaF9maXhlZF9wYXRocyhzb3VyY2UscGF0dGVybixjb21wYXJhdG9yKTtcbiAgfVxuICBzdGF0aWMgc2VhcmNoX3dpbGRjYXJkX3BhdGhzKHNvdXJjZSxwYXR0ZXJuLGNvbXBhcmF0b3IpIHtcbiAgICByZXR1cm4gbWF0Y2hfd2lsZGNhcmRfcGF0aHMoc291cmNlLHBhdHRlcm4sY29tcGFyYXRvcik7XG4gIH1cbiAgc3RhdGljIHNlYXJjaF9maXhlZF9wYXRocyhzb3VyY2UscGF0dGVybixjb21wYXJhdG9yKSB7XG4gICAgcmV0dXJuIG1hdGNoX2ZpeGVkX3BhdGhzKHNvdXJjZSxwYXR0ZXJuLGNvbXBhcmF0b3IpO1xuICB9XG5cbn1cblxuY29uc3QgY2FjaGVfc3ltYm9sID0gU3ltYm9sKCdjYWNoZV9zeW1ib2wnKTtcblxuY29uc3QgV0lMRENBUkQgPSB7IHR5cGU6ICd3aWxkY2FyZCd9O1xuY29uc3QgRklYRUQgPSB7IHR5cGU6ICdmaXhlZCd9O1xuY29uc3QgQ09NUE9TSVRJT04gPSB7IHR5cGU6ICdjb21wb3NpdGlvbid9O1xuY29uc3QgVFJBQ0UgPSB7IHR5cGU6ICd0cmFjZSd9O1xuXG5mdW5jdGlvbiBub3RfbnVsbCh2YWwpIHtcbiAgcmV0dXJuICh2YWwgIT09IG51bGwpICYmICh0eXBlb2YgdmFsICE9PSAndW5kZWZpbmVkJylcbn1cblxuY2xhc3MgQ2FjaGluZ1NlYXJjaGVyIGV4dGVuZHMgU2VhcmNoZXIge1xuXG4gIHN0YXRpYyBnZXQgQ2FjaGUoKSB7XG4gICAgaWYgKCAhIHRoaXNbY2FjaGVfc3ltYm9sXSApIHtcbiAgICAgIHRoaXNbY2FjaGVfc3ltYm9sXSA9IG5ldyBUdXBsZUNhY2hlKCk7Ly9NaXhlZFR1cGxlTWFwKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzW2NhY2hlX3N5bWJvbF07XG4gIH1cblxuICBzdGF0aWMgc2VhcmNoKHNvdXJjZSxwYXR0ZXJuLGNvbXBhcmF0b3IpIHtcbiAgICBpZiAoISBPYmplY3QuaXNGcm96ZW4oc291cmNlKSB8fCAhIE9iamVjdC5pc0Zyb3plbihwYXR0ZXJuKSApIHtcbiAgICAgIHJldHVybiBzdXBlci5zZWFyY2goc291cmNlLHBhdHRlcm4sY29tcGFyYXRvcik7XG4gICAgfVxuICAgIGlmIChbLi4uc291cmNlLmNvbXBvc2l0aW9uX2Zvcl90YWcoU0tJUF9DQUNIRV9UQUcpXS5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gc3VwZXIuc2VhcmNoKHNvdXJjZSxwYXR0ZXJuLGNvbXBhcmF0b3IpOyAgICAgIFxuICAgIH1cblxuICAgIGNvbnN0IHNvdXJjZV90dXBsZSA9IFtzb3VyY2UsQ09NUE9TSVRJT05dO1xuICAgIGNvbnN0IHBhdHRlcm5fdHVwbGUgPSBbcGF0dGVybixDT01QT1NJVElPTl07XG5cblxuICAgIHZhciBwYXR0ZXJuX2NvbXBvc2l0aW9uID0gdGhpcy5DYWNoZS5nZXQocGF0dGVybl90dXBsZSk7XG4gICAgdmFyIHNvdXJjZV9jb21wb3NpdGlvbiA9IHRoaXMuQ2FjaGUuZ2V0KHNvdXJjZV90dXBsZSk7XG5cbiAgICBpZiAoISBzb3VyY2VfY29tcG9zaXRpb24pIHtcbiAgICAgIHNvdXJjZV9jb21wb3NpdGlvbiA9IHNvdXJjZS5jb21wb3NpdGlvbigpLm1hcCggcmVzID0+IHJlcy5pZGVudGlmaWVyKTtcbiAgICAgIHRoaXMuQ2FjaGUuc2V0KHNvdXJjZV90dXBsZSwgc291cmNlX2NvbXBvc2l0aW9uKTtcbiAgICB9XG4gICAgaWYgKCEgcGF0dGVybl9jb21wb3NpdGlvbikge1xuICAgICAgcGF0dGVybl9jb21wb3NpdGlvbiA9IHBhdHRlcm4uY29tcG9zaXRpb24oKS5tYXAoIHJlcyA9PiByZXMuaWRlbnRpZmllciApO1xuICAgICAgdGhpcy5DYWNoZS5zZXQocGF0dGVybl90dXBsZSwgcGF0dGVybl9jb21wb3NpdGlvbik7XG4gICAgfVxuICAgIGxldCBjb21wb3NpdGlvbl9tYXRjaCA9IHBhdHRlcm5fY29tcG9zaXRpb24uZXZlcnkoIHJlcyA9PiByZXMgPT09ICcqJyB8fCBub3RfbnVsbChzb3VyY2VfY29tcG9zaXRpb24uZmluZCggc291cmNlX3JlcyA9PiBzb3VyY2VfcmVzID09PSByZXMgKSkgKTtcbiAgICBpZiAoICEgY29tcG9zaXRpb25fbWF0Y2ggKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5zZWFyY2goc291cmNlLHBhdHRlcm4sY29tcGFyYXRvcik7XG4gIH1cblxuICBzdGF0aWMgc2VhcmNoX3dpbGRjYXJkX3BhdGhzKHNvdXJjZSxwYXR0ZXJuLGNvbXBhcmF0b3IpIHtcbiAgICBpZiAoISBPYmplY3QuaXNGcm96ZW4oc291cmNlKSB8fCAhIE9iamVjdC5pc0Zyb3plbihwYXR0ZXJuKSApIHtcbiAgICAgIHJldHVybiBzdXBlci5zZWFyY2hfd2lsZGNhcmRfcGF0aHMoc291cmNlLHBhdHRlcm4sY29tcGFyYXRvcik7XG4gICAgfVxuICAgIGlmIChbLi4uc291cmNlLmNvbXBvc2l0aW9uX2Zvcl90YWcoU0tJUF9DQUNIRV9UQUcpXS5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gc3VwZXIuc2VhcmNoX3dpbGRjYXJkX3BhdGhzKHNvdXJjZSxwYXR0ZXJuLGNvbXBhcmF0b3IpOyAgICAgIFxuICAgIH1cblxuICAgIGNvbnN0IHR1cGxlID0gWyBzb3VyY2UsIHBhdHRlcm4sIGNvbXBhcmF0b3IsIFdJTERDQVJEIF07XG5cbiAgICBpZiAodGhpcy5DYWNoZS5oYXModHVwbGUpKSB7XG4gICAgICByZXR1cm4gdGhpcy5DYWNoZS5nZXQodHVwbGUpO1xuICAgIH1cbiAgICB0aGlzLkNhY2hlLnNldCh0dXBsZSwgc3VwZXIuc2VhcmNoX3dpbGRjYXJkX3BhdGhzKHNvdXJjZSxwYXR0ZXJuLGNvbXBhcmF0b3IpKTtcbiAgICByZXR1cm4gdGhpcy5DYWNoZS5nZXQoIHR1cGxlICk7XG4gIH1cbiAgc3RhdGljIHNlYXJjaF9maXhlZF9wYXRocyhzb3VyY2UscGF0dGVybixjb21wYXJhdG9yKSB7XG4gICAgaWYgKCEgT2JqZWN0LmlzRnJvemVuKHNvdXJjZSkgfHwgISBPYmplY3QuaXNGcm96ZW4ocGF0dGVybikgKSB7XG4gICAgICByZXR1cm4gc3VwZXIuc2VhcmNoX2ZpeGVkX3BhdGhzKHNvdXJjZSxwYXR0ZXJuLGNvbXBhcmF0b3IpO1xuICAgIH1cbiAgICBpZiAoWy4uLnNvdXJjZS5jb21wb3NpdGlvbl9mb3JfdGFnKFNLSVBfQ0FDSEVfVEFHKV0ubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHN1cGVyLnNlYXJjaF9maXhlZF9wYXRocyhzb3VyY2UscGF0dGVybixjb21wYXJhdG9yKTsgICAgICBcbiAgICB9XG5cbiAgICBjb25zdCB0dXBsZSA9IFsgc291cmNlLCBwYXR0ZXJuLCBjb21wYXJhdG9yLCBGSVhFRCBdO1xuICAgIGlmICh0aGlzLkNhY2hlLmhhcyh0dXBsZSkpIHtcbiAgICAgIHJldHVybiB0aGlzLkNhY2hlLmdldCh0dXBsZSk7XG4gICAgfVxuICAgIHRoaXMuQ2FjaGUuc2V0KHR1cGxlLCAgc3VwZXIuc2VhcmNoX2ZpeGVkX3BhdGhzKHNvdXJjZSxwYXR0ZXJuLGNvbXBhcmF0b3IpKTtcbiAgICByZXR1cm4gdGhpcy5DYWNoZS5nZXQoIHR1cGxlICk7XG4gIH1cbn1cblxuY29uc3QgQ2FjaGVUcmFjZSA9IChzdWdhcixwYXR0ZXJuLHJvb3QsY29tcGFyYXRvcikgPT4ge1xuICBpZiAoISBPYmplY3QuaXNGcm96ZW4oc3VnYXIpIHx8ICEgT2JqZWN0LmlzRnJvemVuKHBhdHRlcm4pICkge1xuICAgIHJldHVybiBzdWdhci50cmFjZShwYXR0ZXJuLHJvb3QsY29tcGFyYXRvcik7XG4gIH1cbiAgaWYgKFsuLi5zdWdhci5jb21wb3NpdGlvbl9mb3JfdGFnKFNLSVBfQ0FDSEVfVEFHKV0ubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBzdWdhci50cmFjZShwYXR0ZXJuLHJvb3QsY29tcGFyYXRvcik7ICAgICAgXG4gIH1cblxuXG4gIGNvbnN0IHR1cGxlID0gWyBzdWdhciwgcGF0dGVybiwgcm9vdCwgY29tcGFyYXRvciwgVFJBQ0UgXTtcblxuICBjb25zdCBjYWNoZSA9IENhY2hpbmdTZWFyY2hlci5DYWNoZTtcblxuICBpZiAoICEgY2FjaGUuaGFzKHR1cGxlKSApIHtcbiAgICBjYWNoZS5zZXQodHVwbGUsIHN1Z2FyLnRyYWNlKHBhdHRlcm4scm9vdCxjb21wYXJhdG9yKSApO1xuICB9XG5cbiAgcmV0dXJuIGNhY2hlLmdldCh0dXBsZSkubWFwKCB0cmFjZWQgPT4gdHJhY2VkLmNsb25lKCkgKTtcbn07XG5cbmV4cG9ydCB7IENhY2hpbmdTZWFyY2hlciwgU2VhcmNoZXIsIENhY2hlVHJhY2UsIFNLSVBfQ0FDSEVfVEFHIH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../glycan.js/js/Searching.js\n");

/***/ }),

/***/ "../glycan.js/js/Sugar.js":
/*!********************************!*\
  !*** ../glycan.js/js/Sugar.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Sugar; });\n/* harmony import */ var _Monosaccharide__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Monosaccharide */ \"../glycan.js/js/Monosaccharide.js\");\n/* harmony import */ var _Repeat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Repeat */ \"../glycan.js/js/Repeat.js\");\n/* harmony import */ var _Tracing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Tracing */ \"../glycan.js/js/Tracing.js\");\n/* harmony import */ var _Searching__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Searching */ \"../glycan.js/js/Searching.js\");\n/* harmony import */ var _residue_chords__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./residue_chords */ \"../glycan.js/js/residue_chords.js\");\n\n\n\n\n\n\n\nvar root_symbol = Symbol('root');\nvar getPropertyDescriptor = function getPropertyDescriptor(object, descriptor) {\n  var retval = null;\n  while (!(retval = Object.getOwnPropertyDescriptor(object, descriptor)) && Object.getPrototypeOf(object)) {\n    object = Object.getPrototypeOf(object);\n  }\n  return retval;\n};\nvar flatten = array => [].concat.apply([], array);\nvar onlyUnique = function onlyUnique(value, index, self) {\n  return self.indexOf(value) === index;\n};\nvar has_tag = (tag, res) => res.getTag(tag);\nvar frozen_sequence_symbol = Symbol('frozen_sequence');\nvar frozen_composition_symbol = Symbol('frozen_composition');\nvar find_repeat_unit_for_original = function find_repeat_unit_for_original(start, counter, original) {\n  for (var child of start.children.filter(res => res instanceof _Repeat__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Monosaccharide)) {\n    if (child.counter == counter && child.original == original) {\n      return child;\n    }\n    if (child.counter > counter) {\n      continue;\n    }\n    var child_result = find_repeat_unit_for_original(child, counter, original);\n    if (child_result) {\n      return child_result;\n    }\n  }\n};\nclass Sugar {\n  constructor() {}\n  set root(residue) {\n    this[root_symbol] = residue;\n  }\n  get root() {\n    return this[root_symbol];\n  }\n  static get Monosaccharide() {\n    return _Monosaccharide__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n  }\n  freeze() {\n    var _this = this;\n    for (var res of this.breadth_first_traversal()) {\n      Object.freeze(res);\n    }\n    this[frozen_sequence_symbol] = this.sequence;\n    this[frozen_composition_symbol] = this.composition();\n    Object.defineProperty(this, 'composition', {\n      value: function value() {\n        var root = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.root;\n        if (root === _this.root) {\n          return _this[frozen_composition_symbol];\n        } else {\n          return _this.constructor.prototype.composition.call(_this, root);\n        }\n      }\n    });\n    Object.defineProperty(this, 'sequence', {\n      get: () => this[frozen_sequence_symbol]\n    });\n    Object.freeze(this);\n  }\n  get repeats() {\n    var repeat_residues = this.composition(this.root).filter(res => res instanceof _Repeat__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Monosaccharide);\n    return repeat_residues.map(res => res.repeat).filter((o, i, a) => a.indexOf(o) === i);\n  }\n  paths() {\n    var root = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.root;\n    var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.leaves(root);\n    var self = this;\n    return [].concat(start).map(leaf => Array.from(self.residues_to_root(leaf)));\n  }\n  leaves() {\n    var root = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.root;\n    return this.composition(root).filter(mono => mono.children.length === 0);\n  }\n  locate_monosaccharide(location) {\n    var root = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.root;\n    var [, depth, branch] = location.match(/[a-zA-Z]+|[0-9]+/g);\n    depth = parseInt(depth);\n    branch = branch.charCodeAt(0) - 'a'.charCodeAt(0);\n    var depth_residues = this.paths(root).map(path => path.reverse()[depth - 1]).filter(residue => residue).filter(onlyUnique);\n    if (depth_residues.length == 1 && depth_residues[0] === root) {\n      return root;\n    }\n    return depth_residues[branch];\n  }\n  location_for_monosaccharide(residue) {\n    var depth_siblings = [...this.breadth_first_traversal()].filter(res => res.depth === residue.depth);\n    var branch_position = depth_siblings.indexOf(residue);\n    return 'y' + residue.depth + String.fromCharCode('a'.charCodeAt(0) + branch_position);\n  }\n\n  // FIXME to use a well defined traversal alogirthm (DFS or BFS)\n  composition() {\n    var root = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.root;\n    var self = this;\n    if (!root) {\n      return [];\n    }\n    var return_value = [[root]].concat(root.children.map(child => self.composition(child)));\n    return return_value.reduce((a, b) => a.concat(b));\n  }\n  composition_for_tag(tag) {\n    return this.composition().filter(has_tag.bind(null, tag));\n  }\n  clone(visitor) {\n    var cloned = new WeakMap();\n    var cloned_repeats = new WeakMap();\n    var nodes = this.breadth_first_traversal(this.root, visitor);\n    for (var node of nodes) {\n      // When we are cloning, we are going to delegate the generation\n      // of clones of repeat residues to the Repeat class, so we should\n      // only clone the root of the repeat unit\n\n      if (node instanceof _Repeat__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Monosaccharide && node.repeat.root !== node) {\n        continue;\n      }\n      if (!cloned.has(node)) {\n        cloned.set(node, node.clone());\n      }\n      var node_clone = cloned.get(node);\n\n      // If this is the repeat root (the only time the code should reach this point)\n      // we should set the clone residue to be the root of the repeat that\n      // we generate when we do the cloning\n\n      if (node_clone instanceof _Repeat__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Monosaccharide) {\n        cloned_repeats.set(node.repeat, node_clone.repeat);\n        cloned.set(node, node_clone.repeat.root);\n        node_clone = cloned.get(node);\n      }\n\n      // If this is a child of a repeat, and this is a child at the end of the repeat\n      // we should add them to the end of the new clone repeat\n\n      if (node.parent instanceof _Repeat__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Monosaccharide && node.parent.repeat.children.indexOf(node) >= 0) {\n        var repeat = cloned_repeats.get(node.parent.repeat);\n\n        // We add the residue to a placeholder residue\n        // so that there's a way to graft this residue and read\n        // the linkage\n\n        var res = new _Monosaccharide__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('Root');\n        res.addChild(node.parent.linkageOf(node), node_clone);\n        repeat.children = repeat.children.concat(node_clone);\n        continue;\n      }\n\n      // Add this child onto the parent\n      if (node.parent && cloned.get(node.parent)) {\n        cloned.get(node.parent).addChild(node.parent.linkageOf(node), node_clone);\n        cloned.get(node.parent).balance();\n      } else {\n        // In the case where the parent is a repeat monosaccharide, and the\n        // parent hasn't been cloned yet, we should look for the corresponding\n        // repeat unit based on counter and the original monosaccharide\n\n        if (node.parent && node.parent instanceof _Repeat__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Monosaccharide) {\n          var new_repeat = cloned_repeats.get(node.parent.repeat);\n          var _res = find_repeat_unit_for_original(new_repeat.root, node.parent.counter, node.parent.original);\n          _res.addChild(node.parent.linkageOf(node), node_clone);\n          _res.balance();\n        }\n      }\n    }\n    var new_sugar = new this.constructor();\n    new_sugar.root = cloned.get(this.root);\n    return new_sugar;\n  }\n  match_sugar_pattern(pattern, comparator) {\n    var return_roots = _Searching__WEBPACK_IMPORTED_MODULE_3__[\"CachingSearcher\"].search(this, pattern, comparator);\n    if (pattern.composition().map(res => res.identifier).filter(id => id === '*').length > 0) {\n      return return_roots;\n    }\n    var return_sugars = flatten(return_roots.map(root => Object(_Searching__WEBPACK_IMPORTED_MODULE_3__[\"CacheTrace\"])(this, pattern, root, comparator)));\n    return return_sugars;\n  }\n  trace(template) {\n    var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.root;\n    var comparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : (a, b) =>  true || false;\n    return _Tracing__WEBPACK_IMPORTED_MODULE_2__[\"Tracer\"].trace(this, start, template, comparator);\n  }\n  *breadth_first_traversal() {\n    var start = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.root;\n    var visitor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x => x;\n    if (!start) {\n      return;\n    }\n    var queue = [];\n    queue.push(start);\n    while (queue.length > 0) {\n      var curr = queue.shift();\n      queue = queue.concat(curr.children);\n      if (visitor) {\n        curr = visitor(curr);\n      }\n      if (curr) {\n        yield curr;\n      }\n    }\n  }\n  *depth_first_traversal() {\n    var start = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.root;\n    var visitor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x => x;\n    if (!start) {\n      return;\n    }\n    var stack = [];\n    stack.push(start);\n    while (stack.length > 0) {\n      var curr = stack.shift();\n      var children = curr.children;\n      stack = children.concat(stack);\n      var visited = visitor ? visitor(curr) : curr;\n      if (visited) {\n        yield visited;\n      }\n    }\n  }\n  *chords() {\n    var n = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 2;\n    yield* Object(_residue_chords__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, n);\n  }\n\n  // Math functions\n  // FIXME - Union - Create a union sugar from two sugars\n  // FIXME - Subtract - Get residues that aren't common\n\n  *residues_to_root() {\n    var start = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.root;\n    yield start;\n    while (start.parent) {\n      start = start.parent;\n      yield start;\n    }\n  }\n  static CopyIO(sugar) {\n    // We want to copy the IO methods from\n    // the given object, and apply them\n    // to the current class (using an anonymous\n    // class to deliver the functionality)\n    var base = this;\n    var parser_function = getPropertyDescriptor(sugar, 'sequence').set;\n    var writer_function = getPropertyDescriptor(sugar, 'sequence').get;\n    return class extends base {\n      get sequence() {\n        return writer_function.call(this);\n      }\n      set sequence(sequence) {\n        parser_function.call(this, sequence);\n      }\n    };\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL1N1Z2FyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL2dseWNhbi5qcy9qcy9TdWdhci5qcz9mOGQwIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmltcG9ydCBNb25vc2FjY2hhcmlkZSBmcm9tICcuL01vbm9zYWNjaGFyaWRlJztcbmltcG9ydCBSZXBlYXQgZnJvbSAnLi9SZXBlYXQnO1xuXG5pbXBvcnQgeyBUcmFjZXIgfSBmcm9tICcuL1RyYWNpbmcnO1xuXG5pbXBvcnQgeyBDYWNoaW5nU2VhcmNoZXIsIENhY2hlVHJhY2UgfSBmcm9tICcuL1NlYXJjaGluZyc7XG5cbmltcG9ydCBnZXRfcmVzaWR1ZV9jaG9yZHMgZnJvbSAnLi9yZXNpZHVlX2Nob3Jkcyc7XG5cbmxldCByb290X3N5bWJvbCA9IFN5bWJvbCgncm9vdCcpO1xuXG5sZXQgZ2V0UHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24ob2JqZWN0LGRlc2NyaXB0b3IpIHtcbiAgbGV0IHJldHZhbCA9IG51bGw7XG4gIHdoaWxlICghIChyZXR2YWwgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCxkZXNjcmlwdG9yKSkgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCkgKSB7XG4gICAgb2JqZWN0ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7XG4gIH1cbiAgcmV0dXJuIHJldHZhbDtcbn07XG5cbmxldCBmbGF0dGVuID0gYXJyYXkgPT4gW10uY29uY2F0LmFwcGx5KFtdLCBhcnJheSk7XG5cbmxldCBvbmx5VW5pcXVlID0gZnVuY3Rpb24odmFsdWUsIGluZGV4LCBzZWxmKSB7XG4gIHJldHVybiBzZWxmLmluZGV4T2YodmFsdWUpID09PSBpbmRleDtcbn07XG5cbmxldCBoYXNfdGFnID0gKHRhZyxyZXMpID0+IHJlcy5nZXRUYWcodGFnKTtcblxuY29uc3QgZnJvemVuX3NlcXVlbmNlX3N5bWJvbCA9IFN5bWJvbCgnZnJvemVuX3NlcXVlbmNlJyk7XG5jb25zdCBmcm96ZW5fY29tcG9zaXRpb25fc3ltYm9sID0gU3ltYm9sKCdmcm96ZW5fY29tcG9zaXRpb24nKTtcblxuY29uc3QgZmluZF9yZXBlYXRfdW5pdF9mb3Jfb3JpZ2luYWwgPSBmdW5jdGlvbihzdGFydCwgY291bnRlciwgb3JpZ2luYWwpIHtcbiAgZm9yIChsZXQgY2hpbGQgb2Ygc3RhcnQuY2hpbGRyZW4uZmlsdGVyKCByZXMgPT4gcmVzIGluc3RhbmNlb2YgUmVwZWF0Lk1vbm9zYWNjaGFyaWRlKSkge1xuICAgIGlmIChjaGlsZC5jb3VudGVyID09IGNvdW50ZXIgJiYgY2hpbGQub3JpZ2luYWwgPT0gb3JpZ2luYWwpIHtcbiAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9XG4gICAgaWYgKGNoaWxkLmNvdW50ZXIgPiBjb3VudGVyICkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGxldCBjaGlsZF9yZXN1bHQgPSBmaW5kX3JlcGVhdF91bml0X2Zvcl9vcmlnaW5hbChjaGlsZCxjb3VudGVyLG9yaWdpbmFsKTtcbiAgICBpZiAoY2hpbGRfcmVzdWx0KSB7XG4gICAgICByZXR1cm4gY2hpbGRfcmVzdWx0O1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3VnYXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgfVxuXG4gIHNldCByb290KHJlc2lkdWUpIHtcbiAgICB0aGlzW3Jvb3Rfc3ltYm9sXSA9IHJlc2lkdWU7XG4gIH1cbiAgZ2V0IHJvb3QoKSB7XG4gICAgcmV0dXJuIHRoaXNbcm9vdF9zeW1ib2xdO1xuICB9XG5cbiAgc3RhdGljIGdldCBNb25vc2FjY2hhcmlkZSgpIHtcbiAgICByZXR1cm4gTW9ub3NhY2NoYXJpZGU7XG4gIH1cblxuICBmcmVlemUoKSB7XG4gICAgZm9yIChsZXQgcmVzIG9mIHRoaXMuYnJlYWR0aF9maXJzdF90cmF2ZXJzYWwoKSkge1xuICAgICAgT2JqZWN0LmZyZWV6ZShyZXMpO1xuICAgIH1cbiAgICB0aGlzW2Zyb3plbl9zZXF1ZW5jZV9zeW1ib2xdID0gdGhpcy5zZXF1ZW5jZTtcbiAgICB0aGlzW2Zyb3plbl9jb21wb3NpdGlvbl9zeW1ib2xdID0gdGhpcy5jb21wb3NpdGlvbigpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsJ2NvbXBvc2l0aW9uJywge1xuICAgICAgdmFsdWU6IChyb290PXRoaXMucm9vdCkgPT4ge1xuICAgICAgICBpZiAocm9vdCA9PT0gdGhpcy5yb290KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXNbZnJvemVuX2NvbXBvc2l0aW9uX3N5bWJvbF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IucHJvdG90eXBlLmNvbXBvc2l0aW9uLmNhbGwodGhpcyxyb290KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywnc2VxdWVuY2UnLCB7XG4gICAgICBnZXQ6ICgpID0+IHRoaXNbZnJvemVuX3NlcXVlbmNlX3N5bWJvbF1cbiAgICB9KTtcbiAgICBPYmplY3QuZnJlZXplKHRoaXMpO1xuICB9XG5cbiAgZ2V0IHJlcGVhdHMoKSB7XG4gICAgbGV0IHJlcGVhdF9yZXNpZHVlcyA9IHRoaXMuY29tcG9zaXRpb24odGhpcy5yb290KS5maWx0ZXIoIHJlcyA9PiByZXMgaW5zdGFuY2VvZiBSZXBlYXQuTW9ub3NhY2NoYXJpZGUgKTtcbiAgICByZXR1cm4gcmVwZWF0X3Jlc2lkdWVzLm1hcCggcmVzID0+IHJlcy5yZXBlYXQgKS5maWx0ZXIoIChvLGksYSkgPT4gYS5pbmRleE9mKG8pID09PSBpICk7XG4gIH1cblxuICBwYXRocyhyb290PXRoaXMucm9vdCxzdGFydD10aGlzLmxlYXZlcyhyb290KSkge1xuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gW10uY29uY2F0KHN0YXJ0KS5tYXAoKGxlYWYpID0+IEFycmF5LmZyb20oc2VsZi5yZXNpZHVlc190b19yb290KGxlYWYpKSk7XG4gIH1cblxuICBsZWF2ZXMocm9vdD10aGlzLnJvb3QpIHtcbiAgICByZXR1cm4gdGhpcy5jb21wb3NpdGlvbihyb290KS5maWx0ZXIoIG1vbm8gPT4gbW9uby5jaGlsZHJlbi5sZW5ndGggPT09IDApO1xuICB9XG5cbiAgbG9jYXRlX21vbm9zYWNjaGFyaWRlKGxvY2F0aW9uLHJvb3Q9dGhpcy5yb290KSB7XG4gICAgbGV0IFssZGVwdGgsYnJhbmNoXSA9IGxvY2F0aW9uLm1hdGNoKC9bYS16QS1aXSt8WzAtOV0rL2cpO1xuICAgIGRlcHRoID0gcGFyc2VJbnQoZGVwdGgpO1xuICAgIGJyYW5jaCA9IGJyYW5jaC5jaGFyQ29kZUF0KDApIC0gJ2EnLmNoYXJDb2RlQXQoMCk7XG4gICAgbGV0IGRlcHRoX3Jlc2lkdWVzID0gdGhpcy5wYXRocyhyb290KS5tYXAoIHBhdGggPT4gcGF0aC5yZXZlcnNlKClbZGVwdGggLSAxXSApLmZpbHRlciggcmVzaWR1ZSA9PiByZXNpZHVlICkuZmlsdGVyKG9ubHlVbmlxdWUpO1xuICAgIGlmICggZGVwdGhfcmVzaWR1ZXMubGVuZ3RoID09IDEgJiYgZGVwdGhfcmVzaWR1ZXNbMF0gPT09IHJvb3QgKXtcbiAgICAgIHJldHVybiByb290O1xuICAgIH1cbiAgICByZXR1cm4gZGVwdGhfcmVzaWR1ZXNbYnJhbmNoXTtcbiAgfVxuXG4gIGxvY2F0aW9uX2Zvcl9tb25vc2FjY2hhcmlkZShyZXNpZHVlKSB7XG4gICAgbGV0IGRlcHRoX3NpYmxpbmdzID0gWy4uLnRoaXMuYnJlYWR0aF9maXJzdF90cmF2ZXJzYWwoKV0uZmlsdGVyKCByZXMgPT4gcmVzLmRlcHRoID09PSByZXNpZHVlLmRlcHRoICk7XG4gICAgbGV0IGJyYW5jaF9wb3NpdGlvbiA9IGRlcHRoX3NpYmxpbmdzLmluZGV4T2YocmVzaWR1ZSk7XG4gICAgcmV0dXJuICd5JytyZXNpZHVlLmRlcHRoK1N0cmluZy5mcm9tQ2hhckNvZGUoJ2EnLmNoYXJDb2RlQXQoMCkgKyBicmFuY2hfcG9zaXRpb24pO1xuICB9XG5cbiAgLy8gRklYTUUgdG8gdXNlIGEgd2VsbCBkZWZpbmVkIHRyYXZlcnNhbCBhbG9naXJ0aG0gKERGUyBvciBCRlMpXG4gIGNvbXBvc2l0aW9uKHJvb3Q9dGhpcy5yb290KSB7XG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIGlmICggISByb290ICkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBsZXQgcmV0dXJuX3ZhbHVlID0gWyBbcm9vdF0gXS5jb25jYXQocm9vdC5jaGlsZHJlbi5tYXAoY2hpbGQgPT4gc2VsZi5jb21wb3NpdGlvbihjaGlsZCkpKTtcbiAgICByZXR1cm4gcmV0dXJuX3ZhbHVlLnJlZHVjZSggKGEsYikgPT4gYS5jb25jYXQoYikgKTtcbiAgfVxuXG4gIGNvbXBvc2l0aW9uX2Zvcl90YWcodGFnKSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9zaXRpb24oKS5maWx0ZXIoIGhhc190YWcuYmluZChudWxsLHRhZykgKTtcbiAgfVxuXG4gIGNsb25lKHZpc2l0b3IpIHtcbiAgICBsZXQgY2xvbmVkID0gbmV3IFdlYWtNYXAoKTtcbiAgICBsZXQgY2xvbmVkX3JlcGVhdHMgPSBuZXcgV2Vha01hcCgpO1xuICAgIGxldCBub2RlcyA9IHRoaXMuYnJlYWR0aF9maXJzdF90cmF2ZXJzYWwodGhpcy5yb290LHZpc2l0b3IpO1xuICAgIGZvciAobGV0IG5vZGUgb2Ygbm9kZXMpIHtcblxuICAgICAgLy8gV2hlbiB3ZSBhcmUgY2xvbmluZywgd2UgYXJlIGdvaW5nIHRvIGRlbGVnYXRlIHRoZSBnZW5lcmF0aW9uXG4gICAgICAvLyBvZiBjbG9uZXMgb2YgcmVwZWF0IHJlc2lkdWVzIHRvIHRoZSBSZXBlYXQgY2xhc3MsIHNvIHdlIHNob3VsZFxuICAgICAgLy8gb25seSBjbG9uZSB0aGUgcm9vdCBvZiB0aGUgcmVwZWF0IHVuaXRcblxuICAgICAgaWYgKChub2RlIGluc3RhbmNlb2YgUmVwZWF0Lk1vbm9zYWNjaGFyaWRlKSAmJiBub2RlLnJlcGVhdC5yb290ICE9PSBub2RlICkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCAhIGNsb25lZC5oYXMobm9kZSkgKSB7XG4gICAgICAgIGNsb25lZC5zZXQobm9kZSxub2RlLmNsb25lKCkpO1xuICAgICAgfVxuXG4gICAgICBsZXQgbm9kZV9jbG9uZSA9IGNsb25lZC5nZXQobm9kZSk7XG5cbiAgICAgIC8vIElmIHRoaXMgaXMgdGhlIHJlcGVhdCByb290ICh0aGUgb25seSB0aW1lIHRoZSBjb2RlIHNob3VsZCByZWFjaCB0aGlzIHBvaW50KVxuICAgICAgLy8gd2Ugc2hvdWxkIHNldCB0aGUgY2xvbmUgcmVzaWR1ZSB0byBiZSB0aGUgcm9vdCBvZiB0aGUgcmVwZWF0IHRoYXRcbiAgICAgIC8vIHdlIGdlbmVyYXRlIHdoZW4gd2UgZG8gdGhlIGNsb25pbmdcblxuICAgICAgaWYgKG5vZGVfY2xvbmUgaW5zdGFuY2VvZiBSZXBlYXQuTW9ub3NhY2NoYXJpZGUpIHtcbiAgICAgICAgY2xvbmVkX3JlcGVhdHMuc2V0KCBub2RlLnJlcGVhdCwgbm9kZV9jbG9uZS5yZXBlYXQgKTtcbiAgICAgICAgY2xvbmVkLnNldChub2RlLCBub2RlX2Nsb25lLnJlcGVhdC5yb290ICk7XG4gICAgICAgIG5vZGVfY2xvbmUgPSBjbG9uZWQuZ2V0KG5vZGUpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGlzIGlzIGEgY2hpbGQgb2YgYSByZXBlYXQsIGFuZCB0aGlzIGlzIGEgY2hpbGQgYXQgdGhlIGVuZCBvZiB0aGUgcmVwZWF0XG4gICAgICAvLyB3ZSBzaG91bGQgYWRkIHRoZW0gdG8gdGhlIGVuZCBvZiB0aGUgbmV3IGNsb25lIHJlcGVhdFxuXG4gICAgICBpZiAoKG5vZGUucGFyZW50IGluc3RhbmNlb2YgUmVwZWF0Lk1vbm9zYWNjaGFyaWRlKSAmJiBub2RlLnBhcmVudC5yZXBlYXQuY2hpbGRyZW4uaW5kZXhPZihub2RlKSA+PSAwKSB7XG4gICAgICAgIGxldCByZXBlYXQgPSBjbG9uZWRfcmVwZWF0cy5nZXQobm9kZS5wYXJlbnQucmVwZWF0KTtcblxuICAgICAgICAvLyBXZSBhZGQgdGhlIHJlc2lkdWUgdG8gYSBwbGFjZWhvbGRlciByZXNpZHVlXG4gICAgICAgIC8vIHNvIHRoYXQgdGhlcmUncyBhIHdheSB0byBncmFmdCB0aGlzIHJlc2lkdWUgYW5kIHJlYWRcbiAgICAgICAgLy8gdGhlIGxpbmthZ2VcblxuICAgICAgICBsZXQgcmVzID0gbmV3IE1vbm9zYWNjaGFyaWRlKCdSb290Jyk7XG4gICAgICAgIHJlcy5hZGRDaGlsZChub2RlLnBhcmVudC5saW5rYWdlT2Yobm9kZSksbm9kZV9jbG9uZSk7XG4gICAgICAgIHJlcGVhdC5jaGlsZHJlbiA9IHJlcGVhdC5jaGlsZHJlbi5jb25jYXQoIG5vZGVfY2xvbmUgKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCB0aGlzIGNoaWxkIG9udG8gdGhlIHBhcmVudFxuICAgICAgaWYgKG5vZGUucGFyZW50ICYmIGNsb25lZC5nZXQobm9kZS5wYXJlbnQpKSB7XG4gICAgICAgIGNsb25lZC5nZXQobm9kZS5wYXJlbnQpLmFkZENoaWxkKG5vZGUucGFyZW50LmxpbmthZ2VPZihub2RlKSxub2RlX2Nsb25lKTtcbiAgICAgICAgY2xvbmVkLmdldChub2RlLnBhcmVudCkuYmFsYW5jZSgpO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICAvLyBJbiB0aGUgY2FzZSB3aGVyZSB0aGUgcGFyZW50IGlzIGEgcmVwZWF0IG1vbm9zYWNjaGFyaWRlLCBhbmQgdGhlXG4gICAgICAgIC8vIHBhcmVudCBoYXNuJ3QgYmVlbiBjbG9uZWQgeWV0LCB3ZSBzaG91bGQgbG9vayBmb3IgdGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgICAgLy8gcmVwZWF0IHVuaXQgYmFzZWQgb24gY291bnRlciBhbmQgdGhlIG9yaWdpbmFsIG1vbm9zYWNjaGFyaWRlXG5cbiAgICAgICAgaWYgKG5vZGUucGFyZW50ICYmIChub2RlLnBhcmVudCBpbnN0YW5jZW9mIFJlcGVhdC5Nb25vc2FjY2hhcmlkZSkpIHtcbiAgICAgICAgICBsZXQgbmV3X3JlcGVhdCA9IGNsb25lZF9yZXBlYXRzLmdldChub2RlLnBhcmVudC5yZXBlYXQpO1xuICAgICAgICAgIGxldCByZXMgPSBmaW5kX3JlcGVhdF91bml0X2Zvcl9vcmlnaW5hbChuZXdfcmVwZWF0LnJvb3QsIG5vZGUucGFyZW50LmNvdW50ZXIsIG5vZGUucGFyZW50Lm9yaWdpbmFsICk7XG4gICAgICAgICAgcmVzLmFkZENoaWxkKG5vZGUucGFyZW50LmxpbmthZ2VPZihub2RlKSxub2RlX2Nsb25lKTtcbiAgICAgICAgICByZXMuYmFsYW5jZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBuZXdfc3VnYXIgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpO1xuICAgIG5ld19zdWdhci5yb290ID0gY2xvbmVkLmdldCh0aGlzLnJvb3QpO1xuICAgIHJldHVybiBuZXdfc3VnYXI7XG4gIH1cblxuICBtYXRjaF9zdWdhcl9wYXR0ZXJuKHBhdHRlcm4sY29tcGFyYXRvcikge1xuICAgIGxldCByZXR1cm5fcm9vdHMgPSBDYWNoaW5nU2VhcmNoZXIuc2VhcmNoKHRoaXMscGF0dGVybixjb21wYXJhdG9yKTtcbiAgICBpZiAocGF0dGVybi5jb21wb3NpdGlvbigpLm1hcCggcmVzID0+IHJlcy5pZGVudGlmaWVyKS5maWx0ZXIoIGlkID0+IGlkID09PSAnKicpLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiByZXR1cm5fcm9vdHM7XG4gICAgfVxuICAgIGxldCByZXR1cm5fc3VnYXJzID0gZmxhdHRlbihyZXR1cm5fcm9vdHMubWFwKCByb290ID0+IENhY2hlVHJhY2UodGhpcyxwYXR0ZXJuLHJvb3QsY29tcGFyYXRvcikpKTtcbiAgICByZXR1cm4gcmV0dXJuX3N1Z2FycztcbiAgfVxuXG4gIHRyYWNlKHRlbXBsYXRlLHN0YXJ0PXRoaXMucm9vdCxjb21wYXJhdG9yPShhLGIpID0+IHRydWV8fGF8fGIpIHtcbiAgICByZXR1cm4gVHJhY2VyLnRyYWNlKHRoaXMsc3RhcnQsdGVtcGxhdGUsY29tcGFyYXRvcik7XG4gIH1cblxuICAqYnJlYWR0aF9maXJzdF90cmF2ZXJzYWwoc3RhcnQ9dGhpcy5yb290LHZpc2l0b3I9KHgpPT54KSB7XG4gICAgaWYgKCEgc3RhcnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHF1ZXVlID0gW107XG4gICAgcXVldWUucHVzaChzdGFydCk7XG4gICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCBjdXJyID0gcXVldWUuc2hpZnQoKTtcbiAgICAgIHF1ZXVlID0gcXVldWUuY29uY2F0KGN1cnIuY2hpbGRyZW4pO1xuICAgICAgaWYgKHZpc2l0b3IpIHtcbiAgICAgICAgY3VyciA9IHZpc2l0b3IoY3Vycik7XG4gICAgICB9XG4gICAgICBpZiAoY3Vycikge1xuICAgICAgICB5aWVsZCBjdXJyO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gICpkZXB0aF9maXJzdF90cmF2ZXJzYWwoc3RhcnQ9dGhpcy5yb290LHZpc2l0b3I9KHgpPT54KSB7XG4gICAgaWYgKCAhIHN0YXJ0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBzdGFjayA9IFtdO1xuICAgIHN0YWNrLnB1c2goc3RhcnQpO1xuICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICBsZXQgY3VyciA9IHN0YWNrLnNoaWZ0KCk7XG4gICAgICBsZXQgY2hpbGRyZW4gPSBjdXJyLmNoaWxkcmVuO1xuXG4gICAgICBzdGFjayA9IGNoaWxkcmVuLmNvbmNhdChzdGFjayk7XG5cbiAgICAgIGxldCB2aXNpdGVkID0gdmlzaXRvciA/IHZpc2l0b3IoY3VycikgOiBjdXJyO1xuICAgICAgaWYgKHZpc2l0ZWQpIHtcbiAgICAgICAgeWllbGQgdmlzaXRlZDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAqY2hvcmRzKG49Mikge1xuICAgIHlpZWxkICpnZXRfcmVzaWR1ZV9jaG9yZHModGhpcyxuKTtcbiAgfVxuXG4gIC8vIE1hdGggZnVuY3Rpb25zXG4gIC8vIEZJWE1FIC0gVW5pb24gLSBDcmVhdGUgYSB1bmlvbiBzdWdhciBmcm9tIHR3byBzdWdhcnNcbiAgLy8gRklYTUUgLSBTdWJ0cmFjdCAtIEdldCByZXNpZHVlcyB0aGF0IGFyZW4ndCBjb21tb25cblxuICAqcmVzaWR1ZXNfdG9fcm9vdChzdGFydD10aGlzLnJvb3QpIHtcbiAgICB5aWVsZCBzdGFydDtcbiAgICB3aGlsZShzdGFydC5wYXJlbnQpIHtcbiAgICAgIHN0YXJ0ID0gc3RhcnQucGFyZW50O1xuICAgICAgeWllbGQgc3RhcnQ7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIENvcHlJTyhzdWdhcikge1xuICAgIC8vIFdlIHdhbnQgdG8gY29weSB0aGUgSU8gbWV0aG9kcyBmcm9tXG4gICAgLy8gdGhlIGdpdmVuIG9iamVjdCwgYW5kIGFwcGx5IHRoZW1cbiAgICAvLyB0byB0aGUgY3VycmVudCBjbGFzcyAodXNpbmcgYW4gYW5vbnltb3VzXG4gICAgLy8gY2xhc3MgdG8gZGVsaXZlciB0aGUgZnVuY3Rpb25hbGl0eSlcbiAgICBsZXQgYmFzZSA9IHRoaXM7XG4gICAgbGV0IHBhcnNlcl9mdW5jdGlvbiA9IGdldFByb3BlcnR5RGVzY3JpcHRvcihzdWdhciwgJ3NlcXVlbmNlJykuc2V0O1xuICAgIGxldCB3cml0ZXJfZnVuY3Rpb24gPSBnZXRQcm9wZXJ0eURlc2NyaXB0b3Ioc3VnYXIsICdzZXF1ZW5jZScpLmdldDtcbiAgICByZXR1cm4gY2xhc3MgZXh0ZW5kcyBiYXNlIHtcbiAgICAgIGdldCBzZXF1ZW5jZSgpIHtcbiAgICAgICAgcmV0dXJuIHdyaXRlcl9mdW5jdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgfVxuICAgICAgc2V0IHNlcXVlbmNlKHNlcXVlbmNlKSB7XG4gICAgICAgIHBhcnNlcl9mdW5jdGlvbi5jYWxsKHRoaXMsc2VxdWVuY2UpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../glycan.js/js/Sugar.js\n");

/***/ }),

/***/ "../glycan.js/js/SugarAwareLayout.js":
/*!*******************************************!*\
  !*** ../glycan.js/js/SugarAwareLayout.js ***!
  \*******************************************/
/*! exports provided: default, calculate_layout_hso3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SugarAwareLayout; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculate_layout_hso3\", function() { return calculate_layout_hso3; });\n/* harmony import */ var _CondensedLayout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CondensedLayout */ \"../glycan.js/js/CondensedLayout.js\");\n/* harmony import */ var _Monosaccharide__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Monosaccharide */ \"../glycan.js/js/Monosaccharide.js\");\n/* harmony import */ var _CondensedIupac__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CondensedIupac */ \"../glycan.js/js/CondensedIupac.js\");\n/* harmony import */ var _Sugar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Sugar */ \"../glycan.js/js/Sugar.js\");\n/* harmony import */ var _Repeat__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Repeat */ \"../glycan.js/js/Repeat.js\");\n\n\n\n\n\nvar not_sulf = res => res.identifier !== 'HSO3';\nvar horizontal_identifiers = ['Xyl', 'HSO3', 'Rbo', 'P', 'GlcN'];\nclass IupacSugar extends Object(_CondensedIupac__WEBPACK_IMPORTED_MODULE_2__[\"IO\"])(_Sugar__WEBPACK_IMPORTED_MODULE_3__[\"default\"]) {}\nvar NLINKED_CORE = new IupacSugar();\nNLINKED_CORE.sequence = 'Man(a1-3)[Man(a1-6)]Man(b1-4)GlcNAc(b1-4)GlcNAc';\nvar identifier_comparator = (a, b) => {\n  if (!a || !b) {\n    return false;\n  }\n  return a.identifier === b.identifier;\n};\nvar calculate_layout_hso3 = function calculate_layout_hso3(res, position, DELTA_X, DELTA_Y) {\n  var SULF_DELTA_X = this.LINKS ? 2 / 3 * 5 / 4 * DELTA_X : 2 * DELTA_X / 3;\n  var SULF_DELTA_Y = this.LINKS ? 2 / 3 * 2 / 3 * DELTA_Y : 2 * DELTA_Y / 3;\n  position.r = 1 / 4 * DELTA_X;\n  var linkage_pos = res.parent.linkageOf(res);\n  if (linkage_pos === 2 || linkage_pos === 6 || linkage_pos === _Monosaccharide__WEBPACK_IMPORTED_MODULE_1__[\"default\"].LINKAGES.N) {\n    position.dy = 0 * SULF_DELTA_Y;\n    position.dx = 0.5 * SULF_DELTA_X;\n    if (linkage_pos === 2 || linkage_pos === _Monosaccharide__WEBPACK_IMPORTED_MODULE_1__[\"default\"].LINKAGES.N) {\n      position.dx *= -1;\n    }\n  }\n  if (linkage_pos === 3 || linkage_pos === 4) {\n    position.dy = -1 * SULF_DELTA_Y;\n    position.dx = 0.5 * SULF_DELTA_X;\n    if (linkage_pos === 3) {\n      position.dx *= -1;\n    }\n    if (linkage_pos === 4) {\n      position.dx = 0 * SULF_DELTA_X;\n    }\n  }\n  position.ignore_overlap = true;\n  return position;\n};\nvar CHECKED_NLINKED = new WeakMap();\nclass SugarAwareLayout extends _CondensedLayout__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  static CalculateIdentifier(residue) {\n    var residue_id = residue.identifier.toLowerCase();\n    var parent_linkage = residue.parent ? residue.parent.linkageOf(residue) : null;\n    if (parent_linkage === _Monosaccharide__WEBPACK_IMPORTED_MODULE_1__[\"default\"].LINKAGES.N) {\n      parent_linkage = 'N';\n    }\n    if (parent_linkage === _Monosaccharide__WEBPACK_IMPORTED_MODULE_1__[\"default\"].LINKAGES.O) {\n      parent_linkage = 'O';\n    }\n    var residue_suffix = residue.parent && (residue_id === 'hso3' || residue_id == 'me') && parent_linkage ? '.' + parent_linkage : '';\n    return \"\".concat(residue_id).concat(residue_suffix);\n  }\n  static get DELTA_X() {\n    return super.DELTA_X * 1.25;\n  }\n  static get DELTA_Y() {\n    return super.DELTA_Y * 1.25;\n  }\n  static get SPREAD_DELTA() {\n    return super.SPREAD_DELTA * 0.25;\n  }\n  static LayoutMonosaccharide(sugar, res, position, parent_position, layout) {\n    var DELTA_Y = this.DELTA_Y;\n    var DELTA_X = this.DELTA_X;\n    position = _CondensedLayout__WEBPACK_IMPORTED_MODULE_0__[\"default\"].LayoutMonosaccharide.call(this, sugar, res, position, parent_position);\n    if (horizontal_identifiers.indexOf(res.identifier) >= 0) {\n      position.keep_horizontal = true;\n    }\n    if (!CHECKED_NLINKED.get(position) && !this.LINKS && !position.ignore_overlap) {\n      var matches = sugar.match_sugar_pattern(NLINKED_CORE, identifier_comparator);\n      CHECKED_NLINKED.set(position, true);\n      if (matches.length > 0) {\n        if (matches[0].composition().map(traced => traced.original).indexOf(res) >= 0) {\n          if (!this.LINKS) {\n            position.ignore_overlap = true;\n          }\n        }\n      }\n    }\n    var sibs = res.siblings;\n    if (sibs.filter(not_sulf).length == 1 && (res.identifier == 'Fuc' || res.identifier == 'NeuAc') || res.parent && res.parent.endsRepeatUnit && res.parent.repeat.mode == _Repeat__WEBPACK_IMPORTED_MODULE_4__[\"default\"].MODE_MINIMAL && res.identifier == 'Fuc') {\n      // Stubby NeuAc and Fuc along a chain\n      // Stubby Fuc at the end of a repeat unit\n      if (res.identifier == 'NeuAc' && sibs.filter(not_sulf)[0].identifier == 'Fuc') {\n        position.dx = 0;\n        position.dy = -1 * DELTA_Y;\n        position.dy -= position.r; // Make room for linkage\n        return position;\n      }\n      position.dy = 0;\n      position.dx = [2, 3].indexOf(res.parent.linkageOf(res)) >= 0 ? -1 * DELTA_X : DELTA_X;\n      if (res.identifier == 'Fuc') {\n        position.rotate = position.dx < 0 ? 90 : -90;\n        position.dx = position.dx < 0 ? -0.75 : 0.75;\n        return position;\n      }\n      if (this.LINKS) {\n        position.dx += (position.dx < 0 ? -1 : 1) * DELTA_X / 4;\n      }\n      return position;\n    }\n    if (res.identifier === 'PI') {\n      position.r = 0.75;\n    }\n    if (res.identifier === 'GlcN' && res.parent.identifier === 'PI') {\n      position.dx = 0.5 * DELTA_X;\n      return position;\n    }\n    if (res.identifier === 'EtNP') {\n      var linkage_pos = res.parent.linkageOf(res);\n      if (linkage_pos === 2) {\n        position.dy = 0;\n        position.dx = -0.66 * DELTA_X;\n        position.rotate = -90;\n      }\n      if (linkage_pos === 6 && res.parent.children.length === 1) {\n        position.dy = -1.25 * DELTA_Y;\n        position.dx = 0;\n      }\n      if (linkage_pos === 6 && res.parent.children.length > 1) {\n        position.dx = 0.66 * DELTA_X;\n        position.dy = 0;\n        position.rotate = 90;\n      }\n      position.ignore_overlap = true;\n    }\n    if (res.identifier === 'HSO3' || res.identifier === 'Me') {\n      return calculate_layout_hso3.call(this, res, position, DELTA_X, DELTA_Y);\n    }\n    if (sibs.length == 1 && res.identifier === 'P') {\n      position.dy = 0;\n      position.dx = res.parent.linkageOf(res) >= 0 ? DELTA_X : -1 * DELTA_X;\n      if (this.LINKS) {\n        position.dx += (position.dx < 0 ? -1 : 1) * DELTA_X / 4;\n      }\n      return position;\n    }\n\n    // Make Type I chains linear\n    if (sibs.length == 1 && res.identifier === 'GlcNAc' && sibs[0].identifier == 'GlcNAc') {\n      if (res.parent.linkageOf(res) === 3) {\n        position.dx = 0;\n      }\n      return position;\n    }\n\n    // If only a single sibling is Fuc or NeuAc make it a stub\n    if (sibs.filter(not_sulf).filter(sibling => ['Fuc', 'NeuAc'].indexOf(sibling.identifier) < 0).length == 0 && sibs.filter(not_sulf).filter(sibling => ['Fuc', 'NeuAc'].indexOf(sibling.identifier) >= 0).length <= 1) {\n      position.dx = 0;\n    }\n    if (sibs.length === 1 && ['P', 'HSO3', 'EtNP'].indexOf(sibs[0].identifier) >= 0) {\n      position.dx = 0;\n    }\n    if (sibs.length === 2 && [res].concat(sibs).map(res => res.identifier).indexOf('Fuc') >= 0 && [res].concat(sibs).map(res => res.identifier).indexOf('HSO3') >= 0 && ['Fuc'].indexOf(res.identifier) >= 0) {\n      position.dy = 0;\n      position.dx = res.parent.linkageOf(res) >= 4 ? DELTA_X : -1 * DELTA_X;\n      if (res.identifier == 'Fuc') {\n        position.rotate = position.dx < 0 ? 90 : -90;\n        position.ignore_overlap = true;\n      }\n      if (this.LINKS) {\n        position.dx += (position.dx < 0 ? -1 : 1) * DELTA_X / 4;\n      }\n      return position;\n    }\n    if (res.identifier === 'Man' && res.siblings.length > 0) {\n      var sibling_spreads = res.siblings.map(sib => layout.get(sib)).filter(lay => lay).map(lay => lay.spread).filter(x => x);\n      if (position.spread) {\n        sibling_spreads.push(position.spread);\n      }\n      var max_spread = Math.max(...sibling_spreads);\n      if (isFinite(max_spread)) {\n        for (var sib of res.siblings) {\n          if (sib.children.length > 0 && layout.get(sib)) {\n            layout.get(sib).spread = max_spread;\n          }\n        }\n        position.spread = max_spread;\n      }\n    }\n    return position;\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL1N1Z2FyQXdhcmVMYXlvdXQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZ2x5Y2FuLmpzL2pzL1N1Z2FyQXdhcmVMYXlvdXQuanM/ZGI2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29uZGVuc2VkTGF5b3V0IGZyb20gJy4vQ29uZGVuc2VkTGF5b3V0JztcblxuaW1wb3J0IE1vbm9zYWNjaGFyaWRlIGZyb20gJy4vTW9ub3NhY2NoYXJpZGUnO1xuXG5pbXBvcnQge0lPIGFzIEl1cGFjfSBmcm9tICcuL0NvbmRlbnNlZEl1cGFjJztcbmltcG9ydCBTdWdhciBmcm9tICcuL1N1Z2FyJztcblxuaW1wb3J0IFJlcGVhdCBmcm9tICcuL1JlcGVhdCc7XG5cbmNvbnN0IG5vdF9zdWxmID0gcmVzID0+IHJlcy5pZGVudGlmaWVyICE9PSAnSFNPMyc7XG5cbmNvbnN0IGhvcml6b250YWxfaWRlbnRpZmllcnMgPSBbICdYeWwnLCdIU08zJywnUmJvJywnUCcsJ0dsY04nXTtcblxuY2xhc3MgSXVwYWNTdWdhciBleHRlbmRzIEl1cGFjKFN1Z2FyKSB7fVxuXG5jb25zdCBOTElOS0VEX0NPUkUgPSBuZXcgSXVwYWNTdWdhcigpO1xuTkxJTktFRF9DT1JFLnNlcXVlbmNlID0gJ01hbihhMS0zKVtNYW4oYTEtNildTWFuKGIxLTQpR2xjTkFjKGIxLTQpR2xjTkFjJztcblxubGV0IGlkZW50aWZpZXJfY29tcGFyYXRvciA9IChhLGIpID0+IHtcbiAgaWYgKCAhIGEgfHwgISBiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBhLmlkZW50aWZpZXIgPT09IGIuaWRlbnRpZmllcjtcbn07XG5cblxubGV0IGNhbGN1bGF0ZV9sYXlvdXRfaHNvMyA9IGZ1bmN0aW9uKHJlcyxwb3NpdGlvbiwgREVMVEFfWCwgREVMVEFfWSkge1xuICBjb25zdCBTVUxGX0RFTFRBX1ggPSB0aGlzLkxJTktTID8gMi8zKjUvNCpERUxUQV9YIDogMiAqIERFTFRBX1ggLyAzO1xuICBjb25zdCBTVUxGX0RFTFRBX1kgPSB0aGlzLkxJTktTID8gMi8zKjIvMypERUxUQV9ZIDogMiAqIERFTFRBX1kgLyAzO1xuICBwb3NpdGlvbi5yID0gMS80KkRFTFRBX1g7XG4gIGxldCBsaW5rYWdlX3BvcyA9IHJlcy5wYXJlbnQubGlua2FnZU9mKHJlcyk7XG4gIGlmIChsaW5rYWdlX3BvcyA9PT0gMiB8fCBsaW5rYWdlX3BvcyA9PT0gNiB8fCBsaW5rYWdlX3BvcyA9PT0gTW9ub3NhY2NoYXJpZGUuTElOS0FHRVMuTikge1xuICAgIHBvc2l0aW9uLmR5ID0gMCpTVUxGX0RFTFRBX1k7XG4gICAgcG9zaXRpb24uZHggPSAwLjUqU1VMRl9ERUxUQV9YO1xuICAgIGlmIChsaW5rYWdlX3BvcyA9PT0gMiB8fCBsaW5rYWdlX3BvcyA9PT0gTW9ub3NhY2NoYXJpZGUuTElOS0FHRVMuTikge1xuICAgICAgcG9zaXRpb24uZHggKj0gLTE7XG4gICAgfVxuICB9XG4gIGlmIChsaW5rYWdlX3BvcyA9PT0gMyB8fCBsaW5rYWdlX3BvcyA9PT0gNCApIHtcbiAgICBwb3NpdGlvbi5keSA9IC0xKlNVTEZfREVMVEFfWTtcbiAgICBwb3NpdGlvbi5keCA9IDAuNSpTVUxGX0RFTFRBX1g7XG4gICAgaWYgKGxpbmthZ2VfcG9zID09PSAzKSB7XG4gICAgICBwb3NpdGlvbi5keCAqPSAtMTtcbiAgICB9XG4gICAgaWYgKGxpbmthZ2VfcG9zID09PSA0KSB7XG4gICAgICBwb3NpdGlvbi5keCA9IDAqU1VMRl9ERUxUQV9YO1xuICAgIH1cbiAgfVxuICBwb3NpdGlvbi5pZ25vcmVfb3ZlcmxhcCA9IHRydWU7XG4gIHJldHVybiBwb3NpdGlvbjtcbn07XG5cbmNvbnN0IENIRUNLRURfTkxJTktFRCA9IG5ldyBXZWFrTWFwKCk7XG5cbmNsYXNzIFN1Z2FyQXdhcmVMYXlvdXQgZXh0ZW5kcyBDb25kZW5zZWRMYXlvdXQge1xuXG4gIHN0YXRpYyBDYWxjdWxhdGVJZGVudGlmaWVyKHJlc2lkdWUpIHtcbiAgICBsZXQgcmVzaWR1ZV9pZCA9IHJlc2lkdWUuaWRlbnRpZmllci50b0xvd2VyQ2FzZSgpO1xuICAgIGxldCBwYXJlbnRfbGlua2FnZSA9IHJlc2lkdWUucGFyZW50ID8gcmVzaWR1ZS5wYXJlbnQubGlua2FnZU9mKHJlc2lkdWUpIDogbnVsbDtcbiAgICBpZiAocGFyZW50X2xpbmthZ2UgPT09IE1vbm9zYWNjaGFyaWRlLkxJTktBR0VTLk4pIHtcbiAgICAgIHBhcmVudF9saW5rYWdlID0gJ04nO1xuICAgIH1cbiAgICBpZiAocGFyZW50X2xpbmthZ2UgPT09IE1vbm9zYWNjaGFyaWRlLkxJTktBR0VTLk8pIHtcbiAgICAgIHBhcmVudF9saW5rYWdlID0gJ08nO1xuICAgIH1cbiAgICBsZXQgcmVzaWR1ZV9zdWZmaXggPSAocmVzaWR1ZS5wYXJlbnQgJiYgKHJlc2lkdWVfaWQgPT09ICdoc28zJyB8fCByZXNpZHVlX2lkID09ICdtZScgKSAmJiBwYXJlbnRfbGlua2FnZSkgPyAnLicrcGFyZW50X2xpbmthZ2UgOiAnJztcbiAgICByZXR1cm4gYCR7cmVzaWR1ZV9pZH0ke3Jlc2lkdWVfc3VmZml4fWA7XG4gIH1cblxuXG4gIHN0YXRpYyBnZXQgREVMVEFfWCgpIHtcbiAgICByZXR1cm4gc3VwZXIuREVMVEFfWCoxLjI1O1xuICB9XG5cbiAgc3RhdGljIGdldCBERUxUQV9ZKCkge1xuICAgIHJldHVybiBzdXBlci5ERUxUQV9ZKjEuMjU7XG4gIH1cblxuICBzdGF0aWMgZ2V0IFNQUkVBRF9ERUxUQSgpIHtcbiAgICByZXR1cm4gc3VwZXIuU1BSRUFEX0RFTFRBKjAuMjU7XG4gIH1cblxuICBzdGF0aWMgTGF5b3V0TW9ub3NhY2NoYXJpZGUoc3VnYXIscmVzLHBvc2l0aW9uLHBhcmVudF9wb3NpdGlvbixsYXlvdXQpIHtcblxuICAgIGNvbnN0IERFTFRBX1kgPSB0aGlzLkRFTFRBX1k7XG4gICAgY29uc3QgREVMVEFfWCA9IHRoaXMuREVMVEFfWDtcblxuXG4gICAgcG9zaXRpb24gPSBDb25kZW5zZWRMYXlvdXQuTGF5b3V0TW9ub3NhY2NoYXJpZGUuY2FsbCh0aGlzLHN1Z2FyLHJlcyxwb3NpdGlvbixwYXJlbnRfcG9zaXRpb24pO1xuXG4gICAgaWYgKGhvcml6b250YWxfaWRlbnRpZmllcnMuaW5kZXhPZihyZXMuaWRlbnRpZmllcikgPj0gMCkge1xuICAgICAgcG9zaXRpb24ua2VlcF9ob3Jpem9udGFsID0gdHJ1ZTtcbiAgICB9XG5cblxuICAgIGlmICggISBDSEVDS0VEX05MSU5LRUQuZ2V0KHBvc2l0aW9uKSAmJiAhIHRoaXMuTElOS1MgJiYgISBwb3NpdGlvbi5pZ25vcmVfb3ZlcmxhcCApIHtcbiAgICAgIGxldCBtYXRjaGVzID0gc3VnYXIubWF0Y2hfc3VnYXJfcGF0dGVybihOTElOS0VEX0NPUkUsIGlkZW50aWZpZXJfY29tcGFyYXRvciApO1xuICAgICAgQ0hFQ0tFRF9OTElOS0VELnNldChwb3NpdGlvbix0cnVlKTtcbiAgICAgIGlmIChtYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKG1hdGNoZXNbMF0uY29tcG9zaXRpb24oKS5tYXAoIHRyYWNlZCA9PiB0cmFjZWQub3JpZ2luYWwgKS5pbmRleE9mKHJlcykgPj0gMCkge1xuICAgICAgICAgIGlmICggISB0aGlzLkxJTktTICkge1xuICAgICAgICAgICAgcG9zaXRpb24uaWdub3JlX292ZXJsYXAgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuXG5cbiAgICBsZXQgc2licyA9IHJlcy5zaWJsaW5ncztcblxuICAgIGlmICggKHNpYnMuZmlsdGVyKG5vdF9zdWxmKS5sZW5ndGggPT0gMSAmJiAocmVzLmlkZW50aWZpZXIgPT0gJ0Z1YycgfHwgcmVzLmlkZW50aWZpZXIgPT0gJ05ldUFjJykpIHx8XG4gICAgICAgICAgKCByZXMucGFyZW50ICYmIHJlcy5wYXJlbnQuZW5kc1JlcGVhdFVuaXQgJiYgcmVzLnBhcmVudC5yZXBlYXQubW9kZSA9PSBSZXBlYXQuTU9ERV9NSU5JTUFMICYmIHJlcy5pZGVudGlmaWVyID09ICdGdWMnKVxuICAgICAgKSB7XG4gICAgICAvLyBTdHViYnkgTmV1QWMgYW5kIEZ1YyBhbG9uZyBhIGNoYWluXG4gICAgICAvLyBTdHViYnkgRnVjIGF0IHRoZSBlbmQgb2YgYSByZXBlYXQgdW5pdFxuICAgICAgaWYgKHJlcy5pZGVudGlmaWVyID09ICdOZXVBYycgJiYgc2licy5maWx0ZXIobm90X3N1bGYpWzBdLmlkZW50aWZpZXIgPT0gJ0Z1YycpIHtcbiAgICAgICAgcG9zaXRpb24uZHggPSAwO1xuICAgICAgICBwb3NpdGlvbi5keSA9IC0xICogREVMVEFfWTtcbiAgICAgICAgcG9zaXRpb24uZHkgLT0gcG9zaXRpb24ucjsgLy8gTWFrZSByb29tIGZvciBsaW5rYWdlXG4gICAgICAgIHJldHVybiBwb3NpdGlvbjtcbiAgICAgIH1cbiAgICAgIHBvc2l0aW9uLmR5ID0gMDtcbiAgICAgIHBvc2l0aW9uLmR4ID0gWzIsM10uaW5kZXhPZihyZXMucGFyZW50LmxpbmthZ2VPZihyZXMpKSA+PSAwID8gLTEgKiBERUxUQV9YIDogREVMVEFfWDtcblxuICAgICAgaWYgKHJlcy5pZGVudGlmaWVyID09ICdGdWMnKSB7XG4gICAgICAgIHBvc2l0aW9uLnJvdGF0ZSA9IChwb3NpdGlvbi5keCA8IDAgKSA/IDkwIDogLTkwO1xuICAgICAgICBwb3NpdGlvbi5keCA9IHBvc2l0aW9uLmR4IDwgMCA/IC0wLjc1OiAwLjc1O1xuICAgICAgICByZXR1cm4gcG9zaXRpb247XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5MSU5LUykge1xuICAgICAgICBwb3NpdGlvbi5keCArPSAoKChwb3NpdGlvbi5keCA8IDApID8gLTEgOiAxKSpERUxUQV9YKS80O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcG9zaXRpb247XG4gICAgfVxuXG4gICAgaWYgKHJlcy5pZGVudGlmaWVyID09PSAnUEknKSB7XG4gICAgICBwb3NpdGlvbi5yID0gMC43NTtcbiAgICB9XG5cbiAgICBpZiAocmVzLmlkZW50aWZpZXIgPT09ICdHbGNOJyAmJiByZXMucGFyZW50LmlkZW50aWZpZXIgPT09ICdQSScpIHtcbiAgICAgIHBvc2l0aW9uLmR4ID0gMC41KkRFTFRBX1g7XG4gICAgICByZXR1cm4gcG9zaXRpb247XG4gICAgfVxuXG5cbiAgICBpZiAocmVzLmlkZW50aWZpZXIgPT09ICdFdE5QJykge1xuICAgICAgbGV0IGxpbmthZ2VfcG9zID0gcmVzLnBhcmVudC5saW5rYWdlT2YocmVzKTtcbiAgICAgIGlmIChsaW5rYWdlX3BvcyA9PT0gMikge1xuICAgICAgICBwb3NpdGlvbi5keSA9IDA7XG4gICAgICAgIHBvc2l0aW9uLmR4ID0gLTAuNjYqREVMVEFfWDtcbiAgICAgICAgcG9zaXRpb24ucm90YXRlID0gLTkwO1xuICAgICAgfVxuICAgICAgaWYgKGxpbmthZ2VfcG9zID09PSA2ICYmIHJlcy5wYXJlbnQuY2hpbGRyZW4ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHBvc2l0aW9uLmR5ID0gLTEuMjUqREVMVEFfWTtcbiAgICAgICAgcG9zaXRpb24uZHggPSAwO1xuICAgICAgfVxuICAgICAgaWYgKGxpbmthZ2VfcG9zID09PSA2ICYmIHJlcy5wYXJlbnQuY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICBwb3NpdGlvbi5keCA9IDAuNjYqREVMVEFfWDtcbiAgICAgICAgcG9zaXRpb24uZHkgPSAwO1xuICAgICAgICBwb3NpdGlvbi5yb3RhdGUgPSA5MDtcbiAgICAgIH1cbiAgICAgIHBvc2l0aW9uLmlnbm9yZV9vdmVybGFwID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAocmVzLmlkZW50aWZpZXIgPT09ICdIU08zJyB8fCByZXMuaWRlbnRpZmllciA9PT0gJ01lJykge1xuICAgICAgcmV0dXJuIGNhbGN1bGF0ZV9sYXlvdXRfaHNvMy5jYWxsKHRoaXMscmVzLHBvc2l0aW9uLCBERUxUQV9YLCBERUxUQV9ZKTtcbiAgICB9XG5cbiAgICBpZiAoc2licy5sZW5ndGggPT0gMSAmJiByZXMuaWRlbnRpZmllciA9PT0gJ1AnKSB7XG4gICAgICBwb3NpdGlvbi5keSA9IDA7XG4gICAgICBwb3NpdGlvbi5keCA9IHJlcy5wYXJlbnQubGlua2FnZU9mKHJlcykgPj0gMCA/IERFTFRBX1ggOiAtMSAqIERFTFRBX1g7XG4gICAgICBpZiAodGhpcy5MSU5LUykge1xuICAgICAgICBwb3NpdGlvbi5keCArPSAoKChwb3NpdGlvbi5keCA8IDApID8gLTEgOiAxKSpERUxUQV9YKS80O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBvc2l0aW9uO1xuICAgIH1cblxuICAgIC8vIE1ha2UgVHlwZSBJIGNoYWlucyBsaW5lYXJcbiAgICBpZiAoc2licy5sZW5ndGggPT0gMSAmJiAocmVzLmlkZW50aWZpZXIgPT09ICdHbGNOQWMnICYmIHNpYnNbMF0uaWRlbnRpZmllciA9PSAnR2xjTkFjJykpIHtcbiAgICAgIGlmIChyZXMucGFyZW50LmxpbmthZ2VPZihyZXMpID09PSAzKSB7XG4gICAgICAgIHBvc2l0aW9uLmR4ID0gMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwb3NpdGlvbjtcbiAgICB9XG5cbiAgICAvLyBJZiBvbmx5IGEgc2luZ2xlIHNpYmxpbmcgaXMgRnVjIG9yIE5ldUFjIG1ha2UgaXQgYSBzdHViXG4gICAgaWYgKHNpYnMuZmlsdGVyKG5vdF9zdWxmKS5maWx0ZXIoIHNpYmxpbmcgPT4gWydGdWMnLCdOZXVBYyddLmluZGV4T2Yoc2libGluZy5pZGVudGlmaWVyKSA8IDAgKS5sZW5ndGggPT0gMCAmJlxuICAgICAgICBzaWJzLmZpbHRlcihub3Rfc3VsZikuZmlsdGVyKCBzaWJsaW5nID0+IFsnRnVjJywnTmV1QWMnXS5pbmRleE9mKHNpYmxpbmcuaWRlbnRpZmllcikgPj0gMCApLmxlbmd0aCA8PSAxXG4gICAgKSB7XG4gICAgICBwb3NpdGlvbi5keCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKHNpYnMubGVuZ3RoID09PSAxICYmICggWydQJywnSFNPMycsJ0V0TlAnXS5pbmRleE9mKHNpYnNbMF0uaWRlbnRpZmllcikgPj0gMCApICkge1xuICAgICAgcG9zaXRpb24uZHggPSAwO1xuICAgIH1cblxuICAgIGlmICggc2licy5sZW5ndGggPT09IDIgJiZcbiAgICAgICAgICBbIHJlcyBdLmNvbmNhdChzaWJzKS5tYXAoIHJlcyA9PiByZXMuaWRlbnRpZmllciApLmluZGV4T2YoICdGdWMnICkgPj0gMCAmJlxuICAgICAgICAgIFsgcmVzIF0uY29uY2F0KHNpYnMpLm1hcCggcmVzID0+IHJlcy5pZGVudGlmaWVyICkuaW5kZXhPZiggJ0hTTzMnICkgPj0gMCAmJlxuICAgICAgICAgIFsnRnVjJ10uaW5kZXhPZihyZXMuaWRlbnRpZmllcikgPj0gMCkge1xuICAgICAgcG9zaXRpb24uZHkgPSAwO1xuICAgICAgcG9zaXRpb24uZHggPSByZXMucGFyZW50LmxpbmthZ2VPZihyZXMpID49IDQgPyBERUxUQV9YIDogLTEgKiBERUxUQV9YO1xuXG4gICAgICBpZiAocmVzLmlkZW50aWZpZXIgPT0gJ0Z1YycpIHtcbiAgICAgICAgcG9zaXRpb24ucm90YXRlID0gKHBvc2l0aW9uLmR4IDwgMCApID8gOTAgOiAtOTA7XG4gICAgICAgIHBvc2l0aW9uLmlnbm9yZV9vdmVybGFwID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuTElOS1MpIHtcbiAgICAgICAgcG9zaXRpb24uZHggKz0gKCgocG9zaXRpb24uZHggPCAwKSA/IC0xIDogMSkqREVMVEFfWCkvNDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwb3NpdGlvbjtcbiAgICB9XG5cbiAgICBpZiAocmVzLmlkZW50aWZpZXIgPT09ICdNYW4nICYmIHJlcy5zaWJsaW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICBsZXQgc2libGluZ19zcHJlYWRzID0gcmVzLnNpYmxpbmdzLm1hcCggc2liID0+IGxheW91dC5nZXQoc2liKSApLmZpbHRlciggbGF5ID0+IGxheSApLm1hcCggbGF5ID0+IGxheS5zcHJlYWQgKS5maWx0ZXIoIHggPT4geCApO1xuICAgICAgaWYgKHBvc2l0aW9uLnNwcmVhZCkge1xuICAgICAgICBzaWJsaW5nX3NwcmVhZHMucHVzaChwb3NpdGlvbi5zcHJlYWQpO1xuICAgICAgfVxuICAgICAgbGV0IG1heF9zcHJlYWQgPSBNYXRoLm1heCguLi5zaWJsaW5nX3NwcmVhZHMpO1xuICAgICAgaWYgKGlzRmluaXRlKG1heF9zcHJlYWQpKSB7XG4gICAgICAgIGZvciAobGV0IHNpYiBvZiByZXMuc2libGluZ3MpIHtcbiAgICAgICAgICBpZiAoc2liLmNoaWxkcmVuLmxlbmd0aCA+IDAgJiYgbGF5b3V0LmdldChzaWIpKSB7XG4gICAgICAgICAgICBsYXlvdXQuZ2V0KHNpYikuc3ByZWFkID0gbWF4X3NwcmVhZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcG9zaXRpb24uc3ByZWFkID0gbWF4X3NwcmVhZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBvc2l0aW9uO1xuICB9XG59XG5cbmV4cG9ydCB7IFN1Z2FyQXdhcmVMYXlvdXQgYXMgZGVmYXVsdCwgY2FsY3VsYXRlX2xheW91dF9oc28zIH07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../glycan.js/js/SugarAwareLayout.js\n");

/***/ }),

/***/ "../glycan.js/js/Tracing.js":
/*!**********************************!*\
  !*** ../glycan.js/js/Tracing.js ***!
  \**********************************/
/*! exports provided: Tracer, trace_into_class, TracedMonosaccharide */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Tracer\", function() { return Tracer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"trace_into_class\", function() { return trace_into_class; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TracedMonosaccharide\", function() { return TracedMonosaccharide; });\n/* harmony import */ var _Debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Debug */ \"../glycan.js/js/Debug.js\");\n/* harmony import */ var _Monosaccharide__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Monosaccharide */ \"../glycan.js/js/Monosaccharide.js\");\n\n\n\n\nvar module_string = 'glycanjs:tracing';\nvar log = Object(_Debug__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(module_string);\nvar noop = () => {};\nclass TracedMonosaccharide extends _Monosaccharide__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  constructor(original) {\n    super(original.identifier);\n    this.original = original;\n    return this;\n  }\n  get anomer() {\n    return this.original.anomer;\n  }\n  get parent_linkage() {\n    return this.original.parent_linkage;\n  }\n  get identifier() {\n    return this.original.identifier;\n  }\n  set anomer(ignore) {\n    noop(ignore);\n  }\n  set parent_linkage(ignore) {\n    noop(ignore);\n  }\n  set identifier(ignore) {\n    noop(ignore);\n  }\n  linkageOf(node) {\n    return this.original.linkageOf(node.original);\n  }\n  clone() {\n    var cloned = new this.constructor(this.original);\n    cloned.original = this.original;\n    cloned.copyTagsFrom(this);\n    return cloned;\n  }\n}\nvar initialise_sugar = function initialise_sugar(target, wanted) {\n  var mono_class = target.constructor.Monosaccharide;\n  target.root = new mono_class(wanted);\n  return target;\n};\nvar clone_and_add_monosaccharide = function clone_and_add_monosaccharide(wrapped_sugar, parent, child) {\n  var new_sugar = wrapped_sugar.clone();\n  parent = new_sugar.composition().filter(res => res.original === parent.original)[0];\n  var wrapped_child = new wrapped_sugar.constructor.Monosaccharide(child);\n  parent.addChild(parent.original.linkageOf(child), wrapped_child);\n  return {\n    sugar: new_sugar,\n    child: wrapped_child\n  };\n};\nvar attach_via_cloning = (result_sugar, attachment, mapped_list, template_residue, child) => {\n  var clone_results = clone_and_add_monosaccharide(result_sugar, attachment, child);\n  clone_results.child.copyTagsFrom(template_residue);\n  mapped_list.push(child);\n  return clone_results.sugar;\n};\nvar residues_in_mapping = (sugar, mapped_list) => {\n  return sugar.composition().filter(residue => mapped_list.indexOf(residue.original) >= 0);\n};\nvar trace_into_class = function trace_into_class(sugar, ResultClass) {\n  var mapping = new Map();\n  var traced = new ResultClass();\n  traced.root = new ResultClass.Monosaccharide(sugar.root);\n  mapping.set(sugar.root, traced.root);\n  for (var residue of sugar.breadth_first_traversal()) {\n    if (residue === sugar.root) {\n      continue;\n    }\n    var wrapped_child = new ResultClass.Monosaccharide(residue);\n    wrapped_child = Object.assign(wrapped_child, residue);\n    mapping.set(residue, wrapped_child);\n    mapping.get(residue.parent).addChild(residue.parent.linkageOf(residue), wrapped_child);\n  }\n  return traced;\n};\nvar trace_sugar = function trace_sugar(ResultClass, search, search_root, template, comparator) {\n  var cursor_mapping = new WeakMap();\n  var sugar_sets = [];\n  var attachment_to_sugar = new WeakMap();\n  log.info('Tracing', template.sequence, 'onto', search.sequence, 'moving cursor over template');\n  var successful_mappings = [...template.breadth_first_traversal(template.root, cursor => {\n    log.info('Template cursor is positioned at', cursor.identifier);\n    attachment_to_sugar = new WeakMap();\n    if (!cursor.parent) {\n      log.info('The cursor is at the root - the search sugar is at', search_root.identifier);\n      sugar_sets.push(initialise_sugar(new ResultClass(), search_root));\n      cursor_mapping.set(cursor, [sugar_sets[0].composition()[0].original]);\n      sugar_sets[0].composition()[0].copyTagsFrom(cursor);\n      log.info('Done with this cursor', cursor.identifier);\n      return sugar_sets.length > 0;\n    } else {\n      cursor_mapping.set(cursor, []);\n    }\n    log.info('Residues in the search tree that correspond to the cursor parent are', cursor_mapping.get(cursor.parent).map(res => res.identifier));\n    var wanted_linkage = cursor.parent.linkageOf(cursor);\n\n    // If one of the result WrappedSugars doesn't contain the place where we will\n    // attach monosaccharides (i.e. a monosaccharide wrapping the search sugar parent\n    // corresponding to the parent of the cursor), we don't want that sugar\n\n    sugar_sets = sugar_sets.filter(sug => residues_in_mapping(sug, cursor_mapping.get(cursor.parent)).length > 0);\n    log.info('Current sets of sugars are', sugar_sets);\n\n    // The attachment points on the results are found by finding the monosaccharides corresponding to cursor parent\n    var attachment_points = sugar_sets.map(sugar => {\n      var attach_point = residues_in_mapping(sugar, cursor_mapping.get(cursor.parent));\n      if (attach_point.length > 1) {\n        throw new Error('Tracing mapped a template residue to more than one residue in the search sugar');\n      }\n      attachment_to_sugar.set(attach_point[0], sugar);\n      return attach_point[0];\n    });\n    sugar_sets = [];\n    log.info('We need to find children of the attachment points linked via a', wanted_linkage, 'linkage');\n    for (var attachment of attachment_points) {\n      // Get all the children that could possibly match this linkage we are after\n      var search_parent = attachment.original;\n      log.info('Attachment point is a wrapped residue with identifier', search_parent.identifier);\n      var search_kids = wanted_linkage == 0 ? search_parent.children : search_parent.child_linkages.get(wanted_linkage);\n      log.info('We want to find a match for the cursor from within', (search_kids || []).length, 'possible child residues');\n\n      // Check to find all the wrapped children of the attachment point matching against the cursor\n      var valid_search_kids = [].concat(search_kids).filter(comparator.bind(null, cursor)).filter(res => res);\n      if (valid_search_kids.length >= 1) {\n        var attach_child_residue = attach_via_cloning.bind(null, attachment_to_sugar.get(attachment), attachment, cursor_mapping.get(cursor), cursor);\n        log.info('Valid children in search sugar are', valid_search_kids.map(res => res.identifier));\n        var sets_of_new_sugars = valid_search_kids.map(attach_child_residue);\n        sugar_sets = sugar_sets.concat(sets_of_new_sugars);\n      }\n    }\n    return sugar_sets.length > 0;\n  })];\n  log.info('We mapped', successful_mappings.length, 'out of', template.composition().length, 'residues');\n\n  // Careful about which array we are pointing to here.\n  log.info(sugar_sets.map(sug => sug.sequence));\n  return sugar_sets;\n};\nclass Tracer {\n  static trace(source, start, template, comparator) {\n    var own_constructor = source.constructor;\n    var TracedClass = class extends own_constructor {\n      static get Monosaccharide() {\n        return TracedMonosaccharide;\n      }\n    };\n    return trace_sugar(TracedClass, source, start, template, comparator);\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL1RyYWNpbmcuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZ2x5Y2FuLmpzL2pzL1RyYWNpbmcuanM/MDUzNCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBkZWJ1ZyBmcm9tICcuL0RlYnVnJztcblxuaW1wb3J0IE1vbm9zYWNjaGFyaWRlIGZyb20gJy4vTW9ub3NhY2NoYXJpZGUnO1xuXG5jb25zdCBtb2R1bGVfc3RyaW5nPSdnbHljYW5qczp0cmFjaW5nJztcblxuY29uc3QgbG9nID0gZGVidWcobW9kdWxlX3N0cmluZyk7XG5cbmxldCBub29wID0gKCkgPT4ge307XG5cbmNsYXNzIFRyYWNlZE1vbm9zYWNjaGFyaWRlIGV4dGVuZHMgTW9ub3NhY2NoYXJpZGUge1xuICBjb25zdHJ1Y3RvcihvcmlnaW5hbCkge1xuICAgIHN1cGVyKG9yaWdpbmFsLmlkZW50aWZpZXIpO1xuICAgIHRoaXMub3JpZ2luYWwgPSBvcmlnaW5hbDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBnZXQgYW5vbWVyKCkge1xuICAgIHJldHVybiB0aGlzLm9yaWdpbmFsLmFub21lcjtcbiAgfVxuICBnZXQgcGFyZW50X2xpbmthZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMub3JpZ2luYWwucGFyZW50X2xpbmthZ2U7XG4gIH1cbiAgZ2V0IGlkZW50aWZpZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMub3JpZ2luYWwuaWRlbnRpZmllcjtcbiAgfVxuICBzZXQgYW5vbWVyKGlnbm9yZSkge1xuICAgIG5vb3AoaWdub3JlKTtcbiAgfVxuICBzZXQgcGFyZW50X2xpbmthZ2UoaWdub3JlKSB7XG4gICAgbm9vcChpZ25vcmUpO1xuICB9XG4gIHNldCBpZGVudGlmaWVyKGlnbm9yZSkge1xuICAgIG5vb3AoaWdub3JlKTtcbiAgfVxuICBsaW5rYWdlT2Yobm9kZSkge1xuICAgIHJldHVybiB0aGlzLm9yaWdpbmFsLmxpbmthZ2VPZihub2RlLm9yaWdpbmFsKTtcbiAgfVxuICBjbG9uZSgpIHtcbiAgICBsZXQgY2xvbmVkID0gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5vcmlnaW5hbCk7XG4gICAgY2xvbmVkLm9yaWdpbmFsID0gdGhpcy5vcmlnaW5hbDtcbiAgICBjbG9uZWQuY29weVRhZ3NGcm9tKHRoaXMpO1xuICAgIHJldHVybiBjbG9uZWQ7XG4gIH1cbn1cblxubGV0IGluaXRpYWxpc2Vfc3VnYXIgPSBmdW5jdGlvbih0YXJnZXQsd2FudGVkKSB7XG4gIGxldCBtb25vX2NsYXNzID0gdGFyZ2V0LmNvbnN0cnVjdG9yLk1vbm9zYWNjaGFyaWRlO1xuICB0YXJnZXQucm9vdCA9IG5ldyBtb25vX2NsYXNzKHdhbnRlZCk7XG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG5sZXQgY2xvbmVfYW5kX2FkZF9tb25vc2FjY2hhcmlkZSA9IGZ1bmN0aW9uKHdyYXBwZWRfc3VnYXIscGFyZW50LGNoaWxkKSB7XG4gIGxldCBuZXdfc3VnYXIgPSB3cmFwcGVkX3N1Z2FyLmNsb25lKCk7XG4gIHBhcmVudCA9IG5ld19zdWdhci5jb21wb3NpdGlvbigpLmZpbHRlciggcmVzID0+IHJlcy5vcmlnaW5hbCA9PT0gcGFyZW50Lm9yaWdpbmFsIClbMF07XG4gIGxldCB3cmFwcGVkX2NoaWxkID0gbmV3IHdyYXBwZWRfc3VnYXIuY29uc3RydWN0b3IuTW9ub3NhY2NoYXJpZGUoY2hpbGQpO1xuICBwYXJlbnQuYWRkQ2hpbGQocGFyZW50Lm9yaWdpbmFsLmxpbmthZ2VPZihjaGlsZCksd3JhcHBlZF9jaGlsZCk7XG5cbiAgcmV0dXJuIHsgc3VnYXI6IG5ld19zdWdhciwgY2hpbGQ6IHdyYXBwZWRfY2hpbGR9O1xufTtcblxubGV0IGF0dGFjaF92aWFfY2xvbmluZyA9IChyZXN1bHRfc3VnYXIsYXR0YWNobWVudCxtYXBwZWRfbGlzdCx0ZW1wbGF0ZV9yZXNpZHVlLGNoaWxkKSA9PiB7XG4gIGxldCBjbG9uZV9yZXN1bHRzID0gY2xvbmVfYW5kX2FkZF9tb25vc2FjY2hhcmlkZShyZXN1bHRfc3VnYXIsYXR0YWNobWVudCxjaGlsZCk7XG4gIGNsb25lX3Jlc3VsdHMuY2hpbGQuY29weVRhZ3NGcm9tKHRlbXBsYXRlX3Jlc2lkdWUpO1xuICBtYXBwZWRfbGlzdC5wdXNoKGNoaWxkKTtcbiAgcmV0dXJuIGNsb25lX3Jlc3VsdHMuc3VnYXI7XG59O1xuXG5sZXQgcmVzaWR1ZXNfaW5fbWFwcGluZyA9IChzdWdhcixtYXBwZWRfbGlzdCkgPT4ge1xuICByZXR1cm4gc3VnYXIuY29tcG9zaXRpb24oKS5maWx0ZXIoIHJlc2lkdWUgPT4gbWFwcGVkX2xpc3QuaW5kZXhPZihyZXNpZHVlLm9yaWdpbmFsKSA+PSAwICk7XG59O1xuXG5sZXQgdHJhY2VfaW50b19jbGFzcyA9IGZ1bmN0aW9uKHN1Z2FyLFJlc3VsdENsYXNzKSB7XG4gIGxldCBtYXBwaW5nID0gbmV3IE1hcCgpO1xuICBsZXQgdHJhY2VkID0gbmV3IFJlc3VsdENsYXNzKCk7XG4gIHRyYWNlZC5yb290ID0gbmV3IFJlc3VsdENsYXNzLk1vbm9zYWNjaGFyaWRlKHN1Z2FyLnJvb3QpO1xuICBtYXBwaW5nLnNldCggc3VnYXIucm9vdCAsIHRyYWNlZC5yb290KTtcbiAgZm9yIChsZXQgcmVzaWR1ZSBvZiBzdWdhci5icmVhZHRoX2ZpcnN0X3RyYXZlcnNhbCgpKSB7XG4gICAgaWYgKCByZXNpZHVlID09PSBzdWdhci5yb290ICkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGxldCB3cmFwcGVkX2NoaWxkID0gbmV3IFJlc3VsdENsYXNzLk1vbm9zYWNjaGFyaWRlKHJlc2lkdWUpO1xuICAgIHdyYXBwZWRfY2hpbGQgPSBPYmplY3QuYXNzaWduKHdyYXBwZWRfY2hpbGQscmVzaWR1ZSk7XG4gICAgbWFwcGluZy5zZXQocmVzaWR1ZSx3cmFwcGVkX2NoaWxkKTtcbiAgICBtYXBwaW5nLmdldChyZXNpZHVlLnBhcmVudCkuYWRkQ2hpbGQocmVzaWR1ZS5wYXJlbnQubGlua2FnZU9mKHJlc2lkdWUpLHdyYXBwZWRfY2hpbGQpO1xuICB9XG4gIHJldHVybiB0cmFjZWQ7XG59O1xuXG5sZXQgdHJhY2Vfc3VnYXIgPSBmdW5jdGlvbihSZXN1bHRDbGFzcyxzZWFyY2gsc2VhcmNoX3Jvb3QsdGVtcGxhdGUsY29tcGFyYXRvcikge1xuICBsZXQgY3Vyc29yX21hcHBpbmcgPSBuZXcgV2Vha01hcCgpO1xuICBsZXQgc3VnYXJfc2V0cyA9IFtdO1xuICBsZXQgYXR0YWNobWVudF90b19zdWdhciA9IG5ldyBXZWFrTWFwKCk7XG5cbiAgbG9nLmluZm8oJ1RyYWNpbmcnLHRlbXBsYXRlLnNlcXVlbmNlLCdvbnRvJyxzZWFyY2guc2VxdWVuY2UsJ21vdmluZyBjdXJzb3Igb3ZlciB0ZW1wbGF0ZScpO1xuXG4gIGxldCBzdWNjZXNzZnVsX21hcHBpbmdzID0gWy4uLnRlbXBsYXRlLmJyZWFkdGhfZmlyc3RfdHJhdmVyc2FsKHRlbXBsYXRlLnJvb3QsIGN1cnNvciA9PiB7XG5cbiAgICBsb2cuaW5mbygnVGVtcGxhdGUgY3Vyc29yIGlzIHBvc2l0aW9uZWQgYXQnLGN1cnNvci5pZGVudGlmaWVyKTtcblxuICAgIGF0dGFjaG1lbnRfdG9fc3VnYXIgPSBuZXcgV2Vha01hcCgpO1xuXG4gICAgaWYgKCAhIGN1cnNvci5wYXJlbnQgKSB7XG4gICAgICBsb2cuaW5mbygnVGhlIGN1cnNvciBpcyBhdCB0aGUgcm9vdCAtIHRoZSBzZWFyY2ggc3VnYXIgaXMgYXQnLHNlYXJjaF9yb290LmlkZW50aWZpZXIpO1xuICAgICAgc3VnYXJfc2V0cy5wdXNoKGluaXRpYWxpc2Vfc3VnYXIobmV3IFJlc3VsdENsYXNzKCksc2VhcmNoX3Jvb3QpKTtcbiAgICAgIGN1cnNvcl9tYXBwaW5nLnNldChjdXJzb3IsWyBzdWdhcl9zZXRzWzBdLmNvbXBvc2l0aW9uKClbMF0ub3JpZ2luYWwgXSk7XG4gICAgICBzdWdhcl9zZXRzWzBdLmNvbXBvc2l0aW9uKClbMF0uY29weVRhZ3NGcm9tKGN1cnNvcik7XG4gICAgICBsb2cuaW5mbygnRG9uZSB3aXRoIHRoaXMgY3Vyc29yJyxjdXJzb3IuaWRlbnRpZmllcik7XG4gICAgICByZXR1cm4gc3VnYXJfc2V0cy5sZW5ndGggPiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJzb3JfbWFwcGluZy5zZXQoY3Vyc29yLCBbXSk7XG4gICAgfVxuICAgIGxvZy5pbmZvKCdSZXNpZHVlcyBpbiB0aGUgc2VhcmNoIHRyZWUgdGhhdCBjb3JyZXNwb25kIHRvIHRoZSBjdXJzb3IgcGFyZW50IGFyZScsY3Vyc29yX21hcHBpbmcuZ2V0KGN1cnNvci5wYXJlbnQpLm1hcCggcmVzID0+IHJlcy5pZGVudGlmaWVyKSk7XG5cbiAgICBsZXQgd2FudGVkX2xpbmthZ2UgPSBjdXJzb3IucGFyZW50LmxpbmthZ2VPZihjdXJzb3IpO1xuXG4gICAgLy8gSWYgb25lIG9mIHRoZSByZXN1bHQgV3JhcHBlZFN1Z2FycyBkb2Vzbid0IGNvbnRhaW4gdGhlIHBsYWNlIHdoZXJlIHdlIHdpbGxcbiAgICAvLyBhdHRhY2ggbW9ub3NhY2NoYXJpZGVzIChpLmUuIGEgbW9ub3NhY2NoYXJpZGUgd3JhcHBpbmcgdGhlIHNlYXJjaCBzdWdhciBwYXJlbnRcbiAgICAvLyBjb3JyZXNwb25kaW5nIHRvIHRoZSBwYXJlbnQgb2YgdGhlIGN1cnNvciksIHdlIGRvbid0IHdhbnQgdGhhdCBzdWdhclxuXG4gICAgc3VnYXJfc2V0cyA9IHN1Z2FyX3NldHMuZmlsdGVyKCBzdWcgPT4gcmVzaWR1ZXNfaW5fbWFwcGluZyhzdWcsY3Vyc29yX21hcHBpbmcuZ2V0KGN1cnNvci5wYXJlbnQpKS5sZW5ndGggPiAwKTtcblxuICAgIGxvZy5pbmZvKCdDdXJyZW50IHNldHMgb2Ygc3VnYXJzIGFyZScsc3VnYXJfc2V0cyk7XG5cbiAgICAvLyBUaGUgYXR0YWNobWVudCBwb2ludHMgb24gdGhlIHJlc3VsdHMgYXJlIGZvdW5kIGJ5IGZpbmRpbmcgdGhlIG1vbm9zYWNjaGFyaWRlcyBjb3JyZXNwb25kaW5nIHRvIGN1cnNvciBwYXJlbnRcbiAgICBsZXQgYXR0YWNobWVudF9wb2ludHMgPSBzdWdhcl9zZXRzLm1hcCggc3VnYXIgPT4ge1xuICAgICAgbGV0IGF0dGFjaF9wb2ludCA9IHJlc2lkdWVzX2luX21hcHBpbmcoc3VnYXIsY3Vyc29yX21hcHBpbmcuZ2V0KGN1cnNvci5wYXJlbnQpKTtcbiAgICAgIGlmIChhdHRhY2hfcG9pbnQubGVuZ3RoID4gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyYWNpbmcgbWFwcGVkIGEgdGVtcGxhdGUgcmVzaWR1ZSB0byBtb3JlIHRoYW4gb25lIHJlc2lkdWUgaW4gdGhlIHNlYXJjaCBzdWdhcicpO1xuICAgICAgfVxuICAgICAgYXR0YWNobWVudF90b19zdWdhci5zZXQoYXR0YWNoX3BvaW50WzBdLHN1Z2FyKTtcbiAgICAgIHJldHVybiBhdHRhY2hfcG9pbnRbMF07XG4gICAgfSk7XG5cbiAgICBzdWdhcl9zZXRzID0gW107XG5cbiAgICBsb2cuaW5mbygnV2UgbmVlZCB0byBmaW5kIGNoaWxkcmVuIG9mIHRoZSBhdHRhY2htZW50IHBvaW50cyBsaW5rZWQgdmlhIGEnLHdhbnRlZF9saW5rYWdlLCdsaW5rYWdlJyk7XG5cbiAgICBmb3IgKGxldCBhdHRhY2htZW50IG9mIGF0dGFjaG1lbnRfcG9pbnRzKSB7XG4gICAgICAvLyBHZXQgYWxsIHRoZSBjaGlsZHJlbiB0aGF0IGNvdWxkIHBvc3NpYmx5IG1hdGNoIHRoaXMgbGlua2FnZSB3ZSBhcmUgYWZ0ZXJcbiAgICAgIGxldCBzZWFyY2hfcGFyZW50ID0gYXR0YWNobWVudC5vcmlnaW5hbDtcblxuICAgICAgbG9nLmluZm8oJ0F0dGFjaG1lbnQgcG9pbnQgaXMgYSB3cmFwcGVkIHJlc2lkdWUgd2l0aCBpZGVudGlmaWVyJyxzZWFyY2hfcGFyZW50LmlkZW50aWZpZXIpO1xuXG4gICAgICBsZXQgc2VhcmNoX2tpZHMgPSB3YW50ZWRfbGlua2FnZSA9PSAwID8gc2VhcmNoX3BhcmVudC5jaGlsZHJlbiA6IHNlYXJjaF9wYXJlbnQuY2hpbGRfbGlua2FnZXMuZ2V0KHdhbnRlZF9saW5rYWdlKTtcblxuICAgICAgbG9nLmluZm8oJ1dlIHdhbnQgdG8gZmluZCBhIG1hdGNoIGZvciB0aGUgY3Vyc29yIGZyb20gd2l0aGluJywoc2VhcmNoX2tpZHMgfHwgW10pLmxlbmd0aCwncG9zc2libGUgY2hpbGQgcmVzaWR1ZXMnKTtcblxuICAgICAgLy8gQ2hlY2sgdG8gZmluZCBhbGwgdGhlIHdyYXBwZWQgY2hpbGRyZW4gb2YgdGhlIGF0dGFjaG1lbnQgcG9pbnQgbWF0Y2hpbmcgYWdhaW5zdCB0aGUgY3Vyc29yXG4gICAgICBsZXQgdmFsaWRfc2VhcmNoX2tpZHMgPSBbXS5jb25jYXQoc2VhcmNoX2tpZHMpLmZpbHRlciggY29tcGFyYXRvci5iaW5kKG51bGwsY3Vyc29yKSApLmZpbHRlciggcmVzID0+IHJlcyApO1xuXG4gICAgICBpZiAodmFsaWRfc2VhcmNoX2tpZHMubGVuZ3RoID49IDEpIHtcbiAgICAgICAgbGV0IGF0dGFjaF9jaGlsZF9yZXNpZHVlID0gYXR0YWNoX3ZpYV9jbG9uaW5nLmJpbmQobnVsbCxhdHRhY2htZW50X3RvX3N1Z2FyLmdldChhdHRhY2htZW50KSxhdHRhY2htZW50LGN1cnNvcl9tYXBwaW5nLmdldChjdXJzb3IpLGN1cnNvcik7XG4gICAgICAgIGxvZy5pbmZvKCdWYWxpZCBjaGlsZHJlbiBpbiBzZWFyY2ggc3VnYXIgYXJlJyx2YWxpZF9zZWFyY2hfa2lkcy5tYXAoIHJlcyA9PiByZXMuaWRlbnRpZmllciApKTtcbiAgICAgICAgbGV0IHNldHNfb2ZfbmV3X3N1Z2FycyA9IHZhbGlkX3NlYXJjaF9raWRzLm1hcCggYXR0YWNoX2NoaWxkX3Jlc2lkdWUgKTtcbiAgICAgICAgc3VnYXJfc2V0cyA9IHN1Z2FyX3NldHMuY29uY2F0KHNldHNfb2ZfbmV3X3N1Z2Fycyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdWdhcl9zZXRzLmxlbmd0aCA+IDA7XG4gIH0pXTtcblxuICBsb2cuaW5mbygnV2UgbWFwcGVkJyxzdWNjZXNzZnVsX21hcHBpbmdzLmxlbmd0aCwnb3V0IG9mJyx0ZW1wbGF0ZS5jb21wb3NpdGlvbigpLmxlbmd0aCwncmVzaWR1ZXMnKTtcblxuICAvLyBDYXJlZnVsIGFib3V0IHdoaWNoIGFycmF5IHdlIGFyZSBwb2ludGluZyB0byBoZXJlLlxuICBsb2cuaW5mbyhzdWdhcl9zZXRzLm1hcCggc3VnID0+IHN1Zy5zZXF1ZW5jZSApKTtcblxuICByZXR1cm4gc3VnYXJfc2V0cztcbn07XG5cbmNsYXNzIFRyYWNlciB7XG4gIHN0YXRpYyB0cmFjZShzb3VyY2Usc3RhcnQsdGVtcGxhdGUsY29tcGFyYXRvcikge1xuXG4gICAgbGV0IG93bl9jb25zdHJ1Y3RvciA9IHNvdXJjZS5jb25zdHJ1Y3RvcjtcblxuICAgIGxldCBUcmFjZWRDbGFzcyA9IGNsYXNzIGV4dGVuZHMgb3duX2NvbnN0cnVjdG9yIHtcbiAgICAgIHN0YXRpYyBnZXQgTW9ub3NhY2NoYXJpZGUoKSB7XG4gICAgICAgIHJldHVybiBUcmFjZWRNb25vc2FjY2hhcmlkZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHRyYWNlX3N1Z2FyKFRyYWNlZENsYXNzLHNvdXJjZSxzdGFydCx0ZW1wbGF0ZSxjb21wYXJhdG9yKTtcbiAgfVxufVxuXG5leHBvcnQgeyBUcmFjZXIsIHRyYWNlX2ludG9fY2xhc3MsIFRyYWNlZE1vbm9zYWNjaGFyaWRlIH07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../glycan.js/js/Tracing.js\n");

/***/ }),

/***/ "../glycan.js/js/TupleCache.js":
/*!*************************************!*\
  !*** ../glycan.js/js/TupleCache.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar uuid_path = Symbol('uuid');\nvar uuid_map = new WeakMap();\nfunction uuidv4() {\n  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c => (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16));\n}\nclass TupleCache {\n  constructor() {\n    this._cache = new Map();\n  }\n  has(tuple) {\n    return this._cache.get(tuple.map(obj => uuid_map.get(obj)).join('#')) != null;\n  }\n  get(tuple) {\n    return this._cache.get(tuple.map(obj => uuid_map.get(obj)).join('#'));\n  }\n  set(tuple, value) {\n    var uuids = tuple.map(obj => {\n      var curr_uuid = uuid_map.get(obj);\n      if (!curr_uuid) {\n        curr_uuid = uuidv4();\n        uuid_map.set(obj, curr_uuid);\n      }\n      return curr_uuid;\n    });\n    this._cache.set(uuids.join('#'), value);\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (TupleCache);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL1R1cGxlQ2FjaGUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZ2x5Y2FuLmpzL2pzL1R1cGxlQ2FjaGUuanM/NmJjYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmNvbnN0IHV1aWRfcGF0aCA9IFN5bWJvbCgndXVpZCcpO1xuY29uc3QgdXVpZF9tYXAgPSBuZXcgV2Vha01hcCgpO1xuXG5mdW5jdGlvbiB1dWlkdjQoKSB7XG4gIHJldHVybiAoWzFlN10rLTFlMystNGUzKy04ZTMrLTFlMTEpLnJlcGxhY2UoL1swMThdL2csIGMgPT5cbiAgICAoYyBeIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdICYgMTUgPj4gYyAvIDQpLnRvU3RyaW5nKDE2KVxuICApO1xufVxuXG5jbGFzcyBUdXBsZUNhY2hlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fY2FjaGUgPSBuZXcgTWFwKCk7XG4gIH1cbiAgaGFzKHR1cGxlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlLmdldCh0dXBsZS5tYXAoIG9iaiA9PiB1dWlkX21hcC5nZXQob2JqKSkuam9pbignIycpKSAhPSBudWxsO1xuICB9XG4gIGdldCh0dXBsZSkge1xuICAgIHJldHVybiB0aGlzLl9jYWNoZS5nZXQodHVwbGUubWFwKCBvYmogPT4gdXVpZF9tYXAuZ2V0KG9iaikgKS5qb2luKCcjJykpO1xuICB9XG4gIHNldCh0dXBsZSx2YWx1ZSkge1xuICAgIGNvbnN0IHV1aWRzID0gdHVwbGUubWFwKCBvYmogPT4ge1xuICAgICAgbGV0IGN1cnJfdXVpZCA9IHV1aWRfbWFwLmdldChvYmopO1xuICAgICAgaWYgKCAhIGN1cnJfdXVpZCApIHtcbiAgICAgICAgY3Vycl91dWlkID0gdXVpZHY0KCk7XG4gICAgICAgIHV1aWRfbWFwLnNldChvYmosY3Vycl91dWlkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdXJyX3V1aWQ7XG4gICAgfSk7XG4gICAgdGhpcy5fY2FjaGUuc2V0KHV1aWRzLmpvaW4oJyMnKSx2YWx1ZSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVHVwbGVDYWNoZSJdLCJtYXBwaW5ncyI6IkFBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../glycan.js/js/TupleCache.js\n");

/***/ }),

/***/ "../glycan.js/js/main.js":
/*!*******************************!*\
  !*** ../glycan.js/js/main.js ***!
  \*******************************/
/*! exports provided: Sugar, Monosaccharide, Reaction, SEQUENCE_CACHEKEY, ReactionSet, ReactionGroup, comparator, Repeat, CondensedIupac, CondensedLayout, SugarAwareLayout, LinkageLayout, FishEyeLayout, SugarAwareLayoutFishEye, LinkageLayoutFishEye, SVGRenderer, CanvasRenderer, SVGCanvas, Fragmentor, Mass */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FishEyeLayout\", function() { return FishEyeLayout; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SugarAwareLayoutFishEye\", function() { return SugarAwareLayoutFishEye; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LinkageLayoutFishEye\", function() { return LinkageLayoutFishEye; });\n/* harmony import */ var _Sugar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Sugar */ \"../glycan.js/js/Sugar.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Sugar\", function() { return _Sugar__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _Monosaccharide__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Monosaccharide */ \"../glycan.js/js/Monosaccharide.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Monosaccharide\", function() { return _Monosaccharide__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _Reaction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Reaction */ \"../glycan.js/js/Reaction.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Reaction\", function() { return _Reaction__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"SEQUENCE_CACHEKEY\", function() { return _Reaction__WEBPACK_IMPORTED_MODULE_2__[\"SEQUENCE_CACHEKEY\"]; });\n\n/* harmony import */ var _ReactionSet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ReactionSet */ \"../glycan.js/js/ReactionSet.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ReactionSet\", function() { return _ReactionSet__WEBPACK_IMPORTED_MODULE_3__[\"ReactionSet\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ReactionGroup\", function() { return _ReactionSet__WEBPACK_IMPORTED_MODULE_3__[\"ReactionGroup\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"comparator\", function() { return _ReactionSet__WEBPACK_IMPORTED_MODULE_3__[\"comparator\"]; });\n\n/* harmony import */ var _Repeat__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Repeat */ \"../glycan.js/js/Repeat.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Repeat\", function() { return _Repeat__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n/* harmony import */ var _CondensedIupac__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./CondensedIupac */ \"../glycan.js/js/CondensedIupac.js\");\n/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, \"CondensedIupac\", function() { return _CondensedIupac__WEBPACK_IMPORTED_MODULE_5__; });\n/* harmony import */ var _CondensedLayout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./CondensedLayout */ \"../glycan.js/js/CondensedLayout.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CondensedLayout\", function() { return _CondensedLayout__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; });\n\n/* harmony import */ var _SugarAwareLayout__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SugarAwareLayout */ \"../glycan.js/js/SugarAwareLayout.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"SugarAwareLayout\", function() { return _SugarAwareLayout__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; });\n\n/* harmony import */ var _LinkageLayout__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./LinkageLayout */ \"../glycan.js/js/LinkageLayout.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"LinkageLayout\", function() { return _LinkageLayout__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; });\n\n/* harmony import */ var _FishEyeLayout__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./FishEyeLayout */ \"../glycan.js/js/FishEyeLayout.js\");\n/* harmony import */ var _SVGRenderer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SVGRenderer */ \"../glycan.js/js/SVGRenderer.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"SVGRenderer\", function() { return _SVGRenderer__WEBPACK_IMPORTED_MODULE_10__[\"default\"]; });\n\n/* harmony import */ var _CanvasRenderer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./CanvasRenderer */ \"../glycan.js/js/CanvasRenderer.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CanvasRenderer\", function() { return _CanvasRenderer__WEBPACK_IMPORTED_MODULE_11__[\"default\"]; });\n\n/* harmony import */ var _SVGCanvas__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./SVGCanvas */ \"../glycan.js/js/SVGCanvas.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"SVGCanvas\", function() { return _SVGCanvas__WEBPACK_IMPORTED_MODULE_12__[\"default\"]; });\n\n/* harmony import */ var _Fragmentor__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Fragmentor */ \"../glycan.js/js/Fragmentor.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Fragmentor\", function() { return _Fragmentor__WEBPACK_IMPORTED_MODULE_13__[\"default\"]; });\n\n/* harmony import */ var _Mass__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Mass */ \"../glycan.js/js/Mass.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Mass\", function() { return _Mass__WEBPACK_IMPORTED_MODULE_14__[\"Mass\"]; });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar FishEyeLayout = _FishEyeLayout__WEBPACK_IMPORTED_MODULE_9__[\"default\"];\nvar SugarAwareLayoutFishEye = _FishEyeLayout__WEBPACK_IMPORTED_MODULE_9__[\"MakeFishEye\"](_SugarAwareLayout__WEBPACK_IMPORTED_MODULE_7__[\"default\"]);\nvar LinkageLayoutFishEye = _FishEyeLayout__WEBPACK_IMPORTED_MODULE_9__[\"MakeFishEye\"](_LinkageLayout__WEBPACK_IMPORTED_MODULE_8__[\"default\"]);\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL21haW4uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZ2x5Y2FuLmpzL2pzL21haW4uanM/OTk2YyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQge2RlZmF1bHQgYXMgU3VnYXJ9IGZyb20gJy4vU3VnYXInO1xuZXhwb3J0IHtkZWZhdWx0IGFzIE1vbm9zYWNjaGFyaWRlfSBmcm9tICcuL01vbm9zYWNjaGFyaWRlJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBSZWFjdGlvbn0gZnJvbSAnLi9SZWFjdGlvbic7XG5leHBvcnQgeyBTRVFVRU5DRV9DQUNIRUtFWSBhcyBTRVFVRU5DRV9DQUNIRUtFWSB9IGZyb20gJy4vUmVhY3Rpb24nO1xuXG5leHBvcnQgKiBmcm9tICcuL1JlYWN0aW9uU2V0JztcblxuZXhwb3J0IHtkZWZhdWx0IGFzIFJlcGVhdH0gZnJvbSAnLi9SZXBlYXQnO1xuXG5pbXBvcnQgKiBhcyBDb25kZW5zZWRJdXBhYyBmcm9tICcuL0NvbmRlbnNlZEl1cGFjJztcbmV4cG9ydCB7IENvbmRlbnNlZEl1cGFjIH07XG5cbmV4cG9ydCB7ZGVmYXVsdCBhcyBDb25kZW5zZWRMYXlvdXR9IGZyb20gJy4vQ29uZGVuc2VkTGF5b3V0JztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBTdWdhckF3YXJlTGF5b3V0fSBmcm9tICcuL1N1Z2FyQXdhcmVMYXlvdXQnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIExpbmthZ2VMYXlvdXR9IGZyb20gJy4vTGlua2FnZUxheW91dCc7XG5cbmltcG9ydCBMaW5rYWdlTGF5b3V0IGZyb20gJy4vTGlua2FnZUxheW91dCc7XG5pbXBvcnQgU3VnYXJBd2FyZUxheW91dCBmcm9tICcuL1N1Z2FyQXdhcmVMYXlvdXQnO1xuXG5pbXBvcnQgKiBhcyBGaXNoRXllIGZyb20gJy4vRmlzaEV5ZUxheW91dCc7XG5cbmxldCBGaXNoRXllTGF5b3V0ID0gRmlzaEV5ZS5kZWZhdWx0O1xubGV0IFN1Z2FyQXdhcmVMYXlvdXRGaXNoRXllID0gRmlzaEV5ZS5NYWtlRmlzaEV5ZShTdWdhckF3YXJlTGF5b3V0KTtcbmxldCBMaW5rYWdlTGF5b3V0RmlzaEV5ZSA9IEZpc2hFeWUuTWFrZUZpc2hFeWUoTGlua2FnZUxheW91dCk7XG5cbmV4cG9ydCB7IEZpc2hFeWVMYXlvdXQgfTtcbmV4cG9ydCB7IFN1Z2FyQXdhcmVMYXlvdXRGaXNoRXllIH07XG5leHBvcnQgeyBMaW5rYWdlTGF5b3V0RmlzaEV5ZSB9O1xuXG5leHBvcnQge2RlZmF1bHQgYXMgU1ZHUmVuZGVyZXJ9IGZyb20gJy4vU1ZHUmVuZGVyZXInO1xuZXhwb3J0IHtkZWZhdWx0IGFzIENhbnZhc1JlbmRlcmVyfSBmcm9tICcuL0NhbnZhc1JlbmRlcmVyJztcblxuZXhwb3J0IHtkZWZhdWx0IGFzIFNWR0NhbnZhc30gZnJvbSAnLi9TVkdDYW52YXMnO1xuXG5leHBvcnQge2RlZmF1bHQgYXMgRnJhZ21lbnRvciB9IGZyb20gJy4vRnJhZ21lbnRvcic7XG5cbmV4cG9ydCB7TWFzcyBhcyBNYXNzIH0gZnJvbSAnLi9NYXNzJzsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../glycan.js/js/main.js\n");

/***/ }),

/***/ "../glycan.js/js/residue_chords.js":
/*!*****************************************!*\
  !*** ../glycan.js/js/residue_chords.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar get_first_sibling = node => {\n  var curr = node;\n  while (curr.parent) {\n    var curr_siblings = curr.parent.children;\n    var next_sibling = curr_siblings[curr_siblings.indexOf(curr) + 1];\n    if (next_sibling) {\n      return next_sibling;\n    } else {\n      curr = curr.parent;\n    }\n  }\n  return null;\n};\nvar get_residue_pairs = function* get_residue_pairs(sugar) {\n  var node_order = [...sugar.depth_first_traversal()];\n  var curridx = 0;\n  while (curridx < node_order.length) {\n    var curr = node_order[curridx];\n    var next_sibling = get_first_sibling(curr);\n    if (!next_sibling) {\n      next_sibling = curr;\n    }\n    var endidx = node_order.indexOf(next_sibling);\n    var reducing_end_pairs = node_order.slice(curridx + 1, endidx);\n    var nonreducing_pairs = node_order.slice(endidx === curridx ? endidx + 1 : endidx);\n    if (endidx === curridx) {\n      for (var res of nonreducing_pairs) {\n        yield {\n          root: curr,\n          chord: [curr, res]\n        };\n      }\n    } else {\n      for (var _res of nonreducing_pairs) {\n        yield {\n          root: sugar.root,\n          chord: [curr, _res]\n        };\n      }\n      for (var _res2 of reducing_end_pairs) {\n        yield {\n          root: curr,\n          chord: [curr, _res2]\n        };\n      }\n    }\n    curridx += 1;\n  }\n};\nvar expand_residue_chords_iterative = function* expand_residue_chords_iterative(sugar, n) {\n  if (n < 2) {\n    throw new Error('Cannot expand chord set when n < 2');\n  }\n  var chord_set = [...get_residue_pairs(sugar, 2)];\n  var nextnode_pairs = chord_set.filter(chord => chord.root === sugar.root && chord.chord[0] !== sugar.root);\n  var nextnodes = {};\n  for (var pair of nextnode_pairs) {\n    nextnodes[pair.chord[0]] = nextnodes[pair.chord[0]] || [];\n    nextnodes[pair.chord[0]].push(pair.chord[1]);\n  }\n  var added = 0;\n  for (var chord of chord_set) {\n    yield chord;\n  }\n  while (added < n - 2 && chord_set.length > 0) {\n    var new_chords = [];\n    for (var _chord of chord_set) {\n      for (var next_node of nextnodes[_chord.chord[_chord.chord.length - 1]] || []) {\n        if (sugar.composition(_chord.root).indexOf(next_node) >= 0) {\n          var new_chord = {\n            root: _chord.root\n          };\n          new_chord.chord = _chord.chord.concat(next_node);\n          yield new_chord;\n          new_chords.push(new_chord);\n        }\n      }\n    }\n    chord_set = new_chords;\n    added += 1;\n  }\n};\nvar get_residue_chords = function* get_residue_chords(sugar) {\n  var n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  if (n >= 1) {\n    yield* sugar.depth_first_traversal(sugar.root, res => {\n      return {\n        root: sugar.root,\n        chord: [res]\n      };\n    });\n    yield* sugar.depth_first_traversal(sugar.root, res => {\n      return res === sugar.root ? null : {\n        root: res,\n        chord: [res]\n      };\n    });\n  }\n  if (n >= 2) {\n    yield* expand_residue_chords_iterative(sugar, n);\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (get_residue_chords);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2pzL3Jlc2lkdWVfY2hvcmRzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL2dseWNhbi5qcy9qcy9yZXNpZHVlX2Nob3Jkcy5qcz8xNmMwIl0sInNvdXJjZXNDb250ZW50IjpbIlxubGV0IGdldF9maXJzdF9zaWJsaW5nID0gKG5vZGUpID0+IHtcbiAgbGV0IGN1cnIgPSBub2RlO1xuICB3aGlsZSAoY3Vyci5wYXJlbnQpIHtcbiAgICBsZXQgY3Vycl9zaWJsaW5ncyA9IGN1cnIucGFyZW50LmNoaWxkcmVuO1xuICAgIGxldCBuZXh0X3NpYmxpbmcgPSBjdXJyX3NpYmxpbmdzWyBjdXJyX3NpYmxpbmdzLmluZGV4T2YoY3VycikgKyAxIF07XG4gICAgaWYgKG5leHRfc2libGluZykge1xuICAgICAgcmV0dXJuIG5leHRfc2libGluZztcbiAgICB9IGVsc2Uge1xuICAgICAgY3VyciA9IGN1cnIucGFyZW50O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbmNvbnN0IGdldF9yZXNpZHVlX3BhaXJzID0gZnVuY3Rpb24qKHN1Z2FyKSB7XG4gIGNvbnN0IG5vZGVfb3JkZXIgPSBbLi4uc3VnYXIuZGVwdGhfZmlyc3RfdHJhdmVyc2FsKCldO1xuICBsZXQgY3VycmlkeCA9IDA7XG4gIHdoaWxlIChjdXJyaWR4IDwgbm9kZV9vcmRlci5sZW5ndGgpIHtcbiAgICBsZXQgY3VyciA9IG5vZGVfb3JkZXJbY3VycmlkeF07XG4gICAgbGV0IG5leHRfc2libGluZyA9IGdldF9maXJzdF9zaWJsaW5nKGN1cnIpO1xuICAgIGlmICggISBuZXh0X3NpYmxpbmcgKSB7XG4gICAgICBuZXh0X3NpYmxpbmcgPSBjdXJyO1xuICAgIH1cbiAgICBsZXQgZW5kaWR4ID0gbm9kZV9vcmRlci5pbmRleE9mKG5leHRfc2libGluZyk7XG4gICAgbGV0IHJlZHVjaW5nX2VuZF9wYWlycyA9IG5vZGVfb3JkZXIuc2xpY2UoY3VycmlkeCsxLGVuZGlkeCk7XG4gICAgbGV0IG5vbnJlZHVjaW5nX3BhaXJzID0gbm9kZV9vcmRlci5zbGljZShlbmRpZHggPT09IGN1cnJpZHggPyAoZW5kaWR4ICsgMSkgOiBlbmRpZHgpO1xuICAgIGlmIChlbmRpZHggPT09IGN1cnJpZHgpIHtcbiAgICAgIGZvciAobGV0IHJlcyBvZiBub25yZWR1Y2luZ19wYWlycykge1xuICAgICAgICB5aWVsZCB7IHJvb3Q6IGN1cnIsIGNob3JkOiBbIGN1cnIsIHJlcyBdIH07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IHJlcyBvZiBub25yZWR1Y2luZ19wYWlycykge1xuICAgICAgICB5aWVsZCB7IHJvb3Q6IHN1Z2FyLnJvb3QsIGNob3JkOiBbIGN1cnIsIHJlcyBdIH07XG4gICAgICB9XG4gICAgICBmb3IgKGxldCByZXMgb2YgcmVkdWNpbmdfZW5kX3BhaXJzKSB7XG4gICAgICAgIHlpZWxkIHsgcm9vdDogY3VyciwgY2hvcmQ6IFsgY3VyciwgcmVzIF0gfTtcbiAgICAgIH1cbiAgICB9XG4gICAgY3VycmlkeCArPSAxO1xuICB9XG59O1xuXG5sZXQgZXhwYW5kX3Jlc2lkdWVfY2hvcmRzX2l0ZXJhdGl2ZSA9IGZ1bmN0aW9uKihzdWdhcixuKSB7XG4gIGlmIChuIDwgMikge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGV4cGFuZCBjaG9yZCBzZXQgd2hlbiBuIDwgMicpO1xuICB9XG4gIGxldCBjaG9yZF9zZXQgPSBbLi4uZ2V0X3Jlc2lkdWVfcGFpcnMoc3VnYXIsMildO1xuICBsZXQgbmV4dG5vZGVfcGFpcnMgPSBjaG9yZF9zZXQuZmlsdGVyKCBjaG9yZCA9PiBjaG9yZC5yb290ID09PSBzdWdhci5yb290ICYmIGNob3JkLmNob3JkWzBdICE9PSBzdWdhci5yb290ICk7XG4gIGxldCBuZXh0bm9kZXMgPSB7fTtcblxuICBmb3IgKGxldCBwYWlyIG9mIG5leHRub2RlX3BhaXJzKSB7XG4gICAgbmV4dG5vZGVzWyBwYWlyLmNob3JkWzBdIF0gPSBuZXh0bm9kZXNbIHBhaXIuY2hvcmRbMF0gXSB8fCBbXTtcbiAgICBuZXh0bm9kZXNbIHBhaXIuY2hvcmRbMF0gXS5wdXNoKHBhaXIuY2hvcmRbMV0pO1xuICB9XG5cbiAgbGV0IGFkZGVkID0gMDtcblxuICBmb3IgKGxldCBjaG9yZCBvZiBjaG9yZF9zZXQpIHtcbiAgICB5aWVsZCBjaG9yZDtcbiAgfVxuXG4gIHdoaWxlIChhZGRlZCA8IChuIC0gMikgJiYgY2hvcmRfc2V0Lmxlbmd0aCA+IDApIHtcbiAgICBsZXQgbmV3X2Nob3JkcyA9IFtdO1xuICAgIGZvciAobGV0IGNob3JkIG9mIGNob3JkX3NldCkge1xuICAgICAgZm9yIChsZXQgbmV4dF9ub2RlIG9mIChuZXh0bm9kZXNbIGNob3JkLmNob3JkW2Nob3JkLmNob3JkLmxlbmd0aCAtIDFdIF0gfHwgW10pICkge1xuICAgICAgICBpZiAoc3VnYXIuY29tcG9zaXRpb24oY2hvcmQucm9vdCkuaW5kZXhPZihuZXh0X25vZGUpID49IDApIHtcbiAgICAgICAgICBsZXQgbmV3X2Nob3JkID0geyByb290OiBjaG9yZC5yb290IH07XG4gICAgICAgICAgbmV3X2Nob3JkLmNob3JkID0gY2hvcmQuY2hvcmQuY29uY2F0KCBuZXh0X25vZGUgKTtcbiAgICAgICAgICB5aWVsZCBuZXdfY2hvcmQ7XG4gICAgICAgICAgbmV3X2Nob3Jkcy5wdXNoKG5ld19jaG9yZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjaG9yZF9zZXQgPSBuZXdfY2hvcmRzO1xuICAgIGFkZGVkICs9IDE7XG4gIH1cbn07XG5cbmxldCBnZXRfcmVzaWR1ZV9jaG9yZHMgPSBmdW5jdGlvbiooc3VnYXIsbj0yKSB7XG4gIGlmIChuID49IDEpIHtcbiAgICB5aWVsZCAqIHN1Z2FyLmRlcHRoX2ZpcnN0X3RyYXZlcnNhbChzdWdhci5yb290LCByZXMgPT4geyByZXR1cm4geyByb290OiBzdWdhci5yb290LCBjaG9yZDogWyByZXMgXSB9OyB9ICk7XG4gICAgeWllbGQgKiBzdWdhci5kZXB0aF9maXJzdF90cmF2ZXJzYWwoc3VnYXIucm9vdCwgcmVzID0+IHsgcmV0dXJuIHJlcyA9PT0gc3VnYXIucm9vdCA/IG51bGwgOiB7IHJvb3Q6IHJlcywgY2hvcmQ6IFsgcmVzIF0gfTsgfSApO1xuICB9XG4gIGlmIChuID49IDIpIHtcbiAgICB5aWVsZCAqIGV4cGFuZF9yZXNpZHVlX2Nob3Jkc19pdGVyYXRpdmUoc3VnYXIsbik7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGdldF9yZXNpZHVlX2Nob3JkcztcbiJdLCJtYXBwaW5ncyI6IkFBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../glycan.js/js/residue_chords.js\n");

/***/ }),

/***/ "../glycan.js/lib/MixedTupleMap.js":
/*!*****************************************!*\
  !*** ../glycan.js/lib/MixedTupleMap.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// generate a random hash delimiter to avoid malicious hash collisions\nfunction MixedTupleMap() {\n  this.clear();\n}\nMixedTupleMap.prototype = {\n  toString: function toString() {\n    return '[object MixedTupleMap]';\n  },\n  // The difference between MixedTupleMap and WeakTupleMap is that this one has\n  // a hash method that sorts key parts by putting non-primitive parts first.\n  // This enables optimal garbage collection of values in the map.\n  _hash: function _hash(tuple) {\n    // Speed up hash generation for the folowing pattern:\n    // if ( !cache.has(t) ) { cache.set( t, slowFn(t) ); }\n    if (tuple === this._lastTuple) {\n      return this._lastHash;\n    }\n    var l = tuple.length;\n    var prim = [];\n    var primOrder = [];\n    var nonPrimOrder = [];\n    for (var i = 0; i < l; i++) {\n      var arg = tuple[i];\n      var argType = typeof arg;\n      if (argType !== null && (argType === 'object' || argType === 'function')) {\n        nonPrimOrder.push(i);\n      } else {\n        prim.push(argType === 'string' ? '\"' + arg + '\"' : '' + arg);\n        primOrder.push(i);\n      }\n    }\n    if (nonPrimOrder.length === 0) {\n      throw new Error('Tuple must have at least one non-primitive part');\n    }\n    prim.push('[' + nonPrimOrder.concat(primOrder).join() + ']');\n    this._lastTuple = tuple;\n    this._lastHash = {\n      nonPrimOrder,\n      // concatenate serialized arguments using a complex separator\n      // (to avoid key collisions)\n      primHash: prim.join('/<[MI_SEP]>/')\n    };\n    return this._lastHash;\n  },\n  has: function has(tuple) {\n    var curr = this._cache;\n    var hash = this._hash(tuple);\n    var l = hash.nonPrimOrder.length;\n    for (var i = 0; i < l; i++) {\n      var arg = tuple[hash.nonPrimOrder[i]];\n      if (curr.has && curr.has(arg)) {\n        curr = curr.get(arg);\n      } else {\n        return false;\n      }\n    }\n    return (curr.has || false) && curr.has(hash.primHash);\n  },\n  set: function set(tuple, value) {\n    var curr = this._cache;\n    var hash = this._hash(tuple);\n    var l = hash.nonPrimOrder.length;\n    var mustCreate = false;\n    for (var i = 0; i < l; i++) {\n      var arg = tuple[hash.nonPrimOrder[i]];\n      if (!mustCreate && curr.has(arg)) {\n        curr = curr.get(arg);\n      } else {\n        mustCreate = true;\n        curr.set(arg, curr = i < l - 1 ? new WeakMap() : new Map());\n      }\n    }\n    curr.set(hash.primHash, value);\n    return this;\n  },\n  get: function get(tuple) {\n    var curr = this._cache;\n    var hash = this._hash(tuple);\n    var l = hash.nonPrimOrder.length;\n    for (var i = 0; i < l; i++) {\n      var arg = tuple[hash.nonPrimOrder[i]];\n      var ret = curr.get && curr.get(arg);\n      if (ret === undefined) {\n        return ret;\n      } else {\n        curr = ret;\n      }\n    }\n    return curr.get && curr.get(hash.primHash);\n  },\n  clear: function clear() {\n    this._cache = new WeakMap();\n    delete this._lastTuple;\n    delete this._lastHash;\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (MixedTupleMap);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2xpYi9NaXhlZFR1cGxlTWFwLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL2dseWNhbi5qcy9saWIvTWl4ZWRUdXBsZU1hcC5qcz82ZjFlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGdlbmVyYXRlIGEgcmFuZG9tIGhhc2ggZGVsaW1pdGVyIHRvIGF2b2lkIG1hbGljaW91cyBoYXNoIGNvbGxpc2lvbnNcbmZ1bmN0aW9uIE1peGVkVHVwbGVNYXAoKSB7XG4gIHRoaXMuY2xlYXIoKTtcbn1cblxuTWl4ZWRUdXBsZU1hcC5wcm90b3R5cGUgPSB7XG4gIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJ1tvYmplY3QgTWl4ZWRUdXBsZU1hcF0nO1xuICB9LFxuICAvLyBUaGUgZGlmZmVyZW5jZSBiZXR3ZWVuIE1peGVkVHVwbGVNYXAgYW5kIFdlYWtUdXBsZU1hcCBpcyB0aGF0IHRoaXMgb25lIGhhc1xuICAvLyBhIGhhc2ggbWV0aG9kIHRoYXQgc29ydHMga2V5IHBhcnRzIGJ5IHB1dHRpbmcgbm9uLXByaW1pdGl2ZSBwYXJ0cyBmaXJzdC5cbiAgLy8gVGhpcyBlbmFibGVzIG9wdGltYWwgZ2FyYmFnZSBjb2xsZWN0aW9uIG9mIHZhbHVlcyBpbiB0aGUgbWFwLlxuICBfaGFzaDogZnVuY3Rpb24oIHR1cGxlICkge1xuICAgIC8vIFNwZWVkIHVwIGhhc2ggZ2VuZXJhdGlvbiBmb3IgdGhlIGZvbG93aW5nIHBhdHRlcm46XG4gICAgLy8gaWYgKCAhY2FjaGUuaGFzKHQpICkgeyBjYWNoZS5zZXQoIHQsIHNsb3dGbih0KSApOyB9XG4gICAgaWYgKCB0dXBsZSA9PT0gdGhpcy5fbGFzdFR1cGxlICkge1xuICAgICAgcmV0dXJuIHRoaXMuX2xhc3RIYXNoO1xuICAgIH1cblxuICAgIGxldCBsID0gdHVwbGUubGVuZ3RoO1xuICAgIGxldCBwcmltID0gW107XG4gICAgbGV0IHByaW1PcmRlciA9IFtdO1xuICAgIGxldCBub25QcmltT3JkZXIgPSBbXTtcblxuICAgIGZvciggbGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICBsZXQgYXJnID0gdHVwbGVbaV07XG4gICAgICBsZXQgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG4gICAgICBpZiAoIGFyZ1R5cGUgIT09IG51bGwgJiYgKCBhcmdUeXBlID09PSAnb2JqZWN0JyB8fCBhcmdUeXBlID09PSAnZnVuY3Rpb24nICkgKSB7XG4gICAgICAgIG5vblByaW1PcmRlci5wdXNoKCBpICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmltLnB1c2goIGFyZ1R5cGUgPT09ICdzdHJpbmcnID8gJ1wiJyArIGFyZyArICdcIicgOiAnJyArIGFyZyApO1xuICAgICAgICBwcmltT3JkZXIucHVzaCggaSApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICggbm9uUHJpbU9yZGVyLmxlbmd0aCA9PT0gMCApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVHVwbGUgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBub24tcHJpbWl0aXZlIHBhcnQnKTtcbiAgICB9XG5cbiAgICBwcmltLnB1c2goJ1snICsgbm9uUHJpbU9yZGVyLmNvbmNhdCggcHJpbU9yZGVyICkuam9pbigpICsgJ10nKTtcblxuICAgIHRoaXMuX2xhc3RUdXBsZSA9IHR1cGxlO1xuICAgIHRoaXMuX2xhc3RIYXNoID0ge1xuICAgICAgbm9uUHJpbU9yZGVyLFxuICAgICAgLy8gY29uY2F0ZW5hdGUgc2VyaWFsaXplZCBhcmd1bWVudHMgdXNpbmcgYSBjb21wbGV4IHNlcGFyYXRvclxuICAgICAgLy8gKHRvIGF2b2lkIGtleSBjb2xsaXNpb25zKVxuICAgICAgcHJpbUhhc2g6IHByaW0uam9pbignLzxbTUlfU0VQXT4vJylcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoaXMuX2xhc3RIYXNoO1xuICB9LFxuXG4gIGhhczogZnVuY3Rpb24oIHR1cGxlICkge1xuICAgIGxldCBjdXJyID0gdGhpcy5fY2FjaGU7XG4gICAgY29uc3QgaGFzaCA9IHRoaXMuX2hhc2goIHR1cGxlICk7XG4gICAgY29uc3QgbCA9IGhhc2gubm9uUHJpbU9yZGVyLmxlbmd0aDtcblxuICAgIGZvciggbGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjb25zdCBhcmcgPSB0dXBsZVtoYXNoLm5vblByaW1PcmRlcltpXV07XG4gICAgICBpZiAoIGN1cnIuaGFzICYmIGN1cnIuaGFzKGFyZykgKSB7XG4gICAgICAgIGN1cnIgPSBjdXJyLmdldChhcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAoIGN1cnIuaGFzIHx8IGZhbHNlICkgJiYgY3Vyci5oYXMoIGhhc2gucHJpbUhhc2ggKTtcbiAgfSxcblxuICBzZXQ6IGZ1bmN0aW9uKCB0dXBsZSwgdmFsdWUgKSB7XG4gICAgbGV0IGN1cnIgPSB0aGlzLl9jYWNoZTtcbiAgICBjb25zdCBoYXNoID0gdGhpcy5faGFzaCggdHVwbGUgKTtcbiAgICBjb25zdCBsID0gaGFzaC5ub25QcmltT3JkZXIubGVuZ3RoO1xuICAgIGxldCBtdXN0Q3JlYXRlID0gZmFsc2U7XG5cbiAgICBmb3IoIGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgY29uc3QgYXJnID0gdHVwbGVbaGFzaC5ub25QcmltT3JkZXJbaV1dO1xuICAgICAgaWYgKCAhbXVzdENyZWF0ZSAmJiBjdXJyLmhhcyhhcmcpICkge1xuICAgICAgICBjdXJyID0gY3Vyci5nZXQoYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG11c3RDcmVhdGUgPSB0cnVlO1xuICAgICAgICBjdXJyLnNldCggYXJnLCAoIGN1cnIgPSAoIGkgPCBsIC0gMSApID8gbmV3IFdlYWtNYXAoKSA6IG5ldyBNYXAoKSApICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY3Vyci5zZXQoaGFzaC5wcmltSGFzaCwgdmFsdWUpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgZ2V0OiBmdW5jdGlvbiggdHVwbGUgKSB7XG4gICAgbGV0IGN1cnIgPSB0aGlzLl9jYWNoZTtcbiAgICBjb25zdCBoYXNoID0gdGhpcy5faGFzaCggdHVwbGUgKTtcbiAgICBjb25zdCBsID0gaGFzaC5ub25QcmltT3JkZXIubGVuZ3RoO1xuXG4gICAgZm9yKCBsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IGFyZyA9IHR1cGxlW2hhc2gubm9uUHJpbU9yZGVyW2ldXTtcbiAgICAgIGNvbnN0IHJldCA9IGN1cnIuZ2V0ICYmIGN1cnIuZ2V0KGFyZyk7XG4gICAgICBpZiAoIHJldCA9PT0gdW5kZWZpbmVkICkge1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VyciA9IHJldDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY3Vyci5nZXQgJiYgY3Vyci5nZXQoIGhhc2gucHJpbUhhc2ggKTtcbiAgfSxcblxuICBjbGVhcjogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fY2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuICAgIGRlbGV0ZSB0aGlzLl9sYXN0VHVwbGU7XG4gICAgZGVsZXRlIHRoaXMuX2xhc3RIYXNoO1xuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgTWl4ZWRUdXBsZU1hcDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../glycan.js/lib/MixedTupleMap.js\n");

/***/ }),

/***/ "../glycan.js/lib/QuadTree.js":
/*!************************************!*\
  !*** ../glycan.js/lib/QuadTree.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*jslint vars: true, nomen: true, plusplus: true, continue:true, forin:true */\n\n/*\n  The MIT License\n\n  Copyright (c) 2011 Mike Chambers\n\n  Permission is hereby granted, free of charge, to any person obtaining a copy\n  of this software and associated documentation files (the 'Software'), to deal\n  in the Software without restriction, including without limitation the rights\n  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n  copies of the Software, and to permit persons to whom the Software is\n  furnished to do so, subject to the following conditions:\n\n  The above copyright notice and this permission notice shall be included in\n  all copies or substantial portions of the Software.\n\n  THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n  THE SOFTWARE.\n*/\n\n/**\n* A QuadTree implementation in JavaScript, a 2d spatial subdivision algorithm.\n* @module QuadTree\n**/\n\n\n/************** Node ********************/\nfunction Node(bounds, depth, maxDepth, maxChildren) {\n  this._bounds = bounds;\n  this.children = [];\n  this.nodes = [];\n  if (maxChildren) {\n    this._maxChildren = maxChildren;\n  }\n  if (maxDepth) {\n    this._maxDepth = maxDepth;\n  }\n  if (depth) {\n    this._depth = depth;\n  }\n}\n\n//subnodes\nNode.prototype.nodes = null;\nNode.prototype._classConstructor = Node;\n\n//children contained directly in the node\nNode.prototype.children = null;\nNode.prototype._bounds = null;\n\n//read only\nNode.prototype._depth = 0;\nNode.prototype._maxChildren = 4;\nNode.prototype._maxDepth = 4;\nNode.TOP_LEFT = 0;\nNode.TOP_RIGHT = 1;\nNode.BOTTOM_LEFT = 2;\nNode.BOTTOM_RIGHT = 3;\nNode.prototype.insert = function (item) {\n  if (this.nodes.length) {\n    var index = this._findIndex(item);\n    this.nodes[index].insert(item);\n    return;\n  }\n  this.children.push(item);\n  var len = this.children.length;\n  if (this._depth < this._maxDepth && len > this._maxChildren) {\n    this.subdivide();\n    var i;\n    for (i = 0; i < len; i++) {\n      this.insert(this.children[i]);\n    }\n    this.children.length = 0;\n  }\n};\nNode.prototype.retrieve = function (item) {\n  if (this.nodes.length) {\n    var index = this._findIndex(item);\n    return this.nodes[index].retrieve(item);\n  }\n  return this.children;\n};\nNode.prototype._findIndex = function (item) {\n  var b = this._bounds;\n  var left = item.x > b.x + b.width / 2 ? false : true;\n  var top = item.y > b.y + b.height / 2 ? false : true;\n\n  //top left\n  var index = Node.TOP_LEFT;\n  if (left) {\n    //left side\n    if (!top) {\n      //bottom left\n      index = Node.BOTTOM_LEFT;\n    }\n  } else {\n    //right side\n    if (top) {\n      //top right\n      index = Node.TOP_RIGHT;\n    } else {\n      //bottom right\n      index = Node.BOTTOM_RIGHT;\n    }\n  }\n  return index;\n};\nNode.prototype.subdivide = function () {\n  var depth = this._depth + 1;\n  var bx = this._bounds.x;\n  var by = this._bounds.y;\n\n  //floor the values\n  var b_w_h = this._bounds.width / 2; //todo: Math.floor?\n  var b_h_h = this._bounds.height / 2;\n  var bx_b_w_h = bx + b_w_h;\n  var by_b_h_h = by + b_h_h;\n\n  //top left\n  this.nodes[Node.TOP_LEFT] = new this._classConstructor({\n    x: bx,\n    y: by,\n    width: b_w_h,\n    height: b_h_h\n  }, depth, this._maxDepth, this._maxChildren);\n\n  //top right\n  this.nodes[Node.TOP_RIGHT] = new this._classConstructor({\n    x: bx_b_w_h,\n    y: by,\n    width: b_w_h,\n    height: b_h_h\n  }, depth, this._maxDepth, this._maxChildren);\n\n  //bottom left\n  this.nodes[Node.BOTTOM_LEFT] = new this._classConstructor({\n    x: bx,\n    y: by_b_h_h,\n    width: b_w_h,\n    height: b_h_h\n  }, depth, this._maxDepth, this._maxChildren);\n\n  //bottom right\n  this.nodes[Node.BOTTOM_RIGHT] = new this._classConstructor({\n    x: bx_b_w_h,\n    y: by_b_h_h,\n    width: b_w_h,\n    height: b_h_h\n  }, depth, this._maxDepth, this._maxChildren);\n};\nNode.prototype.clear = function () {\n  this.children.length = 0;\n  var len = this.nodes.length;\n  var i;\n  for (i = 0; i < len; i++) {\n    this.nodes[i].clear();\n  }\n  this.nodes.length = 0;\n};\n\n/******************** BoundsQuadTree ****************/\n\nfunction BoundsNode(bounds, depth, maxChildren, maxDepth) {\n  Node.call(this, bounds, depth, maxChildren, maxDepth);\n  this._stuckChildren = [];\n}\nBoundsNode.prototype = new Node();\nBoundsNode.prototype._classConstructor = BoundsNode;\nBoundsNode.prototype._stuckChildren = null;\n\n//we use this to collect and conctenate items being retrieved. This way\n//we dont have to continuously create new Array instances.\n//Note, when returned from QuadTree.retrieve, we then copy the array\nBoundsNode.prototype._out = [];\nBoundsNode.prototype.insert = function (item) {\n  if (this.nodes.length) {\n    var index = this._findIndex(item);\n    var node = this.nodes[index];\n\n    //todo: make _bounds bounds\n    if (item.x >= node._bounds.x && item.x + item.width <= node._bounds.x + node._bounds.width && item.y >= node._bounds.y && item.y + item.height <= node._bounds.y + node._bounds.height) {\n      this.nodes[index].insert(item);\n    } else {\n      this._stuckChildren.push(item);\n    }\n    return;\n  }\n  this.children.push(item);\n  var len = this.children.length;\n  if (this._depth < this._maxDepth && len > this._maxChildren) {\n    this.subdivide();\n    var i;\n    for (i = 0; i < len; i++) {\n      this.insert(this.children[i]);\n    }\n    this.children.length = 0;\n  }\n};\nBoundsNode.prototype.getChildren = function () {\n  return this.children.concat(this._stuckChildren);\n};\nBoundsNode.prototype.retrieve = function (item) {\n  var out = this._out;\n  out.length = 0;\n  if (this.nodes.length) {\n    var index = this._findIndex(item);\n    var node = this.nodes[index];\n    if (item.x >= node._bounds.x && item.x + item.width <= node._bounds.x + node._bounds.width && item.y >= node._bounds.y && item.y + item.height <= node._bounds.y + node._bounds.height) {\n      out.push.apply(out, this.nodes[index].retrieve(item));\n    } else {\n      //Part of the item are overlapping multiple child nodes. For each of the overlapping nodes, return all containing objects.\n\n      if (item.x <= this.nodes[Node.TOP_RIGHT]._bounds.x) {\n        if (item.y <= this.nodes[Node.BOTTOM_LEFT]._bounds.y) {\n          out.push.apply(out, this.nodes[Node.TOP_LEFT].getAllContent());\n        }\n        if (item.y + item.height > this.nodes[Node.BOTTOM_LEFT]._bounds.y) {\n          out.push.apply(out, this.nodes[Node.BOTTOM_LEFT].getAllContent());\n        }\n      }\n      if (item.x + item.width > this.nodes[Node.TOP_RIGHT]._bounds.x) {\n        //position+width bigger than middle x\n        if (item.y <= this.nodes[Node.BOTTOM_RIGHT]._bounds.y) {\n          out.push.apply(out, this.nodes[Node.TOP_RIGHT].getAllContent());\n        }\n        if (item.y + item.height > this.nodes[Node.BOTTOM_RIGHT]._bounds.y) {\n          out.push.apply(out, this.nodes[Node.BOTTOM_RIGHT].getAllContent());\n        }\n      }\n    }\n  }\n  out.push.apply(out, this._stuckChildren);\n  out.push.apply(out, this.children);\n  return out;\n};\n\n//Returns all contents of node.\nBoundsNode.prototype.getAllContent = function () {\n  var out = this._out;\n  if (this.nodes.length) {\n    var i;\n    for (i = 0; i < this.nodes.length; i++) {\n      this.nodes[i].getAllContent();\n    }\n  }\n  out.push.apply(out, this._stuckChildren);\n  out.push.apply(out, this.children);\n  return out;\n};\nBoundsNode.prototype.clear = function () {\n  this._stuckChildren.length = 0;\n\n  //array\n  this.children.length = 0;\n  var len = this.nodes.length;\n  if (!len) {\n    return;\n  }\n  var i;\n  for (i = 0; i < len; i++) {\n    this.nodes[i].clear();\n  }\n\n  //array\n  this.nodes.length = 0;\n\n  //we could call the super clear function but for now, im just going to inline it\n  //call the hidden super.clear, and make sure its called with this = this instance\n  //Object.getPrototypeOf(BoundsNode.prototype).clear.call(this);\n};\n\n/****************** QuadTree ****************/\n\n/**\n* QuadTree data structure.\n* @class QuadTree\n* @constructor\n* @param {Object} An object representing the bounds of the top level of the QuadTree. The object\n* should contain the following properties : x, y, width, height\n* @param {Boolean} pointQuad Whether the QuadTree will contain points (true), or items with bounds\n* (width / height)(false). Default value is false.\n* @param {Number} maxDepth The maximum number of levels that the quadtree will create. Default is 4.\n* @param {Number} maxChildren The maximum number of children that a node can contain before it is split into sub-nodes.\n**/\nfunction QuadTree(bounds, pointQuad, maxDepth, maxChildren) {\n  var node;\n  if (pointQuad) {\n    node = new Node(bounds, 0, maxDepth, maxChildren);\n  } else {\n    node = new BoundsNode(bounds, 0, maxDepth, maxChildren);\n  }\n  this.root = node;\n}\n\n/**\n* The root node of the QuadTree which covers the entire area being segmented.\n* @property root\n* @type Node\n**/\nQuadTree.prototype.root = null;\n\n/**\n* Inserts an item into the QuadTree.\n* @method insert\n* @param {Object|Array} item The item or Array of items to be inserted into the QuadTree. The item should expose x, y \n* properties that represents its position in 2D space.\n**/\nQuadTree.prototype.insert = function (item) {\n  if (item instanceof Array) {\n    var len = item.length;\n    var i;\n    for (i = 0; i < len; i++) {\n      this.root.insert(item[i]);\n    }\n  } else {\n    this.root.insert(item);\n  }\n};\n\n/**\n* Clears all nodes and children from the QuadTree\n* @method clear\n**/\nQuadTree.prototype.clear = function () {\n  this.root.clear();\n};\n\n/**\n* Retrieves all items / points in the same node as the specified item / point. If the specified item\n* overlaps the bounds of a node, then all children in both nodes will be returned.\n* @method retrieve\n* @param {Object} item An object representing a 2D coordinate point (with x, y properties), or a shape\n* with dimensions (x, y, width, height) properties.\n**/\nQuadTree.prototype.retrieve = function (item) {\n  //get a copy of the array of items\n  var out = this.root.retrieve(item).slice(0);\n  return out;\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (QuadTree);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2xpYi9RdWFkVHJlZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9nbHljYW4uanMvbGliL1F1YWRUcmVlLmpzPzMwYzUiXSwic291cmNlc0NvbnRlbnQiOlsiLypqc2xpbnQgdmFyczogdHJ1ZSwgbm9tZW46IHRydWUsIHBsdXNwbHVzOiB0cnVlLCBjb250aW51ZTp0cnVlLCBmb3Jpbjp0cnVlICovXG5cbi8qXG4gIFRoZSBNSVQgTGljZW5zZVxuXG4gIENvcHlyaWdodCAoYykgMjAxMSBNaWtlIENoYW1iZXJzXG5cbiAgUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAnU29mdHdhcmUnKSwgdG8gZGVhbFxuICBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cbiAgVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAgYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cbiAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICdBUyBJUycsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAgVEhFIFNPRlRXQVJFLlxuKi9cblxuXG4vKipcbiogQSBRdWFkVHJlZSBpbXBsZW1lbnRhdGlvbiBpbiBKYXZhU2NyaXB0LCBhIDJkIHNwYXRpYWwgc3ViZGl2aXNpb24gYWxnb3JpdGhtLlxuKiBAbW9kdWxlIFF1YWRUcmVlXG4qKi9cbid1c2Ugc3RyaWN0JztcblxuLyoqKioqKioqKioqKioqIE5vZGUgKioqKioqKioqKioqKioqKioqKiovXG5cblxuZnVuY3Rpb24gTm9kZShib3VuZHMsIGRlcHRoLCBtYXhEZXB0aCwgbWF4Q2hpbGRyZW4pIHtcbiAgdGhpcy5fYm91bmRzID0gYm91bmRzO1xuICB0aGlzLmNoaWxkcmVuID0gW107XG4gIHRoaXMubm9kZXMgPSBbXTtcblxuICBpZiAobWF4Q2hpbGRyZW4pIHtcbiAgICB0aGlzLl9tYXhDaGlsZHJlbiA9IG1heENoaWxkcmVuO1xuICB9XG5cbiAgaWYgKG1heERlcHRoKSB7XG4gICAgdGhpcy5fbWF4RGVwdGggPSBtYXhEZXB0aDtcbiAgfVxuXG4gIGlmIChkZXB0aCkge1xuICAgIHRoaXMuX2RlcHRoID0gZGVwdGg7XG4gIH1cbn1cblxuLy9zdWJub2Rlc1xuTm9kZS5wcm90b3R5cGUubm9kZXMgPSBudWxsO1xuTm9kZS5wcm90b3R5cGUuX2NsYXNzQ29uc3RydWN0b3IgPSBOb2RlO1xuXG4vL2NoaWxkcmVuIGNvbnRhaW5lZCBkaXJlY3RseSBpbiB0aGUgbm9kZVxuTm9kZS5wcm90b3R5cGUuY2hpbGRyZW4gPSBudWxsO1xuTm9kZS5wcm90b3R5cGUuX2JvdW5kcyA9IG51bGw7XG5cbi8vcmVhZCBvbmx5XG5Ob2RlLnByb3RvdHlwZS5fZGVwdGggPSAwO1xuXG5Ob2RlLnByb3RvdHlwZS5fbWF4Q2hpbGRyZW4gPSA0O1xuTm9kZS5wcm90b3R5cGUuX21heERlcHRoID0gNDtcblxuTm9kZS5UT1BfTEVGVCA9IDA7XG5Ob2RlLlRPUF9SSUdIVCA9IDE7XG5Ob2RlLkJPVFRPTV9MRUZUID0gMjtcbk5vZGUuQk9UVE9NX1JJR0hUID0gMztcblxuXG5Ob2RlLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAoaXRlbSkge1xuICBpZiAodGhpcy5ub2Rlcy5sZW5ndGgpIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLl9maW5kSW5kZXgoaXRlbSk7XG5cbiAgICB0aGlzLm5vZGVzW2luZGV4XS5pbnNlcnQoaXRlbSk7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLmNoaWxkcmVuLnB1c2goaXRlbSk7XG5cbiAgdmFyIGxlbiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoO1xuICBpZiAoKHRoaXMuX2RlcHRoIDwgdGhpcy5fbWF4RGVwdGgpICYmXG4gICAgICBsZW4gPiB0aGlzLl9tYXhDaGlsZHJlbikge1xuXG4gICAgdGhpcy5zdWJkaXZpZGUoKTtcblxuICAgIHZhciBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgdGhpcy5pbnNlcnQodGhpcy5jaGlsZHJlbltpXSk7XG4gICAgfVxuXG4gICAgdGhpcy5jaGlsZHJlbi5sZW5ndGggPSAwO1xuICB9XG59O1xuXG5Ob2RlLnByb3RvdHlwZS5yZXRyaWV2ZSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIGlmICh0aGlzLm5vZGVzLmxlbmd0aCkge1xuICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmRJbmRleChpdGVtKTtcblxuICAgIHJldHVybiB0aGlzLm5vZGVzW2luZGV4XS5yZXRyaWV2ZShpdGVtKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmNoaWxkcmVuO1xufTtcblxuTm9kZS5wcm90b3R5cGUuX2ZpbmRJbmRleCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBiID0gdGhpcy5fYm91bmRzO1xuICB2YXIgbGVmdCA9IChpdGVtLnggPiBiLnggKyBiLndpZHRoIC8gMikgPyBmYWxzZSA6IHRydWU7XG4gIHZhciB0b3AgPSAoaXRlbS55ID4gYi55ICsgYi5oZWlnaHQgLyAyKSA/IGZhbHNlIDogdHJ1ZTtcblxuICAvL3RvcCBsZWZ0XG4gIHZhciBpbmRleCA9IE5vZGUuVE9QX0xFRlQ7XG4gIGlmIChsZWZ0KSB7XG4gICAgLy9sZWZ0IHNpZGVcbiAgICBpZiAoIXRvcCkge1xuICAgICAgLy9ib3R0b20gbGVmdFxuICAgICAgaW5kZXggPSBOb2RlLkJPVFRPTV9MRUZUO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvL3JpZ2h0IHNpZGVcbiAgICBpZiAodG9wKSB7XG4gICAgICAvL3RvcCByaWdodFxuICAgICAgaW5kZXggPSBOb2RlLlRPUF9SSUdIVDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy9ib3R0b20gcmlnaHRcbiAgICAgIGluZGV4ID0gTm9kZS5CT1RUT01fUklHSFQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGluZGV4O1xufTtcblxuXG5Ob2RlLnByb3RvdHlwZS5zdWJkaXZpZGUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBkZXB0aCA9IHRoaXMuX2RlcHRoICsgMTtcblxuICB2YXIgYnggPSB0aGlzLl9ib3VuZHMueDtcbiAgdmFyIGJ5ID0gdGhpcy5fYm91bmRzLnk7XG5cbiAgLy9mbG9vciB0aGUgdmFsdWVzXG4gIHZhciBiX3dfaCA9ICh0aGlzLl9ib3VuZHMud2lkdGggLyAyKTsgLy90b2RvOiBNYXRoLmZsb29yP1xuICB2YXIgYl9oX2ggPSAodGhpcy5fYm91bmRzLmhlaWdodCAvIDIpO1xuICB2YXIgYnhfYl93X2ggPSBieCArIGJfd19oO1xuICB2YXIgYnlfYl9oX2ggPSBieSArIGJfaF9oO1xuXG4gIC8vdG9wIGxlZnRcbiAgdGhpcy5ub2Rlc1tOb2RlLlRPUF9MRUZUXSA9IG5ldyB0aGlzLl9jbGFzc0NvbnN0cnVjdG9yKHtcbiAgICB4OiBieCxcbiAgICB5OiBieSxcbiAgICB3aWR0aDogYl93X2gsXG4gICAgaGVpZ2h0OiBiX2hfaFxuICB9LFxuICAgIGRlcHRoLCB0aGlzLl9tYXhEZXB0aCwgdGhpcy5fbWF4Q2hpbGRyZW4pO1xuXG4gIC8vdG9wIHJpZ2h0XG4gIHRoaXMubm9kZXNbTm9kZS5UT1BfUklHSFRdID0gbmV3IHRoaXMuX2NsYXNzQ29uc3RydWN0b3Ioe1xuICAgIHg6IGJ4X2Jfd19oLFxuICAgIHk6IGJ5LFxuICAgIHdpZHRoOiBiX3dfaCxcbiAgICBoZWlnaHQ6IGJfaF9oXG4gIH0sXG4gICAgZGVwdGgsIHRoaXMuX21heERlcHRoLCB0aGlzLl9tYXhDaGlsZHJlbik7XG5cbiAgLy9ib3R0b20gbGVmdFxuICB0aGlzLm5vZGVzW05vZGUuQk9UVE9NX0xFRlRdID0gbmV3IHRoaXMuX2NsYXNzQ29uc3RydWN0b3Ioe1xuICAgIHg6IGJ4LFxuICAgIHk6IGJ5X2JfaF9oLFxuICAgIHdpZHRoOiBiX3dfaCxcbiAgICBoZWlnaHQ6IGJfaF9oXG4gIH0sXG4gICAgZGVwdGgsIHRoaXMuX21heERlcHRoLCB0aGlzLl9tYXhDaGlsZHJlbik7XG5cblxuICAvL2JvdHRvbSByaWdodFxuICB0aGlzLm5vZGVzW05vZGUuQk9UVE9NX1JJR0hUXSA9IG5ldyB0aGlzLl9jbGFzc0NvbnN0cnVjdG9yKHtcbiAgICB4OiBieF9iX3dfaCxcbiAgICB5OiBieV9iX2hfaCxcbiAgICB3aWR0aDogYl93X2gsXG4gICAgaGVpZ2h0OiBiX2hfaFxuICB9LFxuICAgIGRlcHRoLCB0aGlzLl9tYXhEZXB0aCwgdGhpcy5fbWF4Q2hpbGRyZW4pO1xufTtcblxuTm9kZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID0gMDtcblxuICB2YXIgbGVuID0gdGhpcy5ub2Rlcy5sZW5ndGg7XG5cbiAgdmFyIGk7XG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIHRoaXMubm9kZXNbaV0uY2xlYXIoKTtcbiAgfVxuXG4gIHRoaXMubm9kZXMubGVuZ3RoID0gMDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqKioqIEJvdW5kc1F1YWRUcmVlICoqKioqKioqKioqKioqKiovXG5cbmZ1bmN0aW9uIEJvdW5kc05vZGUoYm91bmRzLCBkZXB0aCwgbWF4Q2hpbGRyZW4sIG1heERlcHRoKSB7XG4gIE5vZGUuY2FsbCh0aGlzLCBib3VuZHMsIGRlcHRoLCBtYXhDaGlsZHJlbiwgbWF4RGVwdGgpO1xuICB0aGlzLl9zdHVja0NoaWxkcmVuID0gW107XG59XG5cbkJvdW5kc05vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbkJvdW5kc05vZGUucHJvdG90eXBlLl9jbGFzc0NvbnN0cnVjdG9yID0gQm91bmRzTm9kZTtcbkJvdW5kc05vZGUucHJvdG90eXBlLl9zdHVja0NoaWxkcmVuID0gbnVsbDtcblxuLy93ZSB1c2UgdGhpcyB0byBjb2xsZWN0IGFuZCBjb25jdGVuYXRlIGl0ZW1zIGJlaW5nIHJldHJpZXZlZC4gVGhpcyB3YXlcbi8vd2UgZG9udCBoYXZlIHRvIGNvbnRpbnVvdXNseSBjcmVhdGUgbmV3IEFycmF5IGluc3RhbmNlcy5cbi8vTm90ZSwgd2hlbiByZXR1cm5lZCBmcm9tIFF1YWRUcmVlLnJldHJpZXZlLCB3ZSB0aGVuIGNvcHkgdGhlIGFycmF5XG5Cb3VuZHNOb2RlLnByb3RvdHlwZS5fb3V0ID0gW107XG5cbkJvdW5kc05vZGUucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIGlmICh0aGlzLm5vZGVzLmxlbmd0aCkge1xuICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmRJbmRleChpdGVtKTtcbiAgICB2YXIgbm9kZSA9IHRoaXMubm9kZXNbaW5kZXhdO1xuXG4gICAgLy90b2RvOiBtYWtlIF9ib3VuZHMgYm91bmRzXG4gICAgaWYgKGl0ZW0ueCA+PSBub2RlLl9ib3VuZHMueCAmJlxuICAgICAgICBpdGVtLnggKyBpdGVtLndpZHRoIDw9IG5vZGUuX2JvdW5kcy54ICsgbm9kZS5fYm91bmRzLndpZHRoICYmXG4gICAgICAgIGl0ZW0ueSA+PSBub2RlLl9ib3VuZHMueSAmJlxuICAgICAgICBpdGVtLnkgKyBpdGVtLmhlaWdodCA8PSBub2RlLl9ib3VuZHMueSArIG5vZGUuX2JvdW5kcy5oZWlnaHQpIHtcblxuICAgICAgdGhpcy5ub2Rlc1tpbmRleF0uaW5zZXJ0KGl0ZW0pO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N0dWNrQ2hpbGRyZW4ucHVzaChpdGVtKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLmNoaWxkcmVuLnB1c2goaXRlbSk7XG5cbiAgdmFyIGxlbiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoO1xuXG4gIGlmICgodGhpcy5fZGVwdGggPCB0aGlzLl9tYXhEZXB0aCkgJiZcbiAgICAgIGxlbiA+IHRoaXMuX21heENoaWxkcmVuKSB7XG5cbiAgICB0aGlzLnN1YmRpdmlkZSgpO1xuXG4gICAgdmFyIGk7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0aGlzLmluc2VydCh0aGlzLmNoaWxkcmVuW2ldKTtcbiAgICB9XG5cbiAgICB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9IDA7XG4gIH1cbn07XG5cbkJvdW5kc05vZGUucHJvdG90eXBlLmdldENoaWxkcmVuID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5jaGlsZHJlbi5jb25jYXQodGhpcy5fc3R1Y2tDaGlsZHJlbik7XG59O1xuXG5Cb3VuZHNOb2RlLnByb3RvdHlwZS5yZXRyaWV2ZSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBvdXQgPSB0aGlzLl9vdXQ7XG4gIG91dC5sZW5ndGggPSAwO1xuICBpZiAodGhpcy5ub2Rlcy5sZW5ndGgpIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLl9maW5kSW5kZXgoaXRlbSk7XG4gICAgdmFyIG5vZGUgPSB0aGlzLm5vZGVzW2luZGV4XTtcblxuICAgIGlmIChpdGVtLnggPj0gbm9kZS5fYm91bmRzLnggJiZcbiAgICAgICAgaXRlbS54ICsgaXRlbS53aWR0aCA8PSBub2RlLl9ib3VuZHMueCArIG5vZGUuX2JvdW5kcy53aWR0aCAmJlxuICAgICAgICBpdGVtLnkgPj0gbm9kZS5fYm91bmRzLnkgJiZcbiAgICAgICAgaXRlbS55ICsgaXRlbS5oZWlnaHQgPD0gbm9kZS5fYm91bmRzLnkgKyBub2RlLl9ib3VuZHMuaGVpZ2h0KSB7XG5cbiAgICAgIG91dC5wdXNoLmFwcGx5KG91dCwgdGhpcy5ub2Rlc1tpbmRleF0ucmV0cmlldmUoaXRlbSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL1BhcnQgb2YgdGhlIGl0ZW0gYXJlIG92ZXJsYXBwaW5nIG11bHRpcGxlIGNoaWxkIG5vZGVzLiBGb3IgZWFjaCBvZiB0aGUgb3ZlcmxhcHBpbmcgbm9kZXMsIHJldHVybiBhbGwgY29udGFpbmluZyBvYmplY3RzLlxuXG4gICAgICBpZiAoaXRlbS54IDw9IHRoaXMubm9kZXNbTm9kZS5UT1BfUklHSFRdLl9ib3VuZHMueCkge1xuICAgICAgICBpZiAoaXRlbS55IDw9IHRoaXMubm9kZXNbTm9kZS5CT1RUT01fTEVGVF0uX2JvdW5kcy55KSB7XG4gICAgICAgICAgb3V0LnB1c2guYXBwbHkob3V0LCB0aGlzLm5vZGVzW05vZGUuVE9QX0xFRlRdLmdldEFsbENvbnRlbnQoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXRlbS55ICsgaXRlbS5oZWlnaHQgPiB0aGlzLm5vZGVzW05vZGUuQk9UVE9NX0xFRlRdLl9ib3VuZHMueSkge1xuICAgICAgICAgIG91dC5wdXNoLmFwcGx5KG91dCwgdGhpcy5ub2Rlc1tOb2RlLkJPVFRPTV9MRUZUXS5nZXRBbGxDb250ZW50KCkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtLnggKyBpdGVtLndpZHRoID4gdGhpcy5ub2Rlc1tOb2RlLlRPUF9SSUdIVF0uX2JvdW5kcy54KSB7Ly9wb3NpdGlvbit3aWR0aCBiaWdnZXIgdGhhbiBtaWRkbGUgeFxuICAgICAgICBpZiAoaXRlbS55IDw9IHRoaXMubm9kZXNbTm9kZS5CT1RUT01fUklHSFRdLl9ib3VuZHMueSkge1xuICAgICAgICAgIG91dC5wdXNoLmFwcGx5KG91dCwgdGhpcy5ub2Rlc1tOb2RlLlRPUF9SSUdIVF0uZ2V0QWxsQ29udGVudCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpdGVtLnkgKyBpdGVtLmhlaWdodCA+IHRoaXMubm9kZXNbTm9kZS5CT1RUT01fUklHSFRdLl9ib3VuZHMueSkge1xuICAgICAgICAgIG91dC5wdXNoLmFwcGx5KG91dCwgdGhpcy5ub2Rlc1tOb2RlLkJPVFRPTV9SSUdIVF0uZ2V0QWxsQ29udGVudCgpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG91dC5wdXNoLmFwcGx5KG91dCwgdGhpcy5fc3R1Y2tDaGlsZHJlbik7XG4gIG91dC5wdXNoLmFwcGx5KG91dCwgdGhpcy5jaGlsZHJlbik7XG5cbiAgcmV0dXJuIG91dDtcbn07XG5cbi8vUmV0dXJucyBhbGwgY29udGVudHMgb2Ygbm9kZS5cbkJvdW5kc05vZGUucHJvdG90eXBlLmdldEFsbENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBvdXQgPSB0aGlzLl9vdXQ7XG4gIGlmICh0aGlzLm5vZGVzLmxlbmd0aCkge1xuXG4gICAgdmFyIGk7XG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMubm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMubm9kZXNbaV0uZ2V0QWxsQ29udGVudCgpO1xuICAgIH1cbiAgfVxuICBvdXQucHVzaC5hcHBseShvdXQsIHRoaXMuX3N0dWNrQ2hpbGRyZW4pO1xuICBvdXQucHVzaC5hcHBseShvdXQsIHRoaXMuY2hpbGRyZW4pO1xuICByZXR1cm4gb3V0O1xufTtcblxuQm91bmRzTm9kZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgdGhpcy5fc3R1Y2tDaGlsZHJlbi5sZW5ndGggPSAwO1xuXG4gIC8vYXJyYXlcbiAgdGhpcy5jaGlsZHJlbi5sZW5ndGggPSAwO1xuXG4gIHZhciBsZW4gPSB0aGlzLm5vZGVzLmxlbmd0aDtcblxuICBpZiAoIWxlbikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBpO1xuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICB0aGlzLm5vZGVzW2ldLmNsZWFyKCk7XG4gIH1cblxuICAvL2FycmF5XG4gIHRoaXMubm9kZXMubGVuZ3RoID0gMDtcblxuICAvL3dlIGNvdWxkIGNhbGwgdGhlIHN1cGVyIGNsZWFyIGZ1bmN0aW9uIGJ1dCBmb3Igbm93LCBpbSBqdXN0IGdvaW5nIHRvIGlubGluZSBpdFxuICAvL2NhbGwgdGhlIGhpZGRlbiBzdXBlci5jbGVhciwgYW5kIG1ha2Ugc3VyZSBpdHMgY2FsbGVkIHdpdGggdGhpcyA9IHRoaXMgaW5zdGFuY2VcbiAgLy9PYmplY3QuZ2V0UHJvdG90eXBlT2YoQm91bmRzTm9kZS5wcm90b3R5cGUpLmNsZWFyLmNhbGwodGhpcyk7XG59O1xuXG4vKioqKioqKioqKioqKioqKioqIFF1YWRUcmVlICoqKioqKioqKioqKioqKiovXG5cbi8qKlxuKiBRdWFkVHJlZSBkYXRhIHN0cnVjdHVyZS5cbiogQGNsYXNzIFF1YWRUcmVlXG4qIEBjb25zdHJ1Y3RvclxuKiBAcGFyYW0ge09iamVjdH0gQW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgYm91bmRzIG9mIHRoZSB0b3AgbGV2ZWwgb2YgdGhlIFF1YWRUcmVlLiBUaGUgb2JqZWN0XG4qIHNob3VsZCBjb250YWluIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyA6IHgsIHksIHdpZHRoLCBoZWlnaHRcbiogQHBhcmFtIHtCb29sZWFufSBwb2ludFF1YWQgV2hldGhlciB0aGUgUXVhZFRyZWUgd2lsbCBjb250YWluIHBvaW50cyAodHJ1ZSksIG9yIGl0ZW1zIHdpdGggYm91bmRzXG4qICh3aWR0aCAvIGhlaWdodCkoZmFsc2UpLiBEZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuKiBAcGFyYW0ge051bWJlcn0gbWF4RGVwdGggVGhlIG1heGltdW0gbnVtYmVyIG9mIGxldmVscyB0aGF0IHRoZSBxdWFkdHJlZSB3aWxsIGNyZWF0ZS4gRGVmYXVsdCBpcyA0LlxuKiBAcGFyYW0ge051bWJlcn0gbWF4Q2hpbGRyZW4gVGhlIG1heGltdW0gbnVtYmVyIG9mIGNoaWxkcmVuIHRoYXQgYSBub2RlIGNhbiBjb250YWluIGJlZm9yZSBpdCBpcyBzcGxpdCBpbnRvIHN1Yi1ub2Rlcy5cbioqL1xuZnVuY3Rpb24gUXVhZFRyZWUoYm91bmRzLCBwb2ludFF1YWQsIG1heERlcHRoLCBtYXhDaGlsZHJlbikge1xuICB2YXIgbm9kZTtcbiAgaWYgKHBvaW50UXVhZCkge1xuXG4gICAgbm9kZSA9IG5ldyBOb2RlKGJvdW5kcywgMCwgbWF4RGVwdGgsIG1heENoaWxkcmVuKTtcbiAgfSBlbHNlIHtcbiAgICBub2RlID0gbmV3IEJvdW5kc05vZGUoYm91bmRzLCAwLCBtYXhEZXB0aCwgbWF4Q2hpbGRyZW4pO1xuICB9XG5cbiAgdGhpcy5yb290ID0gbm9kZTtcbn1cblxuLyoqXG4qIFRoZSByb290IG5vZGUgb2YgdGhlIFF1YWRUcmVlIHdoaWNoIGNvdmVycyB0aGUgZW50aXJlIGFyZWEgYmVpbmcgc2VnbWVudGVkLlxuKiBAcHJvcGVydHkgcm9vdFxuKiBAdHlwZSBOb2RlXG4qKi9cblF1YWRUcmVlLnByb3RvdHlwZS5yb290ID0gbnVsbDtcblxuXG4vKipcbiogSW5zZXJ0cyBhbiBpdGVtIGludG8gdGhlIFF1YWRUcmVlLlxuKiBAbWV0aG9kIGluc2VydFxuKiBAcGFyYW0ge09iamVjdHxBcnJheX0gaXRlbSBUaGUgaXRlbSBvciBBcnJheSBvZiBpdGVtcyB0byBiZSBpbnNlcnRlZCBpbnRvIHRoZSBRdWFkVHJlZS4gVGhlIGl0ZW0gc2hvdWxkIGV4cG9zZSB4LCB5IFxuKiBwcm9wZXJ0aWVzIHRoYXQgcmVwcmVzZW50cyBpdHMgcG9zaXRpb24gaW4gMkQgc3BhY2UuXG4qKi9cblF1YWRUcmVlLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAoaXRlbSkge1xuICBpZiAoaXRlbSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgdmFyIGxlbiA9IGl0ZW0ubGVuZ3RoO1xuXG4gICAgdmFyIGk7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0aGlzLnJvb3QuaW5zZXJ0KGl0ZW1baV0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLnJvb3QuaW5zZXJ0KGl0ZW0pO1xuICB9XG59O1xuXG4vKipcbiogQ2xlYXJzIGFsbCBub2RlcyBhbmQgY2hpbGRyZW4gZnJvbSB0aGUgUXVhZFRyZWVcbiogQG1ldGhvZCBjbGVhclxuKiovXG5RdWFkVHJlZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMucm9vdC5jbGVhcigpO1xufTtcblxuLyoqXG4qIFJldHJpZXZlcyBhbGwgaXRlbXMgLyBwb2ludHMgaW4gdGhlIHNhbWUgbm9kZSBhcyB0aGUgc3BlY2lmaWVkIGl0ZW0gLyBwb2ludC4gSWYgdGhlIHNwZWNpZmllZCBpdGVtXG4qIG92ZXJsYXBzIHRoZSBib3VuZHMgb2YgYSBub2RlLCB0aGVuIGFsbCBjaGlsZHJlbiBpbiBib3RoIG5vZGVzIHdpbGwgYmUgcmV0dXJuZWQuXG4qIEBtZXRob2QgcmV0cmlldmVcbiogQHBhcmFtIHtPYmplY3R9IGl0ZW0gQW4gb2JqZWN0IHJlcHJlc2VudGluZyBhIDJEIGNvb3JkaW5hdGUgcG9pbnQgKHdpdGggeCwgeSBwcm9wZXJ0aWVzKSwgb3IgYSBzaGFwZVxuKiB3aXRoIGRpbWVuc2lvbnMgKHgsIHksIHdpZHRoLCBoZWlnaHQpIHByb3BlcnRpZXMuXG4qKi9cblF1YWRUcmVlLnByb3RvdHlwZS5yZXRyaWV2ZSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIC8vZ2V0IGEgY29weSBvZiB0aGUgYXJyYXkgb2YgaXRlbXNcbiAgdmFyIG91dCA9IHRoaXMucm9vdC5yZXRyaWV2ZShpdGVtKS5zbGljZSgwKTtcbiAgcmV0dXJuIG91dDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFF1YWRUcmVlO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../glycan.js/lib/QuadTree.js\n");

/***/ }),

/***/ "../glycan.js/lib/canvas-mouse.js":
/*!****************************************!*\
  !*** ../glycan.js/lib/canvas-mouse.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*!\n\tcanvas-mouse 0.8.0-alpha\n\tCopyright (c) 2017 Epistemex\n\tMIT license.\n*/\n\n;\n\"use strict\";\n\n/**\n * A mouse and touch position handler for 2D canvas able to handle scaled\n * and transformed context and element.\n *\n * @param {CanvasRenderingContext2D} context - 2D context to bind to this instance\n * @param {CanvasMouseOptions} [options] - optional options object to allow for scale and transforms to be considered.\n * @constructor\n */\nfunction CanvasMouse(context, options) {\n  if (!(context instanceof CanvasRenderingContext2D)) throw \"Need a 2D canvas context.\";\n  options = Object.assign({\n    handleScale: false,\n    handleTransforms: false,\n    handleResize: true,\n    handleScroll: true,\n    onchange: null,\n    matrix: null,\n    plugins: []\n  }, options);\n  var me = this,\n    defProp = Object.defineProperty.bind(Object),\n    ref,\n    hasCurrentTransform = \"currentTransform\" in context || \"mozCurrentTransform\" in context,\n    plugins = options.plugins,\n    deltaX,\n    deltaY,\n    scaleX,\n    scaleY,\n    paddingBorderLeft,\n    paddingBorderTop,\n    canvas = context.canvas,\n    matrix = options.matrix,\n    imatrix = matrix ? matrix.inverse() : null,\n    doScale = options.handleScale,\n    doTransforms = options.handleTransforms && (hasCurrentTransform || matrix),\n    transform = matrix ? _transforms2 : _transforms;\n\n  /*--------------------------------------------------------------------\n       INTERNALS\n   --------------------------------------------------------------------*/\n\n  // check if we have matrix support\n  if (doTransforms && !hasCurrentTransform && !matrix) {\n    console.log(\"currentTransform not supported by browser\");\n    doTransforms = false;\n  }\n\n  // optimize inverse matrix extraction\n  function patchMatrix() {\n    if (matrix && !matrix._xx) {\n      matrix._xx = matrix._x;\n      matrix._x = function () {\n        imatrix = this.inverse();\n        return this._xx();\n      };\n    }\n  }\n\n  // Limit reflow so only read trigger values when absolutely needed\n  function init() {\n    var rect = canvas.getBoundingClientRect(),\n      cs = getComputedStyle(canvas),\n      prop = cs.getPropertyValue.bind(cs),\n      pFloat = parseFloat,\n      _p = \"padding-\",\n      _b = \"border-\",\n      _w = \"-width\",\n      L = \"left\",\n      R = \"right\",\n      T = \"top\",\n      B = \"bottom\";\n    paddingBorderLeft = pFloat(prop(_p + L)) + pFloat(prop(_b + L + _w));\n    paddingBorderTop = pFloat(prop(_p + T)) + pFloat(prop(_b + T + _w));\n    deltaX = rect.left + paddingBorderLeft;\n    deltaY = rect.top + paddingBorderTop;\n    scaleX = canvas.width / (rect.width - (paddingBorderLeft + pFloat(prop(_p + R)) + pFloat(prop(_b + R + _w)))) || 1;\n    scaleY = canvas.height / (rect.height - (paddingBorderTop + pFloat(prop(_p + B)) + pFloat(prop(_b + B + _w)))) || 1;\n  }\n\n  // debounce updates\n  function _handlerResize() {\n    cancelAnimationFrame(ref);\n    ref = requestAnimationFrame(_updateOnResize);\n  }\n\n  // debounce updates\n  function _handlerScroll() {\n    cancelAnimationFrame(ref);\n    ref = requestAnimationFrame(_updateOnScroll);\n  }\n  function _updateOnResize() {\n    init();\n    if (options.onchange) options.onchange({\n      type: \"resize\",\n      timeStamp: Date.now()\n    });\n  }\n  function _updateOnScroll() {\n    var rect = canvas.getBoundingClientRect();\n    deltaX = rect.left + paddingBorderLeft;\n    deltaY = rect.top + paddingBorderTop;\n    if (options.onchange) options.onchange({\n      type: \"scroll\",\n      timeStamp: Date.now()\n    });\n  }\n\n  /*--------------------------------------------------------------------\n       POINT CONVERTERS\n   --------------------------------------------------------------------*/\n\n  // Always called - converts event to relative position\n  function _basic(e) {\n    return {\n      x: e.clientX - deltaX,\n      y: e.clientY - deltaY,\n      timeStamp: e.timeStamp\n    };\n  }\n\n  // Scales the point (if enabled)\n  function _scale(pos) {\n    pos.x *= scaleX;\n    pos.y *= scaleY;\n    return pos;\n  }\n\n  // Transforms the point (if enabled) using the browsers' DOMMatrix\n  function _transforms(pos) {\n    var currentMatrix = context.currentTransform || context.mozCurrentTransform,\n      matrix,\n      imatrix;\n\n    // Convert from SVGMatrix (used by Chrome in experimental mode)\n    if (currentMatrix instanceof SVGMatrix) currentMatrix = DOMMatrix.fromMatrix(currentMatrix);\n\n    // Firefox returns Array instead of DOMMatrix..\n    matrix = typeof currentMatrix.a === \"undefined\" ? new DOMMatrix(currentMatrix) : currentMatrix;\n\n    // Eventually, get inverse matrix\n    imatrix = matrix.invertSelf();\n    return {\n      x: pos.x * imatrix.a + pos.y * imatrix.c + imatrix.e,\n      y: pos.x * imatrix.b + pos.y * imatrix.d + imatrix.f,\n      timeStamp: pos.timeStamp\n    };\n  }\n\n  // Transforms the point (if enabled) using the custom Matrix object\n  function _transforms2(pos) {\n    var newPos = imatrix.applyToPoint(pos.x, pos.y);\n    return {\n      x: newPos.x,\n      y: newPos.y,\n      timeStamp: pos.timeStamp\n    };\n  }\n\n  /*--------------------------------------------------------------------\n       PUBLIC METHODS\n   --------------------------------------------------------------------*/\n\n  /**\n   * Function to convert mouse or touch position to match the context\n   * and its element scale and transforms.\n   *\n   * @param {*} event - event object (mouse, touch) to use for conversion\n   * @returns {Point}\n   */\n  this.getPos = function (event) {\n    var pos = _basic(event);\n    if (doScale) pos = _scale(pos);\n    if (doTransforms) pos = transform(pos);\n    if (plugins.length) {\n      for (var i = 0; i < plugins.length; i++) {\n        pos = plugins[i].handler(event, pos);\n      }\n    }\n    return pos;\n  };\n\n  /**\n   * Pass in custom x and y point to convert to new position relative to\n   * bound context. The way it's calculated depends on the options set\n   * when creating the instance.\n   *\n   * The method can take both a Point object, or two numbers.\n   *\n   * @param {number|Point} x - x position to convert, or if Point the x and y of the object.\n   * @param {number} [y] - y position to convert (not used if Point object is provided).\n   * @returns {Point}\n   */\n  this.getPosXY = function (x, y) {\n    var _x; // to allow optimization (always a number)\n    if (arguments.length === 1) {\n      y = x.y;\n      _x = x.x;\n    } else _x = x;\n    return me.getPos({\n      clientX: _x / scaleX + deltaX,\n      clientY: y / scaleY + deltaY,\n      timestamp: Date.now()\n    });\n  };\n\n  /**\n   * Adds a plugin that is an object providing a `handler()` method\n   * which takes original event and a point as argument in that order.\n   * @param {*} plugin - plugin object to add\n   */\n  this.addPlugin = function (plugin) {\n    if (plugins.indexOf(plugin) < 0) plugins.push(plugin);\n  };\n\n  /**\n   * Removes a previously added plugin object. Must be the same instance\n   * as added.\n   * @param {*} plugin\n   */\n  this.removePlugin = function (plugin) {\n    var i = plugins.indexOf(plugin);\n    if (i > -1) plugins.splice(i, 1);\n  };\n\n  /**\n   * Force re-initialization. Use if canvas element have either border, padding\n   * or size changed.\n   * @method\n   */\n  this.init = init;\n\n  /**\n   * Used to manually update relative position in client if not caught\n   * automatically by internals (scroll and resize).\n   * @method\n   */\n  this.update = _updateOnScroll;\n\n  /*--------------------------------------------------------------------\n       PUBLIC PROPERTIES\n   --------------------------------------------------------------------*/\n\n  /**\n   * Set or get handleScale status. Can be toggled at any time and will\n   * affect next position calculations.\n   * @member {boolean} CanvasMouse#handleScale\n   */\n  defProp(me, \"handleScale\", {\n    get: function get() {\n      return doScale;\n    },\n    set: function set(state) {\n      doScale = !!state;\n    }\n  });\n\n  /**\n   * Set or get handleTransforms status. Can be toggled at any time and will\n   * affect next position calculations. **Note** that if the browser does not\n   * support currentTransform and a custom Matrix is not provided the flag\n   * will be set to false regardless.\n   * @member {boolean} CanvasMouse#handleTransforms\n   */\n  defProp(me, \"handleTransforms\", {\n    get: function get() {\n      return doTransforms;\n    },\n    set: function set(state) {\n      doTransforms = !!state && (hasCurrentTransform || matrix);\n    }\n  });\n\n  /**\n   * Set or get handleScroll status. Can be toggled at any time and will\n   * affect position based on document scrolling.\n   * @member {boolean} CanvasMouse#handleScroll\n   */\n  defProp(me, \"handleScroll\", {\n    get: function get() {\n      return options.handleScroll;\n    },\n    set: function set(state) {\n      if (state) {\n        window.addEventListener(\"scroll\", _handlerScroll);\n        options.handleScroll = true;\n      } else {\n        window.removeEventListener(\"scroll\", _handlerScroll);\n        options.handleScroll = false;\n      }\n    }\n  });\n\n  /**\n   * Set or get handleResize status. Can be toggled at any time and will\n   * affect position based on document resizing.\n   * @member {boolean} CanvasMouse#handleResize\n   */\n  defProp(me, \"handleResize\", {\n    get: function get() {\n      return options.handleResize;\n    },\n    set: function set(state) {\n      if (state) {\n        window.addEventListener(\"resize\", _handlerResize);\n        options.handleResize = true;\n      } else {\n        window.removeEventListener(\"resize\", _handlerResize);\n        options.handleResize = false;\n      }\n    }\n  });\n\n  /**\n   * Set or get callback handler for resize and scroll events if they are enabled.\n   * @member {boolean} CanvasMouse#onchange\n   */\n  defProp(me, \"onchange\", {\n    get: function get() {\n      return options.onchange;\n    },\n    set: function set(handler) {\n      options.onchange = handler;\n    }\n  });\n\n  /**\n   * Set or get custom matrix object. If set will override and patch the\n   * provided matrix.\n   * @member {Matrix} CanvasMouse#matrix\n   */\n  defProp(me, \"matrix\", {\n    get: function get() {\n      return matrix;\n    },\n    set: function set(newMatrix) {\n      matrix = newMatrix;\n      doTransforms = doTransforms && (hasCurrentTransform || matrix);\n      patchMatrix();\n    }\n  });\n\n  /*--------------------------------------------------------------------\n       INITIALIZE INSTANCE\n   --------------------------------------------------------------------*/\n\n  patchMatrix();\n  init();\n  me.handleResize = options.handleResize;\n  me.handleScroll = options.handleScroll;\n}\n\n/**\n * Valid properties for the option object passed to CanvasMouse constructor.\n * The object is intended to be an literal object.\n *\n * The default settings handle padding and borders.\n *\n * @name CanvasMouseOptions\n * @prop {boolean} [handleScale=false] - handles situations where element size is different than the bitmap size.\n * @prop {boolean} [handleTransforms=false] - consider transforms applied to the context when calculating position.\n *  Note that this require either `currentTransform` support on the context,\n *  or the use of a custom Matrix solution (github.com/epistemex/transformation-matrix-js).\n * @prop {boolean} [handleResize=true] - handles resize of browser window triggering re-initialization\n * @prop {boolean} [handleScroll=true] - handles scrolling of browser window triggering re-initialization\n * @prop {Matrix} [matrix=null] - to support broader range of browser a custom matrix object can be passed already bound\n *  to the current context (same as passed as argument). Using a custom matrix will require the transforms to be called on this\n *  instead of the context itself.\n * @prop {Array} [plugins] - array holding plugin objects. Plugins can be added and removed at a later point too.\n * @prop {Function} [onchange=null] - callback for scroll/resize events. \"Event\" holds `timeStamp` (integer) and `type` (string) properties. `type` can be \"scroll\" or \"resize\".\n *  Note that this callback is *debounced* and recommended to handle scroll/resize callback to update the canvas.\n */\n\n/**\n * Point object\n * @name Point\n * @prop {number} x - floating point number for x position\n * @prop {number} y - floating point number for y position\n * @prop {number} timeStamp - timestamp for when event happened\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CanvasMouse);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL2xpYi9jYW52YXMtbW91c2UuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZ2x5Y2FuLmpzL2xpYi9jYW52YXMtbW91c2UuanM/YTJkNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcblx0Y2FudmFzLW1vdXNlIDAuOC4wLWFscGhhXG5cdENvcHlyaWdodCAoYykgMjAxNyBFcGlzdGVtZXhcblx0TUlUIGxpY2Vuc2UuXG4qL1xuXG47XCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQSBtb3VzZSBhbmQgdG91Y2ggcG9zaXRpb24gaGFuZGxlciBmb3IgMkQgY2FudmFzIGFibGUgdG8gaGFuZGxlIHNjYWxlZFxuICogYW5kIHRyYW5zZm9ybWVkIGNvbnRleHQgYW5kIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgLSAyRCBjb250ZXh0IHRvIGJpbmQgdG8gdGhpcyBpbnN0YW5jZVxuICogQHBhcmFtIHtDYW52YXNNb3VzZU9wdGlvbnN9IFtvcHRpb25zXSAtIG9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRvIGFsbG93IGZvciBzY2FsZSBhbmQgdHJhbnNmb3JtcyB0byBiZSBjb25zaWRlcmVkLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIENhbnZhc01vdXNlKGNvbnRleHQsIG9wdGlvbnMpIHtcblxuICBpZiAoIShjb250ZXh0IGluc3RhbmNlb2YgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSlcbiAgICB0aHJvdyBcIk5lZWQgYSAyRCBjYW52YXMgY29udGV4dC5cIjtcblxuICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgaGFuZGxlU2NhbGU6IGZhbHNlLFxuICAgIGhhbmRsZVRyYW5zZm9ybXM6IGZhbHNlLFxuICAgIGhhbmRsZVJlc2l6ZTogdHJ1ZSxcbiAgICBoYW5kbGVTY3JvbGw6IHRydWUsXG4gICAgb25jaGFuZ2U6IG51bGwsXG4gICAgbWF0cml4OiBudWxsLFxuICAgIHBsdWdpbnM6IFtdXG4gIH0sIG9wdGlvbnMpO1xuICB2YXJcbiAgICBtZSA9IHRoaXMsXG4gICAgZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5iaW5kKE9iamVjdCksXG4gICAgcmVmLFxuICAgIGhhc0N1cnJlbnRUcmFuc2Zvcm0gPSAoXCJjdXJyZW50VHJhbnNmb3JtXCIgaW4gY29udGV4dCB8fCBcIm1vekN1cnJlbnRUcmFuc2Zvcm1cIiBpbiBjb250ZXh0KSxcbiAgICBwbHVnaW5zID0gb3B0aW9ucy5wbHVnaW5zLFxuICAgIGRlbHRhWCxcbiAgICBkZWx0YVksXG4gICAgc2NhbGVYLFxuICAgIHNjYWxlWSxcbiAgICBwYWRkaW5nQm9yZGVyTGVmdCxcbiAgICBwYWRkaW5nQm9yZGVyVG9wLFxuICAgIGNhbnZhcyA9IGNvbnRleHQuY2FudmFzLFxuICAgIG1hdHJpeCA9IG9wdGlvbnMubWF0cml4LFxuICAgIGltYXRyaXggPSBtYXRyaXggPyBtYXRyaXguaW52ZXJzZSgpIDogbnVsbCxcbiAgICBkb1NjYWxlID0gb3B0aW9ucy5oYW5kbGVTY2FsZSxcbiAgICBkb1RyYW5zZm9ybXMgPSBvcHRpb25zLmhhbmRsZVRyYW5zZm9ybXMgJiYgKGhhc0N1cnJlbnRUcmFuc2Zvcm0gfHwgbWF0cml4KSxcbiAgICB0cmFuc2Zvcm0gPSBtYXRyaXggPyBfdHJhbnNmb3JtczIgOiBfdHJhbnNmb3JtcztcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgIElOVEVSTkFMU1xuXG4gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvLyBjaGVjayBpZiB3ZSBoYXZlIG1hdHJpeCBzdXBwb3J0XG4gIGlmIChkb1RyYW5zZm9ybXMgJiYgIWhhc0N1cnJlbnRUcmFuc2Zvcm0gJiYgIW1hdHJpeCkge1xuICAgIGNvbnNvbGUubG9nKFwiY3VycmVudFRyYW5zZm9ybSBub3Qgc3VwcG9ydGVkIGJ5IGJyb3dzZXJcIik7XG4gICAgZG9UcmFuc2Zvcm1zID0gZmFsc2U7XG4gIH1cblxuICAvLyBvcHRpbWl6ZSBpbnZlcnNlIG1hdHJpeCBleHRyYWN0aW9uXG4gIGZ1bmN0aW9uIHBhdGNoTWF0cml4KCkge1xuICAgIGlmIChtYXRyaXggJiYgIW1hdHJpeC5feHgpIHtcbiAgICAgIG1hdHJpeC5feHggPSBtYXRyaXguX3g7XG4gICAgICBtYXRyaXguX3ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaW1hdHJpeCA9IHRoaXMuaW52ZXJzZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5feHgoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBMaW1pdCByZWZsb3cgc28gb25seSByZWFkIHRyaWdnZXIgdmFsdWVzIHdoZW4gYWJzb2x1dGVseSBuZWVkZWRcbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICB2YXJcbiAgICAgIHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICBjcyA9IGdldENvbXB1dGVkU3R5bGUoY2FudmFzKSxcbiAgICAgIHByb3AgPSBjcy5nZXRQcm9wZXJ0eVZhbHVlLmJpbmQoY3MpLFxuICAgICAgcEZsb2F0ID0gcGFyc2VGbG9hdCxcbiAgICAgIF9wID0gXCJwYWRkaW5nLVwiLCBfYiA9IFwiYm9yZGVyLVwiLCBfdyA9IFwiLXdpZHRoXCIsXG4gICAgICBMID0gXCJsZWZ0XCIsIFIgPSBcInJpZ2h0XCIsIFQgPSBcInRvcFwiLCBCID0gXCJib3R0b21cIjtcblxuICAgIHBhZGRpbmdCb3JkZXJMZWZ0ID0gcEZsb2F0KHByb3AoX3AgKyBMKSkgKyBwRmxvYXQocHJvcChfYiArIEwgKyBfdykpO1xuICAgIHBhZGRpbmdCb3JkZXJUb3AgPSBwRmxvYXQocHJvcChfcCArIFQpKSArIHBGbG9hdChwcm9wKF9iICsgVCArIF93KSk7XG4gICAgZGVsdGFYID0gcmVjdC5sZWZ0ICsgcGFkZGluZ0JvcmRlckxlZnQ7XG4gICAgZGVsdGFZID0gcmVjdC50b3AgKyBwYWRkaW5nQm9yZGVyVG9wO1xuICAgIHNjYWxlWCA9IChjYW52YXMud2lkdGggLyAocmVjdC53aWR0aCAtIChwYWRkaW5nQm9yZGVyTGVmdCArIHBGbG9hdChwcm9wKF9wICsgUikpICsgcEZsb2F0KHByb3AoX2IgKyBSICsgX3cpKSkpKSB8fCAxO1xuICAgIHNjYWxlWSA9IChjYW52YXMuaGVpZ2h0IC8gKHJlY3QuaGVpZ2h0IC0gKHBhZGRpbmdCb3JkZXJUb3AgKyBwRmxvYXQocHJvcChfcCArIEIpKSArIHBGbG9hdChwcm9wKF9iICsgQiArIF93KSkpKSkgfHwgMTtcbiAgfVxuXG4gIC8vIGRlYm91bmNlIHVwZGF0ZXNcbiAgZnVuY3Rpb24gX2hhbmRsZXJSZXNpemUoKSB7XG4gICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmVmKTtcbiAgICByZWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoX3VwZGF0ZU9uUmVzaXplKVxuICB9XG5cbiAgLy8gZGVib3VuY2UgdXBkYXRlc1xuICBmdW5jdGlvbiBfaGFuZGxlclNjcm9sbCgpIHtcbiAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyZWYpO1xuICAgIHJlZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShfdXBkYXRlT25TY3JvbGwpXG4gIH1cblxuICBmdW5jdGlvbiBfdXBkYXRlT25SZXNpemUoKSB7XG4gICAgaW5pdCgpO1xuICAgIGlmIChvcHRpb25zLm9uY2hhbmdlKSBvcHRpb25zLm9uY2hhbmdlKHt0eXBlOiBcInJlc2l6ZVwiLCB0aW1lU3RhbXA6IERhdGUubm93KCl9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF91cGRhdGVPblNjcm9sbCgpIHtcbiAgICB2YXIgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBkZWx0YVggPSByZWN0LmxlZnQgKyBwYWRkaW5nQm9yZGVyTGVmdDtcbiAgICBkZWx0YVkgPSByZWN0LnRvcCArIHBhZGRpbmdCb3JkZXJUb3A7XG4gICAgaWYgKG9wdGlvbnMub25jaGFuZ2UpIG9wdGlvbnMub25jaGFuZ2Uoe3R5cGU6IFwic2Nyb2xsXCIsIHRpbWVTdGFtcDogRGF0ZS5ub3coKX0pO1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICBQT0lOVCBDT05WRVJURVJTXG5cbiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8vIEFsd2F5cyBjYWxsZWQgLSBjb252ZXJ0cyBldmVudCB0byByZWxhdGl2ZSBwb3NpdGlvblxuICBmdW5jdGlvbiBfYmFzaWMoZSkge1xuICAgIHJldHVybiB7XG4gICAgICB4OiBlLmNsaWVudFggLSBkZWx0YVgsXG4gICAgICB5OiBlLmNsaWVudFkgLSBkZWx0YVksXG4gICAgICB0aW1lU3RhbXA6IGUudGltZVN0YW1wXG4gICAgfVxuICB9XG5cbiAgLy8gU2NhbGVzIHRoZSBwb2ludCAoaWYgZW5hYmxlZClcbiAgZnVuY3Rpb24gX3NjYWxlKHBvcykge1xuICAgIHBvcy54ICo9IHNjYWxlWDtcbiAgICBwb3MueSAqPSBzY2FsZVk7XG4gICAgcmV0dXJuIHBvc1xuICB9XG5cbiAgLy8gVHJhbnNmb3JtcyB0aGUgcG9pbnQgKGlmIGVuYWJsZWQpIHVzaW5nIHRoZSBicm93c2VycycgRE9NTWF0cml4XG4gIGZ1bmN0aW9uIF90cmFuc2Zvcm1zKHBvcykge1xuICAgIHZhclxuICAgICAgY3VycmVudE1hdHJpeCA9IChjb250ZXh0LmN1cnJlbnRUcmFuc2Zvcm0gfHwgY29udGV4dC5tb3pDdXJyZW50VHJhbnNmb3JtKSxcbiAgICAgIG1hdHJpeCxcbiAgICAgIGltYXRyaXg7XG5cbiAgICAvLyBDb252ZXJ0IGZyb20gU1ZHTWF0cml4ICh1c2VkIGJ5IENocm9tZSBpbiBleHBlcmltZW50YWwgbW9kZSlcbiAgICBpZiAoY3VycmVudE1hdHJpeCBpbnN0YW5jZW9mIFNWR01hdHJpeClcbiAgICAgIGN1cnJlbnRNYXRyaXggPSBET01NYXRyaXguZnJvbU1hdHJpeChjdXJyZW50TWF0cml4KTtcblxuICAgIC8vIEZpcmVmb3ggcmV0dXJucyBBcnJheSBpbnN0ZWFkIG9mIERPTU1hdHJpeC4uXG4gICAgbWF0cml4ID0gdHlwZW9mIGN1cnJlbnRNYXRyaXguYSA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgPyBuZXcgRE9NTWF0cml4KGN1cnJlbnRNYXRyaXgpXG4gICAgICA6IGN1cnJlbnRNYXRyaXg7XG5cbiAgICAvLyBFdmVudHVhbGx5LCBnZXQgaW52ZXJzZSBtYXRyaXhcbiAgICBpbWF0cml4ID0gbWF0cml4LmludmVydFNlbGYoKTtcblxuICAgIHJldHVybiB7XG4gICAgICB4OiBwb3MueCAqIGltYXRyaXguYSArIHBvcy55ICogaW1hdHJpeC5jICsgaW1hdHJpeC5lLFxuICAgICAgeTogcG9zLnggKiBpbWF0cml4LmIgKyBwb3MueSAqIGltYXRyaXguZCArIGltYXRyaXguZixcbiAgICAgIHRpbWVTdGFtcDogcG9zLnRpbWVTdGFtcFxuICAgIH1cbiAgfVxuXG4gIC8vIFRyYW5zZm9ybXMgdGhlIHBvaW50IChpZiBlbmFibGVkKSB1c2luZyB0aGUgY3VzdG9tIE1hdHJpeCBvYmplY3RcbiAgZnVuY3Rpb24gX3RyYW5zZm9ybXMyKHBvcykge1xuICAgIHZhciBuZXdQb3MgPSBpbWF0cml4LmFwcGx5VG9Qb2ludChwb3MueCwgcG9zLnkpO1xuICAgIHJldHVybiB7XG4gICAgICB4OiBuZXdQb3MueCxcbiAgICAgIHk6IG5ld1Bvcy55LFxuICAgICAgdGltZVN0YW1wOiBwb3MudGltZVN0YW1wXG4gICAgfVxuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICBQVUJMSUMgTUVUSE9EU1xuXG4gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogRnVuY3Rpb24gdG8gY29udmVydCBtb3VzZSBvciB0b3VjaCBwb3NpdGlvbiB0byBtYXRjaCB0aGUgY29udGV4dFxuICAgKiBhbmQgaXRzIGVsZW1lbnQgc2NhbGUgYW5kIHRyYW5zZm9ybXMuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZXZlbnQgLSBldmVudCBvYmplY3QgKG1vdXNlLCB0b3VjaCkgdG8gdXNlIGZvciBjb252ZXJzaW9uXG4gICAqIEByZXR1cm5zIHtQb2ludH1cbiAgICovXG4gIHRoaXMuZ2V0UG9zID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgcG9zID0gX2Jhc2ljKGV2ZW50KTtcbiAgICBpZiAoZG9TY2FsZSkgcG9zID0gX3NjYWxlKHBvcyk7XG4gICAgaWYgKGRvVHJhbnNmb3JtcykgcG9zID0gdHJhbnNmb3JtKHBvcyk7XG4gICAgaWYgKHBsdWdpbnMubGVuZ3RoKSB7XG4gICAgICBmb3IodmFyIGkgPSAwOyBpIDwgcGx1Z2lucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBwb3MgPSBwbHVnaW5zW2ldLmhhbmRsZXIoZXZlbnQsIHBvcyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwb3NcbiAgfTtcblxuICAvKipcbiAgICogUGFzcyBpbiBjdXN0b20geCBhbmQgeSBwb2ludCB0byBjb252ZXJ0IHRvIG5ldyBwb3NpdGlvbiByZWxhdGl2ZSB0b1xuICAgKiBib3VuZCBjb250ZXh0LiBUaGUgd2F5IGl0J3MgY2FsY3VsYXRlZCBkZXBlbmRzIG9uIHRoZSBvcHRpb25zIHNldFxuICAgKiB3aGVuIGNyZWF0aW5nIHRoZSBpbnN0YW5jZS5cbiAgICpcbiAgICogVGhlIG1ldGhvZCBjYW4gdGFrZSBib3RoIGEgUG9pbnQgb2JqZWN0LCBvciB0d28gbnVtYmVycy5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ8UG9pbnR9IHggLSB4IHBvc2l0aW9uIHRvIGNvbnZlcnQsIG9yIGlmIFBvaW50IHRoZSB4IGFuZCB5IG9mIHRoZSBvYmplY3QuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbeV0gLSB5IHBvc2l0aW9uIHRvIGNvbnZlcnQgKG5vdCB1c2VkIGlmIFBvaW50IG9iamVjdCBpcyBwcm92aWRlZCkuXG4gICAqIEByZXR1cm5zIHtQb2ludH1cbiAgICovXG4gIHRoaXMuZ2V0UG9zWFkgPSBmdW5jdGlvbih4LCB5KSB7XG4gICAgdmFyIF94OyAvLyB0byBhbGxvdyBvcHRpbWl6YXRpb24gKGFsd2F5cyBhIG51bWJlcilcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgeSA9IHgueTtcbiAgICAgIF94ID0geC54O1xuICAgIH1cbiAgICBlbHNlIF94ID0geDtcblxuICAgIHJldHVybiBtZS5nZXRQb3Moe1xuICAgICAgY2xpZW50WDogX3ggLyBzY2FsZVggKyBkZWx0YVgsXG4gICAgICBjbGllbnRZOiB5IC8gc2NhbGVZICsgZGVsdGFZLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgfSlcbiAgfTtcblxuICAvKipcbiAgICogQWRkcyBhIHBsdWdpbiB0aGF0IGlzIGFuIG9iamVjdCBwcm92aWRpbmcgYSBgaGFuZGxlcigpYCBtZXRob2RcbiAgICogd2hpY2ggdGFrZXMgb3JpZ2luYWwgZXZlbnQgYW5kIGEgcG9pbnQgYXMgYXJndW1lbnQgaW4gdGhhdCBvcmRlci5cbiAgICogQHBhcmFtIHsqfSBwbHVnaW4gLSBwbHVnaW4gb2JqZWN0IHRvIGFkZFxuICAgKi9cbiAgdGhpcy5hZGRQbHVnaW4gPSBmdW5jdGlvbihwbHVnaW4pIHtcbiAgICBpZiAocGx1Z2lucy5pbmRleE9mKHBsdWdpbikgPCAwKSBwbHVnaW5zLnB1c2gocGx1Z2luKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlcyBhIHByZXZpb3VzbHkgYWRkZWQgcGx1Z2luIG9iamVjdC4gTXVzdCBiZSB0aGUgc2FtZSBpbnN0YW5jZVxuICAgKiBhcyBhZGRlZC5cbiAgICogQHBhcmFtIHsqfSBwbHVnaW5cbiAgICovXG4gIHRoaXMucmVtb3ZlUGx1Z2luID0gZnVuY3Rpb24ocGx1Z2luKSB7XG4gICAgdmFyIGkgPSBwbHVnaW5zLmluZGV4T2YocGx1Z2luKTtcbiAgICBpZiAoaSA+IC0xKSBwbHVnaW5zLnNwbGljZShpLCAxKTtcbiAgfTtcblxuICAvKipcbiAgICogRm9yY2UgcmUtaW5pdGlhbGl6YXRpb24uIFVzZSBpZiBjYW52YXMgZWxlbWVudCBoYXZlIGVpdGhlciBib3JkZXIsIHBhZGRpbmdcbiAgICogb3Igc2l6ZSBjaGFuZ2VkLlxuICAgKiBAbWV0aG9kXG4gICAqL1xuICB0aGlzLmluaXQgPSBpbml0O1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hbnVhbGx5IHVwZGF0ZSByZWxhdGl2ZSBwb3NpdGlvbiBpbiBjbGllbnQgaWYgbm90IGNhdWdodFxuICAgKiBhdXRvbWF0aWNhbGx5IGJ5IGludGVybmFscyAoc2Nyb2xsIGFuZCByZXNpemUpLlxuICAgKiBAbWV0aG9kXG4gICAqL1xuICB0aGlzLnVwZGF0ZSA9IF91cGRhdGVPblNjcm9sbDtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgIFBVQkxJQyBQUk9QRVJUSUVTXG5cbiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBTZXQgb3IgZ2V0IGhhbmRsZVNjYWxlIHN0YXR1cy4gQ2FuIGJlIHRvZ2dsZWQgYXQgYW55IHRpbWUgYW5kIHdpbGxcbiAgICogYWZmZWN0IG5leHQgcG9zaXRpb24gY2FsY3VsYXRpb25zLlxuICAgKiBAbWVtYmVyIHtib29sZWFufSBDYW52YXNNb3VzZSNoYW5kbGVTY2FsZVxuICAgKi9cbiAgZGVmUHJvcChtZSwgXCJoYW5kbGVTY2FsZVwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtyZXR1cm4gZG9TY2FsZX0sXG4gICAgc2V0OiBmdW5jdGlvbihzdGF0ZSkge2RvU2NhbGUgPSAhIXN0YXRlfVxuICB9KTtcblxuICAvKipcbiAgICogU2V0IG9yIGdldCBoYW5kbGVUcmFuc2Zvcm1zIHN0YXR1cy4gQ2FuIGJlIHRvZ2dsZWQgYXQgYW55IHRpbWUgYW5kIHdpbGxcbiAgICogYWZmZWN0IG5leHQgcG9zaXRpb24gY2FsY3VsYXRpb25zLiAqKk5vdGUqKiB0aGF0IGlmIHRoZSBicm93c2VyIGRvZXMgbm90XG4gICAqIHN1cHBvcnQgY3VycmVudFRyYW5zZm9ybSBhbmQgYSBjdXN0b20gTWF0cml4IGlzIG5vdCBwcm92aWRlZCB0aGUgZmxhZ1xuICAgKiB3aWxsIGJlIHNldCB0byBmYWxzZSByZWdhcmRsZXNzLlxuICAgKiBAbWVtYmVyIHtib29sZWFufSBDYW52YXNNb3VzZSNoYW5kbGVUcmFuc2Zvcm1zXG4gICAqL1xuICBkZWZQcm9wKG1lLCBcImhhbmRsZVRyYW5zZm9ybXNcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7cmV0dXJuIGRvVHJhbnNmb3Jtc30sXG4gICAgc2V0OiBmdW5jdGlvbihzdGF0ZSkge1xuICAgICAgZG9UcmFuc2Zvcm1zID0gISFzdGF0ZSAmJiAoaGFzQ3VycmVudFRyYW5zZm9ybSB8fCBtYXRyaXgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFNldCBvciBnZXQgaGFuZGxlU2Nyb2xsIHN0YXR1cy4gQ2FuIGJlIHRvZ2dsZWQgYXQgYW55IHRpbWUgYW5kIHdpbGxcbiAgICogYWZmZWN0IHBvc2l0aW9uIGJhc2VkIG9uIGRvY3VtZW50IHNjcm9sbGluZy5cbiAgICogQG1lbWJlciB7Ym9vbGVhbn0gQ2FudmFzTW91c2UjaGFuZGxlU2Nyb2xsXG4gICAqL1xuICBkZWZQcm9wKG1lLCBcImhhbmRsZVNjcm9sbFwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtyZXR1cm4gb3B0aW9ucy5oYW5kbGVTY3JvbGx9LFxuICAgIHNldDogZnVuY3Rpb24oc3RhdGUpIHtcbiAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBfaGFuZGxlclNjcm9sbCk7XG4gICAgICAgIG9wdGlvbnMuaGFuZGxlU2Nyb2xsID0gdHJ1ZVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIF9oYW5kbGVyU2Nyb2xsKTtcbiAgICAgICAgb3B0aW9ucy5oYW5kbGVTY3JvbGwgPSBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFNldCBvciBnZXQgaGFuZGxlUmVzaXplIHN0YXR1cy4gQ2FuIGJlIHRvZ2dsZWQgYXQgYW55IHRpbWUgYW5kIHdpbGxcbiAgICogYWZmZWN0IHBvc2l0aW9uIGJhc2VkIG9uIGRvY3VtZW50IHJlc2l6aW5nLlxuICAgKiBAbWVtYmVyIHtib29sZWFufSBDYW52YXNNb3VzZSNoYW5kbGVSZXNpemVcbiAgICovXG4gIGRlZlByb3AobWUsIFwiaGFuZGxlUmVzaXplXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge3JldHVybiBvcHRpb25zLmhhbmRsZVJlc2l6ZX0sXG4gICAgc2V0OiBmdW5jdGlvbihzdGF0ZSkge1xuICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIF9oYW5kbGVyUmVzaXplKTtcbiAgICAgICAgb3B0aW9ucy5oYW5kbGVSZXNpemUgPSB0cnVlXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgX2hhbmRsZXJSZXNpemUpO1xuICAgICAgICBvcHRpb25zLmhhbmRsZVJlc2l6ZSA9IGZhbHNlXG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogU2V0IG9yIGdldCBjYWxsYmFjayBoYW5kbGVyIGZvciByZXNpemUgYW5kIHNjcm9sbCBldmVudHMgaWYgdGhleSBhcmUgZW5hYmxlZC5cbiAgICogQG1lbWJlciB7Ym9vbGVhbn0gQ2FudmFzTW91c2Ujb25jaGFuZ2VcbiAgICovXG4gIGRlZlByb3AobWUsIFwib25jaGFuZ2VcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7cmV0dXJuIG9wdGlvbnMub25jaGFuZ2V9LFxuICAgIHNldDogZnVuY3Rpb24oaGFuZGxlcikge29wdGlvbnMub25jaGFuZ2UgPSBoYW5kbGVyfVxuICB9KTtcblxuICAvKipcbiAgICogU2V0IG9yIGdldCBjdXN0b20gbWF0cml4IG9iamVjdC4gSWYgc2V0IHdpbGwgb3ZlcnJpZGUgYW5kIHBhdGNoIHRoZVxuICAgKiBwcm92aWRlZCBtYXRyaXguXG4gICAqIEBtZW1iZXIge01hdHJpeH0gQ2FudmFzTW91c2UjbWF0cml4XG4gICAqL1xuICBkZWZQcm9wKG1lLCBcIm1hdHJpeFwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtyZXR1cm4gbWF0cml4fSxcbiAgICBzZXQ6IGZ1bmN0aW9uKG5ld01hdHJpeCkge1xuICAgICAgbWF0cml4ID0gbmV3TWF0cml4O1xuICAgICAgZG9UcmFuc2Zvcm1zID0gZG9UcmFuc2Zvcm1zICYmIChoYXNDdXJyZW50VHJhbnNmb3JtIHx8IG1hdHJpeCk7XG4gICAgICBwYXRjaE1hdHJpeCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICBJTklUSUFMSVpFIElOU1RBTkNFXG5cbiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIHBhdGNoTWF0cml4KCk7XG4gIGluaXQoKTtcblxuICBtZS5oYW5kbGVSZXNpemUgPSBvcHRpb25zLmhhbmRsZVJlc2l6ZTtcbiAgbWUuaGFuZGxlU2Nyb2xsID0gb3B0aW9ucy5oYW5kbGVTY3JvbGw7XG59XG5cbi8qKlxuICogVmFsaWQgcHJvcGVydGllcyBmb3IgdGhlIG9wdGlvbiBvYmplY3QgcGFzc2VkIHRvIENhbnZhc01vdXNlIGNvbnN0cnVjdG9yLlxuICogVGhlIG9iamVjdCBpcyBpbnRlbmRlZCB0byBiZSBhbiBsaXRlcmFsIG9iamVjdC5cbiAqXG4gKiBUaGUgZGVmYXVsdCBzZXR0aW5ncyBoYW5kbGUgcGFkZGluZyBhbmQgYm9yZGVycy5cbiAqXG4gKiBAbmFtZSBDYW52YXNNb3VzZU9wdGlvbnNcbiAqIEBwcm9wIHtib29sZWFufSBbaGFuZGxlU2NhbGU9ZmFsc2VdIC0gaGFuZGxlcyBzaXR1YXRpb25zIHdoZXJlIGVsZW1lbnQgc2l6ZSBpcyBkaWZmZXJlbnQgdGhhbiB0aGUgYml0bWFwIHNpemUuXG4gKiBAcHJvcCB7Ym9vbGVhbn0gW2hhbmRsZVRyYW5zZm9ybXM9ZmFsc2VdIC0gY29uc2lkZXIgdHJhbnNmb3JtcyBhcHBsaWVkIHRvIHRoZSBjb250ZXh0IHdoZW4gY2FsY3VsYXRpbmcgcG9zaXRpb24uXG4gKiAgTm90ZSB0aGF0IHRoaXMgcmVxdWlyZSBlaXRoZXIgYGN1cnJlbnRUcmFuc2Zvcm1gIHN1cHBvcnQgb24gdGhlIGNvbnRleHQsXG4gKiAgb3IgdGhlIHVzZSBvZiBhIGN1c3RvbSBNYXRyaXggc29sdXRpb24gKGdpdGh1Yi5jb20vZXBpc3RlbWV4L3RyYW5zZm9ybWF0aW9uLW1hdHJpeC1qcykuXG4gKiBAcHJvcCB7Ym9vbGVhbn0gW2hhbmRsZVJlc2l6ZT10cnVlXSAtIGhhbmRsZXMgcmVzaXplIG9mIGJyb3dzZXIgd2luZG93IHRyaWdnZXJpbmcgcmUtaW5pdGlhbGl6YXRpb25cbiAqIEBwcm9wIHtib29sZWFufSBbaGFuZGxlU2Nyb2xsPXRydWVdIC0gaGFuZGxlcyBzY3JvbGxpbmcgb2YgYnJvd3NlciB3aW5kb3cgdHJpZ2dlcmluZyByZS1pbml0aWFsaXphdGlvblxuICogQHByb3Age01hdHJpeH0gW21hdHJpeD1udWxsXSAtIHRvIHN1cHBvcnQgYnJvYWRlciByYW5nZSBvZiBicm93c2VyIGEgY3VzdG9tIG1hdHJpeCBvYmplY3QgY2FuIGJlIHBhc3NlZCBhbHJlYWR5IGJvdW5kXG4gKiAgdG8gdGhlIGN1cnJlbnQgY29udGV4dCAoc2FtZSBhcyBwYXNzZWQgYXMgYXJndW1lbnQpLiBVc2luZyBhIGN1c3RvbSBtYXRyaXggd2lsbCByZXF1aXJlIHRoZSB0cmFuc2Zvcm1zIHRvIGJlIGNhbGxlZCBvbiB0aGlzXG4gKiAgaW5zdGVhZCBvZiB0aGUgY29udGV4dCBpdHNlbGYuXG4gKiBAcHJvcCB7QXJyYXl9IFtwbHVnaW5zXSAtIGFycmF5IGhvbGRpbmcgcGx1Z2luIG9iamVjdHMuIFBsdWdpbnMgY2FuIGJlIGFkZGVkIGFuZCByZW1vdmVkIGF0IGEgbGF0ZXIgcG9pbnQgdG9vLlxuICogQHByb3Age0Z1bmN0aW9ufSBbb25jaGFuZ2U9bnVsbF0gLSBjYWxsYmFjayBmb3Igc2Nyb2xsL3Jlc2l6ZSBldmVudHMuIFwiRXZlbnRcIiBob2xkcyBgdGltZVN0YW1wYCAoaW50ZWdlcikgYW5kIGB0eXBlYCAoc3RyaW5nKSBwcm9wZXJ0aWVzLiBgdHlwZWAgY2FuIGJlIFwic2Nyb2xsXCIgb3IgXCJyZXNpemVcIi5cbiAqICBOb3RlIHRoYXQgdGhpcyBjYWxsYmFjayBpcyAqZGVib3VuY2VkKiBhbmQgcmVjb21tZW5kZWQgdG8gaGFuZGxlIHNjcm9sbC9yZXNpemUgY2FsbGJhY2sgdG8gdXBkYXRlIHRoZSBjYW52YXMuXG4gKi9cblxuLyoqXG4gKiBQb2ludCBvYmplY3RcbiAqIEBuYW1lIFBvaW50XG4gKiBAcHJvcCB7bnVtYmVyfSB4IC0gZmxvYXRpbmcgcG9pbnQgbnVtYmVyIGZvciB4IHBvc2l0aW9uXG4gKiBAcHJvcCB7bnVtYmVyfSB5IC0gZmxvYXRpbmcgcG9pbnQgbnVtYmVyIGZvciB5IHBvc2l0aW9uXG4gKiBAcHJvcCB7bnVtYmVyfSB0aW1lU3RhbXAgLSB0aW1lc3RhbXAgZm9yIHdoZW4gZXZlbnQgaGFwcGVuZWRcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBDYW52YXNNb3VzZTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../glycan.js/lib/canvas-mouse.js\n");

/***/ }),

/***/ "../glycan.js/node_modules/debug-any-level/index.js":
/*!**********************************************************!*\
  !*** ../glycan.js/node_modules/debug-any-level/index.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var debug = __webpack_require__(/*! debug */ \"../glycan.js/node_modules/debug/src/browser.js\");\nvar cache = {};\nfunction _get(t, k, r, name) {\n  var defProp = Reflect.get(t, k, r) || Reflect.get(debug, k, r);\n  if (defProp && defProp !== debug) {\n    return defProp;\n  } else {\n    if (name) {\n      k = \"\".concat(name, \":\").concat(k);\n    }\n    return cache[k] || (cache[k] = debugAny(k));\n  }\n}\nvar set = (target, key, value) => Reflect.set(debug, key, value);\nvar debugAny = new Proxy(function (name) {\n  for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    rest[_key - 1] = arguments[_key];\n  }\n  return new Proxy(debug(name, ...rest), {\n    get: function get() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      return _get(...args, name);\n    },\n    set\n  });\n}, {\n  get: _get,\n  set\n});\nmodule.exports = debugAny;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL25vZGVfbW9kdWxlcy9kZWJ1Zy1hbnktbGV2ZWwvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZ2x5Y2FuLmpzL25vZGVfbW9kdWxlcy9kZWJ1Zy1hbnktbGV2ZWwvaW5kZXguanM/NDliOCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJyk7XG5cbmNvbnN0IGNhY2hlID0ge307XG5cbmZ1bmN0aW9uIGdldCh0LCBrLCByLCBuYW1lKSB7XG4gIGNvbnN0IGRlZlByb3AgPSBSZWZsZWN0LmdldCh0LCBrLCByKSB8fCBSZWZsZWN0LmdldChkZWJ1Zywgaywgcik7XG4gIGlmIChkZWZQcm9wICYmIGRlZlByb3AgIT09IGRlYnVnKSB7XG4gICAgcmV0dXJuIGRlZlByb3A7XG4gIH0gZWxzZSB7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIGsgPSBgJHtuYW1lfToke2t9YDtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlW2tdIHx8IChjYWNoZVtrXSA9IGRlYnVnQW55KGspKTtcbiAgfVxufVxuXG5jb25zdCBzZXQgPSAodGFyZ2V0LCBrZXksIHZhbHVlKSA9PiBSZWZsZWN0LnNldChkZWJ1Zywga2V5LCB2YWx1ZSk7XG5cbmNvbnN0IGRlYnVnQW55ID0gbmV3IFByb3h5KChuYW1lLCAuLi5yZXN0KSA9PiBuZXcgUHJveHkoZGVidWcobmFtZSwgLi4ucmVzdCksIHsgZ2V0OiAoLi4uYXJncykgPT4gZ2V0KC4uLmFyZ3MsIG5hbWUpLCBzZXQgfSksIHsgZ2V0LCBzZXQgfSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZGVidWdBbnk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../glycan.js/node_modules/debug-any-level/index.js\n");

/***/ }),

/***/ "../glycan.js/node_modules/debug/src/browser.js":
/*!******************************************************!*\
  !*** ../glycan.js/node_modules/debug/src/browser.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(process) {/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n  var warned = false;\n  return () => {\n    if (!warned) {\n      warned = true;\n      console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n    }\n  };\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n\n  // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance ||\n  // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) ||\n  // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 ||\n  // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n  if (!this.useColors) {\n    return;\n  }\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit');\n\n  // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, match => {\n    if (match === '%%') {\n      return;\n    }\n    index++;\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {\n    // Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {\n    // Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n  return r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {\n    // Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\nmodule.exports = __webpack_require__(/*! ./common */ \"../glycan.js/node_modules/debug/src/common.js\")(exports);\nvar {\n  formatters\n} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../sviewer/node_modules/webpack/node_modules/process/browser.js */ \"./node_modules/webpack/node_modules/process/browser.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvYnJvd3Nlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9nbHljYW4uanMvbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9icm93c2VyLmpzPzNjZTYiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICovXG5cbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gbG9jYWxzdG9yYWdlKCk7XG5leHBvcnRzLmRlc3Ryb3kgPSAoKCkgPT4ge1xuXHRsZXQgd2FybmVkID0gZmFsc2U7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRpZiAoIXdhcm5lZCkge1xuXHRcdFx0d2FybmVkID0gdHJ1ZTtcblx0XHRcdGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuXHRcdH1cblx0fTtcbn0pKCk7XG5cbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gW1xuXHQnIzAwMDBDQycsXG5cdCcjMDAwMEZGJyxcblx0JyMwMDMzQ0MnLFxuXHQnIzAwMzNGRicsXG5cdCcjMDA2NkNDJyxcblx0JyMwMDY2RkYnLFxuXHQnIzAwOTlDQycsXG5cdCcjMDA5OUZGJyxcblx0JyMwMENDMDAnLFxuXHQnIzAwQ0MzMycsXG5cdCcjMDBDQzY2Jyxcblx0JyMwMENDOTknLFxuXHQnIzAwQ0NDQycsXG5cdCcjMDBDQ0ZGJyxcblx0JyMzMzAwQ0MnLFxuXHQnIzMzMDBGRicsXG5cdCcjMzMzM0NDJyxcblx0JyMzMzMzRkYnLFxuXHQnIzMzNjZDQycsXG5cdCcjMzM2NkZGJyxcblx0JyMzMzk5Q0MnLFxuXHQnIzMzOTlGRicsXG5cdCcjMzNDQzAwJyxcblx0JyMzM0NDMzMnLFxuXHQnIzMzQ0M2NicsXG5cdCcjMzNDQzk5Jyxcblx0JyMzM0NDQ0MnLFxuXHQnIzMzQ0NGRicsXG5cdCcjNjYwMENDJyxcblx0JyM2NjAwRkYnLFxuXHQnIzY2MzNDQycsXG5cdCcjNjYzM0ZGJyxcblx0JyM2NkNDMDAnLFxuXHQnIzY2Q0MzMycsXG5cdCcjOTkwMENDJyxcblx0JyM5OTAwRkYnLFxuXHQnIzk5MzNDQycsXG5cdCcjOTkzM0ZGJyxcblx0JyM5OUNDMDAnLFxuXHQnIzk5Q0MzMycsXG5cdCcjQ0MwMDAwJyxcblx0JyNDQzAwMzMnLFxuXHQnI0NDMDA2NicsXG5cdCcjQ0MwMDk5Jyxcblx0JyNDQzAwQ0MnLFxuXHQnI0NDMDBGRicsXG5cdCcjQ0MzMzAwJyxcblx0JyNDQzMzMzMnLFxuXHQnI0NDMzM2NicsXG5cdCcjQ0MzMzk5Jyxcblx0JyNDQzMzQ0MnLFxuXHQnI0NDMzNGRicsXG5cdCcjQ0M2NjAwJyxcblx0JyNDQzY2MzMnLFxuXHQnI0NDOTkwMCcsXG5cdCcjQ0M5OTMzJyxcblx0JyNDQ0NDMDAnLFxuXHQnI0NDQ0MzMycsXG5cdCcjRkYwMDAwJyxcblx0JyNGRjAwMzMnLFxuXHQnI0ZGMDA2NicsXG5cdCcjRkYwMDk5Jyxcblx0JyNGRjAwQ0MnLFxuXHQnI0ZGMDBGRicsXG5cdCcjRkYzMzAwJyxcblx0JyNGRjMzMzMnLFxuXHQnI0ZGMzM2NicsXG5cdCcjRkYzMzk5Jyxcblx0JyNGRjMzQ0MnLFxuXHQnI0ZGMzNGRicsXG5cdCcjRkY2NjAwJyxcblx0JyNGRjY2MzMnLFxuXHQnI0ZGOTkwMCcsXG5cdCcjRkY5OTMzJyxcblx0JyNGRkNDMDAnLFxuXHQnI0ZGQ0MzMydcbl07XG5cbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcblx0Ly8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuXHQvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuXHQvLyBleHBsaWNpdGx5XG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiAod2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJyB8fCB3aW5kb3cucHJvY2Vzcy5fX253anMpKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCBjb2xvcnMuXG5cdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcXC8oXFxkKykvKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8vIElzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG5cdC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG5cdHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlKSB8fFxuXHRcdC8vIElzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcblx0XHQodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgKHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkpKSB8fFxuXHRcdC8vIElzIGZpcmVmb3ggPj0gdjMxP1xuXHRcdC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuXHRcdCh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS8pICYmIHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApID49IDMxKSB8fFxuXHRcdC8vIERvdWJsZSBjaGVjayB3ZWJraXQgaW4gdXNlckFnZW50IGp1c3QgaW4gY2FzZSB3ZSBhcmUgaW4gYSB3b3JrZXJcblx0XHQodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLykpO1xufVxuXG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuXHRhcmdzWzBdID0gKHRoaXMudXNlQ29sb3JzID8gJyVjJyA6ICcnKSArXG5cdFx0dGhpcy5uYW1lc3BhY2UgK1xuXHRcdCh0aGlzLnVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKSArXG5cdFx0YXJnc1swXSArXG5cdFx0KHRoaXMudXNlQ29sb3JzID8gJyVjICcgOiAnICcpICtcblx0XHQnKycgKyBtb2R1bGUuZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG5cdGlmICghdGhpcy51c2VDb2xvcnMpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRjb25zdCBjID0gJ2NvbG9yOiAnICsgdGhpcy5jb2xvcjtcblx0YXJncy5zcGxpY2UoMSwgMCwgYywgJ2NvbG9yOiBpbmhlcml0Jyk7XG5cblx0Ly8gVGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcblx0Ly8gYXJndW1lbnRzIHBhc3NlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoZSAlYywgc28gd2UgbmVlZCB0b1xuXHQvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG9cblx0bGV0IGluZGV4ID0gMDtcblx0bGV0IGxhc3RDID0gMDtcblx0YXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIG1hdGNoID0+IHtcblx0XHRpZiAobWF0Y2ggPT09ICclJScpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aW5kZXgrKztcblx0XHRpZiAobWF0Y2ggPT09ICclYycpIHtcblx0XHRcdC8vIFdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuXHRcdFx0Ly8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcblx0XHRcdGxhc3RDID0gaW5kZXg7XG5cdFx0fVxuXHR9KTtcblxuXHRhcmdzLnNwbGljZShsYXN0QywgMCwgYyk7XG59XG5cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5kZWJ1ZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAqIE5vLW9wIHdoZW4gYGNvbnNvbGUuZGVidWdgIGlzIG5vdCBhIFwiZnVuY3Rpb25cIi5cbiAqIElmIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgYXZhaWxhYmxlLCBmYWxscyBiYWNrXG4gKiB0byBgY29uc29sZS5sb2dgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydHMubG9nID0gY29uc29sZS5kZWJ1ZyB8fCBjb25zb2xlLmxvZyB8fCAoKCkgPT4ge30pO1xuXG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG5cdHRyeSB7XG5cdFx0aWYgKG5hbWVzcGFjZXMpIHtcblx0XHRcdGV4cG9ydHMuc3RvcmFnZS5zZXRJdGVtKCdkZWJ1ZycsIG5hbWVzcGFjZXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRleHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWcnKTtcblx0XHR9XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG59XG5cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGxvYWQoKSB7XG5cdGxldCByO1xuXHR0cnkge1xuXHRcdHIgPSBleHBvcnRzLnN0b3JhZ2UuZ2V0SXRlbSgnZGVidWcnKTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTd2FsbG93XG5cdFx0Ly8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG5cdH1cblxuXHQvLyBJZiBkZWJ1ZyBpc24ndCBzZXQgaW4gTFMsIGFuZCB3ZSdyZSBpbiBFbGVjdHJvbiwgdHJ5IHRvIGxvYWQgJERFQlVHXG5cdGlmICghciAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ2VudicgaW4gcHJvY2Vzcykge1xuXHRcdHIgPSBwcm9jZXNzLmVudi5ERUJVRztcblx0fVxuXG5cdHJldHVybiByO1xufVxuXG4vKipcbiAqIExvY2Fsc3RvcmFnZSBhdHRlbXB0cyB0byByZXR1cm4gdGhlIGxvY2Fsc3RvcmFnZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3NcbiAqIHdoZW4gYSB1c2VyIGRpc2FibGVzIGNvb2tpZXMvbG9jYWxzdG9yYWdlXG4gKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICpcbiAqIEByZXR1cm4ge0xvY2FsU3RvcmFnZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvY2Fsc3RvcmFnZSgpIHtcblx0dHJ5IHtcblx0XHQvLyBUVk1MS2l0IChBcHBsZSBUViBKUyBSdW50aW1lKSBkb2VzIG5vdCBoYXZlIGEgd2luZG93IG9iamVjdCwganVzdCBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0XG5cdFx0Ly8gVGhlIEJyb3dzZXIgYWxzbyBoYXMgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dC5cblx0XHRyZXR1cm4gbG9jYWxTdG9yYWdlO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY29tbW9uJykoZXhwb3J0cyk7XG5cbmNvbnN0IHtmb3JtYXR0ZXJzfSA9IG1vZHVsZS5leHBvcnRzO1xuXG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5mb3JtYXR0ZXJzLmogPSBmdW5jdGlvbiAodikge1xuXHR0cnkge1xuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gJ1tVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAnICsgZXJyb3IubWVzc2FnZTtcblx0fVxufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBOEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../glycan.js/node_modules/debug/src/browser.js\n");

/***/ }),

/***/ "../glycan.js/node_modules/debug/src/common.js":
/*!*****************************************************!*\
  !*** ../glycan.js/node_modules/debug/src/common.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = __webpack_require__(/*! ms */ \"../glycan.js/node_modules/ms/index.js\");\n  createDebug.destroy = destroy;\n  Object.keys(env).forEach(key => {\n    createDebug[key] = env[key];\n  });\n\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n  createDebug.formatters = {};\n\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n  function selectColor(namespace) {\n    var hash = 0;\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n  createDebug.selectColor = selectColor;\n\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n  function createDebug(namespace) {\n    var prevTime;\n    var enableOverride = null;\n    var namespacesCache;\n    var enabledCache;\n    function debug() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n      var self = debug;\n\n      // Set `diff` timestamp\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      }\n\n      // Apply any `formatters` transformations\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return '%';\n        }\n        index++;\n        var formatter = createDebug.formatters[format];\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val);\n\n          // Now we need to remove `args[index]` since it's inlined in the `format`\n          args.splice(index, 1);\n          index--;\n        }\n        return match;\n      });\n\n      // Apply env-specific formatting (colors, etc.)\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n    debug.namespace = namespace;\n    debug.useColors = createDebug.useColors();\n    debug.color = createDebug.selectColor(namespace);\n    debug.extend = extend;\n    debug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n    Object.defineProperty(debug, 'enabled', {\n      enumerable: true,\n      configurable: false,\n      get: () => {\n        if (enableOverride !== null) {\n          return enableOverride;\n        }\n        if (namespacesCache !== createDebug.namespaces) {\n          namespacesCache = createDebug.namespaces;\n          enabledCache = createDebug.enabled(namespace);\n        }\n        return enabledCache;\n      },\n      set: v => {\n        enableOverride = v;\n      }\n    });\n\n    // Env-specific initialization logic for debug instances\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n    return debug;\n  }\n  function extend(namespace, delimiter) {\n    var newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n    newDebug.log = this.log;\n    return newDebug;\n  }\n\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.namespaces = namespaces;\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n      namespaces = split[i].replace(/\\*/g, '.*?');\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n  }\n\n  /**\n  * Disable debug output.\n  *\n  * @return {String} namespaces\n  * @api public\n  */\n  function disable() {\n    var namespaces = [...createDebug.names.map(toNamespace), ...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)].join(',');\n    createDebug.enable('');\n    return namespaces;\n  }\n\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n    var i;\n    var len;\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n  * Convert regexp to namespace\n  *\n  * @param {RegExp} regxep\n  * @return {String} namespace\n  * @api private\n  */\n  function toNamespace(regexp) {\n    return regexp.toString().substring(2, regexp.toString().length - 2).replace(/\\.\\*\\?$/, '*');\n  }\n\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n    return val;\n  }\n\n  /**\n  * XXX DO NOT USE. This is a temporary stub function.\n  * XXX It WILL be removed in the next major release.\n  */\n  function destroy() {\n    console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n  }\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\nmodule.exports = setup;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvY29tbW9uLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL2dseWNhbi5qcy9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2NvbW1vbi5qcz84ODljIl0sInNvdXJjZXNDb250ZW50IjpbIlxuLyoqXG4gKiBUaGlzIGlzIHRoZSBjb21tb24gbG9naWMgZm9yIGJvdGggdGhlIE5vZGUuanMgYW5kIHdlYiBicm93c2VyXG4gKiBpbXBsZW1lbnRhdGlvbnMgb2YgYGRlYnVnKClgLlxuICovXG5cbmZ1bmN0aW9uIHNldHVwKGVudikge1xuXHRjcmVhdGVEZWJ1Zy5kZWJ1ZyA9IGNyZWF0ZURlYnVnO1xuXHRjcmVhdGVEZWJ1Zy5kZWZhdWx0ID0gY3JlYXRlRGVidWc7XG5cdGNyZWF0ZURlYnVnLmNvZXJjZSA9IGNvZXJjZTtcblx0Y3JlYXRlRGVidWcuZGlzYWJsZSA9IGRpc2FibGU7XG5cdGNyZWF0ZURlYnVnLmVuYWJsZSA9IGVuYWJsZTtcblx0Y3JlYXRlRGVidWcuZW5hYmxlZCA9IGVuYWJsZWQ7XG5cdGNyZWF0ZURlYnVnLmh1bWFuaXplID0gcmVxdWlyZSgnbXMnKTtcblx0Y3JlYXRlRGVidWcuZGVzdHJveSA9IGRlc3Ryb3k7XG5cblx0T2JqZWN0LmtleXMoZW52KS5mb3JFYWNoKGtleSA9PiB7XG5cdFx0Y3JlYXRlRGVidWdba2V5XSA9IGVudltrZXldO1xuXHR9KTtcblxuXHQvKipcblx0KiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cblx0Ki9cblxuXHRjcmVhdGVEZWJ1Zy5uYW1lcyA9IFtdO1xuXHRjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuXG5cdC8qKlxuXHQqIE1hcCBvZiBzcGVjaWFsIFwiJW5cIiBoYW5kbGluZyBmdW5jdGlvbnMsIGZvciB0aGUgZGVidWcgXCJmb3JtYXRcIiBhcmd1bWVudC5cblx0KlxuXHQqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cblx0Ki9cblx0Y3JlYXRlRGVidWcuZm9ybWF0dGVycyA9IHt9O1xuXG5cdC8qKlxuXHQqIFNlbGVjdHMgYSBjb2xvciBmb3IgYSBkZWJ1ZyBuYW1lc3BhY2Vcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlIFRoZSBuYW1lc3BhY2Ugc3RyaW5nIGZvciB0aGUgZGVidWcgaW5zdGFuY2UgdG8gYmUgY29sb3JlZFxuXHQqIEByZXR1cm4ge051bWJlcnxTdHJpbmd9IEFuIEFOU0kgY29sb3IgY29kZSBmb3IgdGhlIGdpdmVuIG5hbWVzcGFjZVxuXHQqIEBhcGkgcHJpdmF0ZVxuXHQqL1xuXHRmdW5jdGlvbiBzZWxlY3RDb2xvcihuYW1lc3BhY2UpIHtcblx0XHRsZXQgaGFzaCA9IDA7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzcGFjZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0aGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpICsgbmFtZXNwYWNlLmNoYXJDb2RlQXQoaSk7XG5cdFx0XHRoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuXHRcdH1cblxuXHRcdHJldHVybiBjcmVhdGVEZWJ1Zy5jb2xvcnNbTWF0aC5hYnMoaGFzaCkgJSBjcmVhdGVEZWJ1Zy5jb2xvcnMubGVuZ3RoXTtcblx0fVxuXHRjcmVhdGVEZWJ1Zy5zZWxlY3RDb2xvciA9IHNlbGVjdENvbG9yO1xuXG5cdC8qKlxuXHQqIENyZWF0ZSBhIGRlYnVnZ2VyIHdpdGggdGhlIGdpdmVuIGBuYW1lc3BhY2VgLlxuXHQqXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuXHQqIEByZXR1cm4ge0Z1bmN0aW9ufVxuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGNyZWF0ZURlYnVnKG5hbWVzcGFjZSkge1xuXHRcdGxldCBwcmV2VGltZTtcblx0XHRsZXQgZW5hYmxlT3ZlcnJpZGUgPSBudWxsO1xuXHRcdGxldCBuYW1lc3BhY2VzQ2FjaGU7XG5cdFx0bGV0IGVuYWJsZWRDYWNoZTtcblxuXHRcdGZ1bmN0aW9uIGRlYnVnKC4uLmFyZ3MpIHtcblx0XHRcdC8vIERpc2FibGVkP1xuXHRcdFx0aWYgKCFkZWJ1Zy5lbmFibGVkKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3Qgc2VsZiA9IGRlYnVnO1xuXG5cdFx0XHQvLyBTZXQgYGRpZmZgIHRpbWVzdGFtcFxuXHRcdFx0Y29uc3QgY3VyciA9IE51bWJlcihuZXcgRGF0ZSgpKTtcblx0XHRcdGNvbnN0IG1zID0gY3VyciAtIChwcmV2VGltZSB8fCBjdXJyKTtcblx0XHRcdHNlbGYuZGlmZiA9IG1zO1xuXHRcdFx0c2VsZi5wcmV2ID0gcHJldlRpbWU7XG5cdFx0XHRzZWxmLmN1cnIgPSBjdXJyO1xuXHRcdFx0cHJldlRpbWUgPSBjdXJyO1xuXG5cdFx0XHRhcmdzWzBdID0gY3JlYXRlRGVidWcuY29lcmNlKGFyZ3NbMF0pO1xuXG5cdFx0XHRpZiAodHlwZW9mIGFyZ3NbMF0gIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdC8vIEFueXRoaW5nIGVsc2UgbGV0J3MgaW5zcGVjdCB3aXRoICVPXG5cdFx0XHRcdGFyZ3MudW5zaGlmdCgnJU8nKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQXBwbHkgYW55IGBmb3JtYXR0ZXJzYCB0cmFuc2Zvcm1hdGlvbnNcblx0XHRcdGxldCBpbmRleCA9IDA7XG5cdFx0XHRhcmdzWzBdID0gYXJnc1swXS5yZXBsYWNlKC8lKFthLXpBLVolXSkvZywgKG1hdGNoLCBmb3JtYXQpID0+IHtcblx0XHRcdFx0Ly8gSWYgd2UgZW5jb3VudGVyIGFuIGVzY2FwZWQgJSB0aGVuIGRvbid0IGluY3JlYXNlIHRoZSBhcnJheSBpbmRleFxuXHRcdFx0XHRpZiAobWF0Y2ggPT09ICclJScpIHtcblx0XHRcdFx0XHRyZXR1cm4gJyUnO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdGNvbnN0IGZvcm1hdHRlciA9IGNyZWF0ZURlYnVnLmZvcm1hdHRlcnNbZm9ybWF0XTtcblx0XHRcdFx0aWYgKHR5cGVvZiBmb3JtYXR0ZXIgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRjb25zdCB2YWwgPSBhcmdzW2luZGV4XTtcblx0XHRcdFx0XHRtYXRjaCA9IGZvcm1hdHRlci5jYWxsKHNlbGYsIHZhbCk7XG5cblx0XHRcdFx0XHQvLyBOb3cgd2UgbmVlZCB0byByZW1vdmUgYGFyZ3NbaW5kZXhdYCBzaW5jZSBpdCdzIGlubGluZWQgaW4gdGhlIGBmb3JtYXRgXG5cdFx0XHRcdFx0YXJncy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0XHRcdGluZGV4LS07XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIEFwcGx5IGVudi1zcGVjaWZpYyBmb3JtYXR0aW5nIChjb2xvcnMsIGV0Yy4pXG5cdFx0XHRjcmVhdGVEZWJ1Zy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7XG5cblx0XHRcdGNvbnN0IGxvZ0ZuID0gc2VsZi5sb2cgfHwgY3JlYXRlRGVidWcubG9nO1xuXHRcdFx0bG9nRm4uYXBwbHkoc2VsZiwgYXJncyk7XG5cdFx0fVxuXG5cdFx0ZGVidWcubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuXHRcdGRlYnVnLnVzZUNvbG9ycyA9IGNyZWF0ZURlYnVnLnVzZUNvbG9ycygpO1xuXHRcdGRlYnVnLmNvbG9yID0gY3JlYXRlRGVidWcuc2VsZWN0Q29sb3IobmFtZXNwYWNlKTtcblx0XHRkZWJ1Zy5leHRlbmQgPSBleHRlbmQ7XG5cdFx0ZGVidWcuZGVzdHJveSA9IGNyZWF0ZURlYnVnLmRlc3Ryb3k7IC8vIFhYWCBUZW1wb3JhcnkuIFdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLlxuXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGRlYnVnLCAnZW5hYmxlZCcsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuXHRcdFx0Z2V0OiAoKSA9PiB7XG5cdFx0XHRcdGlmIChlbmFibGVPdmVycmlkZSAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdHJldHVybiBlbmFibGVPdmVycmlkZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAobmFtZXNwYWNlc0NhY2hlICE9PSBjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzKSB7XG5cdFx0XHRcdFx0bmFtZXNwYWNlc0NhY2hlID0gY3JlYXRlRGVidWcubmFtZXNwYWNlcztcblx0XHRcdFx0XHRlbmFibGVkQ2FjaGUgPSBjcmVhdGVEZWJ1Zy5lbmFibGVkKG5hbWVzcGFjZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZW5hYmxlZENhY2hlO1xuXHRcdFx0fSxcblx0XHRcdHNldDogdiA9PiB7XG5cdFx0XHRcdGVuYWJsZU92ZXJyaWRlID0gdjtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEVudi1zcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYyBmb3IgZGVidWcgaW5zdGFuY2VzXG5cdFx0aWYgKHR5cGVvZiBjcmVhdGVEZWJ1Zy5pbml0ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRjcmVhdGVEZWJ1Zy5pbml0KGRlYnVnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGVidWc7XG5cdH1cblxuXHRmdW5jdGlvbiBleHRlbmQobmFtZXNwYWNlLCBkZWxpbWl0ZXIpIHtcblx0XHRjb25zdCBuZXdEZWJ1ZyA9IGNyZWF0ZURlYnVnKHRoaXMubmFtZXNwYWNlICsgKHR5cGVvZiBkZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gJzonIDogZGVsaW1pdGVyKSArIG5hbWVzcGFjZSk7XG5cdFx0bmV3RGVidWcubG9nID0gdGhpcy5sb2c7XG5cdFx0cmV0dXJuIG5ld0RlYnVnO1xuXHR9XG5cblx0LyoqXG5cdCogRW5hYmxlcyBhIGRlYnVnIG1vZGUgYnkgbmFtZXNwYWNlcy4gVGhpcyBjYW4gaW5jbHVkZSBtb2Rlc1xuXHQqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGVuYWJsZShuYW1lc3BhY2VzKSB7XG5cdFx0Y3JlYXRlRGVidWcuc2F2ZShuYW1lc3BhY2VzKTtcblx0XHRjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzID0gbmFtZXNwYWNlcztcblxuXHRcdGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG5cdFx0Y3JlYXRlRGVidWcuc2tpcHMgPSBbXTtcblxuXHRcdGxldCBpO1xuXHRcdGNvbnN0IHNwbGl0ID0gKHR5cGVvZiBuYW1lc3BhY2VzID09PSAnc3RyaW5nJyA/IG5hbWVzcGFjZXMgOiAnJykuc3BsaXQoL1tcXHMsXSsvKTtcblx0XHRjb25zdCBsZW4gPSBzcGxpdC5sZW5ndGg7XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmICghc3BsaXRbaV0pIHtcblx0XHRcdFx0Ly8gaWdub3JlIGVtcHR5IHN0cmluZ3Ncblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdG5hbWVzcGFjZXMgPSBzcGxpdFtpXS5yZXBsYWNlKC9cXCovZywgJy4qPycpO1xuXG5cdFx0XHRpZiAobmFtZXNwYWNlc1swXSA9PT0gJy0nKSB7XG5cdFx0XHRcdGNyZWF0ZURlYnVnLnNraXBzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzLnNsaWNlKDEpICsgJyQnKSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjcmVhdGVEZWJ1Zy5uYW1lcy5wdXNoKG5ldyBSZWdFeHAoJ14nICsgbmFtZXNwYWNlcyArICckJykpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQqIERpc2FibGUgZGVidWcgb3V0cHV0LlxuXHQqXG5cdCogQHJldHVybiB7U3RyaW5nfSBuYW1lc3BhY2VzXG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZGlzYWJsZSgpIHtcblx0XHRjb25zdCBuYW1lc3BhY2VzID0gW1xuXHRcdFx0Li4uY3JlYXRlRGVidWcubmFtZXMubWFwKHRvTmFtZXNwYWNlKSxcblx0XHRcdC4uLmNyZWF0ZURlYnVnLnNraXBzLm1hcCh0b05hbWVzcGFjZSkubWFwKG5hbWVzcGFjZSA9PiAnLScgKyBuYW1lc3BhY2UpXG5cdFx0XS5qb2luKCcsJyk7XG5cdFx0Y3JlYXRlRGVidWcuZW5hYmxlKCcnKTtcblx0XHRyZXR1cm4gbmFtZXNwYWNlcztcblx0fVxuXG5cdC8qKlxuXHQqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gbW9kZSBuYW1lIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG5cdCogQHJldHVybiB7Qm9vbGVhbn1cblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBlbmFibGVkKG5hbWUpIHtcblx0XHRpZiAobmFtZVtuYW1lLmxlbmd0aCAtIDFdID09PSAnKicpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGxldCBpO1xuXHRcdGxldCBsZW47XG5cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBjcmVhdGVEZWJ1Zy5za2lwcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0aWYgKGNyZWF0ZURlYnVnLnNraXBzW2ldLnRlc3QobmFtZSkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGNyZWF0ZURlYnVnLm5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRpZiAoY3JlYXRlRGVidWcubmFtZXNbaV0udGVzdChuYW1lKSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvKipcblx0KiBDb252ZXJ0IHJlZ2V4cCB0byBuYW1lc3BhY2Vcblx0KlxuXHQqIEBwYXJhbSB7UmVnRXhwfSByZWd4ZXBcblx0KiBAcmV0dXJuIHtTdHJpbmd9IG5hbWVzcGFjZVxuXHQqIEBhcGkgcHJpdmF0ZVxuXHQqL1xuXHRmdW5jdGlvbiB0b05hbWVzcGFjZShyZWdleHApIHtcblx0XHRyZXR1cm4gcmVnZXhwLnRvU3RyaW5nKClcblx0XHRcdC5zdWJzdHJpbmcoMiwgcmVnZXhwLnRvU3RyaW5nKCkubGVuZ3RoIC0gMilcblx0XHRcdC5yZXBsYWNlKC9cXC5cXCpcXD8kLywgJyonKTtcblx0fVxuXG5cdC8qKlxuXHQqIENvZXJjZSBgdmFsYC5cblx0KlxuXHQqIEBwYXJhbSB7TWl4ZWR9IHZhbFxuXHQqIEByZXR1cm4ge01peGVkfVxuXHQqIEBhcGkgcHJpdmF0ZVxuXHQqL1xuXHRmdW5jdGlvbiBjb2VyY2UodmFsKSB7XG5cdFx0aWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdFx0XHRyZXR1cm4gdmFsLnN0YWNrIHx8IHZhbC5tZXNzYWdlO1xuXHRcdH1cblx0XHRyZXR1cm4gdmFsO1xuXHR9XG5cblx0LyoqXG5cdCogWFhYIERPIE5PVCBVU0UuIFRoaXMgaXMgYSB0ZW1wb3Jhcnkgc3R1YiBmdW5jdGlvbi5cblx0KiBYWFggSXQgV0lMTCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXG5cdCovXG5cdGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG5cdFx0Y29uc29sZS53YXJuKCdJbnN0YW5jZSBtZXRob2QgYGRlYnVnLmRlc3Ryb3koKWAgaXMgZGVwcmVjYXRlZCBhbmQgbm8gbG9uZ2VyIGRvZXMgYW55dGhpbmcuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGBkZWJ1Z2AuJyk7XG5cdH1cblxuXHRjcmVhdGVEZWJ1Zy5lbmFibGUoY3JlYXRlRGVidWcubG9hZCgpKTtcblxuXHRyZXR1cm4gY3JlYXRlRGVidWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0dXA7XG4iXSwibWFwcGluZ3MiOiJBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../glycan.js/node_modules/debug/src/common.js\n");

/***/ }),

/***/ "../glycan.js/node_modules/es6-tween/bundled/Tween.min.js":
/*!****************************************************************!*\
  !*** ../glycan.js/node_modules/es6-tween/bundled/Tween.min.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global, process) {!function (t, e) {\n   true ? e(exports) : undefined;\n}(this, function (t) {\n  \"use strict\";\n\n  function s(t) {\n    var e = u.indexOf(t);\n    -1 < e && u.splice(e, 1), u.push(t), p = 0, l && !f && (o = c(i), f = !0);\n  }\n  function e(t) {\n    for (var e = 0; e < u.length; e++) {\n      if (t === u[e]) return u[e];\n    }\n    return null;\n  }\n  function F() {\n    return f;\n  }\n  function x() {\n    return d;\n  }\n  var o,\n    r = \"undefined\" != typeof self ? self : \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : this || (void 0 !== t ? t : {}),\n    n = r.requestAnimationFrame || function (t) {\n      return r.setTimeout(t, 50 / 3);\n    },\n    a = r.cancelAnimationFrame || function (t) {\n      return r.clearTimeout(t);\n    },\n    C = function () {\n      if (\"undefined\" == typeof process || void 0 === process.hrtime || process.versions && void 0 !== process.versions.electron) {\n        if (void 0 !== r.performance && void 0 !== r.performance.now) return r.performance.now.bind(r.performance);\n        var t = r.performance && r.performance.timing && r.performance.timing.navigationStart ? r.performance.timing.navigationStart : Date.now();\n        return function () {\n          return Date.now() - t;\n        };\n      }\n      return function () {\n        var t = process.hrtime();\n        return 1e3 * t[0] + t[1] / 1e6;\n      };\n    }(),\n    u = [],\n    f = !1,\n    l = !1,\n    h = [],\n    c = n,\n    p = 0,\n    y = 120,\n    d = !0,\n    N = function N(t) {\n      var e = u.indexOf(t);\n      -1 !== e && u.splice(e, 1), 0 === u.length && (a(o), f = !1);\n    },\n    i = function t() {\n      var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : C(),\n        r = 1 < arguments.length ? arguments[1] : void 0;\n      if (y <= p && d) return f = !1, p = 0, a(o), !1;\n      l && f ? o = c(t) : function () {\n        for (var t = 0; t < h.length; t++) {\n          h[t]();\n        }\n      }(), u.length || p++;\n      for (var n = 0, i = u.length; n < i;) {\n        u[n++].update(e, r), i > u.length && n--, i = u.length;\n      }\n      return !0;\n    },\n    q = {},\n    v = {\n      Linear: {\n        None: function None(t) {\n          return t;\n        }\n      },\n      Quadratic: {\n        In: function In(t) {\n          return Math.pow(t, 2);\n        },\n        Out: function Out(t) {\n          return t * (2 - t);\n        },\n        InOut: function InOut(t) {\n          return (t *= 2) < 1 ? .5 * Math.pow(t, 2) : -.5 * (--t * (t - 2) - 1);\n        }\n      },\n      Cubic: {\n        In: function In(t) {\n          return Math.pow(t, 3);\n        },\n        Out: function Out(t) {\n          return --t * t * t + 1;\n        },\n        InOut: function InOut(t) {\n          return (t *= 2) < 1 ? .5 * Math.pow(t, 3) : .5 * ((t -= 2) * t * t + 2);\n        }\n      },\n      Quartic: {\n        In: function In(t) {\n          return Math.pow(t, 4);\n        },\n        Out: function Out(t) {\n          return 1 - --t * t * t * t;\n        },\n        InOut: function InOut(t) {\n          return (t *= 2) < 1 ? .5 * Math.pow(t, 4) : -.5 * ((t -= 2) * t * t * t - 2);\n        }\n      },\n      Quintic: {\n        In: function In(t) {\n          return Math.pow(t, 5);\n        },\n        Out: function Out(t) {\n          return --t * t * t * t * t + 1;\n        },\n        InOut: function InOut(t) {\n          return (t *= 2) < 1 ? .5 * Math.pow(t, 5) : .5 * ((t -= 2) * t * t * t * t + 2);\n        }\n      },\n      Sinusoidal: {\n        In: function In(t) {\n          return 1 - Math.cos(t * Math.PI / 2);\n        },\n        Out: function Out(t) {\n          return Math.sin(t * Math.PI / 2);\n        },\n        InOut: function InOut(t) {\n          return .5 * (1 - Math.cos(Math.PI * t));\n        }\n      },\n      Exponential: {\n        In: function In(t) {\n          return 0 === t ? 0 : Math.pow(1024, t - 1);\n        },\n        Out: function Out(t) {\n          return 1 === t ? 1 : 1 - Math.pow(2, -10 * t);\n        },\n        InOut: function InOut(t) {\n          return 0 === t ? 0 : 1 === t ? 1 : (t *= 2) < 1 ? .5 * Math.pow(1024, t - 1) : .5 * (2 - Math.pow(2, -10 * (t - 1)));\n        }\n      },\n      Circular: {\n        In: function In(t) {\n          return 1 - Math.sqrt(1 - t * t);\n        },\n        Out: function Out(t) {\n          return Math.sqrt(1 - --t * t);\n        },\n        InOut: function InOut(t) {\n          return (t *= 2) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n        }\n      },\n      Elastic: {\n        In: function In(t) {\n          return 0 === t ? 0 : 1 === t ? 1 : -Math.pow(2, 10 * (t - 1)) * Math.sin(5 * (t - 1.1) * Math.PI);\n        },\n        Out: function Out(t) {\n          return 0 === t ? 0 : 1 === t ? 1 : Math.pow(2, -10 * t) * Math.sin(5 * (t - .1) * Math.PI) + 1;\n        },\n        InOut: function InOut(t) {\n          return 0 === t ? 0 : 1 === t ? 1 : (t *= 2) < 1 ? -.5 * Math.pow(2, 10 * (t - 1)) * Math.sin(5 * (t - 1.1) * Math.PI) : .5 * Math.pow(2, -10 * (t - 1)) * Math.sin(5 * (t - 1.1) * Math.PI) + 1;\n        }\n      },\n      Back: {\n        In: function In(t) {\n          return t * t * (2.70158 * t - 1.70158);\n        },\n        Out: function Out(t) {\n          return --t * t * (2.70158 * t + 1.70158) + 1;\n        },\n        InOut: function InOut(t) {\n          var e = 2.5949095;\n          return (t *= 2) < 1 ? t * t * ((1 + e) * t - e) * .5 : .5 * ((t -= 2) * t * ((1 + e) * t + e) + 2);\n        }\n      },\n      Bounce: {\n        In: function In(t) {\n          return 1 - v.Bounce.Out(1 - t);\n        },\n        Out: function Out(t) {\n          var e = 2.75,\n            r = 7.5625;\n          return t < 1 / e ? r * t * t : t < 2 / e ? r * (t -= 1.5 / e) * t + .75 : t < 2.5 / e ? r * (t -= 2.25 / e) * t + .9375 : r * (t -= 2.625 / e) * t + .984375;\n        },\n        InOut: function InOut(t) {\n          return t < .5 ? .5 * v.Bounce.In(2 * t) : .5 * v.Bounce.Out(2 * t - 1) + .5;\n        }\n      },\n      Stepped: {\n        steps: function steps(e) {\n          return function (t) {\n            return (t * e | 0) / e;\n          };\n        }\n      }\n    };\n  function m(t) {\n    return (m = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n      return typeof t;\n    } : function (t) {\n      return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n    })(t);\n  }\n  function _(t, e) {\n    if (!(t instanceof e)) throw new TypeError(\"Cannot call a class as a function\");\n  }\n  function g(t, e) {\n    for (var r = 0; r < e.length; r++) {\n      var n = e[r];\n      n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);\n    }\n  }\n  function b(t, e, r) {\n    return e && g(t.prototype, e), r && g(t, r), t;\n  }\n  function T(e, t) {\n    var r = Object.keys(e);\n    if (Object.getOwnPropertySymbols) {\n      var n = Object.getOwnPropertySymbols(e);\n      t && (n = n.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, n);\n    }\n    return r;\n  }\n  function O(i) {\n    for (var t = 1; t < arguments.length; t++) {\n      var o = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? T(Object(o), !0).forEach(function (t) {\n        var e, r, n;\n        e = i, n = o[r = t], r in e ? Object.defineProperty(e, r, {\n          value: n,\n          enumerable: !0,\n          configurable: !0,\n          writable: !0\n        }) : e[r] = n;\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(i, Object.getOwnPropertyDescriptors(o)) : T(Object(o)).forEach(function (t) {\n        Object.defineProperty(i, t, Object.getOwnPropertyDescriptor(o, t));\n      });\n    }\n    return i;\n  }\n  function w(t) {\n    return (w = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {\n      return t.__proto__ || Object.getPrototypeOf(t);\n    })(t);\n  }\n  function k(t, e) {\n    return (k = Object.setPrototypeOf || function (t, e) {\n      return t.__proto__ = e, t;\n    })(t, e);\n  }\n  function j(t) {\n    if (void 0 === t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    return t;\n  }\n  function A(t, e) {\n    return !e || \"object\" != typeof e && \"function\" != typeof e ? j(t) : e;\n  }\n  function S(t, e) {\n    return function (t) {\n      if (Array.isArray(t)) return t;\n    }(t) || function (t, e) {\n      if (!(Symbol.iterator in Object(t) || \"[object Arguments]\" === Object.prototype.toString.call(t))) return;\n      var r = [],\n        n = !0,\n        i = !1,\n        o = void 0;\n      try {\n        for (var s, a = t[Symbol.iterator](); !(n = (s = a.next()).done) && (r.push(s.value), !e || r.length !== e); n = !0) {\n          ;\n        }\n      } catch (t) {\n        i = !0, o = t;\n      } finally {\n        try {\n          n || null == a.return || a.return();\n        } finally {\n          if (i) throw o;\n        }\n      }\n      return r;\n    }(t, e) || function () {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }();\n  }\n  var D = 50 / 3,\n    U = \"_chainedTweens\",\n    E = \"Callback\",\n    V = \"update\",\n    B = \"complete\",\n    G = \"start\",\n    z = \"repeat\",\n    Q = \"reverse\",\n    P = \"restart\",\n    M = \"STRING_PROP\",\n    R = /\\s+|([A-Za-z?().,{}:\"\"[\\]#%]+)|([-+]=+)?([-+]+)?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]=?\\d+)?/g;\n  function I(t) {\n    if (t && t.nodeType || void 0 === t || \"object\" !== m(t)) return t;\n    if (Array.isArray(t)) return [].concat(t);\n    if (\"object\" !== m(t)) return t;\n    var e = {};\n    for (var r in t) {\n      e[r] = I(t[r]);\n    }\n    return e;\n  }\n  var L = function L(t) {\n      return isNaN(+t) || (\"+\" === t[0] || \"-\" === t[0]) && \"=\" === t[1] || \"\" === t || \" \" === t;\n    },\n    K = /^#([0-9a-f]{6}|[0-9a-f]{3})$/gi,\n    W = function W(t, e) {\n      var r, n, i;\n      3 === e.length && (e = (r = e[0]) + r + (n = e[1]) + n + (i = e[2]) + i);\n      var o = parseInt(e, 16);\n      return \"rgb(\" + (r = o >> 16 & 255) + \", \" + (n = o >> 8 & 255) + \", \" + (i = 255 & o) + \")\";\n    };\n  function H(t) {\n    if (t && t.splice && t.isString) return t;\n    if (\"string\" != typeof t) return t;\n    if (\"=\" === t.charAt(1)) return t;\n    var e = t.replace(K, W).match(R).map(function (t) {\n      return L(t) ? t : +t;\n    });\n    return e.isString = !0, e;\n  }\n  function X(r, n, t, e) {\n    var i = t[r],\n      o = e[r];\n    if (i === o) return !0;\n    if (Array.isArray(i) && Array.isArray(o) && i.length === o.length) for (var s = 0, a = o.length; s < a; s++) {\n      var u = i[s],\n        f = o[s];\n      u === f || \"number\" == typeof u && \"number\" == typeof f || X(s, n[r], i, o);\n    }\n    if (!(\"number\" == typeof i && \"number\" == typeof o || i && i.splice && i.isString && o && o.splice && o.isString)) {\n      if (\"string\" == typeof i && Array.isArray(o)) {\n        var l = H(i),\n          h = o.map(H);\n        return t[r] = l, e[r] = h, !0;\n      }\n      if (\"string\" == typeof i || \"string\" == typeof o) {\n        var c = Array.isArray(i) && i[0] === M ? i : H(i),\n          p = Array.isArray(o) && o[0] === M ? o : H(o);\n        if (void 0 === c) return;\n        for (var y = 1; y < c.length;) {\n          c[y] === p[y] && \"string\" == typeof c[y - 1] ? (c.splice(y - 1, 2, c[y - 1] + c[y]), p.splice(y - 1, 2, p[y - 1] + p[y])) : y++;\n        }\n        return c[y = 0] === M && c.shift(), p[0] === M && p.shift(), t[r] = c, e[r] = p, !0;\n      }\n      if (\"object\" === m(i) && \"object\" === m(o)) {\n        if (Array.isArray(i) && !i.isString) return i.map(function (t, e) {\n          return X(e, n[r], i, o);\n        });\n        for (var d in o) {\n          X(d, n[r], i, o);\n        }\n        return !0;\n      }\n    }\n    return !1;\n  }\n  var Y = \"rgba(\",\n    Z = function Z(t, e, r) {\n      var n = 2 < arguments.length && void 0 !== r ? r : \"rgb(\";\n      return \"number\" == typeof t[e] && (t[e - 1] === n || t[e - 3] === n || t[e - 5] === n);\n    };\n  function $(t, e, r, n, i, o, s) {\n    var a = s ? r : r[t],\n      u = s ? n : n[t];\n    if (void 0 === u) return a;\n    if (void 0 === a || \"string\" == typeof a || a === u) return u;\n    if (\"object\" === m(a) && \"object\" === m(u)) {\n      if (!a || !u) return e[t];\n      if (\"object\" === m(a) && a && a.isString && u && u.splice && u.isString) {\n        for (var f = \"\", l = 0, h = a.length; l < h; l++) {\n          if (a[l] !== u[l] || \"number\" != typeof a[l] || \"number\" == typeof u[l]) {\n            var c = \"number\" == typeof a[l] && \"string\" == typeof u[l] && \"=\" === u[l][1],\n              p = \"number\" != typeof a[l] ? a[l] : c ? a[l] + parseFloat(u[l][0] + u[l].substr(2)) * i : a[l] + (u[l] - a[l]) * i;\n            (Z(a, l) || Z(a, l, Y)) && (p |= 0), f += p, c && 1 === o && (a[l] = a[l] + parseFloat(u[l][0] + u[l].substr(2)));\n          } else f += a[l];\n        }\n        return s || (e[t] = f), f;\n      }\n      if (Array.isArray(a) && a[0] !== M) for (var y = 0, d = a.length; y < d; y++) {\n        a[y] !== u[y] && \"string\" != typeof e[t] && $(y, e[t], a, u, i, o);\n      } else if (\"object\" === m(a) && a && !a.isString) for (var v in a) {\n        a[v] !== u[v] && $(v, e[t], a, u, i, o);\n      }\n    } else if (\"number\" == typeof a) {\n      var _ = \"string\" == typeof u;\n      e[t] = _ ? a + parseFloat(u[0] + u.substr(2)) * i : a + (u - a) * i, _ && 1 === o && (r[t] = e[t]);\n    } else \"function\" == typeof u && (e[t] = u(i));\n    return e[t];\n  }\n  function J(t, e) {\n    var i = t[e],\n      o = e.replace(nt, \"\").split(rt),\n      s = o.length - 1,\n      a = Array.isArray(t),\n      u = \"object\" === m(t) && !a;\n    return u ? (t[e] = null, delete t[e]) : a && t.splice(e, 1), o.reduce(function (t, e, r) {\n      a && \".\" !== e && \"[\" !== e && (e *= 1);\n      var n = \"[\" === o[r + 1];\n      if (\".\" === e || \"[\" === e) return \".\" === e ? a = !(u = !0) : \"[\" === e && (a = !(u = !1)), t;\n      if (void 0 === t[e]) {\n        if (a || u) return t[e] = r === s ? i : a || n ? [] : u ? {} : null, u = a = !1, t[e];\n      } else if (void 0 !== t[e]) return r === s && (t[e] = i), t[e];\n      return t;\n    }, t);\n  }\n  function tt(t) {\n    if (\"object\" === m(t) && t) for (var e in t) {\n      if (-1 !== e.indexOf(\".\") || -1 !== e.indexOf(\"[\")) J(t, e);else if (\"object\" === m(t[e]) && t[e]) {\n        var r = t[e];\n        for (var n in r) {\n          if (-1 !== n.indexOf(\".\") || -1 !== n.indexOf(\"[\")) J(r, n);else if (\"object\" === m(r[n]) && r[n]) {\n            var i = r[n];\n            for (var o in i) {\n              -1 === o.indexOf(\".\") && -1 === o.indexOf(\"[\") || J(i, o);\n            }\n          }\n        }\n      }\n    }\n    return t;\n  }\n  var et,\n    rt = /([.[])/g,\n    nt = /\\]/g,\n    it = Object.freeze({\n      __proto__: null,\n      FRAME_MS: D,\n      TOO_LONG_FRAME_MS: 250,\n      CHAINED_TWEENS: U,\n      EVENT_CALLBACK: E,\n      EVENT_UPDATE: V,\n      EVENT_COMPLETE: B,\n      EVENT_START: G,\n      EVENT_REPEAT: z,\n      EVENT_REVERSE: Q,\n      EVENT_PAUSE: \"pause\",\n      EVENT_PLAY: \"play\",\n      EVENT_RESTART: P,\n      EVENT_STOP: \"stop\",\n      EVENT_SEEK: \"seek\",\n      STRING_PROP: M,\n      NUM_REGEX: R,\n      deepCopy: I,\n      decomposeString: H,\n      decompose: X,\n      RGB: \"rgb(\",\n      RGBA: Y,\n      isRGBColor: Z,\n      recompose: $,\n      SET_NESTED: tt\n    }),\n    ot = {\n      Linear: function Linear(t, e, r) {\n        var n = t.length - 1,\n          i = n * e,\n          o = Math.floor(i),\n          s = ot.Utils.Linear;\n        return e < 0 ? s(t[0], t[1], i, r) : 1 < e ? s(t[n], t[n - 1], n - i, r) : s(t[o], t[n < o + 1 ? n : o + 1], i - o, r);\n      },\n      Bezier: function Bezier(t, e, r) {\n        for (var n = ot.Utils.Reset(r), i = t.length - 1, o = Math.pow, s = ot.Utils.Bernstein, a = Array.isArray(n), u = 0; u <= i; u++) {\n          if (\"number\" == typeof n) n += o(1 - e, i - u) * o(e, u) * t[u] * s(i, u);else if (a) for (var f = 0, l = n.length; f < l; f++) {\n            \"number\" == typeof n[f] ? n[f] += o(1 - e, i - u) * o(e, u) * t[u][f] * s(i, u) : n[f] = t[u][f];\n          } else if (\"object\" === m(n)) for (var h in n) {\n            \"number\" == typeof n[h] ? n[h] += o(1 - e, i - u) * o(e, u) * t[u][h] * s(i, u) : n[h] = t[u][h];\n          } else if (\"string\" == typeof n) {\n            for (var c = \"\", p = t[Math.round(i * e)], y = 1, d = p.length; y < d; y++) {\n              c += p[y];\n            }\n            return c;\n          }\n        }\n        return n;\n      },\n      CatmullRom: function CatmullRom(t, e, r) {\n        var n = t.length - 1,\n          i = n * e,\n          o = Math.floor(i),\n          s = ot.Utils.CatmullRom;\n        return t[0] === t[n] ? (e < 0 && (o = Math.floor(i = n * (1 + e))), s(t[(o - 1 + n) % n], t[o], t[(o + 1) % n], t[(o + 2) % n], i - o, r)) : e < 0 ? s(t[1], t[1], t[0], t[0], -e, r) : 1 < e ? s(t[n - 1], t[n - 1], t[n], t[n], (0 | e) - e, r) : s(t[o ? o - 1 : 0], t[o], t[n < o + 1 ? n : o + 1], t[n < o + 2 ? n : o + 2], i - o, r);\n      },\n      Utils: {\n        Linear: function Linear(t, e, r, n) {\n          if (t === e || \"string\" == typeof t) {\n            if (e.length && e.splice && e.isString) {\n              e = \"\";\n              for (var i = 0, o = t.length; i < o; i++) {\n                e += t[i];\n              }\n            }\n            return e;\n          }\n          if (\"number\" == typeof t) return \"function\" == typeof t ? t(r) : t + (e - t) * r;\n          if (\"object\" === m(t)) {\n            if (void 0 !== t.length) {\n              var s = \"string\" == typeof t[0] || t.isString;\n              if (s || t[0] === M) {\n                for (var a = \"\", u = s ? 0 : 1, f = t.length; u < f; u++) {\n                  var l = 0 === r ? t[u] : 1 !== r && \"number\" == typeof t[u] ? t[u] + (e[u] - t[u]) * r : e[u];\n                  (0 < r && r < 1 && Z(t, u) || Z(t, u, Y)) && (l |= 0), a += l;\n                }\n                return a;\n              }\n              if (n && n.length && n.splice) for (var h = 0, c = n.length; h < c; h++) {\n                n[h] = ot.Utils.Linear(t[h], e[h], r, n[h]);\n              }\n            } else for (var p in n) {\n              n[p] = ot.Utils.Linear(t[p], e[p], r, n[p]);\n            }\n            return n;\n          }\n        },\n        Reset: function Reset(t) {\n          if (Array.isArray(t)) {\n            for (var e = 0, r = t.length; e < r; e++) {\n              t[e] = ot.Utils.Reset(t[e]);\n            }\n            return t;\n          }\n          if (\"object\" !== m(t)) return \"number\" == typeof t ? 0 : t;\n          for (var n in t) {\n            t[n] = ot.Utils.Reset(t[n]);\n          }\n          return t;\n        },\n        Bernstein: function Bernstein(t, e) {\n          var r = ot.Utils.Factorial;\n          return r(t) / r(e) / r(t - e);\n        },\n        Factorial: (et = [1], function (t) {\n          var e = 1;\n          if (et[t]) return et[t];\n          for (var r = t; 1 < r; r--) {\n            e *= r;\n          }\n          return et[t] = e;\n        }),\n        CatmullRom: function CatmullRom(t, e, r, n, i, o) {\n          if (\"string\" == typeof t) return e;\n          if (\"number\" == typeof t) {\n            var s = .5 * (r - t),\n              a = .5 * (n - e),\n              u = i * i;\n            return (2 * e - 2 * r + s + a) * (i * u) + (-3 * e + 3 * r - 2 * s - a) * u + s * i + e;\n          }\n          if (\"object\" === m(t)) {\n            if (void 0 !== t.length) {\n              if (t[0] === M) {\n                for (var f = \"\", l = 1, h = t.length; l < h; l++) {\n                  var c = \"number\" == typeof t[l] ? ot.Utils.CatmullRom(t[l], e[l], r[l], n[l], i) : n[l];\n                  (Z(t, l) || Z(t, l, Y)) && (c |= 0), f += c;\n                }\n                return f;\n              }\n              for (var p = 0, y = o.length; p < y; p++) {\n                o[p] = ot.Utils.CatmullRom(t[p], e[p], r[p], n[p], i, o[p]);\n              }\n            } else for (var d in o) {\n              o[d] = ot.Utils.CatmullRom(t[d], e[d], r[d], n[d], i, o[d]);\n            }\n            return o;\n          }\n        }\n      }\n    },\n    st = {};\n  function at(t, e, r) {\n    if (!t || !t.nodeType) return e;\n    var n = t.queueID || \"q_\" + Date.now();\n    t.queueID || (t.queueID = n);\n    var i = st[n];\n    if (i) {\n      if (i.object === e && t === i.tween.node && r._startTime === i.tween._startTime) N(i.tween);else if (\"object\" === m(e) && e && i.object) {\n        for (var o in e) {\n          o in i.object && (r._startTime === i.tween._startTime ? delete i.object[o] : i.propNormaliseRequired = !0);\n        }\n        Object.assign(i.object, e);\n      }\n      return i.object;\n    }\n    return \"object\" === m(e) && e ? (st[n] = {\n      tween: r,\n      object: e,\n      propNormaliseRequired: !1\n    }, st[n].object) : e;\n  }\n  function ut(t, e, r) {\n    return e ? t ? \"undefined\" != typeof window && t === window || \"undefined\" != typeof document && t === document ? [t] : \"string\" == typeof t ? !!document.querySelectorAll && document.querySelectorAll(t) : Array.isArray(t) ? t : t.nodeType ? [t] : r ? t : [] : null : t ? \"undefined\" != typeof window && t === window || \"undefined\" != typeof document && t === document ? t : \"string\" == typeof t ? !!document.querySelector && document.querySelector(t) : Array.isArray(t) ? t[0] : t.nodeType || r ? t : null : null;\n  }\n  var ft = 0,\n    lt = v.Linear.None,\n    ht = function () {\n      function L(t, e) {\n        return _(this, L), this.id = ft++, !t || \"object\" !== m(t) || e || t.nodeType ? t && (t.nodeType || t.length || \"string\" == typeof t) && (t = this.node = ut(t), e = this.object = at(t, e, this)) : (e = this.object = t, t = null), this._valuesEnd = null, this._valuesStart = Array.isArray(e) ? [] : {}, this._duration = 1e3, this._easingFunction = lt, this._easingReverse = lt, this._interpolationFunction = ot.Linear, this._startTime = 0, this._initTime = 0, this._delayTime = 0, this._repeat = 0, this._r = 0, this._isPlaying = !1, this._yoyo = !1, this._reversed = !1, this._onStartCallbackFired = !1, this._pausedTime = null, this._isFinite = !0, this._maxListener = 15, this._chainedTweensCount = 0, this._prevTime = null, this;\n      }\n      return b(L, null, [{\n        key: \"fromTo\",\n        value: function value(t, e, r, n) {\n          var i = 3 < arguments.length && void 0 !== n ? n : {};\n          i.quickRender = i.quickRender ? i.quickRender : !r;\n          var o = new L(t, e).to(r, i);\n          return i.quickRender && (o.render().update(o._startTime), o._rendered = !1, o._onStartCallbackFired = !1), o;\n        }\n      }, {\n        key: \"to\",\n        value: function value(t, e, r) {\n          return L.fromTo(t, null, e, r);\n        }\n      }, {\n        key: \"from\",\n        value: function value(t, e, r) {\n          return L.fromTo(t, e, null, r);\n        }\n      }]), b(L, [{\n        key: \"setMaxListener\",\n        value: function value(t) {\n          var e = 0 < arguments.length && void 0 !== t ? t : 15;\n          return this._maxListener = e, this;\n        }\n      }, {\n        key: \"on\",\n        value: function value(t, e) {\n          for (var r = this._maxListener, n = t + E, i = 0; i < r; i++) {\n            var o = n + i;\n            if (!this[o]) {\n              this[o] = e;\n              break;\n            }\n          }\n          return this;\n        }\n      }, {\n        key: \"once\",\n        value: function value(t, i) {\n          for (var o = this, e = this._maxListener, r = t + E, n = function n(t) {\n              var n = r + t;\n              if (!o[n]) return o[n] = function () {\n                for (var t = arguments.length, e = new Array(t), r = 0; r < t; r++) {\n                  e[r] = arguments[r];\n                }\n                i.apply(o, e), o[n] = null;\n              }, \"break\";\n            }, s = 0; s < e; s++) {\n            if (\"break\" === n(s)) break;\n          }\n          return this;\n        }\n      }, {\n        key: \"off\",\n        value: function value(t, e) {\n          for (var r = this._maxListener, n = t + E, i = 0; i < r; i++) {\n            var o = n + i;\n            this[o] === e && (this[o] = null);\n          }\n          return this;\n        }\n      }, {\n        key: \"emit\",\n        value: function value(t, e, r, n) {\n          var i = this._maxListener,\n            o = t + E;\n          if (!this[o + 0]) return this;\n          for (var s = 0; s < i; s++) {\n            var a = o + s;\n            this[a] && this[a](e, r, n);\n          }\n          return this;\n        }\n      }, {\n        key: \"isPlaying\",\n        value: function value() {\n          return this._isPlaying;\n        }\n      }, {\n        key: \"isStarted\",\n        value: function value() {\n          return this._onStartCallbackFired;\n        }\n      }, {\n        key: \"reverse\",\n        value: function value(t) {\n          var e = this._reversed;\n          return this._reversed = void 0 !== t ? t : !e, this;\n        }\n      }, {\n        key: \"reversed\",\n        value: function value() {\n          return this._reversed;\n        }\n      }, {\n        key: \"pause\",\n        value: function value() {\n          return this._isPlaying ? (this._isPlaying = !1, N(this), this._pausedTime = C(), this.emit(\"pause\", this.object)) : this;\n        }\n      }, {\n        key: \"play\",\n        value: function value() {\n          return this._isPlaying ? this : (this._isPlaying = !0, this._startTime += C() - this._pausedTime, this._initTime = this._startTime, s(this), this._pausedTime = C(), this.emit(\"play\", this.object));\n        }\n      }, {\n        key: \"restart\",\n        value: function value() {\n          return this._repeat = this._r, this.reassignValues(), s(this), this.emit(P, this.object);\n        }\n      }, {\n        key: \"seek\",\n        value: function value(t, e) {\n          var r = this._duration,\n            n = this._initTime,\n            i = this._startTime,\n            o = this._reversed,\n            s = n + t;\n          return this._isPlaying = !0, s < i && n <= i && (this._startTime -= r, this._reversed = !o), this.update(t, !1), this.emit(\"seek\", t, this.object), e ? this : this.pause();\n        }\n      }, {\n        key: \"duration\",\n        value: function value(t) {\n          return this._duration = \"function\" == typeof t ? t(this._duration) : t, this;\n        }\n      }, {\n        key: \"to\",\n        value: function value(t, e) {\n          var r = 1 < arguments.length && void 0 !== e ? e : 1e3;\n          if (this._valuesEnd = t, \"number\" == typeof r || \"function\" == typeof r) this._duration = \"function\" == typeof r ? r(this._duration) : r;else if (\"object\" === m(r)) for (var n in r) {\n            if (\"function\" == typeof this[n]) {\n              var i = S(Array.isArray(r[n]) ? r[n] : [r[n]], 4),\n                o = i[0],\n                s = void 0 === o ? null : o,\n                a = i[1],\n                u = void 0 === a ? null : a,\n                f = i[2],\n                l = void 0 === f ? null : f,\n                h = i[3],\n                c = void 0 === h ? null : h;\n              this[n](s, u, l, c);\n            }\n          }\n          return this;\n        }\n      }, {\n        key: \"render\",\n        value: function value() {\n          if (this._rendered) return this;\n          var t = this._valuesStart,\n            e = this._valuesEnd,\n            r = this.object,\n            n = this.node,\n            i = this.InitialValues;\n          if (tt(r), tt(e), n && n.queueID && st[n.queueID]) {\n            var o = st[n.queueID];\n            if (o.propNormaliseRequired && o.tween !== this) {\n              for (var s in e) {\n                o.tween._valuesEnd[s];\n              }\n              o.normalisedProp = !0, o.propNormaliseRequired = !1;\n            }\n          }\n          if (n && i && (r && 0 !== Object.keys(r).length ? e && 0 !== Object.keys(e).length || (e = this._valuesEnd = i(n, r)) : r = this.object = at(n, i(n, e), this)), !t.processed) {\n            for (var a in e) {\n              var u = r && r[a] && I(r[a]),\n                f = e[a];\n              if (!(q[a] && q[a].init && (q[a].init.call(this, u, f, a, r), void 0 === u && t[a] && (u = t[a]), q[a].skipProcess)) && !(\"number\" == typeof u && isNaN(u) || null === u || null === f || !1 === u || !1 === f || void 0 === u || void 0 === f || u === f)) {\n                if (t[a] = u, Array.isArray(f)) {\n                  if (Array.isArray(u)) f.isString && r[a].isString && !u.isString ? u.isString = !0 : X(a, r, t, e);else {\n                    f.unshift(u);\n                    for (var l = 0, h = f.length; l < h; l++) {\n                      \"string\" == typeof f[l] && (f[l] = H(f[l]));\n                    }\n                  }\n                } else X(a, r, t, e);\n                \"number\" != typeof u || \"string\" != typeof f || f[1];\n              }\n            }\n            t.processed = !0;\n          }\n          return L.Renderer && this.node && L.Renderer.init && (L.Renderer.init.call(this, r, t, e), this.__render = !0), this._rendered = !0, this;\n        }\n      }, {\n        key: \"start\",\n        value: function value(t) {\n          return this._startTime = void 0 !== t ? \"string\" == typeof t ? C() + parseFloat(t) : t : C(), this._startTime += this._delayTime, this._initTime = this._prevTime = this._startTime, this._onStartCallbackFired = !1, this._rendered = !1, this._isPlaying = !0, s(this), this;\n        }\n      }, {\n        key: \"stop\",\n        value: function value() {\n          var t = this._isPlaying,\n            e = this._isFinite,\n            r = this.object,\n            n = this._startTime,\n            i = this._duration,\n            o = this._r,\n            s = this._yoyo,\n            a = this._reversed;\n          if (!t) return this;\n          var u = e ? (o + 1) % 2 == 1 : !a;\n          return this._reversed = !1, s && u ? this.update(n) : this.update(n + i), N(this), this.emit(\"stop\", r);\n        }\n      }, {\n        key: \"delay\",\n        value: function value(t) {\n          return this._delayTime = \"function\" == typeof t ? t(this._delayTime) : t, this;\n        }\n      }, {\n        key: \"chainedTweens\",\n        value: function value() {\n          if (this._chainedTweensCount = arguments.length, !this._chainedTweensCount) return this;\n          for (var t = 0, e = this._chainedTweensCount; t < e; t++) {\n            this[U + t] = arguments[t];\n          }\n          return this;\n        }\n      }, {\n        key: \"repeat\",\n        value: function value(t) {\n          return this._repeat = this._duration ? \"function\" == typeof t ? t(this._repeat) : t : 0, this._r = this._repeat, this._isFinite = isFinite(t), this;\n        }\n      }, {\n        key: \"reverseDelay\",\n        value: function value(t) {\n          return this._reverseDelayTime = \"function\" == typeof t ? t(this._reverseDelayTime) : t, this;\n        }\n      }, {\n        key: \"yoyo\",\n        value: function value(t, e) {\n          return this._yoyo = \"function\" == typeof t ? t(this._yoyo) : null === t ? this._yoyo : t, t || (this._reversed = !1), this._easingReverse = e || null, this;\n        }\n      }, {\n        key: \"easing\",\n        value: function value(t) {\n          return this._easingFunction = t, this;\n        }\n      }, {\n        key: \"interpolation\",\n        value: function value(t) {\n          return \"function\" == typeof t && (this._interpolationFunction = t), this;\n        }\n      }, {\n        key: \"reassignValues\",\n        value: function value(t) {\n          var e = this._valuesStart,\n            r = this.object,\n            n = this._delayTime;\n          for (var i in this._isPlaying = !0, this._startTime = void 0 !== t ? t : C(), this._startTime += n, this._reversed = !1, s(this), e) {\n            var o = e[i];\n            r[i] = o;\n          }\n          return this;\n        }\n      }, {\n        key: \"update\",\n        value: function value(t, e, r) {\n          var n,\n            i,\n            o,\n            s = this._onStartCallbackFired,\n            a = this._easingFunction,\n            u = this._interpolationFunction,\n            f = this._easingReverse,\n            l = this._repeat,\n            h = this._delayTime,\n            c = this._reverseDelayTime,\n            p = this._yoyo,\n            y = this._reversed,\n            d = this._startTime,\n            v = this._prevTime,\n            _ = this._duration,\n            m = this._valuesStart,\n            g = this._valuesEnd,\n            b = this.object,\n            T = this._isFinite,\n            O = this._isPlaying,\n            w = this.__render,\n            k = this._chainedTweensCount,\n            j = 0;\n          if (_) {\n            var A = (t = void 0 !== t ? t : C()) - v;\n            if (this._prevTime = t, 250 < A && F() && x() && (t -= A - D), !O || t < d && !r) return !0;\n            n = 1 < (n = (t - d) / _) ? 1 : n, n = y ? 1 - n : n;\n          } else n = 1, l = 0;\n          if (s || (this._rendered || (this.render(), this._rendered = !0), this.emit(G, b), this._onStartCallbackFired = !0), i = y && f || a, !b) return !0;\n          for (o in g) {\n            var S = m[o];\n            if (null != S || q[o] && q[o].update) {\n              var E = g[o],\n                P = i[o] ? i[o](n) : (\"function\" == typeof i ? i : lt)(n),\n                M = u[o] ? u[o] : \"function\" == typeof u ? u : ot.Linear;\n              \"number\" == typeof E ? b[o] = S + (E - S) * P : !Array.isArray(E) || E.isString || Array.isArray(S) ? E && E.update ? E.update(P) : \"function\" == typeof E ? b[o] = E(P) : \"string\" == typeof E && \"number\" == typeof S ? b[o] = S + parseFloat(E[0] + E.substr(2)) * P : $(o, b, m, g, P, n) : b[o] = M(E, P, b[o]), q[o] && q[o].update && q[o].update.call(this, b[o], S, E, P, n, o), j++;\n            }\n          }\n          if (!j) return N(this), !1;\n          if (w && L.Renderer && L.Renderer.update && L.Renderer.update.call(this, b, n), this.emit(V, b, n, t), 1 === n || y && 0 === n) {\n            if (0 < l && 0 < _) {\n              if (T && this._repeat--, p) this._reversed = !y;else for (o in g) {\n                var R = g[o];\n                \"string\" == typeof R && \"number\" == typeof m[o] && (m[o] += parseFloat(R[0] + R.substr(2)));\n              }\n              return this.emit(p && !y ? Q : z, b), this._startTime = y && c ? t - c : t + h, !0;\n            }\n            if (e || (this._isPlaying = !1, N(this), ft--), this.emit(B, b), this._repeat = this._r, k) for (var I = 0; I < k; I++) {\n              this[U + I].start(t + _);\n            }\n            return !1;\n          }\n          return !0;\n        }\n      }]), L;\n    }(),\n    ct = function () {\n      function t() {\n        _(this, t), this.totalTime = 0, this.labels = [], this.offsets = [];\n      }\n      return b(t, [{\n        key: \"parseLabel\",\n        value: function value(t, e) {\n          var r = this.offsets,\n            n = this.labels,\n            i = n.indexOf(t);\n          if (\"string\" == typeof t && -1 !== t.indexOf(\"=\") && !e && -1 === i) {\n            var o = t.substr(t.indexOf(\"=\") - 1, 2),\n              s = t.split(o);\n            e = 2 === s.length ? o + s[1] : null, t = s[0], i = n.indexOf(t);\n          }\n          if (-1 !== i && t) {\n            var a = r[i] || 0;\n            if (\"number\" == typeof e) a = e;else if (\"string\" == typeof e && -1 !== e.indexOf(\"=\")) {\n              var u = e.charAt(0);\n              e = Number(e.substr(2)), \"+\" === u || \"-\" === u ? a += parseFloat(u + e) : \"*\" === u ? a *= e : \"/\" === u ? a /= e : \"%\" === u && (a *= e / 100);\n            }\n            return a;\n          }\n          return \"number\" == typeof e ? e : 0;\n        }\n      }, {\n        key: \"addLabel\",\n        value: function value(t, e) {\n          return this.labels.push(t), this.offsets.push(this.parseLabel(t, e)), this;\n        }\n      }, {\n        key: \"setLabel\",\n        value: function value(t, e) {\n          var r = this.labels.indexOf(t);\n          return -1 !== r && this.offsets.splice(r, 1, this.parseLabel(t, e)), this;\n        }\n      }, {\n        key: \"eraseLabel\",\n        value: function value(t) {\n          var e = this.labels.indexOf(t);\n          return -1 !== e && (this.labels.splice(e, 1), this.offsets.splice(e, 1)), this;\n        }\n      }]), t;\n    }(),\n    pt = 0,\n    yt = function () {\n      function r(t) {\n        var e;\n        return _(this, r), (e = A(this, w(r).call(this)))._duration = 0, e._startTime = t && void 0 !== t.startTime ? t.startTime : C(), e._tweens = [], e.elapsed = 0, e._id = pt++, e._defaultParams = t, e.position = new ct(), e.position.addLabel(\"afterLast\", e._duration), e.position.addLabel(\"afterInit\", e._startTime), e._onStartCallbackFired = !1, A(e, j(e));\n      }\n      return function (t, e) {\n        if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n        t.prototype = Object.create(e && e.prototype, {\n          constructor: {\n            value: t,\n            writable: !0,\n            configurable: !0\n          }\n        }), e && k(t, e);\n      }(r, ht), b(r, [{\n        key: \"mapTotal\",\n        value: function value(t) {\n          return t.call(this, this._tweens), this;\n        }\n      }, {\n        key: \"timingOrder\",\n        value: function value(t) {\n          var r = t(this._tweens.map(function (t) {\n            return t._startTime;\n          }));\n          return this._tweens.map(function (t, e) {\n            t._startTime = r[e];\n          }), this;\n        }\n      }, {\n        key: \"getTiming\",\n        value: function value(t, e, r, n) {\n          var i = 3 < arguments.length && void 0 !== n ? n : 0;\n          if (\"reverse\" === t) {\n            var o = r.stagger,\n              s = (o || 0) * (e.length - 1);\n            return e.map(function (t, e) {\n              return s - (o || 0) * e + i;\n            });\n          }\n          if (\"async\" === t) return e.map(function (t) {\n            return i;\n          });\n          if (\"sequence\" === t || \"delayed\" === t) {\n            var a = r.stagger;\n            return a = a || (r.duration || 1e3) / (e.length - 1), e.map(function (t, e) {\n              return a * e + i;\n            });\n          }\n          if (\"oneByOne\" === t) return e.map(function (t) {\n            return r.duration;\n          });\n          if (\"shuffle\" === t) {\n            var u = r.stagger;\n            return function (t) {\n              var e, r, n;\n              for (n = t.length; n; --n) {\n                e = Math.floor(Math.random() * n), r = t[n - 1], t[n - 1] = t[e], t[e] = r;\n              }\n              return t;\n            }(e.map(function (t, e) {\n              return (u || 0) * e + i;\n            }));\n          }\n          var f = r.stagger;\n          return e.map(function (t, e) {\n            return (f || 0) * e + i;\n          });\n        }\n      }, {\n        key: \"fromTo\",\n        value: function value(t, e, r, n) {\n          if ((t = ut(t, !0, !0)) && t.length) {\n            this._defaultParams && (n = n ? O({}, this._defaultParams, {}, n) : this._defaultParams);\n            for (var i, o = n.label, s = \"number\" == typeof o ? o : this.position.parseLabel(void 0 !== o ? o : \"afterLast\", null), a = this.getTiming(n.mode, t, n, s), u = 0, f = t.length; u < f; u++) {\n              i = t[u], this.add(ht.fromTo(i, \"function\" == typeof e ? e(u, t.length) : \"object\" === m(e) && e ? O({}, e) : null, \"function\" == typeof r ? r(u, t.length) : r, \"function\" == typeof n ? n(u, t.length) : n), a[u]);\n            }\n          }\n          return this.start();\n        }\n      }, {\n        key: \"from\",\n        value: function value(t, e, r) {\n          return this.fromTo(t, e, null, r);\n        }\n      }, {\n        key: \"to\",\n        value: function value(t, e, r) {\n          return this.fromTo(t, null, e, r);\n        }\n      }, {\n        key: \"addLabel\",\n        value: function value(t, e) {\n          return this.position.addLabel(t, e), this;\n        }\n      }, {\n        key: \"map\",\n        value: function value(t) {\n          for (var e = 0, r = this._tweens.length; e < r; e++) {\n            var n = this._tweens[e];\n            t(n, e), this._duration = Math.max(this._duration, n._duration + n._startTime);\n          }\n          return this;\n        }\n      }, {\n        key: \"add\",\n        value: function value(t, e) {\n          var r = this;\n          if (Array.isArray(t)) return t.map(function (t) {\n            r.add(t, e);\n          }), this;\n          \"object\" !== m(t) || t instanceof ht || (t = new ht(t.from).to(t.to, t));\n          var n = this._defaultParams,\n            i = this._duration;\n          if (n) for (var o in n) {\n            \"function\" == typeof t[o] && t[o](n[o]);\n          }\n          var s = \"number\" == typeof e ? e : this.position.parseLabel(void 0 !== e ? e : \"afterLast\", null);\n          return t._startTime = Math.max(this._startTime, t._delayTime, s), t._delayTime = s, t._isPlaying = !0, this._duration = Math.max(i, Math.max(t._startTime + t._delayTime, t._duration)), this._tweens.push(t), this.position.setLabel(\"afterLast\", this._duration), this;\n        }\n      }, {\n        key: \"restart\",\n        value: function value() {\n          return this._startTime += C(), s(this), this.emit(P);\n        }\n      }, {\n        key: \"easing\",\n        value: function value(e) {\n          return this.map(function (t) {\n            return t.easing(e);\n          });\n        }\n      }, {\n        key: \"interpolation\",\n        value: function value(e) {\n          return this.map(function (t) {\n            return t.interpolation(e);\n          });\n        }\n      }, {\n        key: \"update\",\n        value: function value(t) {\n          var e,\n            r = this._tweens,\n            n = this._duration,\n            i = this._reverseDelayTime,\n            o = this._startTime,\n            s = this._reversed,\n            a = this._yoyo,\n            u = this._repeat,\n            f = this._isFinite,\n            l = this._isPlaying,\n            h = this._prevTime,\n            c = this._onStartCallbackFired,\n            p = (t = void 0 !== t ? t : C()) - h;\n          if (this._prevTime = t, 250 < p && F() && x() && (t -= p - D), !l || t < o) return !0;\n          e = 1 < (e = (t - o) / n) ? 1 : e, e = s ? 1 - e : e, this.elapsed = e, c || (this.emit(G), this._onStartCallbackFired = !0);\n          for (var y = t - o, d = s ? n - y : y, v = 0; v < r.length;) {\n            r[v].update(d), v++;\n          }\n          if (this.emit(V, e, y), 1 === e || s && 0 === e) {\n            if (u) {\n              for (f && this._repeat--, this.emit(s ? Q : z), a && (this._reversed = !s, this.timingOrder(function (t) {\n                return t.reverse();\n              })), this._startTime = s && i ? t + i : t, v = 0; v < r.length;) {\n                r[v].reassignValues(t), v++;\n              }\n              return !0;\n            }\n            return this.emit(B), this._repeat = this._r, N(this), this._isPlaying = !1;\n          }\n          return !0;\n        }\n      }, {\n        key: \"progress\",\n        value: function value(t) {\n          return void 0 !== t ? this.update(t * this._duration) : this.elapsed;\n        }\n      }]), r;\n    }();\n  t.Easing = v, t.FrameThrottle = function (t) {\n    y = 1.05 * (0 < arguments.length && void 0 !== t ? t : 120);\n  }, t.Interpolation = ot, t.Interpolator = function (i, o) {\n    var s = Array.isArray(i) && !i.isString,\n      a = \"string\" == typeof i ? i : s ? i.slice() : O({}, i);\n    if (s) for (var t = 0, e = i.length; t < e; t++) {\n      i[t] === o[t] && \"number\" == typeof i[t] && \"number\" != typeof o[t] || X(t, a, i, o);\n    } else if (\"object\" === m(i)) for (var r in i) {\n      i[r] === o[r] && \"number\" == typeof i[r] && \"number\" != typeof o[r] || X(r, a, i, o);\n    } else if (\"string\" == typeof i) {\n      i = H(i), o = H(o);\n      for (var n = 1; n < i.length;) {\n        i[n] === o[n] && \"string\" == typeof i[n - 1] ? (i.splice(n - 1, 2, i[n - 1] + i[n]), o.splice(n - 1, 2, o[n - 1] + o[n])) : n++;\n      }\n    }\n    return function (t) {\n      if (s) for (var e = 0, r = i.length; e < r; e++) {\n        $(e, a, i, o, t);\n      } else if (\"object\" === m(a)) for (var n in i) {\n        $(n, a, i, o, t);\n      } else \"string\" == typeof a && (a = $(0, 0, i, o, t, t, !0));\n      return a;\n    };\n  }, t.Plugins = q, t.Selector = ut, t.Timeline = yt, t.ToggleLagSmoothing = function (t) {\n    d = !(0 < arguments.length && void 0 !== t) || t;\n  }, t.Tween = ht, t.add = s, t.autoPlay = function (t) {\n    l = t;\n  }, t.get = e, t.getAll = function () {\n    return u;\n  }, t.has = function (t) {\n    return null !== e(t);\n  }, t.isRunning = F, t.now = C, t.onRequestTick = function (t) {\n    h.push(t);\n  }, t.onTick = function (t) {\n    return u.push({\n      update: t\n    });\n  }, t.remove = N, t.removeAll = function () {\n    u.length = 0, a(o), f = !1;\n  }, t.update = i, t.utils = it, Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../sviewer/node_modules/webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\"), __webpack_require__(/*! ./../../../../sviewer/node_modules/webpack/node_modules/process/browser.js */ \"./node_modules/webpack/node_modules/process/browser.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL25vZGVfbW9kdWxlcy9lczYtdHdlZW4vYnVuZGxlZC9Ud2Vlbi5taW4uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZ2x5Y2FuLmpzL25vZGVfbW9kdWxlcy9lczYtdHdlZW4vYnVuZGxlZC9Ud2Vlbi5taW4uanM/MGFjYSJdLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9lKGV4cG9ydHMpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiZXhwb3J0c1wiXSxlKTplKCh0PXR8fHNlbGYpLlRXRUVOPXt9KX0odGhpcyxmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBzKHQpe3ZhciBlPXUuaW5kZXhPZih0KTstMTxlJiZ1LnNwbGljZShlLDEpLHUucHVzaCh0KSxwPTAsbCYmIWYmJihvPWMoaSksZj0hMCl9ZnVuY3Rpb24gZSh0KXtmb3IodmFyIGU9MDtlPHUubGVuZ3RoO2UrKylpZih0PT09dVtlXSlyZXR1cm4gdVtlXTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBGKCl7cmV0dXJuIGZ9ZnVuY3Rpb24geCgpe3JldHVybiBkfXZhciBvLHI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDp0aGlzfHwodm9pZCAwIT09dD90Ont9KSxuPXIucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbih0KXtyZXR1cm4gci5zZXRUaW1lb3V0KHQsNTAvMyl9LGE9ci5jYW5jZWxBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24odCl7cmV0dXJuIHIuY2xlYXJUaW1lb3V0KHQpfSxDPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHByb2Nlc3N8fHZvaWQgMD09PXByb2Nlc3MuaHJ0aW1lfHxwcm9jZXNzLnZlcnNpb25zJiZ2b2lkIDAhPT1wcm9jZXNzLnZlcnNpb25zLmVsZWN0cm9uKXtpZih2b2lkIDAhPT1yLnBlcmZvcm1hbmNlJiZ2b2lkIDAhPT1yLnBlcmZvcm1hbmNlLm5vdylyZXR1cm4gci5wZXJmb3JtYW5jZS5ub3cuYmluZChyLnBlcmZvcm1hbmNlKTt2YXIgdD1yLnBlcmZvcm1hbmNlJiZyLnBlcmZvcm1hbmNlLnRpbWluZyYmci5wZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0P3IucGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydDpEYXRlLm5vdygpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBEYXRlLm5vdygpLXR9fXJldHVybiBmdW5jdGlvbigpe3ZhciB0PXByb2Nlc3MuaHJ0aW1lKCk7cmV0dXJuIDFlMyp0WzBdK3RbMV0vMWU2fX0oKSx1PVtdLGY9ITEsbD0hMSxoPVtdLGM9bixwPTAseT0xMjAsZD0hMCxOPWZ1bmN0aW9uKHQpe3ZhciBlPXUuaW5kZXhPZih0KTstMSE9PWUmJnUuc3BsaWNlKGUsMSksMD09PXUubGVuZ3RoJiYoYShvKSxmPSExKX0saT1mdW5jdGlvbiB0KCl7dmFyIGU9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOkMoKSxyPTE8YXJndW1lbnRzLmxlbmd0aD9hcmd1bWVudHNbMV06dm9pZCAwO2lmKHk8PXAmJmQpcmV0dXJuIGY9ITEscD0wLGEobyksITE7bCYmZj9vPWModCk6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PGgubGVuZ3RoO3QrKyloW3RdKCl9KCksdS5sZW5ndGh8fHArKztmb3IodmFyIG49MCxpPXUubGVuZ3RoO248aTspdVtuKytdLnVwZGF0ZShlLHIpLGk+dS5sZW5ndGgmJm4tLSxpPXUubGVuZ3RoO3JldHVybiEwfSxxPXt9LHY9e0xpbmVhcjp7Tm9uZTpmdW5jdGlvbih0KXtyZXR1cm4gdH19LFF1YWRyYXRpYzp7SW46ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucG93KHQsMil9LE91dDpmdW5jdGlvbih0KXtyZXR1cm4gdCooMi10KX0sSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/LjUqTWF0aC5wb3codCwyKTotLjUqKC0tdCoodC0yKS0xKX19LEN1YmljOntJbjpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3codCwzKX0sT3V0OmZ1bmN0aW9uKHQpe3JldHVybi0tdCp0KnQrMX0sSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/LjUqTWF0aC5wb3codCwzKTouNSooKHQtPTIpKnQqdCsyKX19LFF1YXJ0aWM6e0luOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnBvdyh0LDQpfSxPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIDEtIC0tdCp0KnQqdH0sSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/LjUqTWF0aC5wb3codCw0KTotLjUqKCh0LT0yKSp0KnQqdC0yKX19LFF1aW50aWM6e0luOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnBvdyh0LDUpfSxPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuLS10KnQqdCp0KnQrMX0sSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/LjUqTWF0aC5wb3codCw1KTouNSooKHQtPTIpKnQqdCp0KnQrMil9fSxTaW51c29pZGFsOntJbjpmdW5jdGlvbih0KXtyZXR1cm4gMS1NYXRoLmNvcyh0Kk1hdGguUEkvMil9LE91dDpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zaW4odCpNYXRoLlBJLzIpfSxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4uNSooMS1NYXRoLmNvcyhNYXRoLlBJKnQpKX19LEV4cG9uZW50aWFsOntJbjpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQ/MDpNYXRoLnBvdygxMDI0LHQtMSl9LE91dDpmdW5jdGlvbih0KXtyZXR1cm4gMT09PXQ/MToxLU1hdGgucG93KDIsLTEwKnQpfSxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQ/MDoxPT09dD8xOih0Kj0yKTwxPy41Kk1hdGgucG93KDEwMjQsdC0xKTouNSooMi1NYXRoLnBvdygyLC0xMCoodC0xKSkpfX0sQ2lyY3VsYXI6e0luOmZ1bmN0aW9uKHQpe3JldHVybiAxLU1hdGguc3FydCgxLXQqdCl9LE91dDpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KDEtIC0tdCp0KX0sSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/LS41KihNYXRoLnNxcnQoMS10KnQpLTEpOi41KihNYXRoLnNxcnQoMS0odC09MikqdCkrMSl9fSxFbGFzdGljOntJbjpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQ/MDoxPT09dD8xOi1NYXRoLnBvdygyLDEwKih0LTEpKSpNYXRoLnNpbig1Kih0LTEuMSkqTWF0aC5QSSl9LE91dDpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQ/MDoxPT09dD8xOk1hdGgucG93KDIsLTEwKnQpKk1hdGguc2luKDUqKHQtLjEpKk1hdGguUEkpKzF9LEluT3V0OmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dD8wOjE9PT10PzE6KHQqPTIpPDE/LS41Kk1hdGgucG93KDIsMTAqKHQtMSkpKk1hdGguc2luKDUqKHQtMS4xKSpNYXRoLlBJKTouNSpNYXRoLnBvdygyLC0xMCoodC0xKSkqTWF0aC5zaW4oNSoodC0xLjEpKk1hdGguUEkpKzF9fSxCYWNrOntJbjpmdW5jdGlvbih0KXtyZXR1cm4gdCp0KigyLjcwMTU4KnQtMS43MDE1OCl9LE91dDpmdW5jdGlvbih0KXtyZXR1cm4tLXQqdCooMi43MDE1OCp0KzEuNzAxNTgpKzF9LEluT3V0OmZ1bmN0aW9uKHQpe3ZhciBlPTIuNTk0OTA5NTtyZXR1cm4odCo9Mik8MT90KnQqKCgxK2UpKnQtZSkqLjU6LjUqKCh0LT0yKSp0KigoMStlKSp0K2UpKzIpfX0sQm91bmNlOntJbjpmdW5jdGlvbih0KXtyZXR1cm4gMS12LkJvdW5jZS5PdXQoMS10KX0sT3V0OmZ1bmN0aW9uKHQpe3ZhciBlPTIuNzUscj03LjU2MjU7cmV0dXJuIHQ8MS9lP3IqdCp0OnQ8Mi9lP3IqKHQtPTEuNS9lKSp0Ky43NTp0PDIuNS9lP3IqKHQtPTIuMjUvZSkqdCsuOTM3NTpyKih0LT0yLjYyNS9lKSp0Ky45ODQzNzV9LEluT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0PC41Py41KnYuQm91bmNlLkluKDIqdCk6LjUqdi5Cb3VuY2UuT3V0KDIqdC0xKSsuNX19LFN0ZXBwZWQ6e3N0ZXBzOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4odCplfDApL2V9fX19O2Z1bmN0aW9uIG0odCl7cmV0dXJuKG09XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0pKHQpfWZ1bmN0aW9uIF8odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGcodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fWZ1bmN0aW9uIGIodCxlLHIpe3JldHVybiBlJiZnKHQucHJvdG90eXBlLGUpLHImJmcodCxyKSx0fWZ1bmN0aW9uIFQoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBPKGkpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBvPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP1QoT2JqZWN0KG8pLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlLHIsbjtlPWksbj1vW3I9dF0sciBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3JdPW59KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG8pKTpUKE9iamVjdChvKSkuZm9yRWFjaChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoaSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobyx0KSl9KX1yZXR1cm4gaX1mdW5jdGlvbiB3KHQpe3JldHVybih3PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9KSh0KX1mdW5jdGlvbiBrKHQsZSl7cmV0dXJuKGs9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9KSh0LGUpfWZ1bmN0aW9uIGoodCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gQSh0LGUpe3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT9qKHQpOmV9ZnVuY3Rpb24gUyh0LGUpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0fSh0KXx8ZnVuY3Rpb24odCxlKXtpZighKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QodCl8fFwiW29iamVjdCBBcmd1bWVudHNdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpKXJldHVybjt2YXIgcj1bXSxuPSEwLGk9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgcyxhPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0ocz1hLm5leHQoKSkuZG9uZSkmJihyLnB1c2gocy52YWx1ZSksIWV8fHIubGVuZ3RoIT09ZSk7bj0hMCk7fWNhdGNoKHQpe2k9ITAsbz10fWZpbmFsbHl7dHJ5e258fG51bGw9PWEucmV0dXJufHxhLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBvfX1yZXR1cm4gcn0odCxlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKX0oKX12YXIgRD01MC8zLFU9XCJfY2hhaW5lZFR3ZWVuc1wiLEU9XCJDYWxsYmFja1wiLFY9XCJ1cGRhdGVcIixCPVwiY29tcGxldGVcIixHPVwic3RhcnRcIix6PVwicmVwZWF0XCIsUT1cInJldmVyc2VcIixQPVwicmVzdGFydFwiLE09XCJTVFJJTkdfUFJPUFwiLFI9L1xccyt8KFtBLVphLXo/KCkuLHt9OlwiXCJbXFxdIyVdKyl8KFstK109Kyk/KFstK10rKT8oPzpcXGQrXFwuP1xcZCp8XFwuP1xcZCspKD86W2VFXVstK109P1xcZCspPy9nO2Z1bmN0aW9uIEkodCl7aWYodCYmdC5ub2RlVHlwZXx8dm9pZCAwPT09dHx8XCJvYmplY3RcIiE9PW0odCkpcmV0dXJuIHQ7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm5bXS5jb25jYXQodCk7aWYoXCJvYmplY3RcIiE9PW0odCkpcmV0dXJuIHQ7dmFyIGU9e307Zm9yKHZhciByIGluIHQpZVtyXT1JKHRbcl0pO3JldHVybiBlfXZhciBMPWZ1bmN0aW9uKHQpe3JldHVybiBpc05hTigrdCl8fChcIitcIj09PXRbMF18fFwiLVwiPT09dFswXSkmJlwiPVwiPT09dFsxXXx8XCJcIj09PXR8fFwiIFwiPT09dH0sSz0vXiMoWzAtOWEtZl17Nn18WzAtOWEtZl17M30pJC9naSxXPWZ1bmN0aW9uKHQsZSl7dmFyIHIsbixpOzM9PT1lLmxlbmd0aCYmKGU9KHI9ZVswXSkrcisobj1lWzFdKStuKyhpPWVbMl0pK2kpO3ZhciBvPXBhcnNlSW50KGUsMTYpO3JldHVyblwicmdiKFwiKyhyPW8+PjE2JjI1NSkrXCIsIFwiKyhuPW8+PjgmMjU1KStcIiwgXCIrKGk9MjU1Jm8pK1wiKVwifTtmdW5jdGlvbiBIKHQpe2lmKHQmJnQuc3BsaWNlJiZ0LmlzU3RyaW5nKXJldHVybiB0O2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXJldHVybiB0O2lmKFwiPVwiPT09dC5jaGFyQXQoMSkpcmV0dXJuIHQ7dmFyIGU9dC5yZXBsYWNlKEssVykubWF0Y2goUikubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBMKHQpP3Q6K3R9KTtyZXR1cm4gZS5pc1N0cmluZz0hMCxlfWZ1bmN0aW9uIFgocixuLHQsZSl7dmFyIGk9dFtyXSxvPWVbcl07aWYoaT09PW8pcmV0dXJuITA7aWYoQXJyYXkuaXNBcnJheShpKSYmQXJyYXkuaXNBcnJheShvKSYmaS5sZW5ndGg9PT1vLmxlbmd0aClmb3IodmFyIHM9MCxhPW8ubGVuZ3RoO3M8YTtzKyspe3ZhciB1PWlbc10sZj1vW3NdO3U9PT1mfHxcIm51bWJlclwiPT10eXBlb2YgdSYmXCJudW1iZXJcIj09dHlwZW9mIGZ8fFgocyxuW3JdLGksbyl9aWYoIShcIm51bWJlclwiPT10eXBlb2YgaSYmXCJudW1iZXJcIj09dHlwZW9mIG98fGkmJmkuc3BsaWNlJiZpLmlzU3RyaW5nJiZvJiZvLnNwbGljZSYmby5pc1N0cmluZykpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBpJiZBcnJheS5pc0FycmF5KG8pKXt2YXIgbD1IKGkpLGg9by5tYXAoSCk7cmV0dXJuIHRbcl09bCxlW3JdPWgsITB9aWYoXCJzdHJpbmdcIj09dHlwZW9mIGl8fFwic3RyaW5nXCI9PXR5cGVvZiBvKXt2YXIgYz1BcnJheS5pc0FycmF5KGkpJiZpWzBdPT09TT9pOkgoaSkscD1BcnJheS5pc0FycmF5KG8pJiZvWzBdPT09TT9vOkgobyk7aWYodm9pZCAwPT09YylyZXR1cm47Zm9yKHZhciB5PTE7eTxjLmxlbmd0aDspY1t5XT09PXBbeV0mJlwic3RyaW5nXCI9PXR5cGVvZiBjW3ktMV0/KGMuc3BsaWNlKHktMSwyLGNbeS0xXStjW3ldKSxwLnNwbGljZSh5LTEsMixwW3ktMV0rcFt5XSkpOnkrKztyZXR1cm4gY1t5PTBdPT09TSYmYy5zaGlmdCgpLHBbMF09PT1NJiZwLnNoaWZ0KCksdFtyXT1jLGVbcl09cCwhMH1pZihcIm9iamVjdFwiPT09bShpKSYmXCJvYmplY3RcIj09PW0obykpe2lmKEFycmF5LmlzQXJyYXkoaSkmJiFpLmlzU3RyaW5nKXJldHVybiBpLm1hcChmdW5jdGlvbih0LGUpe3JldHVybiBYKGUsbltyXSxpLG8pfSk7Zm9yKHZhciBkIGluIG8pWChkLG5bcl0saSxvKTtyZXR1cm4hMH19cmV0dXJuITF9dmFyIFk9XCJyZ2JhKFwiLFo9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09cj9yOlwicmdiKFwiO3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0W2VdJiYodFtlLTFdPT09bnx8dFtlLTNdPT09bnx8dFtlLTVdPT09bil9O2Z1bmN0aW9uICQodCxlLHIsbixpLG8scyl7dmFyIGE9cz9yOnJbdF0sdT1zP246blt0XTtpZih2b2lkIDA9PT11KXJldHVybiBhO2lmKHZvaWQgMD09PWF8fFwic3RyaW5nXCI9PXR5cGVvZiBhfHxhPT09dSlyZXR1cm4gdTtpZihcIm9iamVjdFwiPT09bShhKSYmXCJvYmplY3RcIj09PW0odSkpe2lmKCFhfHwhdSlyZXR1cm4gZVt0XTtpZihcIm9iamVjdFwiPT09bShhKSYmYSYmYS5pc1N0cmluZyYmdSYmdS5zcGxpY2UmJnUuaXNTdHJpbmcpe2Zvcih2YXIgZj1cIlwiLGw9MCxoPWEubGVuZ3RoO2w8aDtsKyspaWYoYVtsXSE9PXVbbF18fFwibnVtYmVyXCIhPXR5cGVvZiBhW2xdfHxcIm51bWJlclwiPT10eXBlb2YgdVtsXSl7dmFyIGM9XCJudW1iZXJcIj09dHlwZW9mIGFbbF0mJlwic3RyaW5nXCI9PXR5cGVvZiB1W2xdJiZcIj1cIj09PXVbbF1bMV0scD1cIm51bWJlclwiIT10eXBlb2YgYVtsXT9hW2xdOmM/YVtsXStwYXJzZUZsb2F0KHVbbF1bMF0rdVtsXS5zdWJzdHIoMikpKmk6YVtsXSsodVtsXS1hW2xdKSppOyhaKGEsbCl8fFooYSxsLFkpKSYmKHB8PTApLGYrPXAsYyYmMT09PW8mJihhW2xdPWFbbF0rcGFyc2VGbG9hdCh1W2xdWzBdK3VbbF0uc3Vic3RyKDIpKSl9ZWxzZSBmKz1hW2xdO3JldHVybiBzfHwoZVt0XT1mKSxmfWlmKEFycmF5LmlzQXJyYXkoYSkmJmFbMF0hPT1NKWZvcih2YXIgeT0wLGQ9YS5sZW5ndGg7eTxkO3krKylhW3ldIT09dVt5XSYmXCJzdHJpbmdcIiE9dHlwZW9mIGVbdF0mJiQoeSxlW3RdLGEsdSxpLG8pO2Vsc2UgaWYoXCJvYmplY3RcIj09PW0oYSkmJmEmJiFhLmlzU3RyaW5nKWZvcih2YXIgdiBpbiBhKWFbdl0hPT11W3ZdJiYkKHYsZVt0XSxhLHUsaSxvKX1lbHNlIGlmKFwibnVtYmVyXCI9PXR5cGVvZiBhKXt2YXIgXz1cInN0cmluZ1wiPT10eXBlb2YgdTtlW3RdPV8/YStwYXJzZUZsb2F0KHVbMF0rdS5zdWJzdHIoMikpKmk6YSsodS1hKSppLF8mJjE9PT1vJiYoclt0XT1lW3RdKX1lbHNlXCJmdW5jdGlvblwiPT10eXBlb2YgdSYmKGVbdF09dShpKSk7cmV0dXJuIGVbdF19ZnVuY3Rpb24gSih0LGUpe3ZhciBpPXRbZV0sbz1lLnJlcGxhY2UobnQsXCJcIikuc3BsaXQocnQpLHM9by5sZW5ndGgtMSxhPUFycmF5LmlzQXJyYXkodCksdT1cIm9iamVjdFwiPT09bSh0KSYmIWE7cmV0dXJuIHU/KHRbZV09bnVsbCxkZWxldGUgdFtlXSk6YSYmdC5zcGxpY2UoZSwxKSxvLnJlZHVjZShmdW5jdGlvbih0LGUscil7YSYmXCIuXCIhPT1lJiZcIltcIiE9PWUmJihlKj0xKTt2YXIgbj1cIltcIj09PW9bcisxXTtpZihcIi5cIj09PWV8fFwiW1wiPT09ZSlyZXR1cm5cIi5cIj09PWU/YT0hKHU9ITApOlwiW1wiPT09ZSYmKGE9ISh1PSExKSksdDtpZih2b2lkIDA9PT10W2VdKXtpZihhfHx1KXJldHVybiB0W2VdPXI9PT1zP2k6YXx8bj9bXTp1P3t9Om51bGwsdT1hPSExLHRbZV19ZWxzZSBpZih2b2lkIDAhPT10W2VdKXJldHVybiByPT09cyYmKHRbZV09aSksdFtlXTtyZXR1cm4gdH0sdCl9ZnVuY3Rpb24gdHQodCl7aWYoXCJvYmplY3RcIj09PW0odCkmJnQpZm9yKHZhciBlIGluIHQpaWYoLTEhPT1lLmluZGV4T2YoXCIuXCIpfHwtMSE9PWUuaW5kZXhPZihcIltcIikpSih0LGUpO2Vsc2UgaWYoXCJvYmplY3RcIj09PW0odFtlXSkmJnRbZV0pe3ZhciByPXRbZV07Zm9yKHZhciBuIGluIHIpaWYoLTEhPT1uLmluZGV4T2YoXCIuXCIpfHwtMSE9PW4uaW5kZXhPZihcIltcIikpSihyLG4pO2Vsc2UgaWYoXCJvYmplY3RcIj09PW0ocltuXSkmJnJbbl0pe3ZhciBpPXJbbl07Zm9yKHZhciBvIGluIGkpLTE9PT1vLmluZGV4T2YoXCIuXCIpJiYtMT09PW8uaW5kZXhPZihcIltcIil8fEooaSxvKX19cmV0dXJuIHR9dmFyIGV0LHJ0PS8oWy5bXSkvZyxudD0vXFxdL2csaXQ9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsRlJBTUVfTVM6RCxUT09fTE9OR19GUkFNRV9NUzoyNTAsQ0hBSU5FRF9UV0VFTlM6VSxFVkVOVF9DQUxMQkFDSzpFLEVWRU5UX1VQREFURTpWLEVWRU5UX0NPTVBMRVRFOkIsRVZFTlRfU1RBUlQ6RyxFVkVOVF9SRVBFQVQ6eixFVkVOVF9SRVZFUlNFOlEsRVZFTlRfUEFVU0U6XCJwYXVzZVwiLEVWRU5UX1BMQVk6XCJwbGF5XCIsRVZFTlRfUkVTVEFSVDpQLEVWRU5UX1NUT1A6XCJzdG9wXCIsRVZFTlRfU0VFSzpcInNlZWtcIixTVFJJTkdfUFJPUDpNLE5VTV9SRUdFWDpSLGRlZXBDb3B5OkksZGVjb21wb3NlU3RyaW5nOkgsZGVjb21wb3NlOlgsUkdCOlwicmdiKFwiLFJHQkE6WSxpc1JHQkNvbG9yOloscmVjb21wb3NlOiQsU0VUX05FU1RFRDp0dH0pLG90PXtMaW5lYXI6ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQubGVuZ3RoLTEsaT1uKmUsbz1NYXRoLmZsb29yKGkpLHM9b3QuVXRpbHMuTGluZWFyO3JldHVybiBlPDA/cyh0WzBdLHRbMV0saSxyKToxPGU/cyh0W25dLHRbbi0xXSxuLWkscik6cyh0W29dLHRbbjxvKzE/bjpvKzFdLGktbyxyKX0sQmV6aWVyOmZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG49b3QuVXRpbHMuUmVzZXQociksaT10Lmxlbmd0aC0xLG89TWF0aC5wb3cscz1vdC5VdGlscy5CZXJuc3RlaW4sYT1BcnJheS5pc0FycmF5KG4pLHU9MDt1PD1pO3UrKylpZihcIm51bWJlclwiPT10eXBlb2YgbiluKz1vKDEtZSxpLXUpKm8oZSx1KSp0W3VdKnMoaSx1KTtlbHNlIGlmKGEpZm9yKHZhciBmPTAsbD1uLmxlbmd0aDtmPGw7ZisrKVwibnVtYmVyXCI9PXR5cGVvZiBuW2ZdP25bZl0rPW8oMS1lLGktdSkqbyhlLHUpKnRbdV1bZl0qcyhpLHUpOm5bZl09dFt1XVtmXTtlbHNlIGlmKFwib2JqZWN0XCI9PT1tKG4pKWZvcih2YXIgaCBpbiBuKVwibnVtYmVyXCI9PXR5cGVvZiBuW2hdP25baF0rPW8oMS1lLGktdSkqbyhlLHUpKnRbdV1baF0qcyhpLHUpOm5baF09dFt1XVtoXTtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiBuKXtmb3IodmFyIGM9XCJcIixwPXRbTWF0aC5yb3VuZChpKmUpXSx5PTEsZD1wLmxlbmd0aDt5PGQ7eSsrKWMrPXBbeV07cmV0dXJuIGN9cmV0dXJuIG59LENhdG11bGxSb206ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQubGVuZ3RoLTEsaT1uKmUsbz1NYXRoLmZsb29yKGkpLHM9b3QuVXRpbHMuQ2F0bXVsbFJvbTtyZXR1cm4gdFswXT09PXRbbl0/KGU8MCYmKG89TWF0aC5mbG9vcihpPW4qKDErZSkpKSxzKHRbKG8tMStuKSVuXSx0W29dLHRbKG8rMSklbl0sdFsobysyKSVuXSxpLW8scikpOmU8MD9zKHRbMV0sdFsxXSx0WzBdLHRbMF0sLWUscik6MTxlP3ModFtuLTFdLHRbbi0xXSx0W25dLHRbbl0sKDB8ZSktZSxyKTpzKHRbbz9vLTE6MF0sdFtvXSx0W248bysxP246bysxXSx0W248bysyP246bysyXSxpLW8scil9LFV0aWxzOntMaW5lYXI6ZnVuY3Rpb24odCxlLHIsbil7aWYodD09PWV8fFwic3RyaW5nXCI9PXR5cGVvZiB0KXtpZihlLmxlbmd0aCYmZS5zcGxpY2UmJmUuaXNTdHJpbmcpe2U9XCJcIjtmb3IodmFyIGk9MCxvPXQubGVuZ3RoO2k8bztpKyspZSs9dFtpXX1yZXR1cm4gZX1pZihcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Qocik6dCsoZS10KSpyO2lmKFwib2JqZWN0XCI9PT1tKHQpKXtpZih2b2lkIDAhPT10Lmxlbmd0aCl7dmFyIHM9XCJzdHJpbmdcIj09dHlwZW9mIHRbMF18fHQuaXNTdHJpbmc7aWYoc3x8dFswXT09PU0pe2Zvcih2YXIgYT1cIlwiLHU9cz8wOjEsZj10Lmxlbmd0aDt1PGY7dSsrKXt2YXIgbD0wPT09cj90W3VdOjEhPT1yJiZcIm51bWJlclwiPT10eXBlb2YgdFt1XT90W3VdKyhlW3VdLXRbdV0pKnI6ZVt1XTsoMDxyJiZyPDEmJloodCx1KXx8Wih0LHUsWSkpJiYobHw9MCksYSs9bH1yZXR1cm4gYX1pZihuJiZuLmxlbmd0aCYmbi5zcGxpY2UpZm9yKHZhciBoPTAsYz1uLmxlbmd0aDtoPGM7aCsrKW5baF09b3QuVXRpbHMuTGluZWFyKHRbaF0sZVtoXSxyLG5baF0pfWVsc2UgZm9yKHZhciBwIGluIG4pbltwXT1vdC5VdGlscy5MaW5lYXIodFtwXSxlW3BdLHIsbltwXSk7cmV0dXJuIG59fSxSZXNldDpmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxyPXQubGVuZ3RoO2U8cjtlKyspdFtlXT1vdC5VdGlscy5SZXNldCh0W2VdKTtyZXR1cm4gdH1pZihcIm9iamVjdFwiIT09bSh0KSlyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdD8wOnQ7Zm9yKHZhciBuIGluIHQpdFtuXT1vdC5VdGlscy5SZXNldCh0W25dKTtyZXR1cm4gdH0sQmVybnN0ZWluOmZ1bmN0aW9uKHQsZSl7dmFyIHI9b3QuVXRpbHMuRmFjdG9yaWFsO3JldHVybiByKHQpL3IoZSkvcih0LWUpfSxGYWN0b3JpYWw6KGV0PVsxXSxmdW5jdGlvbih0KXt2YXIgZT0xO2lmKGV0W3RdKXJldHVybiBldFt0XTtmb3IodmFyIHI9dDsxPHI7ci0tKWUqPXI7cmV0dXJuIGV0W3RdPWV9KSxDYXRtdWxsUm9tOmZ1bmN0aW9uKHQsZSxyLG4saSxvKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gZTtpZihcIm51bWJlclwiPT10eXBlb2YgdCl7dmFyIHM9LjUqKHItdCksYT0uNSoobi1lKSx1PWkqaTtyZXR1cm4oMiplLTIqcitzK2EpKihpKnUpKygtMyplKzMqci0yKnMtYSkqdStzKmkrZX1pZihcIm9iamVjdFwiPT09bSh0KSl7aWYodm9pZCAwIT09dC5sZW5ndGgpe2lmKHRbMF09PT1NKXtmb3IodmFyIGY9XCJcIixsPTEsaD10Lmxlbmd0aDtsPGg7bCsrKXt2YXIgYz1cIm51bWJlclwiPT10eXBlb2YgdFtsXT9vdC5VdGlscy5DYXRtdWxsUm9tKHRbbF0sZVtsXSxyW2xdLG5bbF0saSk6bltsXTsoWih0LGwpfHxaKHQsbCxZKSkmJihjfD0wKSxmKz1jfXJldHVybiBmfWZvcih2YXIgcD0wLHk9by5sZW5ndGg7cDx5O3ArKylvW3BdPW90LlV0aWxzLkNhdG11bGxSb20odFtwXSxlW3BdLHJbcF0sbltwXSxpLG9bcF0pfWVsc2UgZm9yKHZhciBkIGluIG8pb1tkXT1vdC5VdGlscy5DYXRtdWxsUm9tKHRbZF0sZVtkXSxyW2RdLG5bZF0saSxvW2RdKTtyZXR1cm4gb319fX0sc3Q9e307ZnVuY3Rpb24gYXQodCxlLHIpe2lmKCF0fHwhdC5ub2RlVHlwZSlyZXR1cm4gZTt2YXIgbj10LnF1ZXVlSUR8fFwicV9cIitEYXRlLm5vdygpO3QucXVldWVJRHx8KHQucXVldWVJRD1uKTt2YXIgaT1zdFtuXTtpZihpKXtpZihpLm9iamVjdD09PWUmJnQ9PT1pLnR3ZWVuLm5vZGUmJnIuX3N0YXJ0VGltZT09PWkudHdlZW4uX3N0YXJ0VGltZSlOKGkudHdlZW4pO2Vsc2UgaWYoXCJvYmplY3RcIj09PW0oZSkmJmUmJmkub2JqZWN0KXtmb3IodmFyIG8gaW4gZSlvIGluIGkub2JqZWN0JiYoci5fc3RhcnRUaW1lPT09aS50d2Vlbi5fc3RhcnRUaW1lP2RlbGV0ZSBpLm9iamVjdFtvXTppLnByb3BOb3JtYWxpc2VSZXF1aXJlZD0hMCk7T2JqZWN0LmFzc2lnbihpLm9iamVjdCxlKX1yZXR1cm4gaS5vYmplY3R9cmV0dXJuXCJvYmplY3RcIj09PW0oZSkmJmU/KHN0W25dPXt0d2VlbjpyLG9iamVjdDplLHByb3BOb3JtYWxpc2VSZXF1aXJlZDohMX0sc3Rbbl0ub2JqZWN0KTplfWZ1bmN0aW9uIHV0KHQsZSxyKXtyZXR1cm4gZT90P1widW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJnQ9PT13aW5kb3d8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmdD09PWRvY3VtZW50P1t0XTpcInN0cmluZ1wiPT10eXBlb2YgdD8hIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwmJmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodCk6QXJyYXkuaXNBcnJheSh0KT90OnQubm9kZVR5cGU/W3RdOnI/dDpbXTpudWxsOnQ/XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmdD09PXdpbmRvd3x8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50JiZ0PT09ZG9jdW1lbnQ/dDpcInN0cmluZ1wiPT10eXBlb2YgdD8hIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3ImJmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodCk6QXJyYXkuaXNBcnJheSh0KT90WzBdOnQubm9kZVR5cGV8fHI/dDpudWxsOm51bGx9dmFyIGZ0PTAsbHQ9di5MaW5lYXIuTm9uZSxodD1mdW5jdGlvbigpe2Z1bmN0aW9uIEwodCxlKXtyZXR1cm4gXyh0aGlzLEwpLHRoaXMuaWQ9ZnQrKywhdHx8XCJvYmplY3RcIiE9PW0odCl8fGV8fHQubm9kZVR5cGU/dCYmKHQubm9kZVR5cGV8fHQubGVuZ3RofHxcInN0cmluZ1wiPT10eXBlb2YgdCkmJih0PXRoaXMubm9kZT11dCh0KSxlPXRoaXMub2JqZWN0PWF0KHQsZSx0aGlzKSk6KGU9dGhpcy5vYmplY3Q9dCx0PW51bGwpLHRoaXMuX3ZhbHVlc0VuZD1udWxsLHRoaXMuX3ZhbHVlc1N0YXJ0PUFycmF5LmlzQXJyYXkoZSk/W106e30sdGhpcy5fZHVyYXRpb249MWUzLHRoaXMuX2Vhc2luZ0Z1bmN0aW9uPWx0LHRoaXMuX2Vhc2luZ1JldmVyc2U9bHQsdGhpcy5faW50ZXJwb2xhdGlvbkZ1bmN0aW9uPW90LkxpbmVhcix0aGlzLl9zdGFydFRpbWU9MCx0aGlzLl9pbml0VGltZT0wLHRoaXMuX2RlbGF5VGltZT0wLHRoaXMuX3JlcGVhdD0wLHRoaXMuX3I9MCx0aGlzLl9pc1BsYXlpbmc9ITEsdGhpcy5feW95bz0hMSx0aGlzLl9yZXZlcnNlZD0hMSx0aGlzLl9vblN0YXJ0Q2FsbGJhY2tGaXJlZD0hMSx0aGlzLl9wYXVzZWRUaW1lPW51bGwsdGhpcy5faXNGaW5pdGU9ITAsdGhpcy5fbWF4TGlzdGVuZXI9MTUsdGhpcy5fY2hhaW5lZFR3ZWVuc0NvdW50PTAsdGhpcy5fcHJldlRpbWU9bnVsbCx0aGlzfXJldHVybiBiKEwsbnVsbCxbe2tleTpcImZyb21Ub1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPTM8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09bj9uOnt9O2kucXVpY2tSZW5kZXI9aS5xdWlja1JlbmRlcj9pLnF1aWNrUmVuZGVyOiFyO3ZhciBvPW5ldyBMKHQsZSkudG8ocixpKTtyZXR1cm4gaS5xdWlja1JlbmRlciYmKG8ucmVuZGVyKCkudXBkYXRlKG8uX3N0YXJ0VGltZSksby5fcmVuZGVyZWQ9ITEsby5fb25TdGFydENhbGxiYWNrRmlyZWQ9ITEpLG99fSx7a2V5OlwidG9cIix2YWx1ZTpmdW5jdGlvbih0LGUscil7cmV0dXJuIEwuZnJvbVRvKHQsbnVsbCxlLHIpfX0se2tleTpcImZyb21cIix2YWx1ZTpmdW5jdGlvbih0LGUscil7cmV0dXJuIEwuZnJvbVRvKHQsZSxudWxsLHIpfX1dKSxiKEwsW3trZXk6XCJzZXRNYXhMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90OjE1O3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcj1lLHRoaXN9fSx7a2V5Olwib25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgcj10aGlzLl9tYXhMaXN0ZW5lcixuPXQrRSxpPTA7aTxyO2krKyl7dmFyIG89bitpO2lmKCF0aGlzW29dKXt0aGlzW29dPWU7YnJlYWt9fXJldHVybiB0aGlzfX0se2tleTpcIm9uY2VcIix2YWx1ZTpmdW5jdGlvbih0LGkpe2Zvcih2YXIgbz10aGlzLGU9dGhpcy5fbWF4TGlzdGVuZXIscj10K0Usbj1mdW5jdGlvbih0KXt2YXIgbj1yK3Q7aWYoIW9bbl0pcmV0dXJuIG9bbl09ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxyPTA7cjx0O3IrKyllW3JdPWFyZ3VtZW50c1tyXTtpLmFwcGx5KG8sZSksb1tuXT1udWxsfSxcImJyZWFrXCJ9LHM9MDtzPGU7cysrKXtpZihcImJyZWFrXCI9PT1uKHMpKWJyZWFrfXJldHVybiB0aGlzfX0se2tleTpcIm9mZlwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPXRoaXMuX21heExpc3RlbmVyLG49dCtFLGk9MDtpPHI7aSsrKXt2YXIgbz1uK2k7dGhpc1tvXT09PWUmJih0aGlzW29dPW51bGwpfXJldHVybiB0aGlzfX0se2tleTpcImVtaXRcIix2YWx1ZTpmdW5jdGlvbih0LGUscixuKXt2YXIgaT10aGlzLl9tYXhMaXN0ZW5lcixvPXQrRTtpZighdGhpc1tvKzBdKXJldHVybiB0aGlzO2Zvcih2YXIgcz0wO3M8aTtzKyspe3ZhciBhPW8rczt0aGlzW2FdJiZ0aGlzW2FdKGUscixuKX1yZXR1cm4gdGhpc319LHtrZXk6XCJpc1BsYXlpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1BsYXlpbmd9fSx7a2V5OlwiaXNTdGFydGVkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25TdGFydENhbGxiYWNrRmlyZWR9fSx7a2V5OlwicmV2ZXJzZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3JldmVyc2VkO3JldHVybiB0aGlzLl9yZXZlcnNlZD12b2lkIDAhPT10P3Q6IWUsdGhpc319LHtrZXk6XCJyZXZlcnNlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JldmVyc2VkfX0se2tleTpcInBhdXNlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNQbGF5aW5nPyh0aGlzLl9pc1BsYXlpbmc9ITEsTih0aGlzKSx0aGlzLl9wYXVzZWRUaW1lPUMoKSx0aGlzLmVtaXQoXCJwYXVzZVwiLHRoaXMub2JqZWN0KSk6dGhpc319LHtrZXk6XCJwbGF5XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNQbGF5aW5nP3RoaXM6KHRoaXMuX2lzUGxheWluZz0hMCx0aGlzLl9zdGFydFRpbWUrPUMoKS10aGlzLl9wYXVzZWRUaW1lLHRoaXMuX2luaXRUaW1lPXRoaXMuX3N0YXJ0VGltZSxzKHRoaXMpLHRoaXMuX3BhdXNlZFRpbWU9QygpLHRoaXMuZW1pdChcInBsYXlcIix0aGlzLm9iamVjdCkpfX0se2tleTpcInJlc3RhcnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXBlYXQ9dGhpcy5fcix0aGlzLnJlYXNzaWduVmFsdWVzKCkscyh0aGlzKSx0aGlzLmVtaXQoUCx0aGlzLm9iamVjdCl9fSx7a2V5Olwic2Vla1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5fZHVyYXRpb24sbj10aGlzLl9pbml0VGltZSxpPXRoaXMuX3N0YXJ0VGltZSxvPXRoaXMuX3JldmVyc2VkLHM9bit0O3JldHVybiB0aGlzLl9pc1BsYXlpbmc9ITAsczxpJiZuPD1pJiYodGhpcy5fc3RhcnRUaW1lLT1yLHRoaXMuX3JldmVyc2VkPSFvKSx0aGlzLnVwZGF0ZSh0LCExKSx0aGlzLmVtaXQoXCJzZWVrXCIsdCx0aGlzLm9iamVjdCksZT90aGlzOnRoaXMucGF1c2UoKX19LHtrZXk6XCJkdXJhdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kdXJhdGlvbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3QodGhpcy5fZHVyYXRpb24pOnQsdGhpc319LHtrZXk6XCJ0b1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIHI9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6MWUzO2lmKHRoaXMuX3ZhbHVlc0VuZD10LFwibnVtYmVyXCI9PXR5cGVvZiByfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiByKXRoaXMuX2R1cmF0aW9uPVwiZnVuY3Rpb25cIj09dHlwZW9mIHI/cih0aGlzLl9kdXJhdGlvbik6cjtlbHNlIGlmKFwib2JqZWN0XCI9PT1tKHIpKWZvcih2YXIgbiBpbiByKWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXNbbl0pe3ZhciBpPVMoQXJyYXkuaXNBcnJheShyW25dKT9yW25dOltyW25dXSw0KSxvPWlbMF0scz12b2lkIDA9PT1vP251bGw6byxhPWlbMV0sdT12b2lkIDA9PT1hP251bGw6YSxmPWlbMl0sbD12b2lkIDA9PT1mP251bGw6ZixoPWlbM10sYz12b2lkIDA9PT1oP251bGw6aDt0aGlzW25dKHMsdSxsLGMpfXJldHVybiB0aGlzfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5fcmVuZGVyZWQpcmV0dXJuIHRoaXM7dmFyIHQ9dGhpcy5fdmFsdWVzU3RhcnQsZT10aGlzLl92YWx1ZXNFbmQscj10aGlzLm9iamVjdCxuPXRoaXMubm9kZSxpPXRoaXMuSW5pdGlhbFZhbHVlcztpZih0dChyKSx0dChlKSxuJiZuLnF1ZXVlSUQmJnN0W24ucXVldWVJRF0pe3ZhciBvPXN0W24ucXVldWVJRF07aWYoby5wcm9wTm9ybWFsaXNlUmVxdWlyZWQmJm8udHdlZW4hPT10aGlzKXtmb3IodmFyIHMgaW4gZSlvLnR3ZWVuLl92YWx1ZXNFbmRbc107by5ub3JtYWxpc2VkUHJvcD0hMCxvLnByb3BOb3JtYWxpc2VSZXF1aXJlZD0hMX19aWYobiYmaSYmKHImJjAhPT1PYmplY3Qua2V5cyhyKS5sZW5ndGg/ZSYmMCE9PU9iamVjdC5rZXlzKGUpLmxlbmd0aHx8KGU9dGhpcy5fdmFsdWVzRW5kPWkobixyKSk6cj10aGlzLm9iamVjdD1hdChuLGkobixlKSx0aGlzKSksIXQucHJvY2Vzc2VkKXtmb3IodmFyIGEgaW4gZSl7dmFyIHU9ciYmclthXSYmSShyW2FdKSxmPWVbYV07aWYoIShxW2FdJiZxW2FdLmluaXQmJihxW2FdLmluaXQuY2FsbCh0aGlzLHUsZixhLHIpLHZvaWQgMD09PXUmJnRbYV0mJih1PXRbYV0pLHFbYV0uc2tpcFByb2Nlc3MpKSYmIShcIm51bWJlclwiPT10eXBlb2YgdSYmaXNOYU4odSl8fG51bGw9PT11fHxudWxsPT09Znx8ITE9PT11fHwhMT09PWZ8fHZvaWQgMD09PXV8fHZvaWQgMD09PWZ8fHU9PT1mKSl7aWYodFthXT11LEFycmF5LmlzQXJyYXkoZikpaWYoQXJyYXkuaXNBcnJheSh1KSlmLmlzU3RyaW5nJiZyW2FdLmlzU3RyaW5nJiYhdS5pc1N0cmluZz91LmlzU3RyaW5nPSEwOlgoYSxyLHQsZSk7ZWxzZXtmLnVuc2hpZnQodSk7Zm9yKHZhciBsPTAsaD1mLmxlbmd0aDtsPGg7bCsrKVwic3RyaW5nXCI9PXR5cGVvZiBmW2xdJiYoZltsXT1IKGZbbF0pKX1lbHNlIFgoYSxyLHQsZSk7XCJudW1iZXJcIiE9dHlwZW9mIHV8fFwic3RyaW5nXCIhPXR5cGVvZiBmfHxmWzFdfX10LnByb2Nlc3NlZD0hMH1yZXR1cm4gTC5SZW5kZXJlciYmdGhpcy5ub2RlJiZMLlJlbmRlcmVyLmluaXQmJihMLlJlbmRlcmVyLmluaXQuY2FsbCh0aGlzLHIsdCxlKSx0aGlzLl9fcmVuZGVyPSEwKSx0aGlzLl9yZW5kZXJlZD0hMCx0aGlzfX0se2tleTpcInN0YXJ0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N0YXJ0VGltZT12b2lkIDAhPT10P1wic3RyaW5nXCI9PXR5cGVvZiB0P0MoKStwYXJzZUZsb2F0KHQpOnQ6QygpLHRoaXMuX3N0YXJ0VGltZSs9dGhpcy5fZGVsYXlUaW1lLHRoaXMuX2luaXRUaW1lPXRoaXMuX3ByZXZUaW1lPXRoaXMuX3N0YXJ0VGltZSx0aGlzLl9vblN0YXJ0Q2FsbGJhY2tGaXJlZD0hMSx0aGlzLl9yZW5kZXJlZD0hMSx0aGlzLl9pc1BsYXlpbmc9ITAscyh0aGlzKSx0aGlzfX0se2tleTpcInN0b3BcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2lzUGxheWluZyxlPXRoaXMuX2lzRmluaXRlLHI9dGhpcy5vYmplY3Qsbj10aGlzLl9zdGFydFRpbWUsaT10aGlzLl9kdXJhdGlvbixvPXRoaXMuX3Iscz10aGlzLl95b3lvLGE9dGhpcy5fcmV2ZXJzZWQ7aWYoIXQpcmV0dXJuIHRoaXM7dmFyIHU9ZT8obysxKSUyPT0xOiFhO3JldHVybiB0aGlzLl9yZXZlcnNlZD0hMSxzJiZ1P3RoaXMudXBkYXRlKG4pOnRoaXMudXBkYXRlKG4raSksTih0aGlzKSx0aGlzLmVtaXQoXCJzdG9wXCIscil9fSx7a2V5OlwiZGVsYXlcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGVsYXlUaW1lPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dCh0aGlzLl9kZWxheVRpbWUpOnQsdGhpc319LHtrZXk6XCJjaGFpbmVkVHdlZW5zXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLl9jaGFpbmVkVHdlZW5zQ291bnQ9YXJndW1lbnRzLmxlbmd0aCwhdGhpcy5fY2hhaW5lZFR3ZWVuc0NvdW50KXJldHVybiB0aGlzO2Zvcih2YXIgdD0wLGU9dGhpcy5fY2hhaW5lZFR3ZWVuc0NvdW50O3Q8ZTt0KyspdGhpc1tVK3RdPWFyZ3VtZW50c1t0XTtyZXR1cm4gdGhpc319LHtrZXk6XCJyZXBlYXRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVwZWF0PXRoaXMuX2R1cmF0aW9uP1wiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dCh0aGlzLl9yZXBlYXQpOnQ6MCx0aGlzLl9yPXRoaXMuX3JlcGVhdCx0aGlzLl9pc0Zpbml0ZT1pc0Zpbml0ZSh0KSx0aGlzfX0se2tleTpcInJldmVyc2VEZWxheVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yZXZlcnNlRGVsYXlUaW1lPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dCh0aGlzLl9yZXZlcnNlRGVsYXlUaW1lKTp0LHRoaXN9fSx7a2V5OlwieW95b1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3lveW89XCJmdW5jdGlvblwiPT10eXBlb2YgdD90KHRoaXMuX3lveW8pOm51bGw9PT10P3RoaXMuX3lveW86dCx0fHwodGhpcy5fcmV2ZXJzZWQ9ITEpLHRoaXMuX2Vhc2luZ1JldmVyc2U9ZXx8bnVsbCx0aGlzfX0se2tleTpcImVhc2luZ1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9lYXNpbmdGdW5jdGlvbj10LHRoaXN9fSx7a2V5OlwiaW50ZXJwb2xhdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJih0aGlzLl9pbnRlcnBvbGF0aW9uRnVuY3Rpb249dCksdGhpc319LHtrZXk6XCJyZWFzc2lnblZhbHVlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3ZhbHVlc1N0YXJ0LHI9dGhpcy5vYmplY3Qsbj10aGlzLl9kZWxheVRpbWU7Zm9yKHZhciBpIGluIHRoaXMuX2lzUGxheWluZz0hMCx0aGlzLl9zdGFydFRpbWU9dm9pZCAwIT09dD90OkMoKSx0aGlzLl9zdGFydFRpbWUrPW4sdGhpcy5fcmV2ZXJzZWQ9ITEscyh0aGlzKSxlKXt2YXIgbz1lW2ldO3JbaV09b31yZXR1cm4gdGhpc319LHtrZXk6XCJ1cGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUscil7dmFyIG4saSxvLHM9dGhpcy5fb25TdGFydENhbGxiYWNrRmlyZWQsYT10aGlzLl9lYXNpbmdGdW5jdGlvbix1PXRoaXMuX2ludGVycG9sYXRpb25GdW5jdGlvbixmPXRoaXMuX2Vhc2luZ1JldmVyc2UsbD10aGlzLl9yZXBlYXQsaD10aGlzLl9kZWxheVRpbWUsYz10aGlzLl9yZXZlcnNlRGVsYXlUaW1lLHA9dGhpcy5feW95byx5PXRoaXMuX3JldmVyc2VkLGQ9dGhpcy5fc3RhcnRUaW1lLHY9dGhpcy5fcHJldlRpbWUsXz10aGlzLl9kdXJhdGlvbixtPXRoaXMuX3ZhbHVlc1N0YXJ0LGc9dGhpcy5fdmFsdWVzRW5kLGI9dGhpcy5vYmplY3QsVD10aGlzLl9pc0Zpbml0ZSxPPXRoaXMuX2lzUGxheWluZyx3PXRoaXMuX19yZW5kZXIsaz10aGlzLl9jaGFpbmVkVHdlZW5zQ291bnQsaj0wO2lmKF8pe3ZhciBBPSh0PXZvaWQgMCE9PXQ/dDpDKCkpLXY7aWYodGhpcy5fcHJldlRpbWU9dCwyNTA8QSYmRigpJiZ4KCkmJih0LT1BLUQpLCFPfHx0PGQmJiFyKXJldHVybiEwO249MTwobj0odC1kKS9fKT8xOm4sbj15PzEtbjpufWVsc2Ugbj0xLGw9MDtpZihzfHwodGhpcy5fcmVuZGVyZWR8fCh0aGlzLnJlbmRlcigpLHRoaXMuX3JlbmRlcmVkPSEwKSx0aGlzLmVtaXQoRyxiKSx0aGlzLl9vblN0YXJ0Q2FsbGJhY2tGaXJlZD0hMCksaT15JiZmfHxhLCFiKXJldHVybiEwO2ZvcihvIGluIGcpe3ZhciBTPW1bb107aWYobnVsbCE9U3x8cVtvXSYmcVtvXS51cGRhdGUpe3ZhciBFPWdbb10sUD1pW29dP2lbb10obik6KFwiZnVuY3Rpb25cIj09dHlwZW9mIGk/aTpsdCkobiksTT11W29dP3Vbb106XCJmdW5jdGlvblwiPT10eXBlb2YgdT91Om90LkxpbmVhcjtcIm51bWJlclwiPT10eXBlb2YgRT9iW29dPVMrKEUtUykqUDohQXJyYXkuaXNBcnJheShFKXx8RS5pc1N0cmluZ3x8QXJyYXkuaXNBcnJheShTKT9FJiZFLnVwZGF0ZT9FLnVwZGF0ZShQKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBFP2Jbb109RShQKTpcInN0cmluZ1wiPT10eXBlb2YgRSYmXCJudW1iZXJcIj09dHlwZW9mIFM/YltvXT1TK3BhcnNlRmxvYXQoRVswXStFLnN1YnN0cigyKSkqUDokKG8sYixtLGcsUCxuKTpiW29dPU0oRSxQLGJbb10pLHFbb10mJnFbb10udXBkYXRlJiZxW29dLnVwZGF0ZS5jYWxsKHRoaXMsYltvXSxTLEUsUCxuLG8pLGorK319aWYoIWopcmV0dXJuIE4odGhpcyksITE7aWYodyYmTC5SZW5kZXJlciYmTC5SZW5kZXJlci51cGRhdGUmJkwuUmVuZGVyZXIudXBkYXRlLmNhbGwodGhpcyxiLG4pLHRoaXMuZW1pdChWLGIsbix0KSwxPT09bnx8eSYmMD09PW4pe2lmKDA8bCYmMDxfKXtpZihUJiZ0aGlzLl9yZXBlYXQtLSxwKXRoaXMuX3JldmVyc2VkPSF5O2Vsc2UgZm9yKG8gaW4gZyl7dmFyIFI9Z1tvXTtcInN0cmluZ1wiPT10eXBlb2YgUiYmXCJudW1iZXJcIj09dHlwZW9mIG1bb10mJihtW29dKz1wYXJzZUZsb2F0KFJbMF0rUi5zdWJzdHIoMikpKX1yZXR1cm4gdGhpcy5lbWl0KHAmJiF5P1E6eixiKSx0aGlzLl9zdGFydFRpbWU9eSYmYz90LWM6dCtoLCEwfWlmKGV8fCh0aGlzLl9pc1BsYXlpbmc9ITEsTih0aGlzKSxmdC0tKSx0aGlzLmVtaXQoQixiKSx0aGlzLl9yZXBlYXQ9dGhpcy5fcixrKWZvcih2YXIgST0wO0k8aztJKyspdGhpc1tVK0ldLnN0YXJ0KHQrXyk7cmV0dXJuITF9cmV0dXJuITB9fV0pLEx9KCksY3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7Xyh0aGlzLHQpLHRoaXMudG90YWxUaW1lPTAsdGhpcy5sYWJlbHM9W10sdGhpcy5vZmZzZXRzPVtdfXJldHVybiBiKHQsW3trZXk6XCJwYXJzZUxhYmVsXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLm9mZnNldHMsbj10aGlzLmxhYmVscyxpPW4uaW5kZXhPZih0KTtpZihcInN0cmluZ1wiPT10eXBlb2YgdCYmLTEhPT10LmluZGV4T2YoXCI9XCIpJiYhZSYmLTE9PT1pKXt2YXIgbz10LnN1YnN0cih0LmluZGV4T2YoXCI9XCIpLTEsMikscz10LnNwbGl0KG8pO2U9Mj09PXMubGVuZ3RoP28rc1sxXTpudWxsLHQ9c1swXSxpPW4uaW5kZXhPZih0KX1pZigtMSE9PWkmJnQpe3ZhciBhPXJbaV18fDA7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpYT1lO2Vsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJi0xIT09ZS5pbmRleE9mKFwiPVwiKSl7dmFyIHU9ZS5jaGFyQXQoMCk7ZT1OdW1iZXIoZS5zdWJzdHIoMikpLFwiK1wiPT09dXx8XCItXCI9PT11P2ErPXBhcnNlRmxvYXQodStlKTpcIipcIj09PXU/YSo9ZTpcIi9cIj09PXU/YS89ZTpcIiVcIj09PXUmJihhKj1lLzEwMCl9cmV0dXJuIGF9cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGU/ZTowfX0se2tleTpcImFkZExhYmVsXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5sYWJlbHMucHVzaCh0KSx0aGlzLm9mZnNldHMucHVzaCh0aGlzLnBhcnNlTGFiZWwodCxlKSksdGhpc319LHtrZXk6XCJzZXRMYWJlbFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5sYWJlbHMuaW5kZXhPZih0KTtyZXR1cm4tMSE9PXImJnRoaXMub2Zmc2V0cy5zcGxpY2UociwxLHRoaXMucGFyc2VMYWJlbCh0LGUpKSx0aGlzfX0se2tleTpcImVyYXNlTGFiZWxcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmxhYmVscy5pbmRleE9mKHQpO3JldHVybi0xIT09ZSYmKHRoaXMubGFiZWxzLnNwbGljZShlLDEpLHRoaXMub2Zmc2V0cy5zcGxpY2UoZSwxKSksdGhpc319XSksdH0oKSxwdD0wLHl0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcih0KXt2YXIgZTtyZXR1cm4gXyh0aGlzLHIpLChlPUEodGhpcyx3KHIpLmNhbGwodGhpcykpKS5fZHVyYXRpb249MCxlLl9zdGFydFRpbWU9dCYmdm9pZCAwIT09dC5zdGFydFRpbWU/dC5zdGFydFRpbWU6QygpLGUuX3R3ZWVucz1bXSxlLmVsYXBzZWQ9MCxlLl9pZD1wdCsrLGUuX2RlZmF1bHRQYXJhbXM9dCxlLnBvc2l0aW9uPW5ldyBjdCxlLnBvc2l0aW9uLmFkZExhYmVsKFwiYWZ0ZXJMYXN0XCIsZS5fZHVyYXRpb24pLGUucG9zaXRpb24uYWRkTGFiZWwoXCJhZnRlckluaXRcIixlLl9zdGFydFRpbWUpLGUuX29uU3RhcnRDYWxsYmFja0ZpcmVkPSExLEEoZSxqKGUpKX1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJmsodCxlKX0ocixodCksYihyLFt7a2V5OlwibWFwVG90YWxcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5jYWxsKHRoaXMsdGhpcy5fdHdlZW5zKSx0aGlzfX0se2tleTpcInRpbWluZ09yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIHI9dCh0aGlzLl90d2VlbnMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0Ll9zdGFydFRpbWV9KSk7cmV0dXJuIHRoaXMuX3R3ZWVucy5tYXAoZnVuY3Rpb24odCxlKXt0Ll9zdGFydFRpbWU9cltlXX0pLHRoaXN9fSx7a2V5OlwiZ2V0VGltaW5nXCIsdmFsdWU6ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9Mzxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1uP246MDtpZihcInJldmVyc2VcIj09PXQpe3ZhciBvPXIuc3RhZ2dlcixzPShvfHwwKSooZS5sZW5ndGgtMSk7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHMtKG98fDApKmUraX0pfWlmKFwiYXN5bmNcIj09PXQpcmV0dXJuIGUubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBpfSk7aWYoXCJzZXF1ZW5jZVwiPT09dHx8XCJkZWxheWVkXCI9PT10KXt2YXIgYT1yLnN0YWdnZXI7cmV0dXJuIGE9YXx8KHIuZHVyYXRpb258fDFlMykvKGUubGVuZ3RoLTEpLGUubWFwKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGEqZStpfSl9aWYoXCJvbmVCeU9uZVwiPT09dClyZXR1cm4gZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHIuZHVyYXRpb259KTtpZihcInNodWZmbGVcIj09PXQpe3ZhciB1PXIuc3RhZ2dlcjtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGUscixuO2ZvcihuPXQubGVuZ3RoO247LS1uKWU9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKm4pLHI9dFtuLTFdLHRbbi0xXT10W2VdLHRbZV09cjtyZXR1cm4gdH0oZS5tYXAoZnVuY3Rpb24odCxlKXtyZXR1cm4odXx8MCkqZStpfSkpfXZhciBmPXIuc3RhZ2dlcjtyZXR1cm4gZS5tYXAoZnVuY3Rpb24odCxlKXtyZXR1cm4oZnx8MCkqZStpfSl9fSx7a2V5OlwiZnJvbVRvXCIsdmFsdWU6ZnVuY3Rpb24odCxlLHIsbil7aWYoKHQ9dXQodCwhMCwhMCkpJiZ0Lmxlbmd0aCl7dGhpcy5fZGVmYXVsdFBhcmFtcyYmKG49bj9PKHt9LHRoaXMuX2RlZmF1bHRQYXJhbXMse30sbik6dGhpcy5fZGVmYXVsdFBhcmFtcyk7Zm9yKHZhciBpLG89bi5sYWJlbCxzPVwibnVtYmVyXCI9PXR5cGVvZiBvP286dGhpcy5wb3NpdGlvbi5wYXJzZUxhYmVsKHZvaWQgMCE9PW8/bzpcImFmdGVyTGFzdFwiLG51bGwpLGE9dGhpcy5nZXRUaW1pbmcobi5tb2RlLHQsbixzKSx1PTAsZj10Lmxlbmd0aDt1PGY7dSsrKWk9dFt1XSx0aGlzLmFkZChodC5mcm9tVG8oaSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2UodSx0Lmxlbmd0aCk6XCJvYmplY3RcIj09PW0oZSkmJmU/Tyh7fSxlKTpudWxsLFwiZnVuY3Rpb25cIj09dHlwZW9mIHI/cih1LHQubGVuZ3RoKTpyLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bih1LHQubGVuZ3RoKTpuKSxhW3VdKX1yZXR1cm4gdGhpcy5zdGFydCgpfX0se2tleTpcImZyb21cIix2YWx1ZTpmdW5jdGlvbih0LGUscil7cmV0dXJuIHRoaXMuZnJvbVRvKHQsZSxudWxsLHIpfX0se2tleTpcInRvXCIsdmFsdWU6ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0aGlzLmZyb21Ubyh0LG51bGwsZSxyKX19LHtrZXk6XCJhZGRMYWJlbFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucG9zaXRpb24uYWRkTGFiZWwodCxlKSx0aGlzfX0se2tleTpcIm1hcFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHI9dGhpcy5fdHdlZW5zLmxlbmd0aDtlPHI7ZSsrKXt2YXIgbj10aGlzLl90d2VlbnNbZV07dChuLGUpLHRoaXMuX2R1cmF0aW9uPU1hdGgubWF4KHRoaXMuX2R1cmF0aW9uLG4uX2R1cmF0aW9uK24uX3N0YXJ0VGltZSl9cmV0dXJuIHRoaXN9fSx7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzO2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQubWFwKGZ1bmN0aW9uKHQpe3IuYWRkKHQsZSl9KSx0aGlzO1wib2JqZWN0XCIhPT1tKHQpfHx0IGluc3RhbmNlb2YgaHR8fCh0PW5ldyBodCh0LmZyb20pLnRvKHQudG8sdCkpO3ZhciBuPXRoaXMuX2RlZmF1bHRQYXJhbXMsaT10aGlzLl9kdXJhdGlvbjtpZihuKWZvcih2YXIgbyBpbiBuKVwiZnVuY3Rpb25cIj09dHlwZW9mIHRbb10mJnRbb10obltvXSk7dmFyIHM9XCJudW1iZXJcIj09dHlwZW9mIGU/ZTp0aGlzLnBvc2l0aW9uLnBhcnNlTGFiZWwodm9pZCAwIT09ZT9lOlwiYWZ0ZXJMYXN0XCIsbnVsbCk7cmV0dXJuIHQuX3N0YXJ0VGltZT1NYXRoLm1heCh0aGlzLl9zdGFydFRpbWUsdC5fZGVsYXlUaW1lLHMpLHQuX2RlbGF5VGltZT1zLHQuX2lzUGxheWluZz0hMCx0aGlzLl9kdXJhdGlvbj1NYXRoLm1heChpLE1hdGgubWF4KHQuX3N0YXJ0VGltZSt0Ll9kZWxheVRpbWUsdC5fZHVyYXRpb24pKSx0aGlzLl90d2VlbnMucHVzaCh0KSx0aGlzLnBvc2l0aW9uLnNldExhYmVsKFwiYWZ0ZXJMYXN0XCIsdGhpcy5fZHVyYXRpb24pLHRoaXN9fSx7a2V5OlwicmVzdGFydFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXJ0VGltZSs9QygpLHModGhpcyksdGhpcy5lbWl0KFApfX0se2tleTpcImVhc2luZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5lYXNpbmcoZSl9KX19LHtrZXk6XCJpbnRlcnBvbGF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmludGVycG9sYXRpb24oZSl9KX19LHtrZXk6XCJ1cGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxyPXRoaXMuX3R3ZWVucyxuPXRoaXMuX2R1cmF0aW9uLGk9dGhpcy5fcmV2ZXJzZURlbGF5VGltZSxvPXRoaXMuX3N0YXJ0VGltZSxzPXRoaXMuX3JldmVyc2VkLGE9dGhpcy5feW95byx1PXRoaXMuX3JlcGVhdCxmPXRoaXMuX2lzRmluaXRlLGw9dGhpcy5faXNQbGF5aW5nLGg9dGhpcy5fcHJldlRpbWUsYz10aGlzLl9vblN0YXJ0Q2FsbGJhY2tGaXJlZCxwPSh0PXZvaWQgMCE9PXQ/dDpDKCkpLWg7aWYodGhpcy5fcHJldlRpbWU9dCwyNTA8cCYmRigpJiZ4KCkmJih0LT1wLUQpLCFsfHx0PG8pcmV0dXJuITA7ZT0xPChlPSh0LW8pL24pPzE6ZSxlPXM/MS1lOmUsdGhpcy5lbGFwc2VkPWUsY3x8KHRoaXMuZW1pdChHKSx0aGlzLl9vblN0YXJ0Q2FsbGJhY2tGaXJlZD0hMCk7Zm9yKHZhciB5PXQtbyxkPXM/bi15Onksdj0wO3Y8ci5sZW5ndGg7KXJbdl0udXBkYXRlKGQpLHYrKztpZih0aGlzLmVtaXQoVixlLHkpLDE9PT1lfHxzJiYwPT09ZSl7aWYodSl7Zm9yKGYmJnRoaXMuX3JlcGVhdC0tLHRoaXMuZW1pdChzP1E6eiksYSYmKHRoaXMuX3JldmVyc2VkPSFzLHRoaXMudGltaW5nT3JkZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQucmV2ZXJzZSgpfSkpLHRoaXMuX3N0YXJ0VGltZT1zJiZpP3QraTp0LHY9MDt2PHIubGVuZ3RoOylyW3ZdLnJlYXNzaWduVmFsdWVzKHQpLHYrKztyZXR1cm4hMH1yZXR1cm4gdGhpcy5lbWl0KEIpLHRoaXMuX3JlcGVhdD10aGlzLl9yLE4odGhpcyksdGhpcy5faXNQbGF5aW5nPSExfXJldHVybiEwfX0se2tleTpcInByb2dyZXNzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXQ/dGhpcy51cGRhdGUodCp0aGlzLl9kdXJhdGlvbik6dGhpcy5lbGFwc2VkfX1dKSxyfSgpO3QuRWFzaW5nPXYsdC5GcmFtZVRocm90dGxlPWZ1bmN0aW9uKHQpe3k9MS4wNSooMDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10P3Q6MTIwKX0sdC5JbnRlcnBvbGF0aW9uPW90LHQuSW50ZXJwb2xhdG9yPWZ1bmN0aW9uKGksbyl7dmFyIHM9QXJyYXkuaXNBcnJheShpKSYmIWkuaXNTdHJpbmcsYT1cInN0cmluZ1wiPT10eXBlb2YgaT9pOnM/aS5zbGljZSgpOk8oe30saSk7aWYocylmb3IodmFyIHQ9MCxlPWkubGVuZ3RoO3Q8ZTt0KyspaVt0XT09PW9bdF0mJlwibnVtYmVyXCI9PXR5cGVvZiBpW3RdJiZcIm51bWJlclwiIT10eXBlb2Ygb1t0XXx8WCh0LGEsaSxvKTtlbHNlIGlmKFwib2JqZWN0XCI9PT1tKGkpKWZvcih2YXIgciBpbiBpKWlbcl09PT1vW3JdJiZcIm51bWJlclwiPT10eXBlb2YgaVtyXSYmXCJudW1iZXJcIiE9dHlwZW9mIG9bcl18fFgocixhLGksbyk7ZWxzZSBpZihcInN0cmluZ1wiPT10eXBlb2YgaSl7aT1IKGkpLG89SChvKTtmb3IodmFyIG49MTtuPGkubGVuZ3RoOylpW25dPT09b1tuXSYmXCJzdHJpbmdcIj09dHlwZW9mIGlbbi0xXT8oaS5zcGxpY2Uobi0xLDIsaVtuLTFdK2lbbl0pLG8uc3BsaWNlKG4tMSwyLG9bbi0xXStvW25dKSk6bisrfXJldHVybiBmdW5jdGlvbih0KXtpZihzKWZvcih2YXIgZT0wLHI9aS5sZW5ndGg7ZTxyO2UrKykkKGUsYSxpLG8sdCk7ZWxzZSBpZihcIm9iamVjdFwiPT09bShhKSlmb3IodmFyIG4gaW4gaSkkKG4sYSxpLG8sdCk7ZWxzZVwic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT0kKDAsMCxpLG8sdCx0LCEwKSk7cmV0dXJuIGF9fSx0LlBsdWdpbnM9cSx0LlNlbGVjdG9yPXV0LHQuVGltZWxpbmU9eXQsdC5Ub2dnbGVMYWdTbW9vdGhpbmc9ZnVuY3Rpb24odCl7ZD0hKDA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dCl8fHR9LHQuVHdlZW49aHQsdC5hZGQ9cyx0LmF1dG9QbGF5PWZ1bmN0aW9uKHQpe2w9dH0sdC5nZXQ9ZSx0LmdldEFsbD1mdW5jdGlvbigpe3JldHVybiB1fSx0Lmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PWUodCl9LHQuaXNSdW5uaW5nPUYsdC5ub3c9Qyx0Lm9uUmVxdWVzdFRpY2s9ZnVuY3Rpb24odCl7aC5wdXNoKHQpfSx0Lm9uVGljaz1mdW5jdGlvbih0KXtyZXR1cm4gdS5wdXNoKHt1cGRhdGU6dH0pfSx0LnJlbW92ZT1OLHQucmVtb3ZlQWxsPWZ1bmN0aW9uKCl7dS5sZW5ndGg9MCxhKG8pLGY9ITF9LHQudXBkYXRlPWksdC51dGlscz1pdCxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0pOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../glycan.js/node_modules/es6-tween/bundled/Tween.min.js\n");

/***/ }),

/***/ "../glycan.js/node_modules/ms/index.js":
/*!*********************************************!*\
  !*** ../glycan.js/node_modules/ms/index.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error('val is not a non-empty string or a valid number. val=' + JSON.stringify(val));\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL25vZGVfbW9kdWxlcy9tcy9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9nbHljYW4uanMvbm9kZV9tb2R1bGVzL21zL2luZGV4LmpzP2ZjZDEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBIZWxwZXJzLlxuICovXG5cbnZhciBzID0gMTAwMDtcbnZhciBtID0gcyAqIDYwO1xudmFyIGggPSBtICogNjA7XG52YXIgZCA9IGggKiAyNDtcbnZhciB3ID0gZCAqIDc7XG52YXIgeSA9IGQgKiAzNjUuMjU7XG5cbi8qKlxuICogUGFyc2Ugb3IgZm9ybWF0IHRoZSBnaXZlbiBgdmFsYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAtIGBsb25nYCB2ZXJib3NlIGZvcm1hdHRpbmcgW2ZhbHNlXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gdmFsXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAdGhyb3dzIHtFcnJvcn0gdGhyb3cgYW4gZXJyb3IgaWYgdmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSBudW1iZXJcbiAqIEByZXR1cm4ge1N0cmluZ3xOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odmFsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZSh2YWwpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbCkpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5sb25nID8gZm10TG9uZyh2YWwpIDogZm10U2hvcnQodmFsKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgJ3ZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9JyArXG4gICAgICBKU09OLnN0cmluZ2lmeSh2YWwpXG4gICk7XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBgc3RyYCBhbmQgcmV0dXJuIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgc3RyID0gU3RyaW5nKHN0cik7XG4gIGlmIChzdHIubGVuZ3RoID4gMTAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBtYXRjaCA9IC9eKC0/KD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx3ZWVrcz98d3x5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhcbiAgICBzdHJcbiAgKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbiA9IHBhcnNlRmxvYXQobWF0Y2hbMV0pO1xuICB2YXIgdHlwZSA9IChtYXRjaFsyXSB8fCAnbXMnKS50b0xvd2VyQ2FzZSgpO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICd5ZWFycyc6XG4gICAgY2FzZSAneWVhcic6XG4gICAgY2FzZSAneXJzJzpcbiAgICBjYXNlICd5cic6XG4gICAgY2FzZSAneSc6XG4gICAgICByZXR1cm4gbiAqIHk7XG4gICAgY2FzZSAnd2Vla3MnOlxuICAgIGNhc2UgJ3dlZWsnOlxuICAgIGNhc2UgJ3cnOlxuICAgICAgcmV0dXJuIG4gKiB3O1xuICAgIGNhc2UgJ2RheXMnOlxuICAgIGNhc2UgJ2RheSc6XG4gICAgY2FzZSAnZCc6XG4gICAgICByZXR1cm4gbiAqIGQ7XG4gICAgY2FzZSAnaG91cnMnOlxuICAgIGNhc2UgJ2hvdXInOlxuICAgIGNhc2UgJ2hycyc6XG4gICAgY2FzZSAnaHInOlxuICAgIGNhc2UgJ2gnOlxuICAgICAgcmV0dXJuIG4gKiBoO1xuICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgY2FzZSAnbWlucyc6XG4gICAgY2FzZSAnbWluJzpcbiAgICBjYXNlICdtJzpcbiAgICAgIHJldHVybiBuICogbTtcbiAgICBjYXNlICdzZWNvbmRzJzpcbiAgICBjYXNlICdzZWNvbmQnOlxuICAgIGNhc2UgJ3NlY3MnOlxuICAgIGNhc2UgJ3NlYyc6XG4gICAgY2FzZSAncyc6XG4gICAgICByZXR1cm4gbiAqIHM7XG4gICAgY2FzZSAnbWlsbGlzZWNvbmRzJzpcbiAgICBjYXNlICdtaWxsaXNlY29uZCc6XG4gICAgY2FzZSAnbXNlY3MnOlxuICAgIGNhc2UgJ21zZWMnOlxuICAgIGNhc2UgJ21zJzpcbiAgICAgIHJldHVybiBuO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogU2hvcnQgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10U2hvcnQobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gZCkgKyAnZCc7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGgpICsgJ2gnO1xuICB9XG4gIGlmIChtc0FicyA+PSBtKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBtKSArICdtJztcbiAgfVxuICBpZiAobXNBYnMgPj0gcykge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gcykgKyAncyc7XG4gIH1cbiAgcmV0dXJuIG1zICsgJ21zJztcbn1cblxuLyoqXG4gKiBMb25nIGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdExvbmcobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBkLCAnZGF5Jyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgaCwgJ2hvdXInKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBtLCAnbWludXRlJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgcywgJ3NlY29uZCcpO1xuICB9XG4gIHJldHVybiBtcyArICcgbXMnO1xufVxuXG4vKipcbiAqIFBsdXJhbGl6YXRpb24gaGVscGVyLlxuICovXG5cbmZ1bmN0aW9uIHBsdXJhbChtcywgbXNBYnMsIG4sIG5hbWUpIHtcbiAgdmFyIGlzUGx1cmFsID0gbXNBYnMgPj0gbiAqIDEuNTtcbiAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBuKSArICcgJyArIG5hbWUgKyAoaXNQbHVyYWwgPyAncycgOiAnJyk7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../glycan.js/node_modules/ms/index.js\n");

/***/ }),

/***/ "../glycan.js/sugars.svg":
/*!*******************************!*\
  !*** ../glycan.js/sugars.svg ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"50 50 500 1300\\\">\\n<!--\\nRGB settings for SNFG\\nWhite  #fff\\nBlue  #0090bc\\nGreen  #00a651\\nYellow  #ffd400\\nLight blue  #8fcce9\\nPink  #f69ea1\\nPurple  #a54399\\nBrown  #a17a4d\\nOrange  #f47920\\nRed  #ed1c24\\n-->\\n  <defs>\\n    <symbol id=\\\"hexnac_base\\\" viewBox=\\\"0 0 100 100\\\">\\n      <rect x=\\\"10\\\" y=\\\"10\\\" width=\\\"80\\\" height=\\\"80\\\" style=\\\"fill: var(--fill-color); stroke: var(--stroke-color); stroke-width: var(--stroke-width);\\\" />\\n    </symbol>\\n    <symbol id=\\\"hex_base\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" r=\\\"40\\\" style=\\\"fill: var(--fill-color); stroke: var(--stroke-color); stroke-width: var(--stroke-width);\\\"/>\\n    </symbol>\\n    <symbol id=\\\"sia_base\\\" viewBox=\\\"0 0 100 100\\\">\\n      <path d=\\\"M50,5 95,50 50,95 5,50 z\\\" style=\\\"fill: var(--fill-color); stroke: var(--stroke-color); stroke-width: var(--stroke-width);\\\"/>\\n    </symbol>\\n    <symbol id=\\\"hexnac\\\" viewBox=\\\"0 0 100 100\\\">\\n      <rect x=\\\"10\\\" y=\\\"10\\\" width=\\\"80\\\" height=\\\"80\\\" fill=\\\"#fff\\\" stroke-width=\\\"3\\\" stroke=\\\"#000\\\"/>\\n    </symbol>\\n    <symbol id=\\\"galnac\\\" viewBox=\\\"0 0 100 100\\\">\\n      <rect x=\\\"10\\\" y=\\\"10\\\" width=\\\"80\\\" height=\\\"80\\\" fill=\\\"#ffd400\\\" stroke-width=\\\"1\\\" stroke=\\\"#000\\\"/>\\n    </symbol>\\n    <symbol id=\\\"glcnac\\\" viewBox=\\\"0 0 100 100\\\">\\n      <rect x=\\\"10\\\" y=\\\"10\\\" width=\\\"80\\\" height=\\\"80\\\" fill=\\\"#0090bc\\\" stroke-width=\\\"1\\\" stroke=\\\"#000\\\"/>\\n    </symbol>\\n    <symbol id=\\\"mannac\\\" viewBox=\\\"0 0 100 100\\\">\\n      <rect x=\\\"10\\\" y=\\\"10\\\" width=\\\"80\\\" height=\\\"80\\\" fill=\\\"#00a651\\\" stroke-width=\\\"1\\\" stroke=\\\"#000\\\"/>\\n    </symbol>\\n    <symbol id=\\\"man\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#00a651\\\" r=\\\"40\\\" stroke-width=\\\"1\\\" stroke=\\\"#000\\\"/>\\n    </symbol>\\n    <symbol id=\\\"man6p\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"75\\\" fill=\\\"#00a651\\\" r=\\\"20\\\" stroke-width=\\\"1\\\" stroke=\\\"#000\\\"/>\\n      <text x=\\\"50\\\" y=\\\"25\\\" text-anchor=\\\"middle\\\" stroke=\\\"#000\\\" stroke-width=\\\"2\\\" dy=\\\".35em\\\" dx=\\\"0.05em\\\" font-size=\\\"25\\\">P</text>\\n    </symbol>\\n    <symbol id=\\\"glc\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#0090bc\\\" r=\\\"40\\\" stroke-width=\\\"1\\\" stroke=\\\"#000\\\"/>\\n    </symbol>\\n    <symbol id=\\\"gal\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#ffd400\\\" r=\\\"40\\\" stroke-width=\\\"1\\\" stroke=\\\"#000\\\"/>\\n    </symbol>\\n    <symbol id=\\\"hex\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#fff\\\" r=\\\"40\\\" stroke-width=\\\"3\\\" stroke=\\\"#000\\\"/>\\n    </symbol>\\n    <symbol id=\\\"l-hex\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#fff\\\" r=\\\"40\\\" stroke-width=\\\"3\\\" stroke=\\\"#000\\\"/>\\n      <path d=\\\"M28.6,36.92h2.75l-3.8,23.85h10.29l-.51,3.23h-13.04l4.31-27.08Z\\\" fill=\\\"#fff\\\"/>\\n    </symbol>\\n    <symbol id=\\\"d-hex\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#fff\\\" r=\\\"40\\\" stroke-width=\\\"3\\\" stroke=\\\"#000\\\"/>\\n      <path d=\\\"M26.37,36.92h8.23c2.79,0,4.75,1.32,5.86,3.96,1,2.38,1.19,5.44.59,9.16-.45,2.88-1.27,5.47-2.46,7.8-2.07,4.1-4.85,6.16-8.34,6.16h-8.2l4.31-27.08ZM30.23,60.87c.93,0,1.71-.13,2.35-.39,1.14-.48,2.17-1.4,3.07-2.76.72-1.09,1.33-2.49,1.84-4.2.3-1.02.53-1.96.66-2.84.53-3.35.45-5.95-.26-7.81s-2.17-2.78-4.39-2.78h-4.88l-3.3,20.77h4.91Z\\\" fill=\\\"#fff\\\"/>\\n    </symbol>\\n    <symbol id=\\\"neu\\\" viewBox=\\\"0 0 100 100\\\">\\n      <path d=\\\"M50,5 95,50 50,95 5,50 z\\\" fill=\\\"#ed1c24\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\"/>\\n    </symbol>\\n    <symbol id=\\\"neuac\\\" viewBox=\\\"0 0 100 100\\\">\\n      <path d=\\\"M50,5 95,50 50,95 5,50 z\\\" fill=\\\"#a54399\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\"/>\\n    </symbol>\\n    <symbol id=\\\"neugc\\\" viewBox=\\\"0 0 100 100\\\">\\n      <path d=\\\"M50,5 95,50 50,95 5,50 z\\\" fill=\\\"#8fcce9\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\"/>\\n    </symbol>\\n    <symbol id=\\\"fuc\\\" viewBox=\\\"0 0 100 100\\\">\\n      <path d=\\\"M50,15 90,90 10,90 z\\\" fill=\\\"#ed1c24\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\"/>\\n    </symbol>\\n    <symbol id=\\\"d-fuc\\\" viewBox=\\\"0 0 100 100\\\">\\n      <path d=\\\"M50,15 90,90 10,90 z\\\" fill=\\\"#ed1c24\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\"/>\\n        <path d=\\\"M32.37,48.92h8.23c2.79,0,4.75,1.32,5.86,3.96,1,2.38,1.19,5.44.59,9.16-.45,2.88-1.27,5.47-2.46,7.8-2.07,4.1-4.85,6.16-8.34,6.16h-8.2l4.31-27.08ZM36.23,72.87c.93,0,1.71-.13,2.35-.39,1.14-.48,2.17-1.4,3.07-2.76.72-1.09,1.33-2.49,1.84-4.2.3-1.02.53-1.96.66-2.84.53-3.35.45-5.95-.26-7.81s-2.17-2.78-4.39-2.78h-4.88l-3.3,20.77h4.91Z\\\" fill=\\\"#fff\\\"/>\\n    </symbol>\\n    <symbol id=\\\"fucnac\\\" viewBox=\\\"0 0 100 100\\\">\\n      <path d=\\\"M50,15 90,90 50,90 z\\\" fill=\\\"#ed1c24\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\"/>\\n      <path d=\\\"M50,15 50,90 10,90 z\\\" fill=\\\"#fff\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\"/>\\n    </symbol>\\n    <symbol id=\\\"rha\\\" viewBox=\\\"0 0 100 100\\\">\\n      <path d=\\\"M50,15 90,90 10,90 z\\\" fill=\\\"#00a651\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\"/>\\n    </symbol>\\n    <symbol id=\\\"d-rha\\\" viewBox=\\\"0 0 100 100\\\">\\n      <path d=\\\"M50,15 90,90 10,90 z\\\" fill=\\\"#00a651\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\"/>\\n        <path d=\\\"M32.37,48.92h8.23c2.79,0,4.75,1.32,5.86,3.96,1,2.38,1.19,5.44.59,9.16-.45,2.88-1.27,5.47-2.46,7.8-2.07,4.1-4.85,6.16-8.34,6.16h-8.2l4.31-27.08ZM36.23,72.87c.93,0,1.71-.13,2.35-.39,1.14-.48,2.17-1.4,3.07-2.76.72-1.09,1.33-2.49,1.84-4.2.3-1.02.53-1.96.66-2.84.53-3.35.45-5.95-.26-7.81s-2.17-2.78-4.39-2.78h-4.88l-3.3,20.77h4.91Z\\\" fill=\\\"#fff\\\"/>\\n    </symbol>\\n    <symbol id=\\\"ara\\\" viewBox=\\\"0 0 100 100\\\">\\n<polyline fill=\\\"#00a651\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-miterlimit=\\\"10\\\" points=\\\"\\n  67.802,60.462 78.803,94.32 50.001,69.823 21.196,94.322 32.199,60.462 3.386,39.531 38.999,39.534 50,5.678 61.002,39.536 96.615,39.539 67.804,60.462 \\\"/>\\n    </symbol>\\n    <symbol id=\\\"d-ara\\\" viewBox=\\\"0 0 100 100\\\">\\n      <polyline fill=\\\"#00a651\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-miterlimit=\\\"10\\\" points=\\\"\\n  67.802,60.462 78.803,94.32 50.001,69.823 21.196,94.322 32.199,60.462 3.386,39.531 38.999,39.534 50,5.678 61.002,39.536 96.615,39.539 67.804,60.462 \\\"/>\\n      <path d=\\\"M32.37,48.92h8.23c2.79,0,4.75,1.32,5.86,3.96,1,2.38,1.19,5.44.59,9.16-.45,2.88-1.27,5.47-2.46,7.8-2.07,4.1-4.85,6.16-8.34,6.16h-8.2l4.31-27.08ZM36.23,72.87c.93,0,1.71-.13,2.35-.39,1.14-.48,2.17-1.4,3.07-2.76.72-1.09,1.33-2.49,1.84-4.2.3-1.02.53-1.96.66-2.84.53-3.35.45-5.95-.26-7.81s-2.17-2.78-4.39-2.78h-4.88l-3.3,20.77h4.91Z\\\" fill=\\\"#fff\\\"/>\\n    </symbol>\\n    <symbol id=\\\"d-araf\\\" viewBox=\\\"0 0 100 100\\\">\\n<polyline fill=\\\"#00a651\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-miterlimit=\\\"10\\\" points=\\\"\\n  67.802,60.462 78.803,94.32 50.001,69.823 21.196,94.322 32.199,60.462 3.386,39.531 38.999,39.534 50,5.678 61.002,39.536 96.615,39.539 67.804,60.462 \\\"/>\\n    <path stroke=\\\"#fff\\\" fill=\\\"#fff\\\" stroke-width=\\\"0\\\" d=\\\"M51.2,39.9L50.3,44h-3.6L46,47.5h3.6L44.8,70h4.3l4.8-22.6h4.4l0.7-3.5h-4.3c0.6-2.8,1.1-4.6,1.5-5.3\\n      c0.4-0.7,1.3-1,2.6-1c0.2,0,0.4,0,0.6,0c0.2,0,0.5,0,1,0.1l0.9-4c-0.4,0-0.7-0.1-1-0.1c-0.3,0-0.6,0-0.9,0c-2.9,0-5.1,0.7-6.4,2.2\\n      C52.3,36.8,51.7,38.1,51.2,39.9z\\\"/>\\n      <path d=\\\"M32.37,48.92h8.23c2.79,0,4.75,1.32,5.86,3.96,1,2.38,1.19,5.44.59,9.16-.45,2.88-1.27,5.47-2.46,7.8-2.07,4.1-4.85,6.16-8.34,6.16h-8.2l4.31-27.08ZM36.23,72.87c.93,0,1.71-.13,2.35-.39,1.14-.48,2.17-1.4,3.07-2.76.72-1.09,1.33-2.49,1.84-4.2.3-1.02.53-1.96.66-2.84.53-3.35.45-5.95-.26-7.81s-2.17-2.78-4.39-2.78h-4.88l-3.3,20.77h4.91Z\\\" fill=\\\"#fff\\\"/>\\n    </symbol>\\n    <symbol id=\\\"araf\\\" viewBox=\\\"0 0 100 100\\\">\\n<polyline fill=\\\"#00a651\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-miterlimit=\\\"10\\\" points=\\\"\\n  67.802,60.462 78.803,94.32 50.001,69.823 21.196,94.322 32.199,60.462 3.386,39.531 38.999,39.534 50,5.678 61.002,39.536 96.615,39.539 67.804,60.462 \\\"/>\\n    <path stroke=\\\"#fff\\\" fill=\\\"#fff\\\" stroke-width=\\\"0\\\" d=\\\"M51.2,39.9L50.3,44h-3.6L46,47.5h3.6L44.8,70h4.3l4.8-22.6h4.4l0.7-3.5h-4.3c0.6-2.8,1.1-4.6,1.5-5.3\\n      c0.4-0.7,1.3-1,2.6-1c0.2,0,0.4,0,0.6,0c0.2,0,0.5,0,1,0.1l0.9-4c-0.4,0-0.7-0.1-1-0.1c-0.3,0-0.6,0-0.9,0c-2.9,0-5.1,0.7-6.4,2.2\\n      C52.3,36.8,51.7,38.1,51.2,39.9z\\\"/>\\n    </symbol>\\n    <symbol id=\\\"galf\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#ffd400\\\" r=\\\"40\\\" stroke-width=\\\"1\\\" stroke=\\\"#000\\\"/>\\n      <path stroke=\\\"#fff\\\" fill=\\\"#fff\\\" stroke-width=\\\"0\\\" d=\\\"M51.2,39.9L50.3,44h-3.6L46,47.5h3.6L44.8,70h4.3l4.8-22.6h4.4l0.7-3.5h-4.3c0.6-2.8,1.1-4.6,1.5-5.3\\n        c0.4-0.7,1.3-1,2.6-1c0.2,0,0.4,0,0.6,0c0.2,0,0.5,0,1,0.1l0.9-4c-0.4,0-0.7-0.1-1-0.1c-0.3,0-0.6,0-0.9,0c-2.9,0-5.1,0.7-6.4,2.2\\n        C52.3,36.8,51.7,38.1,51.2,39.9z\\\"/>\\n    </symbol>\\n    <symbol id=\\\"d-galf\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#ffd400\\\" r=\\\"40\\\" stroke-width=\\\"1\\\" stroke=\\\"#000\\\"/>\\n      <path stroke=\\\"#fff\\\" fill=\\\"#fff\\\" stroke-width=\\\"0\\\" d=\\\"M51.2,39.9L50.3,44h-3.6L46,47.5h3.6L44.8,70h4.3l4.8-22.6h4.4l0.7-3.5h-4.3c0.6-2.8,1.1-4.6,1.5-5.3\\n        c0.4-0.7,1.3-1,2.6-1c0.2,0,0.4,0,0.6,0c0.2,0,0.5,0,1,0.1l0.9-4c-0.4,0-0.7-0.1-1-0.1c-0.3,0-0.6,0-0.9,0c-2.9,0-5.1,0.7-6.4,2.2\\n        C52.3,36.8,51.7,38.1,51.2,39.9z\\\"/>\\n      <path d=\\\"M26.37,36.92h8.23c2.79,0,4.75,1.32,5.86,3.96,1,2.38,1.19,5.44.59,9.16-.45,2.88-1.27,5.47-2.46,7.8-2.07,4.1-4.85,6.16-8.34,6.16h-8.2l4.31-27.08ZM30.23,60.87c.93,0,1.71-.13,2.35-.39,1.14-.48,2.17-1.4,3.07-2.76.72-1.09,1.33-2.49,1.84-4.2.3-1.02.53-1.96.66-2.84.53-3.35.45-5.95-.26-7.81s-2.17-2.78-4.39-2.78h-4.88l-3.3,20.77h4.91Z\\\" fill=\\\"#fff\\\"/>\\n    </symbol>\\n    <symbol id=\\\"xyl\\\" viewBox=\\\"0 0 100 100\\\">\\n<polyline fill=\\\"#f47920\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-miterlimit=\\\"10\\\" points=\\\"\\n  67.802,60.462 78.803,94.32 50.001,69.823 21.196,94.322 32.199,60.462 3.386,39.531 38.999,39.534 50,5.678 61.002,39.536 96.615,39.539 67.804,60.462 \\\"/>\\n    </symbol>\\n    <symbol id=\\\"rib\\\" viewBox=\\\"0 0 100 100\\\">\\n<polyline fill=\\\"#f69ea1\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-miterlimit=\\\"10\\\" points=\\\"\\n  67.802,60.462 78.803,94.32 50.001,69.823 21.196,94.322 32.199,60.462 3.386,39.531 38.999,39.534 50,5.678 61.002,39.536 96.615,39.539 67.804,60.462 \\\"/>\\n    </symbol>\\n    <symbol id=\\\"rbo\\\" viewBox=\\\"0 0 100 100\\\">\\n<polyline fill=\\\"#f69ea1\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-miterlimit=\\\"10\\\" points=\\\"\\n  67.802,60.462 78.803,94.32 50.001,69.823 21.196,94.322 32.199,60.462 3.386,39.531 38.999,39.534 50,5.678 61.002,39.536 96.615,39.539 67.804,60.462 \\\"/>\\n    <path stroke=\\\"#fff\\\" fill=\\\"#fff\\\" d=\\\"M52.7,48.3c-0.9-1.1-2.2-1.7-3.9-1.7c-1.9,0-3.5,0.7-4.9,2c-1.4,1.3-2.3,3.1-2.8,5.2\\n      c-0.4,2.1-0.2,3.7,0.5,4.9c0.8,1.2,2.1,1.8,3.9,1.8c2.2,0,3.9-0.7,5.2-2.1c1.3-1.4,2.2-3.1,2.6-5.2C53.8,51.1,53.6,49.4,52.7,48.3\\n      z M49.4,57c-0.8,1.1-1.9,1.7-3.4,1.7c-1.3,0-2.2-0.5-2.6-1.4c-0.4-0.9-0.5-2.1-0.2-3.5c0.3-1.4,0.9-2.7,1.7-3.7\\n      c0.8-1,1.9-1.5,3.3-1.5c1.5,0,2.5,0.6,2.8,1.8c0.2,0.8,0.2,1.8,0,3C50.7,54.7,50.2,55.9,49.4,57z\\\"/>\\n    <path stroke=\\\"#fff\\\" fill=\\\"#fff\\\" d=\\\"M54.6,60.1h2.2l3.8-17.9h-2.2L54.6,60.1z\\\"/>\\n    </symbol>\\n    <symbol id=\\\"hexa\\\" viewBox=\\\"0 0 100 100\\\">\\n      <polyline transform=\\\"rotate(90,50,50)\\\" fill=\\\"#fff\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\" points=\\\"50,5 95,50 5,50 50,5\\\"/>\\n      <polyline transform=\\\"rotate(90,50,50)\\\" fill=\\\"#fff\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\" points=\\\"50,95 95,50 5,50 50,95\\\"/>\\n    </symbol>\\n    <symbol id=\\\"glca\\\" viewBox=\\\"0 0 100 100\\\">\\n      <polyline transform=\\\"rotate(90,50,50)\\\" fill=\\\"#0090bc\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\" points=\\\"50,5 95,50 5,50 50,5\\\"/>\\n      <polyline transform=\\\"rotate(90,50,50)\\\" fill=\\\"#fff\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\" points=\\\"50,95 95,50 5,50 50,95\\\"/>\\n    </symbol>\\n    <symbol id=\\\"gala\\\" viewBox=\\\"0 0 100 100\\\">\\n      <polyline transform=\\\"rotate(90,50,50)\\\" fill=\\\"#ffd400\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\" points=\\\"50,5 95,50 5,50 50,5\\\"/>\\n      <polyline transform=\\\"rotate(90,50,50)\\\" fill=\\\"#fff\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\" points=\\\"50,95 95,50 5,50 50,95\\\"/>\\n    </symbol>\\n    <symbol id=\\\"glcn\\\" viewBox=\\\"0 0 100 100\\\">\\n      <polyline fill=\\\"#0090bc\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\" points=\\\"10,10 90,10 90,90 10,10\\\"/>\\n      <polyline fill=\\\"#fff\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\" points=\\\"10,10 90,90 10,90 10,10\\\"/>\\n    </symbol>\\n    <symbol id=\\\"idoa\\\" viewBox=\\\"0 0 100 100\\\">\\n      <polyline transform=\\\"rotate(90,50,50)\\\" fill=\\\"#fff\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\" points=\\\"50,5 95,50 5,50 50,5\\\"/>\\n      <polyline transform=\\\"rotate(90,50,50)\\\" fill=\\\"#a17a4d\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\" points=\\\"50,95 95,50 5,50 50,95\\\"/>\\n    </symbol>\\n    <symbol id=\\\"cer\\\" viewBox=\\\"0 0 100 100\\\">\\n      <path fill=\\\"#fff\\\" stroke=\\\"#000\\\" stroke-width=\\\"4\\\" stroke-linecap=\\\"round\\\" d=\\\"M35.8,15 64.2,15 75.5,27.2 64.2,38.3 75.5,50 64.2,61.1 75.5,72 64.2,83 75.5,94 L75.5,110 L35.8,110\\\"/>\\n      <path fill=\\\"#fff\\\" stroke=\\\"#999\\\" stroke-width=\\\"4\\\" stroke-linecap=\\\"round\\\"  d=\\\"M35.8,15 24.5,27.2 35.8,38.3 24.5,50 35.8,61.1 24.5,72 35.8,83 24.5,94\\\"/>\\n    </symbol>\\n    <!--\\n    <symbol id=\\\"man(a1-2)man\\\" viewBox=\\\"0 0 100 100\\\">\\n      <svg viewBox=\\\"0 0 100 100\\\" x=\\\"0\\\" y=\\\"0\\\" width=\\\"100\\\" height=\\\"50\\\">\\n        <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#00a651\\\" r=\\\"40\\\" stroke-width=\\\"1\\\" stroke=\\\"#000\\\"/>\\n      </svg>\\n      <svg viewBox=\\\"0 0 100 100\\\" x=\\\"0\\\" y=\\\"50\\\" width=\\\"100\\\" height=\\\"50\\\">\\n        <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#00a651\\\" r=\\\"40\\\" stroke-width=\\\"1\\\" stroke=\\\"#000\\\"/>\\n      </svg>\\n    </symbol>\\n    <symbol id=\\\"neuac(a2-3)gal(b1-3)galnac\\\" viewBox=\\\"0 0 100 100\\\">\\n      <svg viewBox=\\\"0 0 100 100\\\" x=\\\"0\\\" y=\\\"0\\\" width=\\\"100\\\" height=\\\"33\\\">\\n        <rect x=\\\"17\\\" y=\\\"17\\\" transform=\\\"rotate(45,50,50)\\\" fill=\\\"#a54399\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\" width=\\\"66\\\" height=\\\"66\\\"/>\\n      </svg>\\n      <svg viewBox=\\\"0 0 100 100\\\" x=\\\"0\\\" y=\\\"33\\\" width=\\\"100\\\" height=\\\"33\\\">\\n        <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#ffd400\\\" r=\\\"40\\\" stroke-width=\\\"1\\\" stroke=\\\"#000\\\"/>\\n      </svg>\\n      <svg viewBox=\\\"0 0 100 100\\\" x=\\\"0\\\" y=\\\"66\\\" width=\\\"100\\\" height=\\\"33\\\">\\n        <rect x=\\\"10\\\" y=\\\"10\\\" width=\\\"80\\\" height=\\\"80\\\" fill=\\\"#ffd400\\\" stroke-width=\\\"1\\\" stroke=\\\"#000\\\"/>\\n      </svg>\\n    </symbol>\\n    <symbol id=\\\"gal(b1-3)galnac\\\" viewBox=\\\"0 0 100 100\\\">\\n      <svg viewBox=\\\"0 0 100 100\\\" x=\\\"0\\\" y=\\\"0\\\" width=\\\"100\\\" height=\\\"50\\\">\\n        <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#ffd400\\\" r=\\\"40\\\" stroke-width=\\\"1\\\" stroke=\\\"#000\\\"/>\\n      </svg>\\n      <svg viewBox=\\\"0 0 100 100\\\" x=\\\"0\\\" y=\\\"50\\\" width=\\\"100\\\" height=\\\"50\\\">\\n        <rect x=\\\"10\\\" y=\\\"10\\\" width=\\\"80\\\" height=\\\"80\\\" fill=\\\"#ffd400\\\" stroke-width=\\\"1\\\" stroke=\\\"#000\\\"/>\\n      </svg>\\n    </symbol>\\n    <symbol id=\\\"glcnac(b1-4)glcnac\\\" viewBox=\\\"0 0 100 100\\\">\\n      <svg viewBox=\\\"0 0 100 100\\\" x=\\\"0\\\" y=\\\"0\\\" width=\\\"100\\\" height=\\\"50\\\">\\n        <rect x=\\\"10\\\" y=\\\"10\\\" width=\\\"80\\\" height=\\\"80\\\" fill=\\\"#0090bc\\\" stroke-width=\\\"1\\\" stroke=\\\"#000\\\"/>\\n      </svg>\\n      <svg viewBox=\\\"0 0 100 100\\\" x=\\\"0\\\" y=\\\"50\\\" width=\\\"100\\\" height=\\\"50\\\">\\n        <rect x=\\\"10\\\" y=\\\"10\\\" width=\\\"80\\\" height=\\\"80\\\" fill=\\\"#0090bc\\\" stroke-width=\\\"1\\\" stroke=\\\"#000\\\"/>\\n      </svg>\\n    </symbol>\\n    <symbol id=\\\"man(a1-3)[man(a1-6)]man(b1-4)glcnac(b1-4)glcnac\\\" viewBox=\\\"0 0 100 100\\\">\\n      <svg viewBox=\\\"0 0 100 100\\\" x=\\\"50\\\" y=\\\"0\\\" width=\\\"25\\\" height=\\\"25\\\">\\n        <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#00a651\\\" r=\\\"40\\\" stroke-width=\\\"1\\\" stroke=\\\"#000\\\"/>\\n      </svg>\\n      <svg viewBox=\\\"0 0 100 100\\\" x=\\\"25\\\" y=\\\"0\\\" width=\\\"25\\\" height=\\\"25\\\">\\n        <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#00a651\\\" r=\\\"40\\\" stroke-width=\\\"1\\\" stroke=\\\"#000\\\"/>\\n      </svg>\\n      <svg viewBox=\\\"0 0 100 100\\\" x=\\\"37.5\\\" y=\\\"25\\\" width=\\\"25\\\" height=\\\"25\\\">\\n        <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#00a651\\\" r=\\\"40\\\" stroke-width=\\\"1\\\" stroke=\\\"#000\\\"/>\\n      </svg>\\n      <svg viewBox=\\\"0 0 100 100\\\" x=\\\"37.5\\\" y=\\\"50\\\" width=\\\"25\\\" height=\\\"25\\\">\\n        <rect x=\\\"10\\\" y=\\\"10\\\" width=\\\"80\\\" height=\\\"80\\\" fill=\\\"#0090bc\\\" stroke-width=\\\"1\\\" stroke=\\\"#000\\\"/>\\n      </svg>\\n      <svg viewBox=\\\"0 0 100 100\\\" x=\\\"37.5\\\" y=\\\"75\\\" width=\\\"25\\\" height=\\\"25\\\">\\n        <rect x=\\\"10\\\" y=\\\"10\\\" width=\\\"80\\\" height=\\\"80\\\" fill=\\\"#0090bc\\\" stroke-width=\\\"1\\\" stroke=\\\"#000\\\"/>\\n      </svg>\\n    </symbol>\\n    <symbol id=\\\"glcnac(b1-4)glcnac.potential\\\" viewBox=\\\"0 0 100 100\\\">\\n      <svg viewBox=\\\"0 0 100 100\\\" x=\\\"0\\\" y=\\\"0\\\" width=\\\"100\\\" height=\\\"50\\\">\\n        <rect x=\\\"10\\\" y=\\\"10\\\" width=\\\"80\\\" height=\\\"80\\\" fill=\\\"#67a2fc\\\" stroke-width=\\\"0\\\" stroke=\\\"#000\\\"/>\\n      </svg>\\n      <svg viewBox=\\\"0 0 100 100\\\" x=\\\"0\\\" y=\\\"50\\\" width=\\\"100\\\" height=\\\"50\\\">\\n        <rect x=\\\"10\\\" y=\\\"10\\\" width=\\\"80\\\" height=\\\"80\\\" fill=\\\"#67a2fc\\\" stroke-width=\\\"0\\\" stroke=\\\"#000\\\"/>\\n      </svg>\\n    </symbol>\\n    -->\\n    <symbol id=\\\"phospho\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#fff\\\" r=\\\"48\\\" stroke-width=\\\"3\\\" stroke=\\\"#000\\\"/>\\n      <text x=\\\"50\\\" y=\\\"50\\\" text-anchor=\\\"middle\\\" stroke=\\\"#000\\\" stroke-width=\\\"2\\\" dy=\\\".35em\\\" dx=\\\"0.05em\\\" font-size=\\\"50\\\">P</text>\\n    </symbol>\\n    <symbol id=\\\"hso3\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#fdbbbb\\\" r=\\\"35\\\" stroke-width=\\\"4\\\" stroke=\\\"#aa3030\\\"/>\\n      <path fill=\\\"#aa3030\\\" stroke=\\\"none\\\" stroke-width=\\\"2\\\" d=\\\"M38.8,62.4c1.2,1.9,3,3.3,5.2,4.3c2.2,0.9,4.9,1.4,8.1,1.4c2.6,0,4.9-0.5,6.9-1.4c2-0.9,3.6-2.2,4.7-3.9\\n        c1.1-1.7,1.6-3.5,1.6-5.4c0-1.9-0.5-3.6-1.5-5.1c-1-1.5-2.5-2.7-4.6-3.6c-1.4-0.7-4.1-1.4-7.9-2.3c-3.8-0.9-6.2-1.7-7.1-2.6\\n        c-0.9-0.8-1.4-1.9-1.4-3.2c0-1.5,0.7-2.7,2-3.8c1.3-1,3.4-1.6,6.3-1.6c2.8,0,4.8,0.6,6.2,1.7c1.4,1.2,2.2,2.9,2.5,5.1l4.5-0.3\\n        c-0.1-2.1-0.7-4-1.8-5.6c-1.1-1.7-2.6-2.9-4.7-3.8s-4.4-1.3-7-1.3c-2.4,0-4.6,0.4-6.6,1.2c-2,0.8-3.5,2-4.5,3.6\\n        c-1,1.6-1.5,3.3-1.5,5.1c0,1.6,0.4,3.1,1.3,4.5c0.8,1.3,2.1,2.4,3.8,3.3c1.3,0.7,3.6,1.4,6.9,2.2c3.3,0.8,5.4,1.4,6.4,1.7\\n        c1.5,0.6,2.6,1.3,3.2,2.1c0.7,0.8,1,1.8,1,2.9c0,1.1-0.3,2.1-1,3.1c-0.7,0.9-1.7,1.7-3.1,2.2c-1.4,0.5-3,0.8-4.8,0.8\\n        c-2,0-3.9-0.4-5.5-1.1c-1.6-0.7-2.8-1.6-3.6-2.8c-0.8-1.1-1.3-2.6-1.5-4.4L36.8,56C36.9,58.4,37.5,60.5,38.8,62.4z\\\"/>\\n    </symbol>\\n    <symbol id=\\\"hso3.2\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#fdbbbb\\\" r=\\\"35\\\" stroke-width=\\\"4\\\" stroke=\\\"#aa3030\\\"/>\\n      <path fill=\\\"#aa3030\\\" stroke=\\\"none\\\" stroke-width=\\\"2\\\" d=\\\"M36.9,58.1c0.3-0.5,0.7-1,1.1-1.4s1.5-1.4,3-2.7c1.9-1.6,3.2-2.9,4.1-3.8s1.4-1.8,1.8-2.6s0.5-1.7,0.5-2.5\\n        c0-1.7-0.6-3.1-1.8-4.2S42.8,39,40.7,39c-2,0-3.7,0.5-4.9,1.6s-1.9,2.6-2.1,4.6l2.7,0.3c0-1.3,0.4-2.4,1.2-3.2s1.8-1.1,3-1.1\\n        c1.2,0,2.2,0.4,2.9,1.1s1.1,1.6,1.1,2.6c0,1-0.4,2.1-1.2,3.2s-2.4,2.6-4.7,4.5c-1.5,1.2-2.7,2.3-3.5,3.3s-1.4,1.9-1.7,2.9\\n        c-0.2,0.6-0.3,1.2-0.3,1.8h14.2v-2.5H36.9z\\\"/>\\n      <path fill=\\\"#aa3030\\\" stroke=\\\"none\\\" stroke-width=\\\"2\\\" d=\\\"M51.5,57.6c0.7,1.1,1.8,2,3.1,2.6s2.9,0.8,4.9,0.8c1.5,0,2.9-0.3,4.1-0.8s2.2-1.3,2.8-2.4s1-2.1,1-3.2\\n        c0-1.2-0.3-2.2-0.9-3.1s-1.5-1.6-2.8-2.2c-0.9-0.4-2.4-0.8-4.8-1.4s-3.7-1-4.3-1.5c-0.6-0.5-0.8-1.1-0.8-1.9\\n        c0-0.9,0.4-1.6,1.2-2.3s2-0.9,3.8-0.9c1.7,0,2.9,0.3,3.7,1s1.3,1.7,1.5,3.1l2.7-0.2c0-1.3-0.4-2.4-1.1-3.4S64.2,40,63,39.5\\n        s-2.6-0.8-4.2-0.8c-1.4,0-2.8,0.2-3.9,0.7s-2.1,1.2-2.7,2.1s-0.9,2-0.9,3c0,1,0.3,1.9,0.8,2.7s1.3,1.5,2.3,2\\n        c0.8,0.4,2.2,0.9,4.1,1.3s3.2,0.8,3.8,1c0.9,0.3,1.5,0.8,1.9,1.3s0.6,1.1,0.6,1.8c0,0.7-0.2,1.3-0.6,1.8s-1,1-1.9,1.3\\n        s-1.8,0.5-2.9,0.5c-1.2,0-2.3-0.2-3.3-0.6s-1.7-1-2.2-1.7s-0.8-1.6-0.9-2.6l-2.7,0.2C50.4,55.1,50.8,56.4,51.5,57.6z\\\"/>\\n    </symbol>\\n    <symbol id=\\\"hso3.3\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#fdbbbb\\\" r=\\\"35\\\" stroke-width=\\\"4\\\" stroke=\\\"#aa3030\\\"/>\\n      <path fill=\\\"#aa3030\\\" stroke=\\\"none\\\" stroke-width=\\\"2\\\" d=\\\"M35.7,59.3c1.2,1.1,2.8,1.7,4.7,1.7c2.1,0,3.8-0.7,5.2-2s2.1-2.9,2.1-4.8c0-1.4-0.4-2.5-1.1-3.5\\n        s-1.7-1.5-3-1.8c1-0.4,1.7-1.1,2.2-1.8s0.7-1.6,0.7-2.5c0-1-0.3-1.9-0.8-2.8s-1.3-1.6-2.3-2.1S41.5,39,40.3,39\\n        c-1.7,0-3.1,0.5-4.3,1.5s-1.9,2.3-2.2,4.1l2.6,0.5c0.2-1.3,0.6-2.3,1.3-2.9s1.5-1,2.6-1c1,0,1.9,0.3,2.5,1s1,1.4,1,2.4\\n        c0,1.2-0.4,2.1-1.3,2.7s-1.9,0.9-3,0.9c-0.1,0-0.2,0-0.4,0l-0.3,2.3c0.7-0.2,1.4-0.3,1.9-0.3c1.2,0,2.2,0.4,3,1.2s1.2,1.8,1.2,3\\n        c0,1.3-0.4,2.3-1.3,3.2s-1.9,1.3-3.1,1.3c-1,0-1.9-0.3-2.7-1s-1.2-1.7-1.5-3.2l-2.6,0.4C33.8,56.7,34.5,58.2,35.7,59.3z\\\"/>\\n      <path fill=\\\"#aa3030\\\" stroke=\\\"none\\\" stroke-width=\\\"2\\\" d=\\\"M51.5,57.6c0.7,1.1,1.8,2,3.1,2.6s2.9,0.8,4.9,0.8c1.5,0,2.9-0.3,4.1-0.8s2.2-1.3,2.8-2.4s1-2.1,1-3.2\\n        c0-1.2-0.3-2.2-0.9-3.1s-1.5-1.6-2.8-2.2c-0.9-0.4-2.4-0.8-4.8-1.4s-3.7-1-4.3-1.5c-0.6-0.5-0.8-1.1-0.8-1.9\\n        c0-0.9,0.4-1.6,1.2-2.3s2-0.9,3.8-0.9c1.7,0,2.9,0.3,3.7,1s1.3,1.7,1.5,3.1l2.7-0.2c0-1.3-0.4-2.4-1.1-3.4S64.2,40,63,39.5\\n        s-2.6-0.8-4.2-0.8c-1.4,0-2.8,0.2-3.9,0.7s-2.1,1.2-2.7,2.1s-0.9,2-0.9,3c0,1,0.3,1.9,0.8,2.7s1.3,1.5,2.3,2\\n        c0.8,0.4,2.2,0.9,4.1,1.3s3.2,0.8,3.8,1c0.9,0.3,1.5,0.8,1.9,1.3s0.6,1.1,0.6,1.8c0,0.7-0.2,1.3-0.6,1.8s-1,1-1.9,1.3\\n        s-1.8,0.5-2.9,0.5c-1.2,0-2.3-0.2-3.3-0.6s-1.7-1-2.2-1.7s-0.8-1.6-0.9-2.6l-2.7,0.2C50.4,55.1,50.8,56.4,51.5,57.6z\\\"/>\\n    </symbol>\\n    <symbol id=\\\"hso3.4\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#fdbbbb\\\" r=\\\"35\\\" stroke-width=\\\"4\\\" stroke=\\\"#aa3030\\\"/>\\n      <path fill=\\\"#aa3030\\\" stroke=\\\"none\\\" stroke-width=\\\"2\\\" d=\\\"M44.6,60.6v-5.1h2.9V53h-2.9V39.1h-2.2L32.7,53v2.4H42v5.1H44.6z M35.3,53l6.7-9.7V53H35.3z\\\"/>\\n      <path fill=\\\"#aa3030\\\" stroke=\\\"none\\\" stroke-width=\\\"2\\\" d=\\\"M51.5,57.5c0.7,1.1,1.8,2,3.1,2.6s2.9,0.8,4.9,0.8c1.5,0,2.9-0.3,4.1-0.8c1.2-0.6,2.2-1.3,2.8-2.4\\n        s1-2.1,1-3.2c0-1.2-0.3-2.2-0.9-3.1s-1.5-1.6-2.8-2.2c-0.9-0.4-2.4-0.8-4.8-1.4c-2.3-0.5-3.7-1-4.3-1.5c-0.6-0.5-0.8-1.1-0.8-1.9\\n        c0-0.9,0.4-1.6,1.2-2.3s2-0.9,3.8-0.9c1.7,0,2.9,0.3,3.7,1s1.3,1.7,1.5,3.1l2.7-0.2c0-1.3-0.4-2.4-1.1-3.4s-1.6-1.8-2.8-2.3\\n        s-2.6-0.8-4.2-0.8c-1.4,0-2.8,0.2-3.9,0.7s-2.1,1.2-2.7,2.1s-0.9,2-0.9,3c0,1,0.3,1.9,0.8,2.7s1.3,1.5,2.3,2\\n        c0.8,0.4,2.2,0.9,4.1,1.3s3.2,0.8,3.8,1c0.9,0.3,1.5,0.8,1.9,1.3s0.6,1.1,0.6,1.8c0,0.7-0.2,1.3-0.6,1.8s-1,1-1.9,1.3\\n        s-1.8,0.5-2.9,0.5c-1.2,0-2.3-0.2-3.3-0.6s-1.7-1-2.2-1.7s-0.8-1.6-0.9-2.6l-2.7,0.2C50.4,55.1,50.8,56.4,51.5,57.5z\\\"/>\\n    </symbol>\\n    <symbol id=\\\"hso3.6\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#fdbbbb\\\" r=\\\"35\\\" stroke-width=\\\"4\\\" stroke=\\\"#aa3030\\\"/>\\n      <path fill=\\\"#aa3030\\\" stroke=\\\"none\\\" stroke-width=\\\"2\\\" d=\\\"M45.4,40.4c-1.1-0.9-2.5-1.4-4.2-1.4c-2.3,0-4.1,0.8-5.4,2.5c-1.5,1.9-2.3,4.9-2.3,9.1c0,3.7,0.7,6.4,2.1,8\\n        s3.2,2.4,5.4,2.4c1.3,0,2.4-0.3,3.5-0.9s1.8-1.5,2.4-2.7s0.9-2.4,0.9-3.8c0-2.1-0.6-3.7-1.9-5s-2.7-1.9-4.5-1.9\\n        c-1,0-2,0.2-2.9,0.7s-1.7,1.2-2.3,2.2c0-2.1,0.3-3.8,0.7-5s1.1-2,2-2.7c0.6-0.5,1.4-0.7,2.2-0.7c1,0,1.9,0.4,2.6,1.1\\n        c0.4,0.5,0.8,1.2,1,2.3l2.6-0.2C47.1,42.7,46.5,41.4,45.4,40.4z M37.8,50.2c0.8-0.9,1.8-1.3,3-1.3c1.2,0,2.2,0.4,3,1.3\\n        s1.2,2,1.2,3.5c0,1.5-0.4,2.8-1.2,3.7s-1.8,1.3-2.9,1.3c-0.8,0-1.5-0.2-2.2-0.7s-1.2-1.1-1.6-1.9s-0.6-1.7-0.6-2.6\\n        C36.5,52.2,37,51.1,37.8,50.2z\\\"/>\\n      <path fill=\\\"#aa3030\\\" stroke=\\\"none\\\" stroke-width=\\\"2\\\" d=\\\"M51.6,57.5c0.7,1.1,1.8,2,3.1,2.6s2.9,0.8,4.9,0.8c1.5,0,2.9-0.3,4.1-0.8c1.2-0.6,2.2-1.3,2.8-2.4\\n        s1-2.1,1-3.2c0-1.2-0.3-2.2-0.9-3.1s-1.5-1.6-2.8-2.2c-0.9-0.4-2.4-0.8-4.8-1.4s-3.7-1-4.3-1.5c-0.6-0.5-0.8-1.1-0.8-1.9\\n        c0-0.9,0.4-1.6,1.2-2.3s2-0.9,3.8-0.9c1.7,0,2.9,0.3,3.7,1s1.3,1.7,1.5,3.1l2.7-0.2c0-1.3-0.4-2.4-1.1-3.4S64.2,40,63,39.5\\n        c-1.2-0.5-2.6-0.8-4.2-0.8c-1.4,0-2.8,0.2-3.9,0.7s-2.1,1.2-2.7,2.1s-0.9,2-0.9,3c0,1,0.3,1.9,0.8,2.7s1.3,1.5,2.3,2\\n        c0.8,0.4,2.2,0.9,4.1,1.3s3.2,0.8,3.8,1c0.9,0.3,1.5,0.8,1.9,1.3c0.4,0.5,0.6,1.1,0.6,1.8c0,0.7-0.2,1.3-0.6,1.8\\n        c-0.4,0.6-1,1-1.9,1.3s-1.8,0.5-2.9,0.5c-1.2,0-2.3-0.2-3.3-0.6s-1.7-1-2.2-1.7s-0.8-1.6-0.9-2.6l-2.7,0.2\\n        C50.5,55.1,50.9,56.4,51.6,57.5z\\\"/>\\n    </symbol>\\n    <symbol id=\\\"hso3.N\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#fdbbbb\\\" r=\\\"35\\\" stroke-width=\\\"4\\\" stroke=\\\"#aa3030\\\"/>\\n      <path fill=\\\"#aa3030\\\" stroke=\\\"none\\\" stroke-width=\\\"2\\\" d=\\\"M34.9,60.6V43.7l11.3,16.9H49V39.1h-2.7v16.9L35,39.1h-2.9v21.5H34.9z\\\"/>\\n      <path fill=\\\"#aa3030\\\" stroke=\\\"none\\\" stroke-width=\\\"2\\\" d=\\\"M54,57.5c0.7,1.1,1.8,2,3.1,2.6s2.9,0.8,4.9,0.8c1.5,0,2.9-0.3,4.1-0.8s2.2-1.3,2.8-2.4s1-2.1,1-3.2\\n        c0-1.2-0.3-2.2-0.9-3.1s-1.5-1.6-2.8-2.2c-0.9-0.4-2.4-0.8-4.8-1.4s-3.7-1-4.3-1.5c-0.6-0.5-0.8-1.1-0.8-1.9\\n        c0-0.9,0.4-1.6,1.2-2.3s2-0.9,3.8-0.9c1.7,0,2.9,0.3,3.7,1s1.3,1.7,1.5,3.1l2.7-0.2c0-1.3-0.4-2.4-1.1-3.4s-1.6-1.8-2.8-2.3\\n        s-2.6-0.8-4.2-0.8c-1.4,0-2.8,0.2-3.9,0.7s-2.1,1.2-2.7,2.1s-0.9,2-0.9,3c0,1,0.3,1.9,0.8,2.7s1.3,1.5,2.3,2\\n        c0.8,0.4,2.2,0.9,4.1,1.3s3.2,0.8,3.8,1c0.9,0.3,1.5,0.8,1.9,1.3s0.6,1.1,0.6,1.8c0,0.7-0.2,1.3-0.6,1.8s-1,1-1.9,1.3\\n        c-0.8,0.3-1.8,0.5-2.9,0.5c-1.2,0-2.3-0.2-3.3-0.6s-1.7-1-2.2-1.7s-0.8-1.6-0.9-2.6l-2.7,0.2C52.9,55.1,53.3,56.4,54,57.5z\\\"/>\\n    </symbol>\\n    <symbol id=\\\"me\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" r=\\\"35\\\" fill=\\\"#f47920\\\" stroke=\\\"#994a16\\\" stroke-miterlimit=\\\"10\\\" stroke-width=\\\"4\\\"/>\\n      <g>\\n        <path d=\\\"M27.65,36.18h5.01l7.43,21.83,7.37-21.83h4.98v25.82h-3.34v-15.24c0-.53.01-1.4.04-2.62s.04-2.53.04-3.92l-7.37,21.78h-3.47l-7.44-21.78v.79c0,.63.02,1.6.05,2.89s.05,2.25.05,2.86v15.24h-3.34v-25.82Z\\\" fill=\\\"#994a16\\\"/>\\n        <path d=\\\"M68.93,43.69c1.25.63,2.2,1.44,2.85,2.43.63.95,1.05,2.06,1.26,3.32.19.87.28,2.25.28,4.15h-13.69c.06,1.92.51,3.45,1.34,4.61.84,1.16,2.13,1.74,3.89,1.74,1.64,0,2.95-.55,3.92-1.64.55-.63.93-1.37,1.16-2.21h3.11c-.08.69-.35,1.46-.82,2.31s-.98,1.54-1.55,2.08c-.95.94-2.13,1.57-3.54,1.9-.76.19-1.61.28-2.56.28-2.33,0-4.3-.85-5.92-2.56-1.62-1.71-2.43-4.09-2.43-7.16s.82-5.48,2.45-7.37c1.63-1.89,3.76-2.83,6.39-2.83,1.33,0,2.61.31,3.86.94ZM70.07,51.08c-.13-1.37-.42-2.47-.89-3.29-.86-1.52-2.29-2.29-4.3-2.29-1.44,0-2.65.52-3.62,1.57-.98,1.05-1.49,2.38-1.55,4h10.37Z\\\" fill=\\\"#994a16\\\"/>\\n      </g>\\n    </symbol>\\n    <symbol id=\\\"me.2\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" r=\\\"35\\\" fill=\\\"#f47920\\\" stroke=\\\"#994a16\\\" stroke-miterlimit=\\\"10\\\" stroke-width=\\\"4\\\"/>\\n      <path d=\\\"M24.63,55.59c.61-1.25,1.79-2.39,3.56-3.41l2.63-1.52c1.18-.69,2.01-1.27,2.48-1.76.75-.76,1.12-1.63,1.12-2.61,0-1.14-.34-2.05-1.03-2.73s-1.6-1.01-2.74-1.01c-1.69,0-2.86.64-3.51,1.92-.35.69-.54,1.64-.58,2.86h-2.51c.03-1.71.34-3.1.95-4.18,1.07-1.9,2.96-2.85,5.66-2.85,2.25,0,3.89.61,4.93,1.82,1.04,1.22,1.56,2.57,1.56,4.06,0,1.57-.55,2.91-1.66,4.03-.64.65-1.79,1.43-3.44,2.36l-1.88,1.04c-.9.49-1.6.96-2.11,1.41-.91.79-1.49,1.68-1.73,2.64h10.72v2.33h-13.47c.09-1.69.44-3.16,1.05-4.41Z\\\" fill=\\\"#994a16\\\"/>\\n      <path d=\\\"M40.38,39.87h3.91l5.79,17.02,5.75-17.02h3.88v20.13h-2.6v-11.88c0-.41,0-1.09.03-2.04.02-.95.03-1.97.03-3.06l-5.75,16.98h-2.7l-5.8-16.98v.62c0,.49.01,1.24.04,2.25.03,1.01.04,1.75.04,2.23v11.88h-2.6v-20.13Z\\\" fill=\\\"#994a16\\\"/>\\n      <path d=\\\"M72.56,45.73c.97.49,1.71,1.12,2.22,1.9.49.74.82,1.6.98,2.59.15.68.22,1.75.22,3.23h-10.67c.04,1.49.39,2.69,1.05,3.59s1.66,1.35,3.03,1.35c1.28,0,2.3-.43,3.06-1.28.43-.5.73-1.07.91-1.72h2.43c-.06.54-.28,1.14-.64,1.8-.36.66-.76,1.2-1.21,1.62-.74.73-1.66,1.22-2.76,1.48-.59.15-1.26.22-2,.22-1.82,0-3.35-.66-4.62-1.99-1.26-1.33-1.89-3.19-1.89-5.58s.64-4.27,1.91-5.74c1.27-1.47,2.93-2.21,4.98-2.21,1.04,0,2.04.24,3.01.73ZM73.45,51.49c-.1-1.07-.33-1.92-.69-2.56-.67-1.19-1.79-1.78-3.36-1.78-1.12,0-2.07.41-2.83,1.23-.76.82-1.16,1.86-1.21,3.12h8.08Z\\\" fill=\\\"#994a16\\\"/>\\n    </symbol>\\n    <symbol id=\\\"me.3\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" r=\\\"35\\\" fill=\\\"#f47920\\\" stroke=\\\"#994a16\\\" stroke-miterlimit=\\\"10\\\" stroke-width=\\\"4\\\"/>\\n      <path d=\\\"M24.94,58.62c-1.05-1.27-1.57-2.83-1.57-4.65h2.58c.11,1.27.35,2.19.71,2.77.64,1.03,1.8,1.55,3.47,1.55,1.3,0,2.34-.35,3.12-1.04.79-.69,1.18-1.59,1.18-2.69,0-1.35-.41-2.3-1.24-2.84s-1.98-.81-3.45-.81c-.16,0-.33,0-.5,0-.17,0-.34.01-.51.02v-2.18c.26.03.47.05.64.05.17,0,.36.01.56.01.92,0,1.68-.15,2.27-.44,1.04-.51,1.56-1.42,1.56-2.74,0-.98-.35-1.73-1.04-2.26-.69-.53-1.5-.79-2.43-.79-1.64,0-2.78.55-3.41,1.64-.35.6-.54,1.46-.59,2.58h-2.44c0-1.46.29-2.7.88-3.73,1-1.83,2.77-2.74,5.3-2.74,2,0,3.55.45,4.65,1.34,1.1.89,1.64,2.18,1.64,3.87,0,1.21-.32,2.18-.97,2.93-.4.47-.92.83-1.56,1.1,1.03.28,1.84.83,2.42,1.64.58.81.87,1.8.87,2.97,0,1.87-.62,3.4-1.85,4.58s-2.98,1.77-5.25,1.77-4-.64-5.05-1.91Z\\\" fill=\\\"#994a16\\\"/>\\n      <path d=\\\"M40.38,39.87h3.91l5.79,17.02,5.75-17.02h3.88v20.13h-2.6v-11.88c0-.41,0-1.09.03-2.04.02-.95.03-1.97.03-3.06l-5.75,16.98h-2.7l-5.8-16.98v.62c0,.49.01,1.24.04,2.25.03,1.01.04,1.75.04,2.23v11.88h-2.6v-20.13Z\\\" fill=\\\"#994a16\\\"/>\\n      <path d=\\\"M72.56,45.73c.97.49,1.71,1.12,2.22,1.9.49.74.82,1.6.98,2.59.15.68.22,1.75.22,3.23h-10.67c.04,1.49.39,2.69,1.05,3.59s1.66,1.35,3.03,1.35c1.28,0,2.3-.43,3.06-1.28.43-.5.73-1.07.91-1.72h2.43c-.06.54-.28,1.14-.64,1.8-.36.66-.76,1.2-1.21,1.62-.74.73-1.66,1.22-2.76,1.48-.59.15-1.26.22-2,.22-1.82,0-3.35-.66-4.62-1.99-1.26-1.33-1.89-3.19-1.89-5.58s.64-4.27,1.91-5.74c1.27-1.47,2.93-2.21,4.98-2.21,1.04,0,2.04.24,3.01.73ZM73.45,51.49c-.1-1.07-.33-1.92-.69-2.56-.67-1.19-1.79-1.78-3.36-1.78-1.12,0-2.07.41-2.83,1.23-.76.82-1.16,1.86-1.21,3.12h8.08Z\\\" fill=\\\"#994a16\\\"/>\\n    </symbol>\\n    <symbol id=\\\"me.4\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" r=\\\"35\\\" fill=\\\"#f47920\\\" stroke=\\\"#994a16\\\" stroke-miterlimit=\\\"10\\\" stroke-width=\\\"4\\\"/>\\n      <path d=\\\"M32.02,60v-4.8h-8.61v-2.41l8.99-12.47h2.08v12.73h2.89v2.15h-2.89v4.8h-2.47ZM31.98,53.05v-8.91l-6.29,8.91h6.29Z\\\" fill=\\\"#994a16\\\"/>\\n      <path d=\\\"M40.38,39.87h3.91l5.79,17.02,5.75-17.02h3.88v20.13h-2.6v-11.88c0-.41,0-1.09.03-2.04.02-.95.03-1.97.03-3.06l-5.75,16.98h-2.7l-5.8-16.98v.62c0,.49.01,1.24.04,2.25.03,1.01.04,1.75.04,2.23v11.88h-2.6v-20.13Z\\\" fill=\\\"#994a16\\\"/>\\n      <path d=\\\"M72.56,45.73c.97.49,1.71,1.12,2.22,1.9.49.74.82,1.6.98,2.59.15.68.22,1.75.22,3.23h-10.67c.04,1.49.39,2.69,1.05,3.59s1.66,1.35,3.03,1.35c1.28,0,2.3-.43,3.06-1.28.43-.5.73-1.07.91-1.72h2.43c-.06.54-.28,1.14-.64,1.8-.36.66-.76,1.2-1.21,1.62-.74.73-1.66,1.22-2.76,1.48-.59.15-1.26.22-2,.22-1.82,0-3.35-.66-4.62-1.99-1.26-1.33-1.89-3.19-1.89-5.58s.64-4.27,1.91-5.74c1.27-1.47,2.93-2.21,4.98-2.21,1.04,0,2.04.24,3.01.73ZM73.45,51.49c-.1-1.07-.33-1.92-.69-2.56-.67-1.19-1.79-1.78-3.36-1.78-1.12,0-2.07.41-2.83,1.23-.76.82-1.16,1.86-1.21,3.12h8.08Z\\\" fill=\\\"#994a16\\\"/>\\n    </symbol>\\n    <symbol id=\\\"p\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" fill=\\\"#bbe5fa\\\" r=\\\"35\\\" stroke-width=\\\"4\\\" stroke=\\\"#2f5fac\\\"/>\\n      <path fill=\\\"#2f5fac\\\" stroke=\\\"none\\\" stroke-width=\\\"2\\\" d=\\\"M43.1,67.5V53h9.2c5.1,0,8.6-1.1,10.5-3.2c1.9-2.1,2.9-4.7,2.9-7.7c0-1.8-0.4-3.4-1.1-4.9\\n        c-0.7-1.5-1.7-2.6-2.9-3.5c-1.2-0.8-2.7-1.4-4.4-1.7c-1.3-0.2-3.1-0.3-5.4-0.3H38.4v35.8H43.1z M43.1,36h9.2\\n        c2.1,0,3.6,0.1,4.4,0.3c1.2,0.3,2.2,1,3,2.1c0.8,1.1,1.1,2.3,1.1,3.8c0,2.1-0.6,3.7-1.9,4.8c-1.3,1.1-3.5,1.7-6.5,1.7h-9.3V36z\\\"/>\\n    </symbol>\\n    <symbol id=\\\"ser\\\" viewBox=\\\"0 0 100 100\\\">\\n      <path d=\\\"M20,50 a1,1 0 0,0 30,0 a1,1 0 0,1 30,0\\\" fill=\\\"none\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\"/>\\n      <path d=\\\"M22.2,88.5c1,1.5,2.4,2.7,4.1,3.4c1.8,0.8,3.9,1.1,6.5,1.1c2,0,3.9-0.4,5.5-1.1c1.6-0.7,2.9-1.8,3.8-3.1\\n        c0.9-1.3,1.3-2.8,1.3-4.3c0-1.5-0.4-2.9-1.2-4.1c-0.8-1.2-2-2.2-3.7-2.9c-1.1-0.5-3.3-1.1-6.3-1.8c-3.1-0.7-5-1.4-5.7-2\\n        c-0.7-0.7-1.1-1.5-1.1-2.5c0-1.2,0.5-2.2,1.6-3c1-0.8,2.7-1.3,5-1.3c2.2,0,3.9,0.5,5,1.4c1.1,0.9,1.8,2.3,2,4.1l3.6-0.3\\n        c-0.1-1.7-0.5-3.2-1.4-4.5c-0.9-1.3-2.1-2.3-3.7-3s-3.5-1-5.6-1c-1.9,0-3.7,0.3-5.3,1C25,65.1,23.8,66,23,67.3s-1.2,2.6-1.2,4.1\\n        c0,1.3,0.3,2.5,1,3.6c0.7,1.1,1.7,2,3.1,2.7c1.1,0.6,2.9,1.2,5.5,1.8c2.6,0.6,4.3,1.1,5.1,1.4c1.2,0.5,2.1,1,2.6,1.7\\n        c0.5,0.7,0.8,1.5,0.8,2.4c0,0.9-0.3,1.7-0.8,2.5c-0.5,0.7-1.4,1.3-2.5,1.8c-1.1,0.4-2.4,0.6-3.8,0.6c-1.6,0-3.1-0.3-4.4-0.8\\n        c-1.3-0.6-2.3-1.3-2.9-2.2c-0.6-0.9-1-2.1-1.2-3.5l-3.6,0.3C20.7,85.3,21.2,87,22.2,88.5z\\\"/>\\n      <path d=\\\"M60.2,89.1c-0.9,0.7-2,1-3.3,1c-1.7,0-3.2-0.6-4.3-1.8c-1.2-1.2-1.8-3-1.9-5.2h15.5c0-0.4,0-0.7,0-0.9\\n        c0-3.4-0.9-6.1-2.6-8s-4-2.8-6.8-2.8c-2.9,0-5.2,1-7,2.9S47,78.9,47,82.4c0,3.4,0.9,6,2.7,7.9s4.2,2.8,7.2,2.8\\n        c2.4,0,4.4-0.6,5.9-1.8c1.5-1.2,2.6-2.8,3.2-4.9l-3.6-0.4C61.8,87.4,61.1,88.5,60.2,89.1z M52.6,75.9c1.1-1.1,2.5-1.6,4.1-1.6\\n        c1.8,0,3.2,0.7,4.4,2c0.7,0.9,1.2,2.2,1.3,3.9H50.8C50.9,78.4,51.5,77,52.6,75.9z\\\"/>\\n      <path d=\\\"M73.9,92.6V81.7c0-1.5,0.2-2.9,0.6-4.1c0.3-0.8,0.7-1.5,1.3-1.9c0.6-0.5,1.3-0.7,2.1-0.7c0.9,0,1.7,0.3,2.6,0.8l1.2-3.3\\n        c-1.2-0.8-2.4-1.1-3.6-1.1c-0.8,0-1.6,0.2-2.3,0.7s-1.4,1.4-2.2,2.9v-3.1h-3.2v20.7H73.9z\\\"/>\\n\\n    </symbol>\\n    <symbol id=\\\"thr\\\" viewBox=\\\"0 0 100 100\\\">\\n      <path d=\\\"M20,50 a1,1 0 0,0 30,0 a1,1 0 0,1 30,0\\\" fill=\\\"none\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\"/>\\n      <path d=\\\"M34.1,92.6V67.3h9.5V64H20.9v3.4h9.4v25.3H34.1z\\\"/>\\n      <path d=\\\"M50.6,92.6V81.2c0-1.6,0.2-2.9,0.6-3.8s1-1.7,2-2.2s1.9-0.8,2.9-0.8c1.4,0,2.5,0.4,3.2,1.2s1.1,2.1,1.1,3.8v13.1h3.5V79.4\\n        c0-2-0.2-3.6-0.7-4.6s-1.3-1.9-2.4-2.5s-2.5-0.9-4-0.9c-2.5,0-4.6,1-6.2,2.9V64H47v28.6H50.6z\\\"/>\\n      <path d=\\\"M72.8,92.6V81.7c0-1.5,0.2-2.9,0.6-4.1c0.3-0.8,0.7-1.5,1.3-1.9c0.6-0.5,1.3-0.7,2.1-0.7c0.9,0,1.7,0.3,2.6,0.8l1.2-3.3\\n        c-1.2-0.8-2.4-1.1-3.6-1.1c-0.8,0-1.6,0.2-2.3,0.7s-1.4,1.4-2.2,2.9v-3.1h-3.2v20.7H72.8z\\\"/>\\n    </symbol>\\n    <symbol id=\\\"asn\\\" viewBox=\\\"0 0 100 100\\\">\\n      <path d=\\\"M20,50 a1,1 0 0,0 30,0 a1,1 0 0,1 30,0\\\" fill=\\\"none\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\"/>\\n      <path d=\\\"M19.4,92.6l3.1-8.7h12l3.3,8.7h4.3L30.5,64h-4.1l-11,28.6H19.4z M26.8,72.4c0.7-1.8,1.2-3.6,1.5-5.5\\n        c0.4,1.5,1.1,3.5,2,5.9l3,7.9h-9.7L26.8,72.4z\\\"/>\\n      <path d=\\\"M46.1,91.4c1.4,1.1,3.5,1.7,6.2,1.7c1.6,0,3.1-0.3,4.4-0.8s2.3-1.4,3-2.4s1-2.1,1-3.3c0-1.2-0.3-2.2-0.8-3\\n        c-0.6-0.8-1.3-1.4-2.3-1.8c-1-0.4-2.7-1-5.2-1.6c-1.7-0.5-2.8-0.8-3.1-0.9c-0.6-0.2-1.1-0.6-1.3-0.9c-0.3-0.4-0.4-0.8-0.4-1.2\\n        c0-0.7,0.3-1.3,1-1.9c0.7-0.5,1.8-0.8,3.5-0.8c1.4,0,2.4,0.3,3.2,0.9c0.7,0.6,1.2,1.4,1.4,2.5l3.4-0.5c-0.2-1.3-0.6-2.4-1.2-3.2\\n        s-1.5-1.4-2.7-1.9s-2.7-0.7-4.3-0.7c-1.1,0-2.1,0.1-3,0.4c-0.9,0.3-1.7,0.6-2.2,1c-0.7,0.5-1.3,1.2-1.7,2\\n        c-0.4,0.8-0.6,1.6-0.6,2.6c0,1,0.3,1.9,0.8,2.8c0.5,0.8,1.3,1.5,2.3,2s2.8,1,5.4,1.7c1.9,0.5,3.1,0.9,3.6,1.2c0.7,0.5,1,1.1,1,1.9\\n        c0,0.9-0.4,1.7-1.2,2.3s-2,1-3.6,1c-1.6,0-2.8-0.4-3.7-1.1c-0.9-0.7-1.4-1.8-1.6-3.2l-3.5,0.5C43.8,88.6,44.7,90.3,46.1,91.4z\\\"/>\\n      <path d=\\\"M68.3,92.6V81.3c0-2.7,0.5-4.5,1.6-5.4c1.1-1,2.4-1.4,3.9-1.4c0.9,0,1.8,0.2,2.5,0.6c0.7,0.4,1.2,1,1.5,1.7\\n        s0.4,1.8,0.4,3.2v12.6h3.5V79.8c0-1.6-0.1-2.8-0.2-3.4c-0.2-1-0.6-1.9-1.1-2.6c-0.5-0.7-1.3-1.3-2.4-1.8c-1-0.4-2.2-0.7-3.4-0.7\\n        c-2.9,0-5.1,1.1-6.6,3.4v-2.9h-3.2v20.7H68.3z\\\"/>\\n    </symbol>\\n    <symbol id=\\\"hyl\\\" viewBox=\\\"0 0 100 100\\\">\\n      <path d=\\\"M20,50 a1,1 0 0,0 30,0 a1,1 0 0,1 30,0\\\" fill=\\\"none\\\" stroke=\\\"#000\\\" stroke-width=\\\"1\\\"/>\\n      <path d=\\\"M28.1,92.6V79.1H43v13.5h3.8V64H43v11.8H28.1V64h-3.8v28.6H28.1z\\\"/>\\n      <path d=\\\"M54.7,101c1.1,0,2.1-0.3,2.9-0.8c0.8-0.5,1.5-1.4,2.1-2.5c0.5-0.9,1.1-2.4,2-4.7l7.9-21.1h-3.5l-4.4,12.1\\n        c-0.6,1.5-1,3.1-1.4,4.7c-0.4-1.7-0.9-3.3-1.5-4.8l-4.3-12h-3.8l7.9,20.8c-0.1,0.4-0.2,0.7-0.3,0.9c-0.5,1.4-0.9,2.3-1.1,2.6\\n        c-0.3,0.5-0.7,0.8-1.2,1.1s-1.1,0.4-1.9,0.4c-0.6,0-1.2-0.1-2-0.3l0.4,3.3C53.3,100.9,54.1,101,54.7,101z\\\"/>\\n      <path d=\\\"M76.1,92.6V64h-3.5v28.6H76.1z\\\"/>\\n    </symbol>\\n    <symbol id=\\\"etnp\\\" viewBox=\\\"0 0 100 100\\\">\\n      <path d=\\\"M50,15.1 L66.2,26.9 L60,45.9 L40,45.9 L33.8,26.9\\\" fill=\\\"#000\\\"/>\\n      <circle cx=\\\"50\\\" cy=\\\"70\\\" fill=\\\"#bbe5fa\\\" r=\\\"15\\\" stroke-width=\\\"2\\\" stroke=\\\"#2f5fac\\\"/>\\n      <path fill=\\\"#2f5fac\\\" stroke=\\\"none\\\" stroke-width=\\\"2\\\" d=\\\"M47,70.5v0h4.5c2.5,0,4.3-0.55,5.25-1.6c0.95-1.05,1.45-2.35,1.45-3.85c0-0.9-0.2-1.7-0.55-2.45c-0.35-0.75-0.85-1.3-1.45-1.75c-0.6-0.4-1.35-0.7-2.2-0.85c-0.65-0.1-1.55-0.15-2.7-0.15h-8v17.9h3.6z m-0.5,-8.5h4.6\\nc1.05,0,1.8,0.05,2.2,0.15\\nc0.6,0.15,1.1,0.5,1.5,1.05c0.4,0.55,0.55,1.15,0.55,1.9c0,1.05-0.3,1.85-0.95,2.4c-0.65,0.55-1.75,0.85-3.25,0.85h-4.65v-7z\\\"/>\\n    </symbol>\\n    <symbol id=\\\"dol-pp\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"20\\\" fill=\\\"#bbe5fa\\\" r=\\\"7.5\\\" stroke-width=\\\"2\\\" stroke=\\\"#2f5fac\\\"/>\\n      <circle cx=\\\"50\\\" cy=\\\"40\\\" fill=\\\"#bbe5fa\\\" r=\\\"7.5\\\" stroke-width=\\\"2\\\" stroke=\\\"#2f5fac\\\"/>\\n      <path fill=\\\"none\\\" stroke=\\\"#999\\\" stroke-width=\\\"4\\\" stroke-linecap=\\\"round\\\"  d=\\\"M50,50 55.8,61.1 44.5,72 55.8,83 44.5,94\\\"/>\\n    </symbol>\\n    <symbol id=\\\"dol-p\\\" viewBox=\\\"0 0 100 100\\\">\\n      <circle cx=\\\"50\\\" cy=\\\"20\\\" fill=\\\"#bbe5fa\\\" r=\\\"7.5\\\" stroke-width=\\\"2\\\" stroke=\\\"#2f5fac\\\"/>\\n      <path fill=\\\"none\\\" stroke=\\\"#999\\\" stroke-width=\\\"4\\\" stroke-linecap=\\\"round\\\"  d=\\\"M50,27.5 55.8,38.9 44.5,50 55.8,61.1 44.5,72 55.8,83 44.5,94\\\"/>\\n    </symbol>\\n\\n    <symbol id=\\\"pi\\\" viewBox=\\\"0 0 100 100\\\">\\n  <path d=\\\"M40.5,37.048h12.039c2.38,0,4.302,0.674,5.765,2.023c1.464,1.35,2.196,3.245,2.196,5.687c0,2.101-0.653,3.929-1.959,5.486\\n    c-1.306,1.557-3.304,2.336-5.996,2.336h-8.401v11.373H40.5V37.048z M54.636,40.747c-0.799-0.378-1.897-0.567-3.291-0.567h-7.201\\n    v9.323h7.201c1.625,0,2.943-0.348,3.955-1.044s1.519-1.923,1.519-3.681C56.819,42.799,56.091,41.456,54.636,40.747z\\\"/>\\n<polyline fill=\\\"none\\\" stroke=\\\"#000000\\\" stroke-miterlimit=\\\"10\\\" points=\\\"12.076,90.888 12.076,54.475 33.525,54.475 \\\"/>\\n<line fill=\\\"none\\\" stroke=\\\"#000000\\\" stroke-miterlimit=\\\"10\\\" x1=\\\"22.8\\\" y1=\\\"80.746\\\" x2=\\\"22.8\\\" y2=\\\"54.475\\\"/>\\n<polygon fill=\\\"#fff\\\" stroke=\\\"#000000\\\" stroke-miterlimit=\\\"10\\\" points=\\\"50.482,3.475 38.46,10.415 38.46,24.297 50.482,31.237 \\n  62.503,24.297 62.503,10.415 \\\"/>\\n<line fill=\\\"none\\\" stroke=\\\"#000000\\\" stroke-miterlimit=\\\"10\\\" x1=\\\"50.482\\\" y1=\\\"35.021\\\" x2=\\\"50.482\\\" y2=\\\"31.237\\\"/>\\n    </symbol>\\n\\n  </defs>\\n  <!--\\n  <g>\\n    <rect x=\\\"0\\\" y=\\\"0\\\" width=\\\"100\\\" height=\\\"100\\\" stroke-width=\\\"0.1\\\" stroke=\\\"#000\\\" fill=\\\"none\\\"/>\\n    <text x=\\\"20\\\" y=\\\"50\\\" font-family=\\\"helvetica\\\">100 x 100</text>\\n    <text x=\\\"0\\\" y=\\\"15\\\"  font-family=\\\"helvetica\\\">0</text>\\n    <text x=\\\"70\\\" y=\\\"100\\\"  font-family=\\\"helvetica\\\">100</text>\\n  </g>\\n  -->\\n  <use xlink:href=\\\"#galnac\\\" x=\\\"100\\\" y=\\\"100\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#glcnac\\\" x=\\\"200\\\" y=\\\"100\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#man\\\" x=\\\"300\\\" y=\\\"100\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#glc\\\" x=\\\"400\\\" y=\\\"100\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <text x=\\\"150\\\" text-anchor=\\\"middle\\\" y=\\\"210\\\">GalNAc</text>\\n  <text x=\\\"250\\\" text-anchor=\\\"middle\\\" y=\\\"210\\\">GlcNAc</text>\\n  <text x=\\\"350\\\" text-anchor=\\\"middle\\\" y=\\\"210\\\">Mannose</text>\\n  <text x=\\\"450\\\" text-anchor=\\\"middle\\\" y=\\\"210\\\">Glucose</text>\\n  <use xlink:href=\\\"#fuc\\\" x=\\\"100\\\" y=\\\"250\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#neu\\\" x=\\\"200\\\" y=\\\"250\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#neuac\\\" x=\\\"300\\\" y=\\\"250\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#neugc\\\" x=\\\"400\\\" y=\\\"250\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <text x=\\\"150\\\" text-anchor=\\\"middle\\\" y=\\\"370\\\">Fucose</text>\\n  <text x=\\\"250\\\" text-anchor=\\\"middle\\\" y=\\\"370\\\">Sialic acid</text>\\n  <text x=\\\"350\\\" text-anchor=\\\"middle\\\" y=\\\"370\\\">NeuAc</text>\\n  <text x=\\\"450\\\" text-anchor=\\\"middle\\\" y=\\\"370\\\">NeuGc</text>\\n\\n  <use xlink:href=\\\"#ara\\\" x=\\\"100\\\" y=\\\"400\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#xyl\\\" x=\\\"200\\\" y=\\\"400\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#glca\\\" x=\\\"300\\\" y=\\\"400\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#idoa\\\" x=\\\"400\\\" y=\\\"400\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n\\n  <text x=\\\"150\\\" text-anchor=\\\"middle\\\" y=\\\"510\\\">Arabinose</text>\\n  <text x=\\\"250\\\" text-anchor=\\\"middle\\\" y=\\\"510\\\">Xylose</text>\\n  <text x=\\\"350\\\" text-anchor=\\\"middle\\\" y=\\\"510\\\">GlcA</text>\\n  <text x=\\\"450\\\" text-anchor=\\\"middle\\\" y=\\\"510\\\">IdoA</text>\\n\\n  <use xlink:href=\\\"#hexa\\\" x=\\\"100\\\" y=\\\"550\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#hex\\\" x=\\\"200\\\" y=\\\"550\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#hexnac\\\" x=\\\"300\\\" y=\\\"550\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#p\\\" x=\\\"400\\\" y=\\\"550\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n\\n  <text x=\\\"150\\\" text-anchor=\\\"middle\\\" y=\\\"660\\\">HexA</text>\\n  <text x=\\\"250\\\" text-anchor=\\\"middle\\\" y=\\\"660\\\">Hexose</text>\\n  <text x=\\\"350\\\" text-anchor=\\\"middle\\\" y=\\\"660\\\">HexNAc</text>\\n  <text x=\\\"450\\\" text-anchor=\\\"middle\\\" y=\\\"660\\\">P</text>\\n\\n  <use xlink:href=\\\"#ser\\\" x=\\\"100\\\" y=\\\"700\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#thr\\\" x=\\\"200\\\" y=\\\"700\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#asn\\\" x=\\\"300\\\" y=\\\"700\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#hyl\\\" x=\\\"400\\\" y=\\\"700\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n\\n  <text x=\\\"150\\\" text-anchor=\\\"middle\\\" y=\\\"810\\\">Ser</text>\\n  <text x=\\\"250\\\" text-anchor=\\\"middle\\\" y=\\\"810\\\">Thr</text>\\n  <text x=\\\"350\\\" text-anchor=\\\"middle\\\" y=\\\"810\\\">Asn</text>\\n  <text x=\\\"450\\\" text-anchor=\\\"middle\\\" y=\\\"810\\\">HyL</text>\\n\\n  <use xlink:href=\\\"#hso3\\\" x=\\\"100\\\" y=\\\"850\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#cer\\\" x=\\\"200\\\" y=\\\"850\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#hso3.2\\\" x=\\\"300\\\" y=\\\"850\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#hso3.3\\\" x=\\\"400\\\" y=\\\"850\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n\\n  <text x=\\\"150\\\" text-anchor=\\\"middle\\\" y=\\\"960\\\">HSO3</text>\\n  <text x=\\\"250\\\" text-anchor=\\\"middle\\\" y=\\\"960\\\">Cer</text>\\n  <text x=\\\"350\\\" text-anchor=\\\"middle\\\" y=\\\"960\\\">2S</text>\\n  <text x=\\\"450\\\" text-anchor=\\\"middle\\\" y=\\\"960\\\">3S</text>\\n\\n\\n  <use xlink:href=\\\"#hso3.4\\\" x=\\\"100\\\" y=\\\"1000\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#hso3.6\\\" x=\\\"200\\\" y=\\\"1000\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#hso3.N\\\" x=\\\"300\\\" y=\\\"1000\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#glcn\\\" x=\\\"400\\\" y=\\\"1000\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n\\n  <text x=\\\"150\\\" text-anchor=\\\"middle\\\" y=\\\"1110\\\">4S</text>\\n  <text x=\\\"250\\\" text-anchor=\\\"middle\\\" y=\\\"1110\\\">6S</text>\\n  <text x=\\\"350\\\" text-anchor=\\\"middle\\\" y=\\\"1110\\\">NS</text>\\n  <text x=\\\"450\\\" text-anchor=\\\"middle\\\" y=\\\"1110\\\">GlcN</text>\\n\\n\\n  <use xlink:href=\\\"#etnp\\\" x=\\\"100\\\" y=\\\"1150\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#pi\\\" x=\\\"200\\\" y=\\\"1150\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#dol-pp\\\" x=\\\"300\\\" y=\\\"1150\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n  <use xlink:href=\\\"#dol-p\\\" x=\\\"400\\\" y=\\\"1150\\\" width=\\\"100\\\" height=\\\"100\\\"/>\\n\\n  <text x=\\\"150\\\" text-anchor=\\\"middle\\\" y=\\\"1260\\\">Etnp</text>\\n  <text x=\\\"250\\\" text-anchor=\\\"middle\\\" y=\\\"1260\\\">PI</text>\\n  <text x=\\\"350\\\" text-anchor=\\\"middle\\\" y=\\\"1260\\\">Dol-PP</text>\\n  <text x=\\\"450\\\" text-anchor=\\\"middle\\\" y=\\\"1260\\\">Dol-P</text>\\n\\n\\n</svg>\\n\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ2x5Y2FuLmpzL3N1Z2Fycy5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZ2x5Y2FuLmpzL3N1Z2Fycy5zdmc/ZjAzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjw/eG1sIHZlcnNpb249XFxcIjEuMFxcXCIgZW5jb2Rpbmc9XFxcIlVURi04XFxcIiBzdGFuZGFsb25lPVxcXCJub1xcXCI/PlxcbjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB4bWxuczp4bGluaz1cXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1xcXCIgdmlld0JveD1cXFwiNTAgNTAgNTAwIDEzMDBcXFwiPlxcbjwhLS1cXG5SR0Igc2V0dGluZ3MgZm9yIFNORkdcXG5XaGl0ZSAgI2ZmZlxcbkJsdWUgICMwMDkwYmNcXG5HcmVlbiAgIzAwYTY1MVxcblllbGxvdyAgI2ZmZDQwMFxcbkxpZ2h0IGJsdWUgICM4ZmNjZTlcXG5QaW5rICAjZjY5ZWExXFxuUHVycGxlICAjYTU0Mzk5XFxuQnJvd24gICNhMTdhNGRcXG5PcmFuZ2UgICNmNDc5MjBcXG5SZWQgICNlZDFjMjRcXG4tLT5cXG4gIDxkZWZzPlxcbiAgICA8c3ltYm9sIGlkPVxcXCJoZXhuYWNfYmFzZVxcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxyZWN0IHg9XFxcIjEwXFxcIiB5PVxcXCIxMFxcXCIgd2lkdGg9XFxcIjgwXFxcIiBoZWlnaHQ9XFxcIjgwXFxcIiBzdHlsZT1cXFwiZmlsbDogdmFyKC0tZmlsbC1jb2xvcik7IHN0cm9rZTogdmFyKC0tc3Ryb2tlLWNvbG9yKTsgc3Ryb2tlLXdpZHRoOiB2YXIoLS1zdHJva2Utd2lkdGgpO1xcXCIgLz5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcImhleF9iYXNlXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCI+XFxuICAgICAgPGNpcmNsZSBjeD1cXFwiNTBcXFwiIGN5PVxcXCI1MFxcXCIgcj1cXFwiNDBcXFwiIHN0eWxlPVxcXCJmaWxsOiB2YXIoLS1maWxsLWNvbG9yKTsgc3Ryb2tlOiB2YXIoLS1zdHJva2UtY29sb3IpOyBzdHJva2Utd2lkdGg6IHZhcigtLXN0cm9rZS13aWR0aCk7XFxcIi8+XFxuICAgIDwvc3ltYm9sPlxcbiAgICA8c3ltYm9sIGlkPVxcXCJzaWFfYmFzZVxcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxwYXRoIGQ9XFxcIk01MCw1IDk1LDUwIDUwLDk1IDUsNTAgelxcXCIgc3R5bGU9XFxcImZpbGw6IHZhcigtLWZpbGwtY29sb3IpOyBzdHJva2U6IHZhcigtLXN0cm9rZS1jb2xvcik7IHN0cm9rZS13aWR0aDogdmFyKC0tc3Ryb2tlLXdpZHRoKTtcXFwiLz5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcImhleG5hY1xcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxyZWN0IHg9XFxcIjEwXFxcIiB5PVxcXCIxMFxcXCIgd2lkdGg9XFxcIjgwXFxcIiBoZWlnaHQ9XFxcIjgwXFxcIiBmaWxsPVxcXCIjZmZmXFxcIiBzdHJva2Utd2lkdGg9XFxcIjNcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIvPlxcbiAgICA8L3N5bWJvbD5cXG4gICAgPHN5bWJvbCBpZD1cXFwiZ2FsbmFjXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCI+XFxuICAgICAgPHJlY3QgeD1cXFwiMTBcXFwiIHk9XFxcIjEwXFxcIiB3aWR0aD1cXFwiODBcXFwiIGhlaWdodD1cXFwiODBcXFwiIGZpbGw9XFxcIiNmZmQ0MDBcXFwiIHN0cm9rZS13aWR0aD1cXFwiMVxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIi8+XFxuICAgIDwvc3ltYm9sPlxcbiAgICA8c3ltYm9sIGlkPVxcXCJnbGNuYWNcXFwiIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIj5cXG4gICAgICA8cmVjdCB4PVxcXCIxMFxcXCIgeT1cXFwiMTBcXFwiIHdpZHRoPVxcXCI4MFxcXCIgaGVpZ2h0PVxcXCI4MFxcXCIgZmlsbD1cXFwiIzAwOTBiY1xcXCIgc3Ryb2tlLXdpZHRoPVxcXCIxXFxcIiBzdHJva2U9XFxcIiMwMDBcXFwiLz5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcIm1hbm5hY1xcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxyZWN0IHg9XFxcIjEwXFxcIiB5PVxcXCIxMFxcXCIgd2lkdGg9XFxcIjgwXFxcIiBoZWlnaHQ9XFxcIjgwXFxcIiBmaWxsPVxcXCIjMDBhNjUxXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIvPlxcbiAgICA8L3N5bWJvbD5cXG4gICAgPHN5bWJvbCBpZD1cXFwibWFuXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCI+XFxuICAgICAgPGNpcmNsZSBjeD1cXFwiNTBcXFwiIGN5PVxcXCI1MFxcXCIgZmlsbD1cXFwiIzAwYTY1MVxcXCIgcj1cXFwiNDBcXFwiIHN0cm9rZS13aWR0aD1cXFwiMVxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIi8+XFxuICAgIDwvc3ltYm9sPlxcbiAgICA8c3ltYm9sIGlkPVxcXCJtYW42cFxcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxjaXJjbGUgY3g9XFxcIjUwXFxcIiBjeT1cXFwiNzVcXFwiIGZpbGw9XFxcIiMwMGE2NTFcXFwiIHI9XFxcIjIwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIvPlxcbiAgICAgIDx0ZXh0IHg9XFxcIjUwXFxcIiB5PVxcXCIyNVxcXCIgdGV4dC1hbmNob3I9XFxcIm1pZGRsZVxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjJcXFwiIGR5PVxcXCIuMzVlbVxcXCIgZHg9XFxcIjAuMDVlbVxcXCIgZm9udC1zaXplPVxcXCIyNVxcXCI+UDwvdGV4dD5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcImdsY1xcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxjaXJjbGUgY3g9XFxcIjUwXFxcIiBjeT1cXFwiNTBcXFwiIGZpbGw9XFxcIiMwMDkwYmNcXFwiIHI9XFxcIjQwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIvPlxcbiAgICA8L3N5bWJvbD5cXG4gICAgPHN5bWJvbCBpZD1cXFwiZ2FsXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCI+XFxuICAgICAgPGNpcmNsZSBjeD1cXFwiNTBcXFwiIGN5PVxcXCI1MFxcXCIgZmlsbD1cXFwiI2ZmZDQwMFxcXCIgcj1cXFwiNDBcXFwiIHN0cm9rZS13aWR0aD1cXFwiMVxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIi8+XFxuICAgIDwvc3ltYm9sPlxcbiAgICA8c3ltYm9sIGlkPVxcXCJoZXhcXFwiIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIj5cXG4gICAgICA8Y2lyY2xlIGN4PVxcXCI1MFxcXCIgY3k9XFxcIjUwXFxcIiBmaWxsPVxcXCIjZmZmXFxcIiByPVxcXCI0MFxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIzXFxcIiBzdHJva2U9XFxcIiMwMDBcXFwiLz5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcImwtaGV4XFxcIiB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCI+XFxuICAgICAgPGNpcmNsZSBjeD1cXFwiNTBcXFwiIGN5PVxcXCI1MFxcXCIgZmlsbD1cXFwiI2ZmZlxcXCIgcj1cXFwiNDBcXFwiIHN0cm9rZS13aWR0aD1cXFwiM1xcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIi8+XFxuICAgICAgPHBhdGggZD1cXFwiTTI4LjYsMzYuOTJoMi43NWwtMy44LDIzLjg1aDEwLjI5bC0uNTEsMy4yM2gtMTMuMDRsNC4zMS0yNy4wOFpcXFwiIGZpbGw9XFxcIiNmZmZcXFwiLz5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcImQtaGV4XFxcIiB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCI+XFxuICAgICAgPGNpcmNsZSBjeD1cXFwiNTBcXFwiIGN5PVxcXCI1MFxcXCIgZmlsbD1cXFwiI2ZmZlxcXCIgcj1cXFwiNDBcXFwiIHN0cm9rZS13aWR0aD1cXFwiM1xcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIi8+XFxuICAgICAgPHBhdGggZD1cXFwiTTI2LjM3LDM2LjkyaDguMjNjMi43OSwwLDQuNzUsMS4zMiw1Ljg2LDMuOTYsMSwyLjM4LDEuMTksNS40NC41OSw5LjE2LS40NSwyLjg4LTEuMjcsNS40Ny0yLjQ2LDcuOC0yLjA3LDQuMS00Ljg1LDYuMTYtOC4zNCw2LjE2aC04LjJsNC4zMS0yNy4wOFpNMzAuMjMsNjAuODdjLjkzLDAsMS43MS0uMTMsMi4zNS0uMzksMS4xNC0uNDgsMi4xNy0xLjQsMy4wNy0yLjc2LjcyLTEuMDksMS4zMy0yLjQ5LDEuODQtNC4yLjMtMS4wMi41My0xLjk2LjY2LTIuODQuNTMtMy4zNS40NS01Ljk1LS4yNi03Ljgxcy0yLjE3LTIuNzgtNC4zOS0yLjc4aC00Ljg4bC0zLjMsMjAuNzdoNC45MVpcXFwiIGZpbGw9XFxcIiNmZmZcXFwiLz5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcIm5ldVxcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxwYXRoIGQ9XFxcIk01MCw1IDk1LDUwIDUwLDk1IDUsNTAgelxcXCIgZmlsbD1cXFwiI2VkMWMyNFxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiLz5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcIm5ldWFjXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCI+XFxuICAgICAgPHBhdGggZD1cXFwiTTUwLDUgOTUsNTAgNTAsOTUgNSw1MCB6XFxcIiBmaWxsPVxcXCIjYTU0Mzk5XFxcIiBzdHJva2U9XFxcIiMwMDBcXFwiIHN0cm9rZS13aWR0aD1cXFwiMVxcXCIvPlxcbiAgICA8L3N5bWJvbD5cXG4gICAgPHN5bWJvbCBpZD1cXFwibmV1Z2NcXFwiIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIj5cXG4gICAgICA8cGF0aCBkPVxcXCJNNTAsNSA5NSw1MCA1MCw5NSA1LDUwIHpcXFwiIGZpbGw9XFxcIiM4ZmNjZTlcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIxXFxcIi8+XFxuICAgIDwvc3ltYm9sPlxcbiAgICA8c3ltYm9sIGlkPVxcXCJmdWNcXFwiIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIj5cXG4gICAgICA8cGF0aCBkPVxcXCJNNTAsMTUgOTAsOTAgMTAsOTAgelxcXCIgZmlsbD1cXFwiI2VkMWMyNFxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiLz5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcImQtZnVjXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCI+XFxuICAgICAgPHBhdGggZD1cXFwiTTUwLDE1IDkwLDkwIDEwLDkwIHpcXFwiIGZpbGw9XFxcIiNlZDFjMjRcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIxXFxcIi8+XFxuICAgICAgICA8cGF0aCBkPVxcXCJNMzIuMzcsNDguOTJoOC4yM2MyLjc5LDAsNC43NSwxLjMyLDUuODYsMy45NiwxLDIuMzgsMS4xOSw1LjQ0LjU5LDkuMTYtLjQ1LDIuODgtMS4yNyw1LjQ3LTIuNDYsNy44LTIuMDcsNC4xLTQuODUsNi4xNi04LjM0LDYuMTZoLTguMmw0LjMxLTI3LjA4Wk0zNi4yMyw3Mi44N2MuOTMsMCwxLjcxLS4xMywyLjM1LS4zOSwxLjE0LS40OCwyLjE3LTEuNCwzLjA3LTIuNzYuNzItMS4wOSwxLjMzLTIuNDksMS44NC00LjIuMy0xLjAyLjUzLTEuOTYuNjYtMi44NC41My0zLjM1LjQ1LTUuOTUtLjI2LTcuODFzLTIuMTctMi43OC00LjM5LTIuNzhoLTQuODhsLTMuMywyMC43N2g0LjkxWlxcXCIgZmlsbD1cXFwiI2ZmZlxcXCIvPlxcbiAgICA8L3N5bWJvbD5cXG4gICAgPHN5bWJvbCBpZD1cXFwiZnVjbmFjXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCI+XFxuICAgICAgPHBhdGggZD1cXFwiTTUwLDE1IDkwLDkwIDUwLDkwIHpcXFwiIGZpbGw9XFxcIiNlZDFjMjRcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIxXFxcIi8+XFxuICAgICAgPHBhdGggZD1cXFwiTTUwLDE1IDUwLDkwIDEwLDkwIHpcXFwiIGZpbGw9XFxcIiNmZmZcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIxXFxcIi8+XFxuICAgIDwvc3ltYm9sPlxcbiAgICA8c3ltYm9sIGlkPVxcXCJyaGFcXFwiIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIj5cXG4gICAgICA8cGF0aCBkPVxcXCJNNTAsMTUgOTAsOTAgMTAsOTAgelxcXCIgZmlsbD1cXFwiIzAwYTY1MVxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiLz5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcImQtcmhhXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCI+XFxuICAgICAgPHBhdGggZD1cXFwiTTUwLDE1IDkwLDkwIDEwLDkwIHpcXFwiIGZpbGw9XFxcIiMwMGE2NTFcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIxXFxcIi8+XFxuICAgICAgICA8cGF0aCBkPVxcXCJNMzIuMzcsNDguOTJoOC4yM2MyLjc5LDAsNC43NSwxLjMyLDUuODYsMy45NiwxLDIuMzgsMS4xOSw1LjQ0LjU5LDkuMTYtLjQ1LDIuODgtMS4yNyw1LjQ3LTIuNDYsNy44LTIuMDcsNC4xLTQuODUsNi4xNi04LjM0LDYuMTZoLTguMmw0LjMxLTI3LjA4Wk0zNi4yMyw3Mi44N2MuOTMsMCwxLjcxLS4xMywyLjM1LS4zOSwxLjE0LS40OCwyLjE3LTEuNCwzLjA3LTIuNzYuNzItMS4wOSwxLjMzLTIuNDksMS44NC00LjIuMy0xLjAyLjUzLTEuOTYuNjYtMi44NC41My0zLjM1LjQ1LTUuOTUtLjI2LTcuODFzLTIuMTctMi43OC00LjM5LTIuNzhoLTQuODhsLTMuMywyMC43N2g0LjkxWlxcXCIgZmlsbD1cXFwiI2ZmZlxcXCIvPlxcbiAgICA8L3N5bWJvbD5cXG4gICAgPHN5bWJvbCBpZD1cXFwiYXJhXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCI+XFxuPHBvbHlsaW5lIGZpbGw9XFxcIiMwMGE2NTFcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIxXFxcIiBzdHJva2UtbGluZWNhcD1cXFwicm91bmRcXFwiIHN0cm9rZS1saW5lam9pbj1cXFwicm91bmRcXFwiIHN0cm9rZS1taXRlcmxpbWl0PVxcXCIxMFxcXCIgcG9pbnRzPVxcXCJcXG4gIDY3LjgwMiw2MC40NjIgNzguODAzLDk0LjMyIDUwLjAwMSw2OS44MjMgMjEuMTk2LDk0LjMyMiAzMi4xOTksNjAuNDYyIDMuMzg2LDM5LjUzMSAzOC45OTksMzkuNTM0IDUwLDUuNjc4IDYxLjAwMiwzOS41MzYgOTYuNjE1LDM5LjUzOSA2Ny44MDQsNjAuNDYyIFxcXCIvPlxcbiAgICA8L3N5bWJvbD5cXG4gICAgPHN5bWJvbCBpZD1cXFwiZC1hcmFcXFwiIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIj5cXG4gICAgICA8cG9seWxpbmUgZmlsbD1cXFwiIzAwYTY1MVxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiIHN0cm9rZS1saW5lY2FwPVxcXCJyb3VuZFxcXCIgc3Ryb2tlLWxpbmVqb2luPVxcXCJyb3VuZFxcXCIgc3Ryb2tlLW1pdGVybGltaXQ9XFxcIjEwXFxcIiBwb2ludHM9XFxcIlxcbiAgNjcuODAyLDYwLjQ2MiA3OC44MDMsOTQuMzIgNTAuMDAxLDY5LjgyMyAyMS4xOTYsOTQuMzIyIDMyLjE5OSw2MC40NjIgMy4zODYsMzkuNTMxIDM4Ljk5OSwzOS41MzQgNTAsNS42NzggNjEuMDAyLDM5LjUzNiA5Ni42MTUsMzkuNTM5IDY3LjgwNCw2MC40NjIgXFxcIi8+XFxuICAgICAgPHBhdGggZD1cXFwiTTMyLjM3LDQ4LjkyaDguMjNjMi43OSwwLDQuNzUsMS4zMiw1Ljg2LDMuOTYsMSwyLjM4LDEuMTksNS40NC41OSw5LjE2LS40NSwyLjg4LTEuMjcsNS40Ny0yLjQ2LDcuOC0yLjA3LDQuMS00Ljg1LDYuMTYtOC4zNCw2LjE2aC04LjJsNC4zMS0yNy4wOFpNMzYuMjMsNzIuODdjLjkzLDAsMS43MS0uMTMsMi4zNS0uMzksMS4xNC0uNDgsMi4xNy0xLjQsMy4wNy0yLjc2LjcyLTEuMDksMS4zMy0yLjQ5LDEuODQtNC4yLjMtMS4wMi41My0xLjk2LjY2LTIuODQuNTMtMy4zNS40NS01Ljk1LS4yNi03Ljgxcy0yLjE3LTIuNzgtNC4zOS0yLjc4aC00Ljg4bC0zLjMsMjAuNzdoNC45MVpcXFwiIGZpbGw9XFxcIiNmZmZcXFwiLz5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcImQtYXJhZlxcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbjxwb2x5bGluZSBmaWxsPVxcXCIjMDBhNjUxXFxcIiBzdHJva2U9XFxcIiMwMDBcXFwiIHN0cm9rZS13aWR0aD1cXFwiMVxcXCIgc3Ryb2tlLWxpbmVjYXA9XFxcInJvdW5kXFxcIiBzdHJva2UtbGluZWpvaW49XFxcInJvdW5kXFxcIiBzdHJva2UtbWl0ZXJsaW1pdD1cXFwiMTBcXFwiIHBvaW50cz1cXFwiXFxuICA2Ny44MDIsNjAuNDYyIDc4LjgwMyw5NC4zMiA1MC4wMDEsNjkuODIzIDIxLjE5Niw5NC4zMjIgMzIuMTk5LDYwLjQ2MiAzLjM4NiwzOS41MzEgMzguOTk5LDM5LjUzNCA1MCw1LjY3OCA2MS4wMDIsMzkuNTM2IDk2LjYxNSwzOS41MzkgNjcuODA0LDYwLjQ2MiBcXFwiLz5cXG4gICAgPHBhdGggc3Ryb2tlPVxcXCIjZmZmXFxcIiBmaWxsPVxcXCIjZmZmXFxcIiBzdHJva2Utd2lkdGg9XFxcIjBcXFwiIGQ9XFxcIk01MS4yLDM5LjlMNTAuMyw0NGgtMy42TDQ2LDQ3LjVoMy42TDQ0LjgsNzBoNC4zbDQuOC0yMi42aDQuNGwwLjctMy41aC00LjNjMC42LTIuOCwxLjEtNC42LDEuNS01LjNcXG4gICAgICBjMC40LTAuNywxLjMtMSwyLjYtMWMwLjIsMCwwLjQsMCwwLjYsMGMwLjIsMCwwLjUsMCwxLDAuMWwwLjktNGMtMC40LDAtMC43LTAuMS0xLTAuMWMtMC4zLDAtMC42LDAtMC45LDBjLTIuOSwwLTUuMSwwLjctNi40LDIuMlxcbiAgICAgIEM1Mi4zLDM2LjgsNTEuNywzOC4xLDUxLjIsMzkuOXpcXFwiLz5cXG4gICAgICA8cGF0aCBkPVxcXCJNMzIuMzcsNDguOTJoOC4yM2MyLjc5LDAsNC43NSwxLjMyLDUuODYsMy45NiwxLDIuMzgsMS4xOSw1LjQ0LjU5LDkuMTYtLjQ1LDIuODgtMS4yNyw1LjQ3LTIuNDYsNy44LTIuMDcsNC4xLTQuODUsNi4xNi04LjM0LDYuMTZoLTguMmw0LjMxLTI3LjA4Wk0zNi4yMyw3Mi44N2MuOTMsMCwxLjcxLS4xMywyLjM1LS4zOSwxLjE0LS40OCwyLjE3LTEuNCwzLjA3LTIuNzYuNzItMS4wOSwxLjMzLTIuNDksMS44NC00LjIuMy0xLjAyLjUzLTEuOTYuNjYtMi44NC41My0zLjM1LjQ1LTUuOTUtLjI2LTcuODFzLTIuMTctMi43OC00LjM5LTIuNzhoLTQuODhsLTMuMywyMC43N2g0LjkxWlxcXCIgZmlsbD1cXFwiI2ZmZlxcXCIvPlxcbiAgICA8L3N5bWJvbD5cXG4gICAgPHN5bWJvbCBpZD1cXFwiYXJhZlxcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbjxwb2x5bGluZSBmaWxsPVxcXCIjMDBhNjUxXFxcIiBzdHJva2U9XFxcIiMwMDBcXFwiIHN0cm9rZS13aWR0aD1cXFwiMVxcXCIgc3Ryb2tlLWxpbmVjYXA9XFxcInJvdW5kXFxcIiBzdHJva2UtbGluZWpvaW49XFxcInJvdW5kXFxcIiBzdHJva2UtbWl0ZXJsaW1pdD1cXFwiMTBcXFwiIHBvaW50cz1cXFwiXFxuICA2Ny44MDIsNjAuNDYyIDc4LjgwMyw5NC4zMiA1MC4wMDEsNjkuODIzIDIxLjE5Niw5NC4zMjIgMzIuMTk5LDYwLjQ2MiAzLjM4NiwzOS41MzEgMzguOTk5LDM5LjUzNCA1MCw1LjY3OCA2MS4wMDIsMzkuNTM2IDk2LjYxNSwzOS41MzkgNjcuODA0LDYwLjQ2MiBcXFwiLz5cXG4gICAgPHBhdGggc3Ryb2tlPVxcXCIjZmZmXFxcIiBmaWxsPVxcXCIjZmZmXFxcIiBzdHJva2Utd2lkdGg9XFxcIjBcXFwiIGQ9XFxcIk01MS4yLDM5LjlMNTAuMyw0NGgtMy42TDQ2LDQ3LjVoMy42TDQ0LjgsNzBoNC4zbDQuOC0yMi42aDQuNGwwLjctMy41aC00LjNjMC42LTIuOCwxLjEtNC42LDEuNS01LjNcXG4gICAgICBjMC40LTAuNywxLjMtMSwyLjYtMWMwLjIsMCwwLjQsMCwwLjYsMGMwLjIsMCwwLjUsMCwxLDAuMWwwLjktNGMtMC40LDAtMC43LTAuMS0xLTAuMWMtMC4zLDAtMC42LDAtMC45LDBjLTIuOSwwLTUuMSwwLjctNi40LDIuMlxcbiAgICAgIEM1Mi4zLDM2LjgsNTEuNywzOC4xLDUxLjIsMzkuOXpcXFwiLz5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcImdhbGZcXFwiIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIj5cXG4gICAgICA8Y2lyY2xlIGN4PVxcXCI1MFxcXCIgY3k9XFxcIjUwXFxcIiBmaWxsPVxcXCIjZmZkNDAwXFxcIiByPVxcXCI0MFxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIxXFxcIiBzdHJva2U9XFxcIiMwMDBcXFwiLz5cXG4gICAgICA8cGF0aCBzdHJva2U9XFxcIiNmZmZcXFwiIGZpbGw9XFxcIiNmZmZcXFwiIHN0cm9rZS13aWR0aD1cXFwiMFxcXCIgZD1cXFwiTTUxLjIsMzkuOUw1MC4zLDQ0aC0zLjZMNDYsNDcuNWgzLjZMNDQuOCw3MGg0LjNsNC44LTIyLjZoNC40bDAuNy0zLjVoLTQuM2MwLjYtMi44LDEuMS00LjYsMS41LTUuM1xcbiAgICAgICAgYzAuNC0wLjcsMS4zLTEsMi42LTFjMC4yLDAsMC40LDAsMC42LDBjMC4yLDAsMC41LDAsMSwwLjFsMC45LTRjLTAuNCwwLTAuNy0wLjEtMS0wLjFjLTAuMywwLTAuNiwwLTAuOSwwYy0yLjksMC01LjEsMC43LTYuNCwyLjJcXG4gICAgICAgIEM1Mi4zLDM2LjgsNTEuNywzOC4xLDUxLjIsMzkuOXpcXFwiLz5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcImQtZ2FsZlxcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxjaXJjbGUgY3g9XFxcIjUwXFxcIiBjeT1cXFwiNTBcXFwiIGZpbGw9XFxcIiNmZmQ0MDBcXFwiIHI9XFxcIjQwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIvPlxcbiAgICAgIDxwYXRoIHN0cm9rZT1cXFwiI2ZmZlxcXCIgZmlsbD1cXFwiI2ZmZlxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIwXFxcIiBkPVxcXCJNNTEuMiwzOS45TDUwLjMsNDRoLTMuNkw0Niw0Ny41aDMuNkw0NC44LDcwaDQuM2w0LjgtMjIuNmg0LjRsMC43LTMuNWgtNC4zYzAuNi0yLjgsMS4xLTQuNiwxLjUtNS4zXFxuICAgICAgICBjMC40LTAuNywxLjMtMSwyLjYtMWMwLjIsMCwwLjQsMCwwLjYsMGMwLjIsMCwwLjUsMCwxLDAuMWwwLjktNGMtMC40LDAtMC43LTAuMS0xLTAuMWMtMC4zLDAtMC42LDAtMC45LDBjLTIuOSwwLTUuMSwwLjctNi40LDIuMlxcbiAgICAgICAgQzUyLjMsMzYuOCw1MS43LDM4LjEsNTEuMiwzOS45elxcXCIvPlxcbiAgICAgIDxwYXRoIGQ9XFxcIk0yNi4zNywzNi45Mmg4LjIzYzIuNzksMCw0Ljc1LDEuMzIsNS44NiwzLjk2LDEsMi4zOCwxLjE5LDUuNDQuNTksOS4xNi0uNDUsMi44OC0xLjI3LDUuNDctMi40Niw3LjgtMi4wNyw0LjEtNC44NSw2LjE2LTguMzQsNi4xNmgtOC4ybDQuMzEtMjcuMDhaTTMwLjIzLDYwLjg3Yy45MywwLDEuNzEtLjEzLDIuMzUtLjM5LDEuMTQtLjQ4LDIuMTctMS40LDMuMDctMi43Ni43Mi0xLjA5LDEuMzMtMi40OSwxLjg0LTQuMi4zLTEuMDIuNTMtMS45Ni42Ni0yLjg0LjUzLTMuMzUuNDUtNS45NS0uMjYtNy44MXMtMi4xNy0yLjc4LTQuMzktMi43OGgtNC44OGwtMy4zLDIwLjc3aDQuOTFaXFxcIiBmaWxsPVxcXCIjZmZmXFxcIi8+XFxuICAgIDwvc3ltYm9sPlxcbiAgICA8c3ltYm9sIGlkPVxcXCJ4eWxcXFwiIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIj5cXG48cG9seWxpbmUgZmlsbD1cXFwiI2Y0NzkyMFxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiIHN0cm9rZS1saW5lY2FwPVxcXCJyb3VuZFxcXCIgc3Ryb2tlLWxpbmVqb2luPVxcXCJyb3VuZFxcXCIgc3Ryb2tlLW1pdGVybGltaXQ9XFxcIjEwXFxcIiBwb2ludHM9XFxcIlxcbiAgNjcuODAyLDYwLjQ2MiA3OC44MDMsOTQuMzIgNTAuMDAxLDY5LjgyMyAyMS4xOTYsOTQuMzIyIDMyLjE5OSw2MC40NjIgMy4zODYsMzkuNTMxIDM4Ljk5OSwzOS41MzQgNTAsNS42NzggNjEuMDAyLDM5LjUzNiA5Ni42MTUsMzkuNTM5IDY3LjgwNCw2MC40NjIgXFxcIi8+XFxuICAgIDwvc3ltYm9sPlxcbiAgICA8c3ltYm9sIGlkPVxcXCJyaWJcXFwiIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIj5cXG48cG9seWxpbmUgZmlsbD1cXFwiI2Y2OWVhMVxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiIHN0cm9rZS1saW5lY2FwPVxcXCJyb3VuZFxcXCIgc3Ryb2tlLWxpbmVqb2luPVxcXCJyb3VuZFxcXCIgc3Ryb2tlLW1pdGVybGltaXQ9XFxcIjEwXFxcIiBwb2ludHM9XFxcIlxcbiAgNjcuODAyLDYwLjQ2MiA3OC44MDMsOTQuMzIgNTAuMDAxLDY5LjgyMyAyMS4xOTYsOTQuMzIyIDMyLjE5OSw2MC40NjIgMy4zODYsMzkuNTMxIDM4Ljk5OSwzOS41MzQgNTAsNS42NzggNjEuMDAyLDM5LjUzNiA5Ni42MTUsMzkuNTM5IDY3LjgwNCw2MC40NjIgXFxcIi8+XFxuICAgIDwvc3ltYm9sPlxcbiAgICA8c3ltYm9sIGlkPVxcXCJyYm9cXFwiIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIj5cXG48cG9seWxpbmUgZmlsbD1cXFwiI2Y2OWVhMVxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiIHN0cm9rZS1saW5lY2FwPVxcXCJyb3VuZFxcXCIgc3Ryb2tlLWxpbmVqb2luPVxcXCJyb3VuZFxcXCIgc3Ryb2tlLW1pdGVybGltaXQ9XFxcIjEwXFxcIiBwb2ludHM9XFxcIlxcbiAgNjcuODAyLDYwLjQ2MiA3OC44MDMsOTQuMzIgNTAuMDAxLDY5LjgyMyAyMS4xOTYsOTQuMzIyIDMyLjE5OSw2MC40NjIgMy4zODYsMzkuNTMxIDM4Ljk5OSwzOS41MzQgNTAsNS42NzggNjEuMDAyLDM5LjUzNiA5Ni42MTUsMzkuNTM5IDY3LjgwNCw2MC40NjIgXFxcIi8+XFxuICAgIDxwYXRoIHN0cm9rZT1cXFwiI2ZmZlxcXCIgZmlsbD1cXFwiI2ZmZlxcXCIgZD1cXFwiTTUyLjcsNDguM2MtMC45LTEuMS0yLjItMS43LTMuOS0xLjdjLTEuOSwwLTMuNSwwLjctNC45LDJjLTEuNCwxLjMtMi4zLDMuMS0yLjgsNS4yXFxuICAgICAgYy0wLjQsMi4xLTAuMiwzLjcsMC41LDQuOWMwLjgsMS4yLDIuMSwxLjgsMy45LDEuOGMyLjIsMCwzLjktMC43LDUuMi0yLjFjMS4zLTEuNCwyLjItMy4xLDIuNi01LjJDNTMuOCw1MS4xLDUzLjYsNDkuNCw1Mi43LDQ4LjNcXG4gICAgICB6IE00OS40LDU3Yy0wLjgsMS4xLTEuOSwxLjctMy40LDEuN2MtMS4zLDAtMi4yLTAuNS0yLjYtMS40Yy0wLjQtMC45LTAuNS0yLjEtMC4yLTMuNWMwLjMtMS40LDAuOS0yLjcsMS43LTMuN1xcbiAgICAgIGMwLjgtMSwxLjktMS41LDMuMy0xLjVjMS41LDAsMi41LDAuNiwyLjgsMS44YzAuMiwwLjgsMC4yLDEuOCwwLDNDNTAuNyw1NC43LDUwLjIsNTUuOSw0OS40LDU3elxcXCIvPlxcbiAgICA8cGF0aCBzdHJva2U9XFxcIiNmZmZcXFwiIGZpbGw9XFxcIiNmZmZcXFwiIGQ9XFxcIk01NC42LDYwLjFoMi4ybDMuOC0xNy45aC0yLjJMNTQuNiw2MC4xelxcXCIvPlxcbiAgICA8L3N5bWJvbD5cXG4gICAgPHN5bWJvbCBpZD1cXFwiaGV4YVxcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxwb2x5bGluZSB0cmFuc2Zvcm09XFxcInJvdGF0ZSg5MCw1MCw1MClcXFwiIGZpbGw9XFxcIiNmZmZcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIxXFxcIiBwb2ludHM9XFxcIjUwLDUgOTUsNTAgNSw1MCA1MCw1XFxcIi8+XFxuICAgICAgPHBvbHlsaW5lIHRyYW5zZm9ybT1cXFwicm90YXRlKDkwLDUwLDUwKVxcXCIgZmlsbD1cXFwiI2ZmZlxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiIHBvaW50cz1cXFwiNTAsOTUgOTUsNTAgNSw1MCA1MCw5NVxcXCIvPlxcbiAgICA8L3N5bWJvbD5cXG4gICAgPHN5bWJvbCBpZD1cXFwiZ2xjYVxcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxwb2x5bGluZSB0cmFuc2Zvcm09XFxcInJvdGF0ZSg5MCw1MCw1MClcXFwiIGZpbGw9XFxcIiMwMDkwYmNcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIxXFxcIiBwb2ludHM9XFxcIjUwLDUgOTUsNTAgNSw1MCA1MCw1XFxcIi8+XFxuICAgICAgPHBvbHlsaW5lIHRyYW5zZm9ybT1cXFwicm90YXRlKDkwLDUwLDUwKVxcXCIgZmlsbD1cXFwiI2ZmZlxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiIHBvaW50cz1cXFwiNTAsOTUgOTUsNTAgNSw1MCA1MCw5NVxcXCIvPlxcbiAgICA8L3N5bWJvbD5cXG4gICAgPHN5bWJvbCBpZD1cXFwiZ2FsYVxcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxwb2x5bGluZSB0cmFuc2Zvcm09XFxcInJvdGF0ZSg5MCw1MCw1MClcXFwiIGZpbGw9XFxcIiNmZmQ0MDBcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIxXFxcIiBwb2ludHM9XFxcIjUwLDUgOTUsNTAgNSw1MCA1MCw1XFxcIi8+XFxuICAgICAgPHBvbHlsaW5lIHRyYW5zZm9ybT1cXFwicm90YXRlKDkwLDUwLDUwKVxcXCIgZmlsbD1cXFwiI2ZmZlxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiIHBvaW50cz1cXFwiNTAsOTUgOTUsNTAgNSw1MCA1MCw5NVxcXCIvPlxcbiAgICA8L3N5bWJvbD5cXG4gICAgPHN5bWJvbCBpZD1cXFwiZ2xjblxcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxwb2x5bGluZSBmaWxsPVxcXCIjMDA5MGJjXFxcIiBzdHJva2U9XFxcIiMwMDBcXFwiIHN0cm9rZS13aWR0aD1cXFwiMVxcXCIgcG9pbnRzPVxcXCIxMCwxMCA5MCwxMCA5MCw5MCAxMCwxMFxcXCIvPlxcbiAgICAgIDxwb2x5bGluZSBmaWxsPVxcXCIjZmZmXFxcIiBzdHJva2U9XFxcIiMwMDBcXFwiIHN0cm9rZS13aWR0aD1cXFwiMVxcXCIgcG9pbnRzPVxcXCIxMCwxMCA5MCw5MCAxMCw5MCAxMCwxMFxcXCIvPlxcbiAgICA8L3N5bWJvbD5cXG4gICAgPHN5bWJvbCBpZD1cXFwiaWRvYVxcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxwb2x5bGluZSB0cmFuc2Zvcm09XFxcInJvdGF0ZSg5MCw1MCw1MClcXFwiIGZpbGw9XFxcIiNmZmZcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIxXFxcIiBwb2ludHM9XFxcIjUwLDUgOTUsNTAgNSw1MCA1MCw1XFxcIi8+XFxuICAgICAgPHBvbHlsaW5lIHRyYW5zZm9ybT1cXFwicm90YXRlKDkwLDUwLDUwKVxcXCIgZmlsbD1cXFwiI2ExN2E0ZFxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiIHBvaW50cz1cXFwiNTAsOTUgOTUsNTAgNSw1MCA1MCw5NVxcXCIvPlxcbiAgICA8L3N5bWJvbD5cXG4gICAgPHN5bWJvbCBpZD1cXFwiY2VyXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCI+XFxuICAgICAgPHBhdGggZmlsbD1cXFwiI2ZmZlxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjRcXFwiIHN0cm9rZS1saW5lY2FwPVxcXCJyb3VuZFxcXCIgZD1cXFwiTTM1LjgsMTUgNjQuMiwxNSA3NS41LDI3LjIgNjQuMiwzOC4zIDc1LjUsNTAgNjQuMiw2MS4xIDc1LjUsNzIgNjQuMiw4MyA3NS41LDk0IEw3NS41LDExMCBMMzUuOCwxMTBcXFwiLz5cXG4gICAgICA8cGF0aCBmaWxsPVxcXCIjZmZmXFxcIiBzdHJva2U9XFxcIiM5OTlcXFwiIHN0cm9rZS13aWR0aD1cXFwiNFxcXCIgc3Ryb2tlLWxpbmVjYXA9XFxcInJvdW5kXFxcIiAgZD1cXFwiTTM1LjgsMTUgMjQuNSwyNy4yIDM1LjgsMzguMyAyNC41LDUwIDM1LjgsNjEuMSAyNC41LDcyIDM1LjgsODMgMjQuNSw5NFxcXCIvPlxcbiAgICA8L3N5bWJvbD5cXG4gICAgPCEtLVxcbiAgICA8c3ltYm9sIGlkPVxcXCJtYW4oYTEtMiltYW5cXFwiIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIj5cXG4gICAgICA8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIiB4PVxcXCIwXFxcIiB5PVxcXCIwXFxcIiB3aWR0aD1cXFwiMTAwXFxcIiBoZWlnaHQ9XFxcIjUwXFxcIj5cXG4gICAgICAgIDxjaXJjbGUgY3g9XFxcIjUwXFxcIiBjeT1cXFwiNTBcXFwiIGZpbGw9XFxcIiMwMGE2NTFcXFwiIHI9XFxcIjQwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIvPlxcbiAgICAgIDwvc3ZnPlxcbiAgICAgIDxzdmcgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiIHg9XFxcIjBcXFwiIHk9XFxcIjUwXFxcIiB3aWR0aD1cXFwiMTAwXFxcIiBoZWlnaHQ9XFxcIjUwXFxcIj5cXG4gICAgICAgIDxjaXJjbGUgY3g9XFxcIjUwXFxcIiBjeT1cXFwiNTBcXFwiIGZpbGw9XFxcIiMwMGE2NTFcXFwiIHI9XFxcIjQwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIvPlxcbiAgICAgIDwvc3ZnPlxcbiAgICA8L3N5bWJvbD5cXG4gICAgPHN5bWJvbCBpZD1cXFwibmV1YWMoYTItMylnYWwoYjEtMylnYWxuYWNcXFwiIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIj5cXG4gICAgICA8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIiB4PVxcXCIwXFxcIiB5PVxcXCIwXFxcIiB3aWR0aD1cXFwiMTAwXFxcIiBoZWlnaHQ9XFxcIjMzXFxcIj5cXG4gICAgICAgIDxyZWN0IHg9XFxcIjE3XFxcIiB5PVxcXCIxN1xcXCIgdHJhbnNmb3JtPVxcXCJyb3RhdGUoNDUsNTAsNTApXFxcIiBmaWxsPVxcXCIjYTU0Mzk5XFxcIiBzdHJva2U9XFxcIiMwMDBcXFwiIHN0cm9rZS13aWR0aD1cXFwiMVxcXCIgd2lkdGg9XFxcIjY2XFxcIiBoZWlnaHQ9XFxcIjY2XFxcIi8+XFxuICAgICAgPC9zdmc+XFxuICAgICAgPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCIgeD1cXFwiMFxcXCIgeT1cXFwiMzNcXFwiIHdpZHRoPVxcXCIxMDBcXFwiIGhlaWdodD1cXFwiMzNcXFwiPlxcbiAgICAgICAgPGNpcmNsZSBjeD1cXFwiNTBcXFwiIGN5PVxcXCI1MFxcXCIgZmlsbD1cXFwiI2ZmZDQwMFxcXCIgcj1cXFwiNDBcXFwiIHN0cm9rZS13aWR0aD1cXFwiMVxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIi8+XFxuICAgICAgPC9zdmc+XFxuICAgICAgPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCIgeD1cXFwiMFxcXCIgeT1cXFwiNjZcXFwiIHdpZHRoPVxcXCIxMDBcXFwiIGhlaWdodD1cXFwiMzNcXFwiPlxcbiAgICAgICAgPHJlY3QgeD1cXFwiMTBcXFwiIHk9XFxcIjEwXFxcIiB3aWR0aD1cXFwiODBcXFwiIGhlaWdodD1cXFwiODBcXFwiIGZpbGw9XFxcIiNmZmQ0MDBcXFwiIHN0cm9rZS13aWR0aD1cXFwiMVxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIi8+XFxuICAgICAgPC9zdmc+XFxuICAgIDwvc3ltYm9sPlxcbiAgICA8c3ltYm9sIGlkPVxcXCJnYWwoYjEtMylnYWxuYWNcXFwiIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIj5cXG4gICAgICA8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIiB4PVxcXCIwXFxcIiB5PVxcXCIwXFxcIiB3aWR0aD1cXFwiMTAwXFxcIiBoZWlnaHQ9XFxcIjUwXFxcIj5cXG4gICAgICAgIDxjaXJjbGUgY3g9XFxcIjUwXFxcIiBjeT1cXFwiNTBcXFwiIGZpbGw9XFxcIiNmZmQ0MDBcXFwiIHI9XFxcIjQwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIvPlxcbiAgICAgIDwvc3ZnPlxcbiAgICAgIDxzdmcgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiIHg9XFxcIjBcXFwiIHk9XFxcIjUwXFxcIiB3aWR0aD1cXFwiMTAwXFxcIiBoZWlnaHQ9XFxcIjUwXFxcIj5cXG4gICAgICAgIDxyZWN0IHg9XFxcIjEwXFxcIiB5PVxcXCIxMFxcXCIgd2lkdGg9XFxcIjgwXFxcIiBoZWlnaHQ9XFxcIjgwXFxcIiBmaWxsPVxcXCIjZmZkNDAwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIvPlxcbiAgICAgIDwvc3ZnPlxcbiAgICA8L3N5bWJvbD5cXG4gICAgPHN5bWJvbCBpZD1cXFwiZ2xjbmFjKGIxLTQpZ2xjbmFjXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCI+XFxuICAgICAgPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCIgeD1cXFwiMFxcXCIgeT1cXFwiMFxcXCIgd2lkdGg9XFxcIjEwMFxcXCIgaGVpZ2h0PVxcXCI1MFxcXCI+XFxuICAgICAgICA8cmVjdCB4PVxcXCIxMFxcXCIgeT1cXFwiMTBcXFwiIHdpZHRoPVxcXCI4MFxcXCIgaGVpZ2h0PVxcXCI4MFxcXCIgZmlsbD1cXFwiIzAwOTBiY1xcXCIgc3Ryb2tlLXdpZHRoPVxcXCIxXFxcIiBzdHJva2U9XFxcIiMwMDBcXFwiLz5cXG4gICAgICA8L3N2Zz5cXG4gICAgICA8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIiB4PVxcXCIwXFxcIiB5PVxcXCI1MFxcXCIgd2lkdGg9XFxcIjEwMFxcXCIgaGVpZ2h0PVxcXCI1MFxcXCI+XFxuICAgICAgICA8cmVjdCB4PVxcXCIxMFxcXCIgeT1cXFwiMTBcXFwiIHdpZHRoPVxcXCI4MFxcXCIgaGVpZ2h0PVxcXCI4MFxcXCIgZmlsbD1cXFwiIzAwOTBiY1xcXCIgc3Ryb2tlLXdpZHRoPVxcXCIxXFxcIiBzdHJva2U9XFxcIiMwMDBcXFwiLz5cXG4gICAgICA8L3N2Zz5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcIm1hbihhMS0zKVttYW4oYTEtNildbWFuKGIxLTQpZ2xjbmFjKGIxLTQpZ2xjbmFjXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCI+XFxuICAgICAgPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCIgeD1cXFwiNTBcXFwiIHk9XFxcIjBcXFwiIHdpZHRoPVxcXCIyNVxcXCIgaGVpZ2h0PVxcXCIyNVxcXCI+XFxuICAgICAgICA8Y2lyY2xlIGN4PVxcXCI1MFxcXCIgY3k9XFxcIjUwXFxcIiBmaWxsPVxcXCIjMDBhNjUxXFxcIiByPVxcXCI0MFxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIxXFxcIiBzdHJva2U9XFxcIiMwMDBcXFwiLz5cXG4gICAgICA8L3N2Zz5cXG4gICAgICA8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIiB4PVxcXCIyNVxcXCIgeT1cXFwiMFxcXCIgd2lkdGg9XFxcIjI1XFxcIiBoZWlnaHQ9XFxcIjI1XFxcIj5cXG4gICAgICAgIDxjaXJjbGUgY3g9XFxcIjUwXFxcIiBjeT1cXFwiNTBcXFwiIGZpbGw9XFxcIiMwMGE2NTFcXFwiIHI9XFxcIjQwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIvPlxcbiAgICAgIDwvc3ZnPlxcbiAgICAgIDxzdmcgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiIHg9XFxcIjM3LjVcXFwiIHk9XFxcIjI1XFxcIiB3aWR0aD1cXFwiMjVcXFwiIGhlaWdodD1cXFwiMjVcXFwiPlxcbiAgICAgICAgPGNpcmNsZSBjeD1cXFwiNTBcXFwiIGN5PVxcXCI1MFxcXCIgZmlsbD1cXFwiIzAwYTY1MVxcXCIgcj1cXFwiNDBcXFwiIHN0cm9rZS13aWR0aD1cXFwiMVxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIi8+XFxuICAgICAgPC9zdmc+XFxuICAgICAgPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCIgeD1cXFwiMzcuNVxcXCIgeT1cXFwiNTBcXFwiIHdpZHRoPVxcXCIyNVxcXCIgaGVpZ2h0PVxcXCIyNVxcXCI+XFxuICAgICAgICA8cmVjdCB4PVxcXCIxMFxcXCIgeT1cXFwiMTBcXFwiIHdpZHRoPVxcXCI4MFxcXCIgaGVpZ2h0PVxcXCI4MFxcXCIgZmlsbD1cXFwiIzAwOTBiY1xcXCIgc3Ryb2tlLXdpZHRoPVxcXCIxXFxcIiBzdHJva2U9XFxcIiMwMDBcXFwiLz5cXG4gICAgICA8L3N2Zz5cXG4gICAgICA8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIiB4PVxcXCIzNy41XFxcIiB5PVxcXCI3NVxcXCIgd2lkdGg9XFxcIjI1XFxcIiBoZWlnaHQ9XFxcIjI1XFxcIj5cXG4gICAgICAgIDxyZWN0IHg9XFxcIjEwXFxcIiB5PVxcXCIxMFxcXCIgd2lkdGg9XFxcIjgwXFxcIiBoZWlnaHQ9XFxcIjgwXFxcIiBmaWxsPVxcXCIjMDA5MGJjXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIvPlxcbiAgICAgIDwvc3ZnPlxcbiAgICA8L3N5bWJvbD5cXG4gICAgPHN5bWJvbCBpZD1cXFwiZ2xjbmFjKGIxLTQpZ2xjbmFjLnBvdGVudGlhbFxcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxzdmcgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiIHg9XFxcIjBcXFwiIHk9XFxcIjBcXFwiIHdpZHRoPVxcXCIxMDBcXFwiIGhlaWdodD1cXFwiNTBcXFwiPlxcbiAgICAgICAgPHJlY3QgeD1cXFwiMTBcXFwiIHk9XFxcIjEwXFxcIiB3aWR0aD1cXFwiODBcXFwiIGhlaWdodD1cXFwiODBcXFwiIGZpbGw9XFxcIiM2N2EyZmNcXFwiIHN0cm9rZS13aWR0aD1cXFwiMFxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIi8+XFxuICAgICAgPC9zdmc+XFxuICAgICAgPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCIgeD1cXFwiMFxcXCIgeT1cXFwiNTBcXFwiIHdpZHRoPVxcXCIxMDBcXFwiIGhlaWdodD1cXFwiNTBcXFwiPlxcbiAgICAgICAgPHJlY3QgeD1cXFwiMTBcXFwiIHk9XFxcIjEwXFxcIiB3aWR0aD1cXFwiODBcXFwiIGhlaWdodD1cXFwiODBcXFwiIGZpbGw9XFxcIiM2N2EyZmNcXFwiIHN0cm9rZS13aWR0aD1cXFwiMFxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIi8+XFxuICAgICAgPC9zdmc+XFxuICAgIDwvc3ltYm9sPlxcbiAgICAtLT5cXG4gICAgPHN5bWJvbCBpZD1cXFwicGhvc3Bob1xcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxjaXJjbGUgY3g9XFxcIjUwXFxcIiBjeT1cXFwiNTBcXFwiIGZpbGw9XFxcIiNmZmZcXFwiIHI9XFxcIjQ4XFxcIiBzdHJva2Utd2lkdGg9XFxcIjNcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIvPlxcbiAgICAgIDx0ZXh0IHg9XFxcIjUwXFxcIiB5PVxcXCI1MFxcXCIgdGV4dC1hbmNob3I9XFxcIm1pZGRsZVxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjJcXFwiIGR5PVxcXCIuMzVlbVxcXCIgZHg9XFxcIjAuMDVlbVxcXCIgZm9udC1zaXplPVxcXCI1MFxcXCI+UDwvdGV4dD5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcImhzbzNcXFwiIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIj5cXG4gICAgICA8Y2lyY2xlIGN4PVxcXCI1MFxcXCIgY3k9XFxcIjUwXFxcIiBmaWxsPVxcXCIjZmRiYmJiXFxcIiByPVxcXCIzNVxcXCIgc3Ryb2tlLXdpZHRoPVxcXCI0XFxcIiBzdHJva2U9XFxcIiNhYTMwMzBcXFwiLz5cXG4gICAgICA8cGF0aCBmaWxsPVxcXCIjYWEzMDMwXFxcIiBzdHJva2U9XFxcIm5vbmVcXFwiIHN0cm9rZS13aWR0aD1cXFwiMlxcXCIgZD1cXFwiTTM4LjgsNjIuNGMxLjIsMS45LDMsMy4zLDUuMiw0LjNjMi4yLDAuOSw0LjksMS40LDguMSwxLjRjMi42LDAsNC45LTAuNSw2LjktMS40YzItMC45LDMuNi0yLjIsNC43LTMuOVxcbiAgICAgICAgYzEuMS0xLjcsMS42LTMuNSwxLjYtNS40YzAtMS45LTAuNS0zLjYtMS41LTUuMWMtMS0xLjUtMi41LTIuNy00LjYtMy42Yy0xLjQtMC43LTQuMS0xLjQtNy45LTIuM2MtMy44LTAuOS02LjItMS43LTcuMS0yLjZcXG4gICAgICAgIGMtMC45LTAuOC0xLjQtMS45LTEuNC0zLjJjMC0xLjUsMC43LTIuNywyLTMuOGMxLjMtMSwzLjQtMS42LDYuMy0xLjZjMi44LDAsNC44LDAuNiw2LjIsMS43YzEuNCwxLjIsMi4yLDIuOSwyLjUsNS4xbDQuNS0wLjNcXG4gICAgICAgIGMtMC4xLTIuMS0wLjctNC0xLjgtNS42Yy0xLjEtMS43LTIuNi0yLjktNC43LTMuOHMtNC40LTEuMy03LTEuM2MtMi40LDAtNC42LDAuNC02LjYsMS4yYy0yLDAuOC0zLjUsMi00LjUsMy42XFxuICAgICAgICBjLTEsMS42LTEuNSwzLjMtMS41LDUuMWMwLDEuNiwwLjQsMy4xLDEuMyw0LjVjMC44LDEuMywyLjEsMi40LDMuOCwzLjNjMS4zLDAuNywzLjYsMS40LDYuOSwyLjJjMy4zLDAuOCw1LjQsMS40LDYuNCwxLjdcXG4gICAgICAgIGMxLjUsMC42LDIuNiwxLjMsMy4yLDIuMWMwLjcsMC44LDEsMS44LDEsMi45YzAsMS4xLTAuMywyLjEtMSwzLjFjLTAuNywwLjktMS43LDEuNy0zLjEsMi4yYy0xLjQsMC41LTMsMC44LTQuOCwwLjhcXG4gICAgICAgIGMtMiwwLTMuOS0wLjQtNS41LTEuMWMtMS42LTAuNy0yLjgtMS42LTMuNi0yLjhjLTAuOC0xLjEtMS4zLTIuNi0xLjUtNC40TDM2LjgsNTZDMzYuOSw1OC40LDM3LjUsNjAuNSwzOC44LDYyLjR6XFxcIi8+XFxuICAgIDwvc3ltYm9sPlxcbiAgICA8c3ltYm9sIGlkPVxcXCJoc28zLjJcXFwiIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIj5cXG4gICAgICA8Y2lyY2xlIGN4PVxcXCI1MFxcXCIgY3k9XFxcIjUwXFxcIiBmaWxsPVxcXCIjZmRiYmJiXFxcIiByPVxcXCIzNVxcXCIgc3Ryb2tlLXdpZHRoPVxcXCI0XFxcIiBzdHJva2U9XFxcIiNhYTMwMzBcXFwiLz5cXG4gICAgICA8cGF0aCBmaWxsPVxcXCIjYWEzMDMwXFxcIiBzdHJva2U9XFxcIm5vbmVcXFwiIHN0cm9rZS13aWR0aD1cXFwiMlxcXCIgZD1cXFwiTTM2LjksNTguMWMwLjMtMC41LDAuNy0xLDEuMS0xLjRzMS41LTEuNCwzLTIuN2MxLjktMS42LDMuMi0yLjksNC4xLTMuOHMxLjQtMS44LDEuOC0yLjZzMC41LTEuNywwLjUtMi41XFxuICAgICAgICBjMC0xLjctMC42LTMuMS0xLjgtNC4yUzQyLjgsMzksNDAuNywzOWMtMiwwLTMuNywwLjUtNC45LDEuNnMtMS45LDIuNi0yLjEsNC42bDIuNywwLjNjMC0xLjMsMC40LTIuNCwxLjItMy4yczEuOC0xLjEsMy0xLjFcXG4gICAgICAgIGMxLjIsMCwyLjIsMC40LDIuOSwxLjFzMS4xLDEuNiwxLjEsMi42YzAsMS0wLjQsMi4xLTEuMiwzLjJzLTIuNCwyLjYtNC43LDQuNWMtMS41LDEuMi0yLjcsMi4zLTMuNSwzLjNzLTEuNCwxLjktMS43LDIuOVxcbiAgICAgICAgYy0wLjIsMC42LTAuMywxLjItMC4zLDEuOGgxNC4ydi0yLjVIMzYuOXpcXFwiLz5cXG4gICAgICA8cGF0aCBmaWxsPVxcXCIjYWEzMDMwXFxcIiBzdHJva2U9XFxcIm5vbmVcXFwiIHN0cm9rZS13aWR0aD1cXFwiMlxcXCIgZD1cXFwiTTUxLjUsNTcuNmMwLjcsMS4xLDEuOCwyLDMuMSwyLjZzMi45LDAuOCw0LjksMC44YzEuNSwwLDIuOS0wLjMsNC4xLTAuOHMyLjItMS4zLDIuOC0yLjRzMS0yLjEsMS0zLjJcXG4gICAgICAgIGMwLTEuMi0wLjMtMi4yLTAuOS0zLjFzLTEuNS0xLjYtMi44LTIuMmMtMC45LTAuNC0yLjQtMC44LTQuOC0xLjRzLTMuNy0xLTQuMy0xLjVjLTAuNi0wLjUtMC44LTEuMS0wLjgtMS45XFxuICAgICAgICBjMC0wLjksMC40LTEuNiwxLjItMi4zczItMC45LDMuOC0wLjljMS43LDAsMi45LDAuMywzLjcsMXMxLjMsMS43LDEuNSwzLjFsMi43LTAuMmMwLTEuMy0wLjQtMi40LTEuMS0zLjRTNjQuMiw0MCw2MywzOS41XFxuICAgICAgICBzLTIuNi0wLjgtNC4yLTAuOGMtMS40LDAtMi44LDAuMi0zLjksMC43cy0yLjEsMS4yLTIuNywyLjFzLTAuOSwyLTAuOSwzYzAsMSwwLjMsMS45LDAuOCwyLjdzMS4zLDEuNSwyLjMsMlxcbiAgICAgICAgYzAuOCwwLjQsMi4yLDAuOSw0LjEsMS4zczMuMiwwLjgsMy44LDFjMC45LDAuMywxLjUsMC44LDEuOSwxLjNzMC42LDEuMSwwLjYsMS44YzAsMC43LTAuMiwxLjMtMC42LDEuOHMtMSwxLTEuOSwxLjNcXG4gICAgICAgIHMtMS44LDAuNS0yLjksMC41Yy0xLjIsMC0yLjMtMC4yLTMuMy0wLjZzLTEuNy0xLTIuMi0xLjdzLTAuOC0xLjYtMC45LTIuNmwtMi43LDAuMkM1MC40LDU1LjEsNTAuOCw1Ni40LDUxLjUsNTcuNnpcXFwiLz5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcImhzbzMuM1xcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxjaXJjbGUgY3g9XFxcIjUwXFxcIiBjeT1cXFwiNTBcXFwiIGZpbGw9XFxcIiNmZGJiYmJcXFwiIHI9XFxcIjM1XFxcIiBzdHJva2Utd2lkdGg9XFxcIjRcXFwiIHN0cm9rZT1cXFwiI2FhMzAzMFxcXCIvPlxcbiAgICAgIDxwYXRoIGZpbGw9XFxcIiNhYTMwMzBcXFwiIHN0cm9rZT1cXFwibm9uZVxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIyXFxcIiBkPVxcXCJNMzUuNyw1OS4zYzEuMiwxLjEsMi44LDEuNyw0LjcsMS43YzIuMSwwLDMuOC0wLjcsNS4yLTJzMi4xLTIuOSwyLjEtNC44YzAtMS40LTAuNC0yLjUtMS4xLTMuNVxcbiAgICAgICAgcy0xLjctMS41LTMtMS44YzEtMC40LDEuNy0xLjEsMi4yLTEuOHMwLjctMS42LDAuNy0yLjVjMC0xLTAuMy0xLjktMC44LTIuOHMtMS4zLTEuNi0yLjMtMi4xUzQxLjUsMzksNDAuMywzOVxcbiAgICAgICAgYy0xLjcsMC0zLjEsMC41LTQuMywxLjVzLTEuOSwyLjMtMi4yLDQuMWwyLjYsMC41YzAuMi0xLjMsMC42LTIuMywxLjMtMi45czEuNS0xLDIuNi0xYzEsMCwxLjksMC4zLDIuNSwxczEsMS40LDEsMi40XFxuICAgICAgICBjMCwxLjItMC40LDIuMS0xLjMsMi43cy0xLjksMC45LTMsMC45Yy0wLjEsMC0wLjIsMC0wLjQsMGwtMC4zLDIuM2MwLjctMC4yLDEuNC0wLjMsMS45LTAuM2MxLjIsMCwyLjIsMC40LDMsMS4yczEuMiwxLjgsMS4yLDNcXG4gICAgICAgIGMwLDEuMy0wLjQsMi4zLTEuMywzLjJzLTEuOSwxLjMtMy4xLDEuM2MtMSwwLTEuOS0wLjMtMi43LTFzLTEuMi0xLjctMS41LTMuMmwtMi42LDAuNEMzMy44LDU2LjcsMzQuNSw1OC4yLDM1LjcsNTkuM3pcXFwiLz5cXG4gICAgICA8cGF0aCBmaWxsPVxcXCIjYWEzMDMwXFxcIiBzdHJva2U9XFxcIm5vbmVcXFwiIHN0cm9rZS13aWR0aD1cXFwiMlxcXCIgZD1cXFwiTTUxLjUsNTcuNmMwLjcsMS4xLDEuOCwyLDMuMSwyLjZzMi45LDAuOCw0LjksMC44YzEuNSwwLDIuOS0wLjMsNC4xLTAuOHMyLjItMS4zLDIuOC0yLjRzMS0yLjEsMS0zLjJcXG4gICAgICAgIGMwLTEuMi0wLjMtMi4yLTAuOS0zLjFzLTEuNS0xLjYtMi44LTIuMmMtMC45LTAuNC0yLjQtMC44LTQuOC0xLjRzLTMuNy0xLTQuMy0xLjVjLTAuNi0wLjUtMC44LTEuMS0wLjgtMS45XFxuICAgICAgICBjMC0wLjksMC40LTEuNiwxLjItMi4zczItMC45LDMuOC0wLjljMS43LDAsMi45LDAuMywzLjcsMXMxLjMsMS43LDEuNSwzLjFsMi43LTAuMmMwLTEuMy0wLjQtMi40LTEuMS0zLjRTNjQuMiw0MCw2MywzOS41XFxuICAgICAgICBzLTIuNi0wLjgtNC4yLTAuOGMtMS40LDAtMi44LDAuMi0zLjksMC43cy0yLjEsMS4yLTIuNywyLjFzLTAuOSwyLTAuOSwzYzAsMSwwLjMsMS45LDAuOCwyLjdzMS4zLDEuNSwyLjMsMlxcbiAgICAgICAgYzAuOCwwLjQsMi4yLDAuOSw0LjEsMS4zczMuMiwwLjgsMy44LDFjMC45LDAuMywxLjUsMC44LDEuOSwxLjNzMC42LDEuMSwwLjYsMS44YzAsMC43LTAuMiwxLjMtMC42LDEuOHMtMSwxLTEuOSwxLjNcXG4gICAgICAgIHMtMS44LDAuNS0yLjksMC41Yy0xLjIsMC0yLjMtMC4yLTMuMy0wLjZzLTEuNy0xLTIuMi0xLjdzLTAuOC0xLjYtMC45LTIuNmwtMi43LDAuMkM1MC40LDU1LjEsNTAuOCw1Ni40LDUxLjUsNTcuNnpcXFwiLz5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcImhzbzMuNFxcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxjaXJjbGUgY3g9XFxcIjUwXFxcIiBjeT1cXFwiNTBcXFwiIGZpbGw9XFxcIiNmZGJiYmJcXFwiIHI9XFxcIjM1XFxcIiBzdHJva2Utd2lkdGg9XFxcIjRcXFwiIHN0cm9rZT1cXFwiI2FhMzAzMFxcXCIvPlxcbiAgICAgIDxwYXRoIGZpbGw9XFxcIiNhYTMwMzBcXFwiIHN0cm9rZT1cXFwibm9uZVxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIyXFxcIiBkPVxcXCJNNDQuNiw2MC42di01LjFoMi45VjUzaC0yLjlWMzkuMWgtMi4yTDMyLjcsNTN2Mi40SDQydjUuMUg0NC42eiBNMzUuMyw1M2w2LjctOS43VjUzSDM1LjN6XFxcIi8+XFxuICAgICAgPHBhdGggZmlsbD1cXFwiI2FhMzAzMFxcXCIgc3Ryb2tlPVxcXCJub25lXFxcIiBzdHJva2Utd2lkdGg9XFxcIjJcXFwiIGQ9XFxcIk01MS41LDU3LjVjMC43LDEuMSwxLjgsMiwzLjEsMi42czIuOSwwLjgsNC45LDAuOGMxLjUsMCwyLjktMC4zLDQuMS0wLjhjMS4yLTAuNiwyLjItMS4zLDIuOC0yLjRcXG4gICAgICAgIHMxLTIuMSwxLTMuMmMwLTEuMi0wLjMtMi4yLTAuOS0zLjFzLTEuNS0xLjYtMi44LTIuMmMtMC45LTAuNC0yLjQtMC44LTQuOC0xLjRjLTIuMy0wLjUtMy43LTEtNC4zLTEuNWMtMC42LTAuNS0wLjgtMS4xLTAuOC0xLjlcXG4gICAgICAgIGMwLTAuOSwwLjQtMS42LDEuMi0yLjNzMi0wLjksMy44LTAuOWMxLjcsMCwyLjksMC4zLDMuNywxczEuMywxLjcsMS41LDMuMWwyLjctMC4yYzAtMS4zLTAuNC0yLjQtMS4xLTMuNHMtMS42LTEuOC0yLjgtMi4zXFxuICAgICAgICBzLTIuNi0wLjgtNC4yLTAuOGMtMS40LDAtMi44LDAuMi0zLjksMC43cy0yLjEsMS4yLTIuNywyLjFzLTAuOSwyLTAuOSwzYzAsMSwwLjMsMS45LDAuOCwyLjdzMS4zLDEuNSwyLjMsMlxcbiAgICAgICAgYzAuOCwwLjQsMi4yLDAuOSw0LjEsMS4zczMuMiwwLjgsMy44LDFjMC45LDAuMywxLjUsMC44LDEuOSwxLjNzMC42LDEuMSwwLjYsMS44YzAsMC43LTAuMiwxLjMtMC42LDEuOHMtMSwxLTEuOSwxLjNcXG4gICAgICAgIHMtMS44LDAuNS0yLjksMC41Yy0xLjIsMC0yLjMtMC4yLTMuMy0wLjZzLTEuNy0xLTIuMi0xLjdzLTAuOC0xLjYtMC45LTIuNmwtMi43LDAuMkM1MC40LDU1LjEsNTAuOCw1Ni40LDUxLjUsNTcuNXpcXFwiLz5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcImhzbzMuNlxcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxjaXJjbGUgY3g9XFxcIjUwXFxcIiBjeT1cXFwiNTBcXFwiIGZpbGw9XFxcIiNmZGJiYmJcXFwiIHI9XFxcIjM1XFxcIiBzdHJva2Utd2lkdGg9XFxcIjRcXFwiIHN0cm9rZT1cXFwiI2FhMzAzMFxcXCIvPlxcbiAgICAgIDxwYXRoIGZpbGw9XFxcIiNhYTMwMzBcXFwiIHN0cm9rZT1cXFwibm9uZVxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIyXFxcIiBkPVxcXCJNNDUuNCw0MC40Yy0xLjEtMC45LTIuNS0xLjQtNC4yLTEuNGMtMi4zLDAtNC4xLDAuOC01LjQsMi41Yy0xLjUsMS45LTIuMyw0LjktMi4zLDkuMWMwLDMuNywwLjcsNi40LDIuMSw4XFxuICAgICAgICBzMy4yLDIuNCw1LjQsMi40YzEuMywwLDIuNC0wLjMsMy41LTAuOXMxLjgtMS41LDIuNC0yLjdzMC45LTIuNCwwLjktMy44YzAtMi4xLTAuNi0zLjctMS45LTVzLTIuNy0xLjktNC41LTEuOVxcbiAgICAgICAgYy0xLDAtMiwwLjItMi45LDAuN3MtMS43LDEuMi0yLjMsMi4yYzAtMi4xLDAuMy0zLjgsMC43LTVzMS4xLTIsMi0yLjdjMC42LTAuNSwxLjQtMC43LDIuMi0wLjdjMSwwLDEuOSwwLjQsMi42LDEuMVxcbiAgICAgICAgYzAuNCwwLjUsMC44LDEuMiwxLDIuM2wyLjYtMC4yQzQ3LjEsNDIuNyw0Ni41LDQxLjQsNDUuNCw0MC40eiBNMzcuOCw1MC4yYzAuOC0wLjksMS44LTEuMywzLTEuM2MxLjIsMCwyLjIsMC40LDMsMS4zXFxuICAgICAgICBzMS4yLDIsMS4yLDMuNWMwLDEuNS0wLjQsMi44LTEuMiwzLjdzLTEuOCwxLjMtMi45LDEuM2MtMC44LDAtMS41LTAuMi0yLjItMC43cy0xLjItMS4xLTEuNi0xLjlzLTAuNi0xLjctMC42LTIuNlxcbiAgICAgICAgQzM2LjUsNTIuMiwzNyw1MS4xLDM3LjgsNTAuMnpcXFwiLz5cXG4gICAgICA8cGF0aCBmaWxsPVxcXCIjYWEzMDMwXFxcIiBzdHJva2U9XFxcIm5vbmVcXFwiIHN0cm9rZS13aWR0aD1cXFwiMlxcXCIgZD1cXFwiTTUxLjYsNTcuNWMwLjcsMS4xLDEuOCwyLDMuMSwyLjZzMi45LDAuOCw0LjksMC44YzEuNSwwLDIuOS0wLjMsNC4xLTAuOGMxLjItMC42LDIuMi0xLjMsMi44LTIuNFxcbiAgICAgICAgczEtMi4xLDEtMy4yYzAtMS4yLTAuMy0yLjItMC45LTMuMXMtMS41LTEuNi0yLjgtMi4yYy0wLjktMC40LTIuNC0wLjgtNC44LTEuNHMtMy43LTEtNC4zLTEuNWMtMC42LTAuNS0wLjgtMS4xLTAuOC0xLjlcXG4gICAgICAgIGMwLTAuOSwwLjQtMS42LDEuMi0yLjNzMi0wLjksMy44LTAuOWMxLjcsMCwyLjksMC4zLDMuNywxczEuMywxLjcsMS41LDMuMWwyLjctMC4yYzAtMS4zLTAuNC0yLjQtMS4xLTMuNFM2NC4yLDQwLDYzLDM5LjVcXG4gICAgICAgIGMtMS4yLTAuNS0yLjYtMC44LTQuMi0wLjhjLTEuNCwwLTIuOCwwLjItMy45LDAuN3MtMi4xLDEuMi0yLjcsMi4xcy0wLjksMi0wLjksM2MwLDEsMC4zLDEuOSwwLjgsMi43czEuMywxLjUsMi4zLDJcXG4gICAgICAgIGMwLjgsMC40LDIuMiwwLjksNC4xLDEuM3MzLjIsMC44LDMuOCwxYzAuOSwwLjMsMS41LDAuOCwxLjksMS4zYzAuNCwwLjUsMC42LDEuMSwwLjYsMS44YzAsMC43LTAuMiwxLjMtMC42LDEuOFxcbiAgICAgICAgYy0wLjQsMC42LTEsMS0xLjksMS4zcy0xLjgsMC41LTIuOSwwLjVjLTEuMiwwLTIuMy0wLjItMy4zLTAuNnMtMS43LTEtMi4yLTEuN3MtMC44LTEuNi0wLjktMi42bC0yLjcsMC4yXFxuICAgICAgICBDNTAuNSw1NS4xLDUwLjksNTYuNCw1MS42LDU3LjV6XFxcIi8+XFxuICAgIDwvc3ltYm9sPlxcbiAgICA8c3ltYm9sIGlkPVxcXCJoc28zLk5cXFwiIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIj5cXG4gICAgICA8Y2lyY2xlIGN4PVxcXCI1MFxcXCIgY3k9XFxcIjUwXFxcIiBmaWxsPVxcXCIjZmRiYmJiXFxcIiByPVxcXCIzNVxcXCIgc3Ryb2tlLXdpZHRoPVxcXCI0XFxcIiBzdHJva2U9XFxcIiNhYTMwMzBcXFwiLz5cXG4gICAgICA8cGF0aCBmaWxsPVxcXCIjYWEzMDMwXFxcIiBzdHJva2U9XFxcIm5vbmVcXFwiIHN0cm9rZS13aWR0aD1cXFwiMlxcXCIgZD1cXFwiTTM0LjksNjAuNlY0My43bDExLjMsMTYuOUg0OVYzOS4xaC0yLjd2MTYuOUwzNSwzOS4xaC0yLjl2MjEuNUgzNC45elxcXCIvPlxcbiAgICAgIDxwYXRoIGZpbGw9XFxcIiNhYTMwMzBcXFwiIHN0cm9rZT1cXFwibm9uZVxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIyXFxcIiBkPVxcXCJNNTQsNTcuNWMwLjcsMS4xLDEuOCwyLDMuMSwyLjZzMi45LDAuOCw0LjksMC44YzEuNSwwLDIuOS0wLjMsNC4xLTAuOHMyLjItMS4zLDIuOC0yLjRzMS0yLjEsMS0zLjJcXG4gICAgICAgIGMwLTEuMi0wLjMtMi4yLTAuOS0zLjFzLTEuNS0xLjYtMi44LTIuMmMtMC45LTAuNC0yLjQtMC44LTQuOC0xLjRzLTMuNy0xLTQuMy0xLjVjLTAuNi0wLjUtMC44LTEuMS0wLjgtMS45XFxuICAgICAgICBjMC0wLjksMC40LTEuNiwxLjItMi4zczItMC45LDMuOC0wLjljMS43LDAsMi45LDAuMywzLjcsMXMxLjMsMS43LDEuNSwzLjFsMi43LTAuMmMwLTEuMy0wLjQtMi40LTEuMS0zLjRzLTEuNi0xLjgtMi44LTIuM1xcbiAgICAgICAgcy0yLjYtMC44LTQuMi0wLjhjLTEuNCwwLTIuOCwwLjItMy45LDAuN3MtMi4xLDEuMi0yLjcsMi4xcy0wLjksMi0wLjksM2MwLDEsMC4zLDEuOSwwLjgsMi43czEuMywxLjUsMi4zLDJcXG4gICAgICAgIGMwLjgsMC40LDIuMiwwLjksNC4xLDEuM3MzLjIsMC44LDMuOCwxYzAuOSwwLjMsMS41LDAuOCwxLjksMS4zczAuNiwxLjEsMC42LDEuOGMwLDAuNy0wLjIsMS4zLTAuNiwxLjhzLTEsMS0xLjksMS4zXFxuICAgICAgICBjLTAuOCwwLjMtMS44LDAuNS0yLjksMC41Yy0xLjIsMC0yLjMtMC4yLTMuMy0wLjZzLTEuNy0xLTIuMi0xLjdzLTAuOC0xLjYtMC45LTIuNmwtMi43LDAuMkM1Mi45LDU1LjEsNTMuMyw1Ni40LDU0LDU3LjV6XFxcIi8+XFxuICAgIDwvc3ltYm9sPlxcbiAgICA8c3ltYm9sIGlkPVxcXCJtZVxcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxjaXJjbGUgY3g9XFxcIjUwXFxcIiBjeT1cXFwiNTBcXFwiIHI9XFxcIjM1XFxcIiBmaWxsPVxcXCIjZjQ3OTIwXFxcIiBzdHJva2U9XFxcIiM5OTRhMTZcXFwiIHN0cm9rZS1taXRlcmxpbWl0PVxcXCIxMFxcXCIgc3Ryb2tlLXdpZHRoPVxcXCI0XFxcIi8+XFxuICAgICAgPGc+XFxuICAgICAgICA8cGF0aCBkPVxcXCJNMjcuNjUsMzYuMThoNS4wMWw3LjQzLDIxLjgzLDcuMzctMjEuODNoNC45OHYyNS44MmgtMy4zNHYtMTUuMjRjMC0uNTMuMDEtMS40LjA0LTIuNjJzLjA0LTIuNTMuMDQtMy45MmwtNy4zNywyMS43OGgtMy40N2wtNy40NC0yMS43OHYuNzljMCwuNjMuMDIsMS42LjA1LDIuODlzLjA1LDIuMjUuMDUsMi44NnYxNS4yNGgtMy4zNHYtMjUuODJaXFxcIiBmaWxsPVxcXCIjOTk0YTE2XFxcIi8+XFxuICAgICAgICA8cGF0aCBkPVxcXCJNNjguOTMsNDMuNjljMS4yNS42MywyLjIsMS40NCwyLjg1LDIuNDMuNjMuOTUsMS4wNSwyLjA2LDEuMjYsMy4zMi4xOS44Ny4yOCwyLjI1LjI4LDQuMTVoLTEzLjY5Yy4wNiwxLjkyLjUxLDMuNDUsMS4zNCw0LjYxLjg0LDEuMTYsMi4xMywxLjc0LDMuODksMS43NCwxLjY0LDAsMi45NS0uNTUsMy45Mi0xLjY0LjU1LS42My45My0xLjM3LDEuMTYtMi4yMWgzLjExYy0uMDguNjktLjM1LDEuNDYtLjgyLDIuMzFzLS45OCwxLjU0LTEuNTUsMi4wOGMtLjk1Ljk0LTIuMTMsMS41Ny0zLjU0LDEuOS0uNzYuMTktMS42MS4yOC0yLjU2LjI4LTIuMzMsMC00LjMtLjg1LTUuOTItMi41Ni0xLjYyLTEuNzEtMi40My00LjA5LTIuNDMtNy4xNnMuODItNS40OCwyLjQ1LTcuMzdjMS42My0xLjg5LDMuNzYtMi44Myw2LjM5LTIuODMsMS4zMywwLDIuNjEuMzEsMy44Ni45NFpNNzAuMDcsNTEuMDhjLS4xMy0xLjM3LS40Mi0yLjQ3LS44OS0zLjI5LS44Ni0xLjUyLTIuMjktMi4yOS00LjMtMi4yOS0xLjQ0LDAtMi42NS41Mi0zLjYyLDEuNTctLjk4LDEuMDUtMS40OSwyLjM4LTEuNTUsNGgxMC4zN1pcXFwiIGZpbGw9XFxcIiM5OTRhMTZcXFwiLz5cXG4gICAgICA8L2c+XFxuICAgIDwvc3ltYm9sPlxcbiAgICA8c3ltYm9sIGlkPVxcXCJtZS4yXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCI+XFxuICAgICAgPGNpcmNsZSBjeD1cXFwiNTBcXFwiIGN5PVxcXCI1MFxcXCIgcj1cXFwiMzVcXFwiIGZpbGw9XFxcIiNmNDc5MjBcXFwiIHN0cm9rZT1cXFwiIzk5NGExNlxcXCIgc3Ryb2tlLW1pdGVybGltaXQ9XFxcIjEwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjRcXFwiLz5cXG4gICAgICA8cGF0aCBkPVxcXCJNMjQuNjMsNTUuNTljLjYxLTEuMjUsMS43OS0yLjM5LDMuNTYtMy40MWwyLjYzLTEuNTJjMS4xOC0uNjksMi4wMS0xLjI3LDIuNDgtMS43Ni43NS0uNzYsMS4xMi0xLjYzLDEuMTItMi42MSwwLTEuMTQtLjM0LTIuMDUtMS4wMy0yLjczcy0xLjYtMS4wMS0yLjc0LTEuMDFjLTEuNjksMC0yLjg2LjY0LTMuNTEsMS45Mi0uMzUuNjktLjU0LDEuNjQtLjU4LDIuODZoLTIuNTFjLjAzLTEuNzEuMzQtMy4xLjk1LTQuMTgsMS4wNy0xLjksMi45Ni0yLjg1LDUuNjYtMi44NSwyLjI1LDAsMy44OS42MSw0LjkzLDEuODIsMS4wNCwxLjIyLDEuNTYsMi41NywxLjU2LDQuMDYsMCwxLjU3LS41NSwyLjkxLTEuNjYsNC4wMy0uNjQuNjUtMS43OSwxLjQzLTMuNDQsMi4zNmwtMS44OCwxLjA0Yy0uOS40OS0xLjYuOTYtMi4xMSwxLjQxLS45MS43OS0xLjQ5LDEuNjgtMS43MywyLjY0aDEwLjcydjIuMzNoLTEzLjQ3Yy4wOS0xLjY5LjQ0LTMuMTYsMS4wNS00LjQxWlxcXCIgZmlsbD1cXFwiIzk5NGExNlxcXCIvPlxcbiAgICAgIDxwYXRoIGQ9XFxcIk00MC4zOCwzOS44N2gzLjkxbDUuNzksMTcuMDIsNS43NS0xNy4wMmgzLjg4djIwLjEzaC0yLjZ2LTExLjg4YzAtLjQxLDAtMS4wOS4wMy0yLjA0LjAyLS45NS4wMy0xLjk3LjAzLTMuMDZsLTUuNzUsMTYuOThoLTIuN2wtNS44LTE2Ljk4di42MmMwLC40OS4wMSwxLjI0LjA0LDIuMjUuMDMsMS4wMS4wNCwxLjc1LjA0LDIuMjN2MTEuODhoLTIuNnYtMjAuMTNaXFxcIiBmaWxsPVxcXCIjOTk0YTE2XFxcIi8+XFxuICAgICAgPHBhdGggZD1cXFwiTTcyLjU2LDQ1LjczYy45Ny40OSwxLjcxLDEuMTIsMi4yMiwxLjkuNDkuNzQuODIsMS42Ljk4LDIuNTkuMTUuNjguMjIsMS43NS4yMiwzLjIzaC0xMC42N2MuMDQsMS40OS4zOSwyLjY5LDEuMDUsMy41OXMxLjY2LDEuMzUsMy4wMywxLjM1YzEuMjgsMCwyLjMtLjQzLDMuMDYtMS4yOC40My0uNS43My0xLjA3LjkxLTEuNzJoMi40M2MtLjA2LjU0LS4yOCwxLjE0LS42NCwxLjgtLjM2LjY2LS43NiwxLjItMS4yMSwxLjYyLS43NC43My0xLjY2LDEuMjItMi43NiwxLjQ4LS41OS4xNS0xLjI2LjIyLTIsLjIyLTEuODIsMC0zLjM1LS42Ni00LjYyLTEuOTktMS4yNi0xLjMzLTEuODktMy4xOS0xLjg5LTUuNThzLjY0LTQuMjcsMS45MS01Ljc0YzEuMjctMS40NywyLjkzLTIuMjEsNC45OC0yLjIxLDEuMDQsMCwyLjA0LjI0LDMuMDEuNzNaTTczLjQ1LDUxLjQ5Yy0uMS0xLjA3LS4zMy0xLjkyLS42OS0yLjU2LS42Ny0xLjE5LTEuNzktMS43OC0zLjM2LTEuNzgtMS4xMiwwLTIuMDcuNDEtMi44MywxLjIzLS43Ni44Mi0xLjE2LDEuODYtMS4yMSwzLjEyaDguMDhaXFxcIiBmaWxsPVxcXCIjOTk0YTE2XFxcIi8+XFxuICAgIDwvc3ltYm9sPlxcbiAgICA8c3ltYm9sIGlkPVxcXCJtZS4zXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCI+XFxuICAgICAgPGNpcmNsZSBjeD1cXFwiNTBcXFwiIGN5PVxcXCI1MFxcXCIgcj1cXFwiMzVcXFwiIGZpbGw9XFxcIiNmNDc5MjBcXFwiIHN0cm9rZT1cXFwiIzk5NGExNlxcXCIgc3Ryb2tlLW1pdGVybGltaXQ9XFxcIjEwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjRcXFwiLz5cXG4gICAgICA8cGF0aCBkPVxcXCJNMjQuOTQsNTguNjJjLTEuMDUtMS4yNy0xLjU3LTIuODMtMS41Ny00LjY1aDIuNThjLjExLDEuMjcuMzUsMi4xOS43MSwyLjc3LjY0LDEuMDMsMS44LDEuNTUsMy40NywxLjU1LDEuMywwLDIuMzQtLjM1LDMuMTItMS4wNC43OS0uNjksMS4xOC0xLjU5LDEuMTgtMi42OSwwLTEuMzUtLjQxLTIuMy0xLjI0LTIuODRzLTEuOTgtLjgxLTMuNDUtLjgxYy0uMTYsMC0uMzMsMC0uNSwwLS4xNywwLS4zNC4wMS0uNTEuMDJ2LTIuMThjLjI2LjAzLjQ3LjA1LjY0LjA1LjE3LDAsLjM2LjAxLjU2LjAxLjkyLDAsMS42OC0uMTUsMi4yNy0uNDQsMS4wNC0uNTEsMS41Ni0xLjQyLDEuNTYtMi43NCwwLS45OC0uMzUtMS43My0xLjA0LTIuMjYtLjY5LS41My0xLjUtLjc5LTIuNDMtLjc5LTEuNjQsMC0yLjc4LjU1LTMuNDEsMS42NC0uMzUuNi0uNTQsMS40Ni0uNTksMi41OGgtMi40NGMwLTEuNDYuMjktMi43Ljg4LTMuNzMsMS0xLjgzLDIuNzctMi43NCw1LjMtMi43NCwyLDAsMy41NS40NSw0LjY1LDEuMzQsMS4xLjg5LDEuNjQsMi4xOCwxLjY0LDMuODcsMCwxLjIxLS4zMiwyLjE4LS45NywyLjkzLS40LjQ3LS45Mi44My0xLjU2LDEuMSwxLjAzLjI4LDEuODQuODMsMi40MiwxLjY0LjU4LjgxLjg3LDEuOC44NywyLjk3LDAsMS44Ny0uNjIsMy40LTEuODUsNC41OHMtMi45OCwxLjc3LTUuMjUsMS43Ny00LS42NC01LjA1LTEuOTFaXFxcIiBmaWxsPVxcXCIjOTk0YTE2XFxcIi8+XFxuICAgICAgPHBhdGggZD1cXFwiTTQwLjM4LDM5Ljg3aDMuOTFsNS43OSwxNy4wMiw1Ljc1LTE3LjAyaDMuODh2MjAuMTNoLTIuNnYtMTEuODhjMC0uNDEsMC0xLjA5LjAzLTIuMDQuMDItLjk1LjAzLTEuOTcuMDMtMy4wNmwtNS43NSwxNi45OGgtMi43bC01LjgtMTYuOTh2LjYyYzAsLjQ5LjAxLDEuMjQuMDQsMi4yNS4wMywxLjAxLjA0LDEuNzUuMDQsMi4yM3YxMS44OGgtMi42di0yMC4xM1pcXFwiIGZpbGw9XFxcIiM5OTRhMTZcXFwiLz5cXG4gICAgICA8cGF0aCBkPVxcXCJNNzIuNTYsNDUuNzNjLjk3LjQ5LDEuNzEsMS4xMiwyLjIyLDEuOS40OS43NC44MiwxLjYuOTgsMi41OS4xNS42OC4yMiwxLjc1LjIyLDMuMjNoLTEwLjY3Yy4wNCwxLjQ5LjM5LDIuNjksMS4wNSwzLjU5czEuNjYsMS4zNSwzLjAzLDEuMzVjMS4yOCwwLDIuMy0uNDMsMy4wNi0xLjI4LjQzLS41LjczLTEuMDcuOTEtMS43MmgyLjQzYy0uMDYuNTQtLjI4LDEuMTQtLjY0LDEuOC0uMzYuNjYtLjc2LDEuMi0xLjIxLDEuNjItLjc0LjczLTEuNjYsMS4yMi0yLjc2LDEuNDgtLjU5LjE1LTEuMjYuMjItMiwuMjItMS44MiwwLTMuMzUtLjY2LTQuNjItMS45OS0xLjI2LTEuMzMtMS44OS0zLjE5LTEuODktNS41OHMuNjQtNC4yNywxLjkxLTUuNzRjMS4yNy0xLjQ3LDIuOTMtMi4yMSw0Ljk4LTIuMjEsMS4wNCwwLDIuMDQuMjQsMy4wMS43M1pNNzMuNDUsNTEuNDljLS4xLTEuMDctLjMzLTEuOTItLjY5LTIuNTYtLjY3LTEuMTktMS43OS0xLjc4LTMuMzYtMS43OC0xLjEyLDAtMi4wNy40MS0yLjgzLDEuMjMtLjc2LjgyLTEuMTYsMS44Ni0xLjIxLDMuMTJoOC4wOFpcXFwiIGZpbGw9XFxcIiM5OTRhMTZcXFwiLz5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcIm1lLjRcXFwiIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIj5cXG4gICAgICA8Y2lyY2xlIGN4PVxcXCI1MFxcXCIgY3k9XFxcIjUwXFxcIiByPVxcXCIzNVxcXCIgZmlsbD1cXFwiI2Y0NzkyMFxcXCIgc3Ryb2tlPVxcXCIjOTk0YTE2XFxcIiBzdHJva2UtbWl0ZXJsaW1pdD1cXFwiMTBcXFwiIHN0cm9rZS13aWR0aD1cXFwiNFxcXCIvPlxcbiAgICAgIDxwYXRoIGQ9XFxcIk0zMi4wMiw2MHYtNC44aC04LjYxdi0yLjQxbDguOTktMTIuNDdoMi4wOHYxMi43M2gyLjg5djIuMTVoLTIuODl2NC44aC0yLjQ3Wk0zMS45OCw1My4wNXYtOC45MWwtNi4yOSw4LjkxaDYuMjlaXFxcIiBmaWxsPVxcXCIjOTk0YTE2XFxcIi8+XFxuICAgICAgPHBhdGggZD1cXFwiTTQwLjM4LDM5Ljg3aDMuOTFsNS43OSwxNy4wMiw1Ljc1LTE3LjAyaDMuODh2MjAuMTNoLTIuNnYtMTEuODhjMC0uNDEsMC0xLjA5LjAzLTIuMDQuMDItLjk1LjAzLTEuOTcuMDMtMy4wNmwtNS43NSwxNi45OGgtMi43bC01LjgtMTYuOTh2LjYyYzAsLjQ5LjAxLDEuMjQuMDQsMi4yNS4wMywxLjAxLjA0LDEuNzUuMDQsMi4yM3YxMS44OGgtMi42di0yMC4xM1pcXFwiIGZpbGw9XFxcIiM5OTRhMTZcXFwiLz5cXG4gICAgICA8cGF0aCBkPVxcXCJNNzIuNTYsNDUuNzNjLjk3LjQ5LDEuNzEsMS4xMiwyLjIyLDEuOS40OS43NC44MiwxLjYuOTgsMi41OS4xNS42OC4yMiwxLjc1LjIyLDMuMjNoLTEwLjY3Yy4wNCwxLjQ5LjM5LDIuNjksMS4wNSwzLjU5czEuNjYsMS4zNSwzLjAzLDEuMzVjMS4yOCwwLDIuMy0uNDMsMy4wNi0xLjI4LjQzLS41LjczLTEuMDcuOTEtMS43MmgyLjQzYy0uMDYuNTQtLjI4LDEuMTQtLjY0LDEuOC0uMzYuNjYtLjc2LDEuMi0xLjIxLDEuNjItLjc0LjczLTEuNjYsMS4yMi0yLjc2LDEuNDgtLjU5LjE1LTEuMjYuMjItMiwuMjItMS44MiwwLTMuMzUtLjY2LTQuNjItMS45OS0xLjI2LTEuMzMtMS44OS0zLjE5LTEuODktNS41OHMuNjQtNC4yNywxLjkxLTUuNzRjMS4yNy0xLjQ3LDIuOTMtMi4yMSw0Ljk4LTIuMjEsMS4wNCwwLDIuMDQuMjQsMy4wMS43M1pNNzMuNDUsNTEuNDljLS4xLTEuMDctLjMzLTEuOTItLjY5LTIuNTYtLjY3LTEuMTktMS43OS0xLjc4LTMuMzYtMS43OC0xLjEyLDAtMi4wNy40MS0yLjgzLDEuMjMtLjc2LjgyLTEuMTYsMS44Ni0xLjIxLDMuMTJoOC4wOFpcXFwiIGZpbGw9XFxcIiM5OTRhMTZcXFwiLz5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcInBcXFwiIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIj5cXG4gICAgICA8Y2lyY2xlIGN4PVxcXCI1MFxcXCIgY3k9XFxcIjUwXFxcIiBmaWxsPVxcXCIjYmJlNWZhXFxcIiByPVxcXCIzNVxcXCIgc3Ryb2tlLXdpZHRoPVxcXCI0XFxcIiBzdHJva2U9XFxcIiMyZjVmYWNcXFwiLz5cXG4gICAgICA8cGF0aCBmaWxsPVxcXCIjMmY1ZmFjXFxcIiBzdHJva2U9XFxcIm5vbmVcXFwiIHN0cm9rZS13aWR0aD1cXFwiMlxcXCIgZD1cXFwiTTQzLjEsNjcuNVY1M2g5LjJjNS4xLDAsOC42LTEuMSwxMC41LTMuMmMxLjktMi4xLDIuOS00LjcsMi45LTcuN2MwLTEuOC0wLjQtMy40LTEuMS00LjlcXG4gICAgICAgIGMtMC43LTEuNS0xLjctMi42LTIuOS0zLjVjLTEuMi0wLjgtMi43LTEuNC00LjQtMS43Yy0xLjMtMC4yLTMuMS0wLjMtNS40LTAuM0gzOC40djM1LjhINDMuMXogTTQzLjEsMzZoOS4yXFxuICAgICAgICBjMi4xLDAsMy42LDAuMSw0LjQsMC4zYzEuMiwwLjMsMi4yLDEsMywyLjFjMC44LDEuMSwxLjEsMi4zLDEuMSwzLjhjMCwyLjEtMC42LDMuNy0xLjksNC44Yy0xLjMsMS4xLTMuNSwxLjctNi41LDEuN2gtOS4zVjM2elxcXCIvPlxcbiAgICA8L3N5bWJvbD5cXG4gICAgPHN5bWJvbCBpZD1cXFwic2VyXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCI+XFxuICAgICAgPHBhdGggZD1cXFwiTTIwLDUwIGExLDEgMCAwLDAgMzAsMCBhMSwxIDAgMCwxIDMwLDBcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIxXFxcIi8+XFxuICAgICAgPHBhdGggZD1cXFwiTTIyLjIsODguNWMxLDEuNSwyLjQsMi43LDQuMSwzLjRjMS44LDAuOCwzLjksMS4xLDYuNSwxLjFjMiwwLDMuOS0wLjQsNS41LTEuMWMxLjYtMC43LDIuOS0xLjgsMy44LTMuMVxcbiAgICAgICAgYzAuOS0xLjMsMS4zLTIuOCwxLjMtNC4zYzAtMS41LTAuNC0yLjktMS4yLTQuMWMtMC44LTEuMi0yLTIuMi0zLjctMi45Yy0xLjEtMC41LTMuMy0xLjEtNi4zLTEuOGMtMy4xLTAuNy01LTEuNC01LjctMlxcbiAgICAgICAgYy0wLjctMC43LTEuMS0xLjUtMS4xLTIuNWMwLTEuMiwwLjUtMi4yLDEuNi0zYzEtMC44LDIuNy0xLjMsNS0xLjNjMi4yLDAsMy45LDAuNSw1LDEuNGMxLjEsMC45LDEuOCwyLjMsMiw0LjFsMy42LTAuM1xcbiAgICAgICAgYy0wLjEtMS43LTAuNS0zLjItMS40LTQuNWMtMC45LTEuMy0yLjEtMi4zLTMuNy0zcy0zLjUtMS01LjYtMWMtMS45LDAtMy43LDAuMy01LjMsMUMyNSw2NS4xLDIzLjgsNjYsMjMsNjcuM3MtMS4yLDIuNi0xLjIsNC4xXFxuICAgICAgICBjMCwxLjMsMC4zLDIuNSwxLDMuNmMwLjcsMS4xLDEuNywyLDMuMSwyLjdjMS4xLDAuNiwyLjksMS4yLDUuNSwxLjhjMi42LDAuNiw0LjMsMS4xLDUuMSwxLjRjMS4yLDAuNSwyLjEsMSwyLjYsMS43XFxuICAgICAgICBjMC41LDAuNywwLjgsMS41LDAuOCwyLjRjMCwwLjktMC4zLDEuNy0wLjgsMi41Yy0wLjUsMC43LTEuNCwxLjMtMi41LDEuOGMtMS4xLDAuNC0yLjQsMC42LTMuOCwwLjZjLTEuNiwwLTMuMS0wLjMtNC40LTAuOFxcbiAgICAgICAgYy0xLjMtMC42LTIuMy0xLjMtMi45LTIuMmMtMC42LTAuOS0xLTIuMS0xLjItMy41bC0zLjYsMC4zQzIwLjcsODUuMywyMS4yLDg3LDIyLjIsODguNXpcXFwiLz5cXG4gICAgICA8cGF0aCBkPVxcXCJNNjAuMiw4OS4xYy0wLjksMC43LTIsMS0zLjMsMWMtMS43LDAtMy4yLTAuNi00LjMtMS44Yy0xLjItMS4yLTEuOC0zLTEuOS01LjJoMTUuNWMwLTAuNCwwLTAuNywwLTAuOVxcbiAgICAgICAgYzAtMy40LTAuOS02LjEtMi42LThzLTQtMi44LTYuOC0yLjhjLTIuOSwwLTUuMiwxLTcsMi45UzQ3LDc4LjksNDcsODIuNGMwLDMuNCwwLjksNiwyLjcsNy45czQuMiwyLjgsNy4yLDIuOFxcbiAgICAgICAgYzIuNCwwLDQuNC0wLjYsNS45LTEuOGMxLjUtMS4yLDIuNi0yLjgsMy4yLTQuOWwtMy42LTAuNEM2MS44LDg3LjQsNjEuMSw4OC41LDYwLjIsODkuMXogTTUyLjYsNzUuOWMxLjEtMS4xLDIuNS0xLjYsNC4xLTEuNlxcbiAgICAgICAgYzEuOCwwLDMuMiwwLjcsNC40LDJjMC43LDAuOSwxLjIsMi4yLDEuMywzLjlINTAuOEM1MC45LDc4LjQsNTEuNSw3Nyw1Mi42LDc1Ljl6XFxcIi8+XFxuICAgICAgPHBhdGggZD1cXFwiTTczLjksOTIuNlY4MS43YzAtMS41LDAuMi0yLjksMC42LTQuMWMwLjMtMC44LDAuNy0xLjUsMS4zLTEuOWMwLjYtMC41LDEuMy0wLjcsMi4xLTAuN2MwLjksMCwxLjcsMC4zLDIuNiwwLjhsMS4yLTMuM1xcbiAgICAgICAgYy0xLjItMC44LTIuNC0xLjEtMy42LTEuMWMtMC44LDAtMS42LDAuMi0yLjMsMC43cy0xLjQsMS40LTIuMiwyLjl2LTMuMWgtMy4ydjIwLjdINzMuOXpcXFwiLz5cXG5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcInRoclxcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxwYXRoIGQ9XFxcIk0yMCw1MCBhMSwxIDAgMCwwIDMwLDAgYTEsMSAwIDAsMSAzMCwwXFxcIiBmaWxsPVxcXCJub25lXFxcIiBzdHJva2U9XFxcIiMwMDBcXFwiIHN0cm9rZS13aWR0aD1cXFwiMVxcXCIvPlxcbiAgICAgIDxwYXRoIGQ9XFxcIk0zNC4xLDkyLjZWNjcuM2g5LjVWNjRIMjAuOXYzLjRoOS40djI1LjNIMzQuMXpcXFwiLz5cXG4gICAgICA8cGF0aCBkPVxcXCJNNTAuNiw5Mi42VjgxLjJjMC0xLjYsMC4yLTIuOSwwLjYtMy44czEtMS43LDItMi4yczEuOS0wLjgsMi45LTAuOGMxLjQsMCwyLjUsMC40LDMuMiwxLjJzMS4xLDIuMSwxLjEsMy44djEzLjFoMy41Vjc5LjRcXG4gICAgICAgIGMwLTItMC4yLTMuNi0wLjctNC42cy0xLjMtMS45LTIuNC0yLjVzLTIuNS0wLjktNC0wLjljLTIuNSwwLTQuNiwxLTYuMiwyLjlWNjRINDd2MjguNkg1MC42elxcXCIvPlxcbiAgICAgIDxwYXRoIGQ9XFxcIk03Mi44LDkyLjZWODEuN2MwLTEuNSwwLjItMi45LDAuNi00LjFjMC4zLTAuOCwwLjctMS41LDEuMy0xLjljMC42LTAuNSwxLjMtMC43LDIuMS0wLjdjMC45LDAsMS43LDAuMywyLjYsMC44bDEuMi0zLjNcXG4gICAgICAgIGMtMS4yLTAuOC0yLjQtMS4xLTMuNi0xLjFjLTAuOCwwLTEuNiwwLjItMi4zLDAuN3MtMS40LDEuNC0yLjIsMi45di0zLjFoLTMuMnYyMC43SDcyLjh6XFxcIi8+XFxuICAgIDwvc3ltYm9sPlxcbiAgICA8c3ltYm9sIGlkPVxcXCJhc25cXFwiIHZpZXdCb3g9XFxcIjAgMCAxMDAgMTAwXFxcIj5cXG4gICAgICA8cGF0aCBkPVxcXCJNMjAsNTAgYTEsMSAwIDAsMCAzMCwwIGExLDEgMCAwLDEgMzAsMFxcXCIgZmlsbD1cXFwibm9uZVxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiLz5cXG4gICAgICA8cGF0aCBkPVxcXCJNMTkuNCw5Mi42bDMuMS04LjdoMTJsMy4zLDguN2g0LjNMMzAuNSw2NGgtNC4xbC0xMSwyOC42SDE5LjR6IE0yNi44LDcyLjRjMC43LTEuOCwxLjItMy42LDEuNS01LjVcXG4gICAgICAgIGMwLjQsMS41LDEuMSwzLjUsMiw1LjlsMyw3LjloLTkuN0wyNi44LDcyLjR6XFxcIi8+XFxuICAgICAgPHBhdGggZD1cXFwiTTQ2LjEsOTEuNGMxLjQsMS4xLDMuNSwxLjcsNi4yLDEuN2MxLjYsMCwzLjEtMC4zLDQuNC0wLjhzMi4zLTEuNCwzLTIuNHMxLTIuMSwxLTMuM2MwLTEuMi0wLjMtMi4yLTAuOC0zXFxuICAgICAgICBjLTAuNi0wLjgtMS4zLTEuNC0yLjMtMS44Yy0xLTAuNC0yLjctMS01LjItMS42Yy0xLjctMC41LTIuOC0wLjgtMy4xLTAuOWMtMC42LTAuMi0xLjEtMC42LTEuMy0wLjljLTAuMy0wLjQtMC40LTAuOC0wLjQtMS4yXFxuICAgICAgICBjMC0wLjcsMC4zLTEuMywxLTEuOWMwLjctMC41LDEuOC0wLjgsMy41LTAuOGMxLjQsMCwyLjQsMC4zLDMuMiwwLjljMC43LDAuNiwxLjIsMS40LDEuNCwyLjVsMy40LTAuNWMtMC4yLTEuMy0wLjYtMi40LTEuMi0zLjJcXG4gICAgICAgIHMtMS41LTEuNC0yLjctMS45cy0yLjctMC43LTQuMy0wLjdjLTEuMSwwLTIuMSwwLjEtMywwLjRjLTAuOSwwLjMtMS43LDAuNi0yLjIsMWMtMC43LDAuNS0xLjMsMS4yLTEuNywyXFxuICAgICAgICBjLTAuNCwwLjgtMC42LDEuNi0wLjYsMi42YzAsMSwwLjMsMS45LDAuOCwyLjhjMC41LDAuOCwxLjMsMS41LDIuMywyczIuOCwxLDUuNCwxLjdjMS45LDAuNSwzLjEsMC45LDMuNiwxLjJjMC43LDAuNSwxLDEuMSwxLDEuOVxcbiAgICAgICAgYzAsMC45LTAuNCwxLjctMS4yLDIuM3MtMiwxLTMuNiwxYy0xLjYsMC0yLjgtMC40LTMuNy0xLjFjLTAuOS0wLjctMS40LTEuOC0xLjYtMy4ybC0zLjUsMC41QzQzLjgsODguNiw0NC43LDkwLjMsNDYuMSw5MS40elxcXCIvPlxcbiAgICAgIDxwYXRoIGQ9XFxcIk02OC4zLDkyLjZWODEuM2MwLTIuNywwLjUtNC41LDEuNi01LjRjMS4xLTEsMi40LTEuNCwzLjktMS40YzAuOSwwLDEuOCwwLjIsMi41LDAuNmMwLjcsMC40LDEuMiwxLDEuNSwxLjdcXG4gICAgICAgIHMwLjQsMS44LDAuNCwzLjJ2MTIuNmgzLjVWNzkuOGMwLTEuNi0wLjEtMi44LTAuMi0zLjRjLTAuMi0xLTAuNi0xLjktMS4xLTIuNmMtMC41LTAuNy0xLjMtMS4zLTIuNC0xLjhjLTEtMC40LTIuMi0wLjctMy40LTAuN1xcbiAgICAgICAgYy0yLjksMC01LjEsMS4xLTYuNiwzLjR2LTIuOWgtMy4ydjIwLjdINjguM3pcXFwiLz5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcImh5bFxcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxwYXRoIGQ9XFxcIk0yMCw1MCBhMSwxIDAgMCwwIDMwLDAgYTEsMSAwIDAsMSAzMCwwXFxcIiBmaWxsPVxcXCJub25lXFxcIiBzdHJva2U9XFxcIiMwMDBcXFwiIHN0cm9rZS13aWR0aD1cXFwiMVxcXCIvPlxcbiAgICAgIDxwYXRoIGQ9XFxcIk0yOC4xLDkyLjZWNzkuMUg0M3YxMy41aDMuOFY2NEg0M3YxMS44SDI4LjFWNjRoLTMuOHYyOC42SDI4LjF6XFxcIi8+XFxuICAgICAgPHBhdGggZD1cXFwiTTU0LjcsMTAxYzEuMSwwLDIuMS0wLjMsMi45LTAuOGMwLjgtMC41LDEuNS0xLjQsMi4xLTIuNWMwLjUtMC45LDEuMS0yLjQsMi00LjdsNy45LTIxLjFoLTMuNWwtNC40LDEyLjFcXG4gICAgICAgIGMtMC42LDEuNS0xLDMuMS0xLjQsNC43Yy0wLjQtMS43LTAuOS0zLjMtMS41LTQuOGwtNC4zLTEyaC0zLjhsNy45LDIwLjhjLTAuMSwwLjQtMC4yLDAuNy0wLjMsMC45Yy0wLjUsMS40LTAuOSwyLjMtMS4xLDIuNlxcbiAgICAgICAgYy0wLjMsMC41LTAuNywwLjgtMS4yLDEuMXMtMS4xLDAuNC0xLjksMC40Yy0wLjYsMC0xLjItMC4xLTItMC4zbDAuNCwzLjNDNTMuMywxMDAuOSw1NC4xLDEwMSw1NC43LDEwMXpcXFwiLz5cXG4gICAgICA8cGF0aCBkPVxcXCJNNzYuMSw5Mi42VjY0aC0zLjV2MjguNkg3Ni4xelxcXCIvPlxcbiAgICA8L3N5bWJvbD5cXG4gICAgPHN5bWJvbCBpZD1cXFwiZXRucFxcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxwYXRoIGQ9XFxcIk01MCwxNS4xIEw2Ni4yLDI2LjkgTDYwLDQ1LjkgTDQwLDQ1LjkgTDMzLjgsMjYuOVxcXCIgZmlsbD1cXFwiIzAwMFxcXCIvPlxcbiAgICAgIDxjaXJjbGUgY3g9XFxcIjUwXFxcIiBjeT1cXFwiNzBcXFwiIGZpbGw9XFxcIiNiYmU1ZmFcXFwiIHI9XFxcIjE1XFxcIiBzdHJva2Utd2lkdGg9XFxcIjJcXFwiIHN0cm9rZT1cXFwiIzJmNWZhY1xcXCIvPlxcbiAgICAgIDxwYXRoIGZpbGw9XFxcIiMyZjVmYWNcXFwiIHN0cm9rZT1cXFwibm9uZVxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIyXFxcIiBkPVxcXCJNNDcsNzAuNXYwaDQuNWMyLjUsMCw0LjMtMC41NSw1LjI1LTEuNmMwLjk1LTEuMDUsMS40NS0yLjM1LDEuNDUtMy44NWMwLTAuOS0wLjItMS43LTAuNTUtMi40NWMtMC4zNS0wLjc1LTAuODUtMS4zLTEuNDUtMS43NWMtMC42LTAuNC0xLjM1LTAuNy0yLjItMC44NWMtMC42NS0wLjEtMS41NS0wLjE1LTIuNy0wLjE1aC04djE3LjloMy42eiBtLTAuNSwtOC41aDQuNlxcbmMxLjA1LDAsMS44LDAuMDUsMi4yLDAuMTVcXG5jMC42LDAuMTUsMS4xLDAuNSwxLjUsMS4wNWMwLjQsMC41NSwwLjU1LDEuMTUsMC41NSwxLjljMCwxLjA1LTAuMywxLjg1LTAuOTUsMi40Yy0wLjY1LDAuNTUtMS43NSwwLjg1LTMuMjUsMC44NWgtNC42NXYtN3pcXFwiLz5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcImRvbC1wcFxcXCIgdmlld0JveD1cXFwiMCAwIDEwMCAxMDBcXFwiPlxcbiAgICAgIDxjaXJjbGUgY3g9XFxcIjUwXFxcIiBjeT1cXFwiMjBcXFwiIGZpbGw9XFxcIiNiYmU1ZmFcXFwiIHI9XFxcIjcuNVxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIyXFxcIiBzdHJva2U9XFxcIiMyZjVmYWNcXFwiLz5cXG4gICAgICA8Y2lyY2xlIGN4PVxcXCI1MFxcXCIgY3k9XFxcIjQwXFxcIiBmaWxsPVxcXCIjYmJlNWZhXFxcIiByPVxcXCI3LjVcXFwiIHN0cm9rZS13aWR0aD1cXFwiMlxcXCIgc3Ryb2tlPVxcXCIjMmY1ZmFjXFxcIi8+XFxuICAgICAgPHBhdGggZmlsbD1cXFwibm9uZVxcXCIgc3Ryb2tlPVxcXCIjOTk5XFxcIiBzdHJva2Utd2lkdGg9XFxcIjRcXFwiIHN0cm9rZS1saW5lY2FwPVxcXCJyb3VuZFxcXCIgIGQ9XFxcIk01MCw1MCA1NS44LDYxLjEgNDQuNSw3MiA1NS44LDgzIDQ0LjUsOTRcXFwiLz5cXG4gICAgPC9zeW1ib2w+XFxuICAgIDxzeW1ib2wgaWQ9XFxcImRvbC1wXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCI+XFxuICAgICAgPGNpcmNsZSBjeD1cXFwiNTBcXFwiIGN5PVxcXCIyMFxcXCIgZmlsbD1cXFwiI2JiZTVmYVxcXCIgcj1cXFwiNy41XFxcIiBzdHJva2Utd2lkdGg9XFxcIjJcXFwiIHN0cm9rZT1cXFwiIzJmNWZhY1xcXCIvPlxcbiAgICAgIDxwYXRoIGZpbGw9XFxcIm5vbmVcXFwiIHN0cm9rZT1cXFwiIzk5OVxcXCIgc3Ryb2tlLXdpZHRoPVxcXCI0XFxcIiBzdHJva2UtbGluZWNhcD1cXFwicm91bmRcXFwiICBkPVxcXCJNNTAsMjcuNSA1NS44LDM4LjkgNDQuNSw1MCA1NS44LDYxLjEgNDQuNSw3MiA1NS44LDgzIDQ0LjUsOTRcXFwiLz5cXG4gICAgPC9zeW1ib2w+XFxuXFxuICAgIDxzeW1ib2wgaWQ9XFxcInBpXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCI+XFxuICA8cGF0aCBkPVxcXCJNNDAuNSwzNy4wNDhoMTIuMDM5YzIuMzgsMCw0LjMwMiwwLjY3NCw1Ljc2NSwyLjAyM2MxLjQ2NCwxLjM1LDIuMTk2LDMuMjQ1LDIuMTk2LDUuNjg3YzAsMi4xMDEtMC42NTMsMy45MjktMS45NTksNS40ODZcXG4gICAgYy0xLjMwNiwxLjU1Ny0zLjMwNCwyLjMzNi01Ljk5NiwyLjMzNmgtOC40MDF2MTEuMzczSDQwLjVWMzcuMDQ4eiBNNTQuNjM2LDQwLjc0N2MtMC43OTktMC4zNzgtMS44OTctMC41NjctMy4yOTEtMC41NjdoLTcuMjAxXFxuICAgIHY5LjMyM2g3LjIwMWMxLjYyNSwwLDIuOTQzLTAuMzQ4LDMuOTU1LTEuMDQ0czEuNTE5LTEuOTIzLDEuNTE5LTMuNjgxQzU2LjgxOSw0Mi43OTksNTYuMDkxLDQxLjQ1Niw1NC42MzYsNDAuNzQ3elxcXCIvPlxcbjxwb2x5bGluZSBmaWxsPVxcXCJub25lXFxcIiBzdHJva2U9XFxcIiMwMDAwMDBcXFwiIHN0cm9rZS1taXRlcmxpbWl0PVxcXCIxMFxcXCIgcG9pbnRzPVxcXCIxMi4wNzYsOTAuODg4IDEyLjA3Niw1NC40NzUgMzMuNTI1LDU0LjQ3NSBcXFwiLz5cXG48bGluZSBmaWxsPVxcXCJub25lXFxcIiBzdHJva2U9XFxcIiMwMDAwMDBcXFwiIHN0cm9rZS1taXRlcmxpbWl0PVxcXCIxMFxcXCIgeDE9XFxcIjIyLjhcXFwiIHkxPVxcXCI4MC43NDZcXFwiIHgyPVxcXCIyMi44XFxcIiB5Mj1cXFwiNTQuNDc1XFxcIi8+XFxuPHBvbHlnb24gZmlsbD1cXFwiI2ZmZlxcXCIgc3Ryb2tlPVxcXCIjMDAwMDAwXFxcIiBzdHJva2UtbWl0ZXJsaW1pdD1cXFwiMTBcXFwiIHBvaW50cz1cXFwiNTAuNDgyLDMuNDc1IDM4LjQ2LDEwLjQxNSAzOC40NiwyNC4yOTcgNTAuNDgyLDMxLjIzNyBcXG4gIDYyLjUwMywyNC4yOTcgNjIuNTAzLDEwLjQxNSBcXFwiLz5cXG48bGluZSBmaWxsPVxcXCJub25lXFxcIiBzdHJva2U9XFxcIiMwMDAwMDBcXFwiIHN0cm9rZS1taXRlcmxpbWl0PVxcXCIxMFxcXCIgeDE9XFxcIjUwLjQ4MlxcXCIgeTE9XFxcIjM1LjAyMVxcXCIgeDI9XFxcIjUwLjQ4MlxcXCIgeTI9XFxcIjMxLjIzN1xcXCIvPlxcbiAgICA8L3N5bWJvbD5cXG5cXG4gIDwvZGVmcz5cXG4gIDwhLS1cXG4gIDxnPlxcbiAgICA8cmVjdCB4PVxcXCIwXFxcIiB5PVxcXCIwXFxcIiB3aWR0aD1cXFwiMTAwXFxcIiBoZWlnaHQ9XFxcIjEwMFxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIwLjFcXFwiIHN0cm9rZT1cXFwiIzAwMFxcXCIgZmlsbD1cXFwibm9uZVxcXCIvPlxcbiAgICA8dGV4dCB4PVxcXCIyMFxcXCIgeT1cXFwiNTBcXFwiIGZvbnQtZmFtaWx5PVxcXCJoZWx2ZXRpY2FcXFwiPjEwMCB4IDEwMDwvdGV4dD5cXG4gICAgPHRleHQgeD1cXFwiMFxcXCIgeT1cXFwiMTVcXFwiICBmb250LWZhbWlseT1cXFwiaGVsdmV0aWNhXFxcIj4wPC90ZXh0PlxcbiAgICA8dGV4dCB4PVxcXCI3MFxcXCIgeT1cXFwiMTAwXFxcIiAgZm9udC1mYW1pbHk9XFxcImhlbHZldGljYVxcXCI+MTAwPC90ZXh0PlxcbiAgPC9nPlxcbiAgLS0+XFxuICA8dXNlIHhsaW5rOmhyZWY9XFxcIiNnYWxuYWNcXFwiIHg9XFxcIjEwMFxcXCIgeT1cXFwiMTAwXFxcIiB3aWR0aD1cXFwiMTAwXFxcIiBoZWlnaHQ9XFxcIjEwMFxcXCIvPlxcbiAgPHVzZSB4bGluazpocmVmPVxcXCIjZ2xjbmFjXFxcIiB4PVxcXCIyMDBcXFwiIHk9XFxcIjEwMFxcXCIgd2lkdGg9XFxcIjEwMFxcXCIgaGVpZ2h0PVxcXCIxMDBcXFwiLz5cXG4gIDx1c2UgeGxpbms6aHJlZj1cXFwiI21hblxcXCIgeD1cXFwiMzAwXFxcIiB5PVxcXCIxMDBcXFwiIHdpZHRoPVxcXCIxMDBcXFwiIGhlaWdodD1cXFwiMTAwXFxcIi8+XFxuICA8dXNlIHhsaW5rOmhyZWY9XFxcIiNnbGNcXFwiIHg9XFxcIjQwMFxcXCIgeT1cXFwiMTAwXFxcIiB3aWR0aD1cXFwiMTAwXFxcIiBoZWlnaHQ9XFxcIjEwMFxcXCIvPlxcbiAgPHRleHQgeD1cXFwiMTUwXFxcIiB0ZXh0LWFuY2hvcj1cXFwibWlkZGxlXFxcIiB5PVxcXCIyMTBcXFwiPkdhbE5BYzwvdGV4dD5cXG4gIDx0ZXh0IHg9XFxcIjI1MFxcXCIgdGV4dC1hbmNob3I9XFxcIm1pZGRsZVxcXCIgeT1cXFwiMjEwXFxcIj5HbGNOQWM8L3RleHQ+XFxuICA8dGV4dCB4PVxcXCIzNTBcXFwiIHRleHQtYW5jaG9yPVxcXCJtaWRkbGVcXFwiIHk9XFxcIjIxMFxcXCI+TWFubm9zZTwvdGV4dD5cXG4gIDx0ZXh0IHg9XFxcIjQ1MFxcXCIgdGV4dC1hbmNob3I9XFxcIm1pZGRsZVxcXCIgeT1cXFwiMjEwXFxcIj5HbHVjb3NlPC90ZXh0PlxcbiAgPHVzZSB4bGluazpocmVmPVxcXCIjZnVjXFxcIiB4PVxcXCIxMDBcXFwiIHk9XFxcIjI1MFxcXCIgd2lkdGg9XFxcIjEwMFxcXCIgaGVpZ2h0PVxcXCIxMDBcXFwiLz5cXG4gIDx1c2UgeGxpbms6aHJlZj1cXFwiI25ldVxcXCIgeD1cXFwiMjAwXFxcIiB5PVxcXCIyNTBcXFwiIHdpZHRoPVxcXCIxMDBcXFwiIGhlaWdodD1cXFwiMTAwXFxcIi8+XFxuICA8dXNlIHhsaW5rOmhyZWY9XFxcIiNuZXVhY1xcXCIgeD1cXFwiMzAwXFxcIiB5PVxcXCIyNTBcXFwiIHdpZHRoPVxcXCIxMDBcXFwiIGhlaWdodD1cXFwiMTAwXFxcIi8+XFxuICA8dXNlIHhsaW5rOmhyZWY9XFxcIiNuZXVnY1xcXCIgeD1cXFwiNDAwXFxcIiB5PVxcXCIyNTBcXFwiIHdpZHRoPVxcXCIxMDBcXFwiIGhlaWdodD1cXFwiMTAwXFxcIi8+XFxuICA8dGV4dCB4PVxcXCIxNTBcXFwiIHRleHQtYW5jaG9yPVxcXCJtaWRkbGVcXFwiIHk9XFxcIjM3MFxcXCI+RnVjb3NlPC90ZXh0PlxcbiAgPHRleHQgeD1cXFwiMjUwXFxcIiB0ZXh0LWFuY2hvcj1cXFwibWlkZGxlXFxcIiB5PVxcXCIzNzBcXFwiPlNpYWxpYyBhY2lkPC90ZXh0PlxcbiAgPHRleHQgeD1cXFwiMzUwXFxcIiB0ZXh0LWFuY2hvcj1cXFwibWlkZGxlXFxcIiB5PVxcXCIzNzBcXFwiPk5ldUFjPC90ZXh0PlxcbiAgPHRleHQgeD1cXFwiNDUwXFxcIiB0ZXh0LWFuY2hvcj1cXFwibWlkZGxlXFxcIiB5PVxcXCIzNzBcXFwiPk5ldUdjPC90ZXh0PlxcblxcbiAgPHVzZSB4bGluazpocmVmPVxcXCIjYXJhXFxcIiB4PVxcXCIxMDBcXFwiIHk9XFxcIjQwMFxcXCIgd2lkdGg9XFxcIjEwMFxcXCIgaGVpZ2h0PVxcXCIxMDBcXFwiLz5cXG4gIDx1c2UgeGxpbms6aHJlZj1cXFwiI3h5bFxcXCIgeD1cXFwiMjAwXFxcIiB5PVxcXCI0MDBcXFwiIHdpZHRoPVxcXCIxMDBcXFwiIGhlaWdodD1cXFwiMTAwXFxcIi8+XFxuICA8dXNlIHhsaW5rOmhyZWY9XFxcIiNnbGNhXFxcIiB4PVxcXCIzMDBcXFwiIHk9XFxcIjQwMFxcXCIgd2lkdGg9XFxcIjEwMFxcXCIgaGVpZ2h0PVxcXCIxMDBcXFwiLz5cXG4gIDx1c2UgeGxpbms6aHJlZj1cXFwiI2lkb2FcXFwiIHg9XFxcIjQwMFxcXCIgeT1cXFwiNDAwXFxcIiB3aWR0aD1cXFwiMTAwXFxcIiBoZWlnaHQ9XFxcIjEwMFxcXCIvPlxcblxcbiAgPHRleHQgeD1cXFwiMTUwXFxcIiB0ZXh0LWFuY2hvcj1cXFwibWlkZGxlXFxcIiB5PVxcXCI1MTBcXFwiPkFyYWJpbm9zZTwvdGV4dD5cXG4gIDx0ZXh0IHg9XFxcIjI1MFxcXCIgdGV4dC1hbmNob3I9XFxcIm1pZGRsZVxcXCIgeT1cXFwiNTEwXFxcIj5YeWxvc2U8L3RleHQ+XFxuICA8dGV4dCB4PVxcXCIzNTBcXFwiIHRleHQtYW5jaG9yPVxcXCJtaWRkbGVcXFwiIHk9XFxcIjUxMFxcXCI+R2xjQTwvdGV4dD5cXG4gIDx0ZXh0IHg9XFxcIjQ1MFxcXCIgdGV4dC1hbmNob3I9XFxcIm1pZGRsZVxcXCIgeT1cXFwiNTEwXFxcIj5JZG9BPC90ZXh0PlxcblxcbiAgPHVzZSB4bGluazpocmVmPVxcXCIjaGV4YVxcXCIgeD1cXFwiMTAwXFxcIiB5PVxcXCI1NTBcXFwiIHdpZHRoPVxcXCIxMDBcXFwiIGhlaWdodD1cXFwiMTAwXFxcIi8+XFxuICA8dXNlIHhsaW5rOmhyZWY9XFxcIiNoZXhcXFwiIHg9XFxcIjIwMFxcXCIgeT1cXFwiNTUwXFxcIiB3aWR0aD1cXFwiMTAwXFxcIiBoZWlnaHQ9XFxcIjEwMFxcXCIvPlxcbiAgPHVzZSB4bGluazpocmVmPVxcXCIjaGV4bmFjXFxcIiB4PVxcXCIzMDBcXFwiIHk9XFxcIjU1MFxcXCIgd2lkdGg9XFxcIjEwMFxcXCIgaGVpZ2h0PVxcXCIxMDBcXFwiLz5cXG4gIDx1c2UgeGxpbms6aHJlZj1cXFwiI3BcXFwiIHg9XFxcIjQwMFxcXCIgeT1cXFwiNTUwXFxcIiB3aWR0aD1cXFwiMTAwXFxcIiBoZWlnaHQ9XFxcIjEwMFxcXCIvPlxcblxcbiAgPHRleHQgeD1cXFwiMTUwXFxcIiB0ZXh0LWFuY2hvcj1cXFwibWlkZGxlXFxcIiB5PVxcXCI2NjBcXFwiPkhleEE8L3RleHQ+XFxuICA8dGV4dCB4PVxcXCIyNTBcXFwiIHRleHQtYW5jaG9yPVxcXCJtaWRkbGVcXFwiIHk9XFxcIjY2MFxcXCI+SGV4b3NlPC90ZXh0PlxcbiAgPHRleHQgeD1cXFwiMzUwXFxcIiB0ZXh0LWFuY2hvcj1cXFwibWlkZGxlXFxcIiB5PVxcXCI2NjBcXFwiPkhleE5BYzwvdGV4dD5cXG4gIDx0ZXh0IHg9XFxcIjQ1MFxcXCIgdGV4dC1hbmNob3I9XFxcIm1pZGRsZVxcXCIgeT1cXFwiNjYwXFxcIj5QPC90ZXh0PlxcblxcbiAgPHVzZSB4bGluazpocmVmPVxcXCIjc2VyXFxcIiB4PVxcXCIxMDBcXFwiIHk9XFxcIjcwMFxcXCIgd2lkdGg9XFxcIjEwMFxcXCIgaGVpZ2h0PVxcXCIxMDBcXFwiLz5cXG4gIDx1c2UgeGxpbms6aHJlZj1cXFwiI3RoclxcXCIgeD1cXFwiMjAwXFxcIiB5PVxcXCI3MDBcXFwiIHdpZHRoPVxcXCIxMDBcXFwiIGhlaWdodD1cXFwiMTAwXFxcIi8+XFxuICA8dXNlIHhsaW5rOmhyZWY9XFxcIiNhc25cXFwiIHg9XFxcIjMwMFxcXCIgeT1cXFwiNzAwXFxcIiB3aWR0aD1cXFwiMTAwXFxcIiBoZWlnaHQ9XFxcIjEwMFxcXCIvPlxcbiAgPHVzZSB4bGluazpocmVmPVxcXCIjaHlsXFxcIiB4PVxcXCI0MDBcXFwiIHk9XFxcIjcwMFxcXCIgd2lkdGg9XFxcIjEwMFxcXCIgaGVpZ2h0PVxcXCIxMDBcXFwiLz5cXG5cXG4gIDx0ZXh0IHg9XFxcIjE1MFxcXCIgdGV4dC1hbmNob3I9XFxcIm1pZGRsZVxcXCIgeT1cXFwiODEwXFxcIj5TZXI8L3RleHQ+XFxuICA8dGV4dCB4PVxcXCIyNTBcXFwiIHRleHQtYW5jaG9yPVxcXCJtaWRkbGVcXFwiIHk9XFxcIjgxMFxcXCI+VGhyPC90ZXh0PlxcbiAgPHRleHQgeD1cXFwiMzUwXFxcIiB0ZXh0LWFuY2hvcj1cXFwibWlkZGxlXFxcIiB5PVxcXCI4MTBcXFwiPkFzbjwvdGV4dD5cXG4gIDx0ZXh0IHg9XFxcIjQ1MFxcXCIgdGV4dC1hbmNob3I9XFxcIm1pZGRsZVxcXCIgeT1cXFwiODEwXFxcIj5IeUw8L3RleHQ+XFxuXFxuICA8dXNlIHhsaW5rOmhyZWY9XFxcIiNoc28zXFxcIiB4PVxcXCIxMDBcXFwiIHk9XFxcIjg1MFxcXCIgd2lkdGg9XFxcIjEwMFxcXCIgaGVpZ2h0PVxcXCIxMDBcXFwiLz5cXG4gIDx1c2UgeGxpbms6aHJlZj1cXFwiI2NlclxcXCIgeD1cXFwiMjAwXFxcIiB5PVxcXCI4NTBcXFwiIHdpZHRoPVxcXCIxMDBcXFwiIGhlaWdodD1cXFwiMTAwXFxcIi8+XFxuICA8dXNlIHhsaW5rOmhyZWY9XFxcIiNoc28zLjJcXFwiIHg9XFxcIjMwMFxcXCIgeT1cXFwiODUwXFxcIiB3aWR0aD1cXFwiMTAwXFxcIiBoZWlnaHQ9XFxcIjEwMFxcXCIvPlxcbiAgPHVzZSB4bGluazpocmVmPVxcXCIjaHNvMy4zXFxcIiB4PVxcXCI0MDBcXFwiIHk9XFxcIjg1MFxcXCIgd2lkdGg9XFxcIjEwMFxcXCIgaGVpZ2h0PVxcXCIxMDBcXFwiLz5cXG5cXG4gIDx0ZXh0IHg9XFxcIjE1MFxcXCIgdGV4dC1hbmNob3I9XFxcIm1pZGRsZVxcXCIgeT1cXFwiOTYwXFxcIj5IU08zPC90ZXh0PlxcbiAgPHRleHQgeD1cXFwiMjUwXFxcIiB0ZXh0LWFuY2hvcj1cXFwibWlkZGxlXFxcIiB5PVxcXCI5NjBcXFwiPkNlcjwvdGV4dD5cXG4gIDx0ZXh0IHg9XFxcIjM1MFxcXCIgdGV4dC1hbmNob3I9XFxcIm1pZGRsZVxcXCIgeT1cXFwiOTYwXFxcIj4yUzwvdGV4dD5cXG4gIDx0ZXh0IHg9XFxcIjQ1MFxcXCIgdGV4dC1hbmNob3I9XFxcIm1pZGRsZVxcXCIgeT1cXFwiOTYwXFxcIj4zUzwvdGV4dD5cXG5cXG5cXG4gIDx1c2UgeGxpbms6aHJlZj1cXFwiI2hzbzMuNFxcXCIgeD1cXFwiMTAwXFxcIiB5PVxcXCIxMDAwXFxcIiB3aWR0aD1cXFwiMTAwXFxcIiBoZWlnaHQ9XFxcIjEwMFxcXCIvPlxcbiAgPHVzZSB4bGluazpocmVmPVxcXCIjaHNvMy42XFxcIiB4PVxcXCIyMDBcXFwiIHk9XFxcIjEwMDBcXFwiIHdpZHRoPVxcXCIxMDBcXFwiIGhlaWdodD1cXFwiMTAwXFxcIi8+XFxuICA8dXNlIHhsaW5rOmhyZWY9XFxcIiNoc28zLk5cXFwiIHg9XFxcIjMwMFxcXCIgeT1cXFwiMTAwMFxcXCIgd2lkdGg9XFxcIjEwMFxcXCIgaGVpZ2h0PVxcXCIxMDBcXFwiLz5cXG4gIDx1c2UgeGxpbms6aHJlZj1cXFwiI2dsY25cXFwiIHg9XFxcIjQwMFxcXCIgeT1cXFwiMTAwMFxcXCIgd2lkdGg9XFxcIjEwMFxcXCIgaGVpZ2h0PVxcXCIxMDBcXFwiLz5cXG5cXG4gIDx0ZXh0IHg9XFxcIjE1MFxcXCIgdGV4dC1hbmNob3I9XFxcIm1pZGRsZVxcXCIgeT1cXFwiMTExMFxcXCI+NFM8L3RleHQ+XFxuICA8dGV4dCB4PVxcXCIyNTBcXFwiIHRleHQtYW5jaG9yPVxcXCJtaWRkbGVcXFwiIHk9XFxcIjExMTBcXFwiPjZTPC90ZXh0PlxcbiAgPHRleHQgeD1cXFwiMzUwXFxcIiB0ZXh0LWFuY2hvcj1cXFwibWlkZGxlXFxcIiB5PVxcXCIxMTEwXFxcIj5OUzwvdGV4dD5cXG4gIDx0ZXh0IHg9XFxcIjQ1MFxcXCIgdGV4dC1hbmNob3I9XFxcIm1pZGRsZVxcXCIgeT1cXFwiMTExMFxcXCI+R2xjTjwvdGV4dD5cXG5cXG5cXG4gIDx1c2UgeGxpbms6aHJlZj1cXFwiI2V0bnBcXFwiIHg9XFxcIjEwMFxcXCIgeT1cXFwiMTE1MFxcXCIgd2lkdGg9XFxcIjEwMFxcXCIgaGVpZ2h0PVxcXCIxMDBcXFwiLz5cXG4gIDx1c2UgeGxpbms6aHJlZj1cXFwiI3BpXFxcIiB4PVxcXCIyMDBcXFwiIHk9XFxcIjExNTBcXFwiIHdpZHRoPVxcXCIxMDBcXFwiIGhlaWdodD1cXFwiMTAwXFxcIi8+XFxuICA8dXNlIHhsaW5rOmhyZWY9XFxcIiNkb2wtcHBcXFwiIHg9XFxcIjMwMFxcXCIgeT1cXFwiMTE1MFxcXCIgd2lkdGg9XFxcIjEwMFxcXCIgaGVpZ2h0PVxcXCIxMDBcXFwiLz5cXG4gIDx1c2UgeGxpbms6aHJlZj1cXFwiI2RvbC1wXFxcIiB4PVxcXCI0MDBcXFwiIHk9XFxcIjExNTBcXFwiIHdpZHRoPVxcXCIxMDBcXFwiIGhlaWdodD1cXFwiMTAwXFxcIi8+XFxuXFxuICA8dGV4dCB4PVxcXCIxNTBcXFwiIHRleHQtYW5jaG9yPVxcXCJtaWRkbGVcXFwiIHk9XFxcIjEyNjBcXFwiPkV0bnA8L3RleHQ+XFxuICA8dGV4dCB4PVxcXCIyNTBcXFwiIHRleHQtYW5jaG9yPVxcXCJtaWRkbGVcXFwiIHk9XFxcIjEyNjBcXFwiPlBJPC90ZXh0PlxcbiAgPHRleHQgeD1cXFwiMzUwXFxcIiB0ZXh0LWFuY2hvcj1cXFwibWlkZGxlXFxcIiB5PVxcXCIxMjYwXFxcIj5Eb2wtUFA8L3RleHQ+XFxuICA8dGV4dCB4PVxcXCI0NTBcXFwiIHRleHQtYW5jaG9yPVxcXCJtaWRkbGVcXFwiIHk9XFxcIjEyNjBcXFwiPkRvbC1QPC90ZXh0Plxcblxcblxcbjwvc3ZnPlxcblwiIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../glycan.js/sugars.svg\n");

/***/ }),

/***/ "./js/autorepeat.js":
/*!**************************!*\
  !*** ./js/autorepeat.js ***!
  \**************************/
/*! exports provided: default, ModifiableRepeat */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ModifiableRepeat\", function() { return ModifiableRepeat; });\n/* harmony import */ var glycan_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! glycan.js */ \"../glycan.js/js/main.js\");\n\nvar Iupac = glycan_js__WEBPACK_IMPORTED_MODULE_0__[\"CondensedIupac\"].IO;\nvar IupacSugar = Iupac(glycan_js__WEBPACK_IMPORTED_MODULE_0__[\"Sugar\"]);\nvar REPEAT_PATTERNS = {\n  TYPEI: 'GlcNAc(b1-3)Gal(b1-3)*',\n  TYPEII: 'GlcNAc(b1-3)Gal(b1-4)*',\n  HEPARAN: 'GlcA(b1-4)GlcNAc(a1-4)*',\n  CHONDROITIN: 'GlcA(b1-3)GalNAc(b1-4)*',\n  MATRIGLYCAN: 'GlcA(b1-3)Xyl(a1-3)*',\n  POLYSIA: 'NeuAc(a2-8)*'\n};\nfor (var key of Object.keys(REPEAT_PATTERNS)) {\n  var seq = REPEAT_PATTERNS[key];\n  REPEAT_PATTERNS[key] = new IupacSugar();\n  REPEAT_PATTERNS[key].sequence = seq;\n  REPEAT_PATTERNS[key].title = key;\n}\nvar repeat_pattern = Symbol('pattern');\nvar changed = sugar => {\n  var patterns = Object.values(REPEAT_PATTERNS);\n  for (var pattern of patterns) {\n    var matches = sugar.match_sugar_pattern(pattern, glycan_js__WEBPACK_IMPORTED_MODULE_0__[\"Reaction\"].Comparator);\n    while (matches.length > 0) {\n      var match = matches.shift();\n      var root = match.root.children[0].original;\n      var leaf = match.leaves()[0].original;\n      if (root instanceof glycan_js__WEBPACK_IMPORTED_MODULE_0__[\"Repeat\"].Monosaccharide || leaf instanceof glycan_js__WEBPACK_IMPORTED_MODULE_0__[\"Repeat\"].Monosaccharide) {\n        continue;\n      }\n      if (root.parent && root.parent instanceof glycan_js__WEBPACK_IMPORTED_MODULE_0__[\"Repeat\"].Monosaccharide && pattern.sequence.indexOf(root.parent.repeat.template.sequence) === 0) {\n        var _repeat = root.parent.repeat;\n        root.parent.removeChild(root.parent.linkageOf(root), root);\n        _repeat.max = parseInt(_repeat.max) + 1;\n        _repeat.identifier = '' + _repeat.max;\n        continue;\n      }\n      var repeat = glycan_js__WEBPACK_IMPORTED_MODULE_0__[\"Repeat\"].addToSugar(sugar, root, leaf, glycan_js__WEBPACK_IMPORTED_MODULE_0__[\"Repeat\"].MODE_EXPAND, 1, 1);\n      repeat[repeat_pattern] = pattern;\n      repeat.identifier = '' + repeat.max;\n      matches = sugar.match_sugar_pattern(pattern, glycan_js__WEBPACK_IMPORTED_MODULE_0__[\"Reaction\"].Comparator);\n    }\n  }\n  for (var _repeat2 of sugar.repeats) {\n    if (!_repeat2[repeat_pattern]) {\n      for (var _pattern of patterns) {\n        if (_pattern.sequence.indexOf(_repeat2.template.sequence) === 0) {\n          _repeat2[repeat_pattern] = _pattern;\n        }\n      }\n    }\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (changed);\nclass ModifiableRepeat {\n  constructor(repeat, viewer) {\n    this.repeat = repeat;\n    this.viewer = viewer;\n  }\n  set number(n) {\n    if (n === void 0) {\n      n = 1;\n    }\n    this.repeat.max = n;\n    this.repeat.identifier = '' + this.repeat.max;\n    this.viewer.fullRefresh();\n    this.viewer.sequence = this.viewer.renderer.sugars[0].sequence;\n  }\n  get number() {\n    return this.repeat.max;\n  }\n  get type() {\n    return this.repeat[repeat_pattern] ? this.repeat[repeat_pattern].title : 'NA';\n  }\n  get expanded() {\n    return this.repeat.mode === glycan_js__WEBPACK_IMPORTED_MODULE_0__[\"Repeat\"].MODE_EXPAND;\n  }\n  set expanded(value) {\n    if (value) {\n      this.expand();\n    } else {\n      this.collapse();\n    }\n  }\n  get collapsed() {\n    return !this.expanded;\n  }\n  set collapsed(value) {\n    this.expanded = !value;\n  }\n  toggleExpanded() {\n    this.expanded = !this.expanded;\n  }\n  expand() {\n    if (this.repeat.mode !== glycan_js__WEBPACK_IMPORTED_MODULE_0__[\"Repeat\"].MODE_EXPAND) {\n      this.repeat.mode = glycan_js__WEBPACK_IMPORTED_MODULE_0__[\"Repeat\"].MODE_EXPAND;\n      this.viewer.fullRefresh();\n      this.viewer.sequence = this.viewer.renderer.sugars[0].sequence;\n    }\n  }\n  collapse() {\n    if (this.repeat.mode !== glycan_js__WEBPACK_IMPORTED_MODULE_0__[\"Repeat\"].MODE_MINIMAL) {\n      this.repeat.mode = glycan_js__WEBPACK_IMPORTED_MODULE_0__[\"Repeat\"].MODE_MINIMAL;\n      this.viewer.fullRefresh();\n      this.viewer.sequence = this.viewer.renderer.sugars[0].sequence;\n    }\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9hdXRvcmVwZWF0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvYXV0b3JlcGVhdC5qcz84OTAwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbmRlbnNlZEl1cGFjLCBTdWdhciwgUmVwZWF0LCBSZWFjdGlvbiB9IGZyb20gJ2dseWNhbi5qcyc7XG5cbmNvbnN0IEl1cGFjID0gQ29uZGVuc2VkSXVwYWMuSU87XG5cbmNvbnN0IEl1cGFjU3VnYXIgPSBJdXBhYyhTdWdhcik7XG5cbmNvbnN0IFJFUEVBVF9QQVRURVJOUyA9IHtcbiAgVFlQRUkgOiAnR2xjTkFjKGIxLTMpR2FsKGIxLTMpKicsXG4gIFRZUEVJSTogJ0dsY05BYyhiMS0zKUdhbChiMS00KSonLFxuICBIRVBBUkFOOiAnR2xjQShiMS00KUdsY05BYyhhMS00KSonLFxuICBDSE9ORFJPSVRJTjogJ0dsY0EoYjEtMylHYWxOQWMoYjEtNCkqJyxcbiAgTUFUUklHTFlDQU46ICdHbGNBKGIxLTMpWHlsKGExLTMpKicsXG4gIFBPTFlTSUE6ICdOZXVBYyhhMi04KSonXG59O1xuXG5mb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMoUkVQRUFUX1BBVFRFUk5TKSkge1xuICBsZXQgc2VxID0gUkVQRUFUX1BBVFRFUk5TW2tleV07XG4gIFJFUEVBVF9QQVRURVJOU1trZXldID0gbmV3IEl1cGFjU3VnYXIoKTtcbiAgUkVQRUFUX1BBVFRFUk5TW2tleV0uc2VxdWVuY2UgPSBzZXE7XG4gIFJFUEVBVF9QQVRURVJOU1trZXldLnRpdGxlID0ga2V5O1xufVxuXG5jb25zdCByZXBlYXRfcGF0dGVybiA9IFN5bWJvbCgncGF0dGVybicpO1xuXG5jb25zdCBjaGFuZ2VkID0gKHN1Z2FyKSA9PiB7XG4gIGNvbnN0IHBhdHRlcm5zID0gT2JqZWN0LnZhbHVlcyhSRVBFQVRfUEFUVEVSTlMpO1xuICBmb3IgKGxldCBwYXR0ZXJuIG9mIHBhdHRlcm5zKSB7XG4gICAgbGV0IG1hdGNoZXMgPSBzdWdhci5tYXRjaF9zdWdhcl9wYXR0ZXJuKHBhdHRlcm4sIFJlYWN0aW9uLkNvbXBhcmF0b3IpO1xuICAgIHdoaWxlIChtYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCBtYXRjaCA9IG1hdGNoZXMuc2hpZnQoKTtcbiAgICAgIGxldCByb290ID0gbWF0Y2gucm9vdC5jaGlsZHJlblswXS5vcmlnaW5hbDtcbiAgICAgIGxldCBsZWFmID0gbWF0Y2gubGVhdmVzKClbMF0ub3JpZ2luYWw7XG4gICAgICBpZiAoKHJvb3QgaW5zdGFuY2VvZiBSZXBlYXQuTW9ub3NhY2NoYXJpZGUpIHx8IChsZWFmIGluc3RhbmNlb2YgUmVwZWF0Lk1vbm9zYWNjaGFyaWRlKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChyb290LnBhcmVudCAmJiAocm9vdC5wYXJlbnQgaW5zdGFuY2VvZiBSZXBlYXQuTW9ub3NhY2NoYXJpZGUpICYmIHBhdHRlcm4uc2VxdWVuY2UuaW5kZXhPZihyb290LnBhcmVudC5yZXBlYXQudGVtcGxhdGUuc2VxdWVuY2UpID09PSAwICkge1xuICAgICAgICBsZXQgcmVwZWF0ID0gcm9vdC5wYXJlbnQucmVwZWF0O1xuICAgICAgICByb290LnBhcmVudC5yZW1vdmVDaGlsZChyb290LnBhcmVudC5saW5rYWdlT2Yocm9vdCkscm9vdCk7XG4gICAgICAgIHJlcGVhdC5tYXggPSBwYXJzZUludChyZXBlYXQubWF4KSsxO1xuICAgICAgICByZXBlYXQuaWRlbnRpZmllciA9ICcnK3JlcGVhdC5tYXg7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgbGV0IHJlcGVhdCA9IFJlcGVhdC5hZGRUb1N1Z2FyKHN1Z2FyLHJvb3QsbGVhZixSZXBlYXQuTU9ERV9FWFBBTkQsMSwxKTtcbiAgICAgIHJlcGVhdFtyZXBlYXRfcGF0dGVybl0gPSBwYXR0ZXJuO1xuICAgICAgcmVwZWF0LmlkZW50aWZpZXIgPSAnJytyZXBlYXQubWF4O1xuICAgICAgbWF0Y2hlcyA9IHN1Z2FyLm1hdGNoX3N1Z2FyX3BhdHRlcm4ocGF0dGVybiwgUmVhY3Rpb24uQ29tcGFyYXRvcik7XG4gICAgfVxuICB9XG4gIGZvciAobGV0IHJlcGVhdCBvZiBzdWdhci5yZXBlYXRzKSB7XG4gICAgaWYgKCAhIHJlcGVhdFtyZXBlYXRfcGF0dGVybl0gKSB7XG4gICAgICBmb3IgKGxldCBwYXR0ZXJuIG9mIHBhdHRlcm5zKSB7XG4gICAgICAgIGlmIChwYXR0ZXJuLnNlcXVlbmNlLmluZGV4T2YocmVwZWF0LnRlbXBsYXRlLnNlcXVlbmNlKSA9PT0gMCkge1xuICAgICAgICAgIHJlcGVhdFtyZXBlYXRfcGF0dGVybl0gPSBwYXR0ZXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjaGFuZ2VkO1xuXG5jbGFzcyBNb2RpZmlhYmxlUmVwZWF0IHtcbiAgY29uc3RydWN0b3IocmVwZWF0LHZpZXdlcikge1xuICAgIHRoaXMucmVwZWF0ID0gcmVwZWF0O1xuICAgIHRoaXMudmlld2VyID0gdmlld2VyO1xuICB9XG4gIHNldCBudW1iZXIobj0xKSB7XG4gICAgdGhpcy5yZXBlYXQubWF4ID0gbjtcbiAgICB0aGlzLnJlcGVhdC5pZGVudGlmaWVyID0gJycrdGhpcy5yZXBlYXQubWF4O1xuICAgIHRoaXMudmlld2VyLmZ1bGxSZWZyZXNoKCk7XG4gICAgdGhpcy52aWV3ZXIuc2VxdWVuY2UgPSB0aGlzLnZpZXdlci5yZW5kZXJlci5zdWdhcnNbMF0uc2VxdWVuY2U7XG4gIH1cblxuICBnZXQgbnVtYmVyKCkge1xuICAgIHJldHVybiB0aGlzLnJlcGVhdC5tYXg7XG4gIH1cblxuICBnZXQgdHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXBlYXRbcmVwZWF0X3BhdHRlcm5dID8gdGhpcy5yZXBlYXRbcmVwZWF0X3BhdHRlcm5dLnRpdGxlIDogJ05BJztcbiAgfVxuXG4gIGdldCBleHBhbmRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXBlYXQubW9kZSA9PT0gUmVwZWF0Lk1PREVfRVhQQU5EO1xuICB9XG5cbiAgc2V0IGV4cGFuZGVkKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB0aGlzLmV4cGFuZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbGxhcHNlKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGNvbGxhcHNlZCgpIHtcbiAgICByZXR1cm4gISB0aGlzLmV4cGFuZGVkO1xuICB9XG5cbiAgc2V0IGNvbGxhcHNlZCh2YWx1ZSkge1xuICAgIHRoaXMuZXhwYW5kZWQgPSAhIHZhbHVlO1xuICB9XG5cbiAgdG9nZ2xlRXhwYW5kZWQoKSB7XG4gICAgdGhpcy5leHBhbmRlZCA9ICEgdGhpcy5leHBhbmRlZDtcbiAgfVxuXG4gIGV4cGFuZCgpIHtcbiAgICBpZiAodGhpcy5yZXBlYXQubW9kZSAhPT0gUmVwZWF0Lk1PREVfRVhQQU5EKSB7XG4gICAgICB0aGlzLnJlcGVhdC5tb2RlID0gUmVwZWF0Lk1PREVfRVhQQU5EO1xuICAgICAgdGhpcy52aWV3ZXIuZnVsbFJlZnJlc2goKTtcbiAgICAgIHRoaXMudmlld2VyLnNlcXVlbmNlID0gdGhpcy52aWV3ZXIucmVuZGVyZXIuc3VnYXJzWzBdLnNlcXVlbmNlO1xuICAgIH1cbiAgfVxuXG4gIGNvbGxhcHNlKCkge1xuICAgIGlmICh0aGlzLnJlcGVhdC5tb2RlICE9PSBSZXBlYXQuTU9ERV9NSU5JTUFMKSB7XG4gICAgICB0aGlzLnJlcGVhdC5tb2RlID0gUmVwZWF0Lk1PREVfTUlOSU1BTDtcbiAgICAgIHRoaXMudmlld2VyLmZ1bGxSZWZyZXNoKCk7XG4gICAgICB0aGlzLnZpZXdlci5zZXF1ZW5jZSA9IHRoaXMudmlld2VyLnJlbmRlcmVyLnN1Z2Fyc1swXS5zZXF1ZW5jZTtcbiAgICB9XG4gIH1cblxufVxuXG5leHBvcnQgeyBNb2RpZmlhYmxlUmVwZWF0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./js/autorepeat.js\n");

/***/ }),

/***/ "./js/builder.js":
/*!***********************!*\
  !*** ./js/builder.js ***!
  \***********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var debug_any_level__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! debug-any-level */ \"./node_modules/debug-any-level/index.js\");\n/* harmony import */ var debug_any_level__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(debug_any_level__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var glycan_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! glycan.js */ \"../glycan.js/js/main.js\");\n/* harmony import */ var _sviewer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sviewer */ \"./js/sviewer/index.js\");\n/* harmony import */ var _highlighter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./highlighter */ \"./js/highlighter.js\");\n/* globals document,HTMLElement,customElements,window,fetch,ShadyCSS */\n\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\nvar ELEMENT_NAME = 'ccg-sugarbuilder';\nvar Iupac = glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"CondensedIupac\"].IO;\nclass IupacReaction extends Iupac(glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"Reaction\"]) {}\nvar module_string = 'sviewer:builder';\nvar log = debug_any_level__WEBPACK_IMPORTED_MODULE_0__(module_string);\nfunction WrapHTML() {\n  return Reflect.construct(HTMLElement, [], Object.getPrototypeOf(this).constructor);\n}\nObject.setPrototypeOf(WrapHTML.prototype, HTMLElement.prototype);\nObject.setPrototypeOf(WrapHTML, HTMLElement);\nvar donor_map_symbol = Symbol('donor_map');\nclass Builder extends _sviewer__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  extendSugar(residue, donor_value, anomer_value, linkage_value) {\n    return extend_sugar.call(this, residue, donor_value, anomer_value, linkage_value);\n  }\n}\ncustomElements.define('ccg-builder', Builder);\nvar tmpl = document.createElement('template');\ntmpl.innerHTML = \"\\n<style>\\n  :host {\\n    --demoted-opacity: 0.8;\\n  }\\n  :host {\\n    display: block;\\n    position: relative;\\n  }\\n\\n  :host ccg-builder {\\n    width: 100%;\\n    height: 100%;\\n  }\\n\\n  :host .widget_contents {\\n    width: 100%;\\n    height: 100%;\\n    position: relative;\\n  }\\n</style>\\n<div class=\\\"widget_contents\\\" >\\n  <ccg-builder editable resizable links id=\\\"viewer\\\"><slot></slot></ccg-builder>\\n</div>\\n\";\nvar demote_items = function demote_items(enabled_weight, elements, values) {\n  if (!values) {\n    for (var el of elements) {\n      el.removeAttribute('data-weight');\n    }\n    return;\n  }\n  for (var _el of elements) {\n    _el.removeAttribute('disabled');\n    if (values.indexOf(_el.value) >= 0) {\n      _el.setAttribute('data-weight', enabled_weight);\n    } else {\n      _el.setAttribute('data-weight', '-1');\n    }\n  }\n};\nvar disable_items = function disable_items(elements, values) {\n  if (!values) {\n    for (var el of elements) {\n      el.removeAttribute('disabled');\n    }\n    return;\n  }\n  for (var _el2 of elements) {\n    _el2.removeAttribute('data-weight');\n    if (values.indexOf(_el2.value) >= 0) {\n      _el2.removeAttribute('disabled');\n    } else {\n      _el2.setAttribute('disabled', '');\n    }\n  }\n};\nvar adapt_form = function adapt_form(elements, values) {\n  if (this.hasAttribute('strict')) {\n    return disable_items(elements, values);\n  }\n  return demote_items(4, elements, values);\n};\nvar update_donors = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* (donors) {\n    var reaction_donors = donors.reactions.filter(reac => reac.delta.composition().length == 2).map(reac => [].concat(reac.delta.composition()).reverse().shift().identifier).filter((o, i, a) => a.indexOf(o) === i);\n    var viewer = this.shadowRoot.getElementById('viewer');\n    var donor_descriptors = viewer.donors.concat(reaction_donors.filter(donor => viewer.donors.indexOf(donor) < 0));\n    var chain_donors = donors.reactions.filter(reac => reac.delta.composition().length > 2 || reac.delta.root.identifier !== 'Root');\n    var donor_reaction_map = new Map();\n    for (var reactionset of chain_donors) {\n      for (var reaction of reactionset.positive) {\n        var reaction_sequence = reaction.delta.sequence.replace(/\\([abu]\\d+-\\d+\\)$/, '');\n        if (reaction.delta.root.identifier !== 'Root') {\n          var donor_res = reaction.delta.root.children[0];\n          if (!donor_res) {\n            continue;\n          }\n          reaction_sequence = donor_res.toSugar(reaction.delta.constructor).sequence;\n        }\n        if (!donor_reaction_map.has(reaction_sequence)) {\n          donor_reaction_map.set(reaction_sequence, new Map());\n        }\n        donor_reaction_map.get(reaction_sequence).set(reaction.delta.sequence, reaction);\n        donor_descriptors.push(reaction_sequence);\n      }\n    }\n    viewer[donor_map_symbol] = donor_reaction_map;\n    var unique_donors = donor_descriptors.filter((o, i, a) => a.indexOf(o) === i);\n    return viewer.setDonors(unique_donors);\n  });\n  return function update_donors(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar write_link = link => {\n  var int_link = parseInt(link);\n  if (int_link < 0) {\n    if (int_link === glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"Monosaccharide\"].LINKAGES.O) {\n      return 'O';\n    }\n    if (int_link === glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"Monosaccharide\"].LINKAGES.N) {\n      return 'N';\n    }\n  }\n  return int_link <= 0 ? '?' : '' + link;\n};\nfunction extend_sugar(residue, donor_value, anomer_value, linkage_value) {\n  var sug = new _sviewer__WEBPACK_IMPORTED_MODULE_2__[\"IupacSugar\"]();\n  sug.sequence = donor_value;\n  var new_res = sug.root;\n  new_res.anomer = anomer_value;\n  new_res.parent_linkage = donor_value.match(/Neu(Gc|Ac)/) ? 2 : 1;\n  var delta = \"\".concat(sug.sequence, \"(\").concat(new_res.anomer).concat(new_res.parent_linkage, \"-\").concat(write_link(linkage_value), \")\");\n  var reaction_string = \"\".concat(residue.identifier, \"(u?-?)*+\\\"{\").concat(delta, \"@y2a}\\\"\");\n  var reaction = new IupacReaction();\n  reaction.sequence = reaction_string;\n  var donor_map = this[donor_map_symbol];\n  if (donor_map.has(donor_value)) {\n    var donor_reactions = donor_map.get(donor_value);\n    for (var donor_reaction of donor_reactions.values()) {\n      var child = donor_reaction.delta.root.children[0];\n      var child_linkage = donor_reaction.delta.root.linkageOf(child);\n      if (child.anomer == anomer_value && child_linkage == linkage_value) {\n        reaction = donor_reaction;\n      }\n    }\n  }\n  var renderer = residue.renderer;\n  if (residue instanceof glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"Repeat\"].Monosaccharide && residue.repeat.mode === glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"Repeat\"].MODE_MINIMAL) {\n    if ((!residue.endsRepeat || residue.repeat.root.identifier !== new_res.identifier) && ['Fuc', 'HSO3'].indexOf(new_res.identifier) >= 0) {\n      reaction.execute(renderer.sugars[0], residue);\n    }\n    return [...sug.composition()];\n  } else {\n    return reaction.execute(renderer.sugars[0], residue);\n  }\n}\nvar reset_form_disabled = function reset_form_disabled(widget, viewer) {\n  if (viewer.renderer.sugars.length < 1) {\n    adapt_form.call(widget, [...viewer.form.querySelectorAll('input[name=\"donor\"]')]);\n    return;\n  }\n  var sugar = viewer.renderer.sugars[0].clone();\n  sugar.freeze();\n  viewer.available.highlight();\n  var supported = widget.reactiongroup.supportsLinkageAt(sugar);\n  if (viewer.form.querySelector('input[name=\"donor\"]')) {\n    adapt_form.call(widget, Array.from(viewer.form.querySelectorAll('input[name=\"donor\"]')).filter(el => el.value !== 'delete'), supported.donor);\n  }\n  adapt_form.call(widget, [...viewer.form.querySelectorAll('input[name=\"anomer\"]')]);\n  adapt_form.call(widget, [...viewer.form.querySelectorAll('input[name=\"linkage\"]')]);\n};\nvar wire_sviewer_events = function wire_sviewer_events(viewer) {\n  var widget = this;\n  var changed = false;\n  viewer.form.addEventListener('change', function () {\n    viewer.available.highlight();\n    var reactions = widget.reactiongroup;\n    var donor_val = (this.querySelector('input[name=\"donor\"]:checked') || {}).value ? this.querySelector('input[name=\"donor\"]:checked').value : undefined;\n    var linkage_val = (this.querySelector('input[name=\"linkage\"]:checked') || {}).value ? parseInt(this.querySelector('input[name=\"linkage\"]:checked').value) : undefined;\n    var residue_val = this.residue ? this.residue : undefined;\n    var sugar = viewer.renderer.sugars[0].clone();\n    sugar.freeze();\n    if (residue_val) {\n      residue_val = sugar.locate_monosaccharide(viewer.renderer.sugars[0].location_for_monosaccharide(residue_val));\n    }\n    var supported = reactions.supportsLinkageAt(sugar, donor_val, linkage_val, residue_val);\n    if (supported.substrate) {\n      viewer.available.highlight(supported.substrate.map(res => sugar.location_for_monosaccharide(res)).map(loc => viewer.renderer.sugars[0].locate_monosaccharide(loc)));\n    }\n    if (supported.anomerlinks && (this.querySelector('input[name=\"anomer\"]:checked') || {}).value) {\n      var existing_linkages = [...this.residue.child_linkages.keys()];\n      var anomer = (this.querySelector('input[name=\"anomer\"]:checked') || {}).value;\n      supported.linkage = supported.anomerlinks.filter(linkpair => linkpair.match(anomer)).map(l => parseInt(l.substr(1))).filter(l => existing_linkages.indexOf(l) < 0);\n    }\n    adapt_form.call(widget, [...viewer.form.querySelectorAll('input[name=\"anomer\"]')], supported.anomer);\n    adapt_form.call(widget, [...viewer.form.querySelectorAll('input[name=\"linkage\"]')], supported.linkage.map(link => '' + link));\n    changed = true;\n  });\n  viewer.form.addEventListener('reset', function () {\n    viewer.available.highlight();\n    if (!changed) {\n      return;\n    }\n    window.cancelAnimationFrame(reset_form_disabled.timeout);\n    reset_form_disabled.timeout = window.requestAnimationFrame(reset_form_disabled.bind(null, widget, viewer));\n    changed = false;\n  });\n};\nif (window.ShadyCSS) {\n  ShadyCSS.prepareTemplate(tmpl, ELEMENT_NAME);\n}\nclass SugarBuilder extends WrapHTML {\n  static get observedAttributes() {\n    return ['resizable', 'links', 'horizontal', 'strict', 'linkangles', 'renderer'];\n  }\n  constructor() {\n    super();\n    log('Initiating SugarBuilder element');\n  }\n  connectedCallback() {\n    if (window.ShadyCSS) {\n      ShadyCSS.styleElement(this);\n    }\n    var shadowRoot = this.attachShadow({\n      mode: 'open'\n    });\n    var template_content = tmpl.content.cloneNode(true);\n    template_content.querySelector('ccg-builder').setAttribute('sugars', this.getAttribute('sugars'));\n    shadowRoot.appendChild(template_content);\n    wire_sviewer_events.call(this, shadowRoot.getElementById('viewer'));\n    this.attributeChangedCallback('horizontal');\n    this.attributeChangedCallback('resizeable');\n    this.attributeChangedCallback('linkangles');\n    this.attributeChangedCallback('links');\n    this.attributeChangedCallback('sugars');\n    if (this.hasAttribute('reactions-src')) {\n      fetch(this.getAttribute('reactions-src') || 'reactions.json').then(response => response.json()).then(reactions => this.reactions = reactions).then(() => reset_form_disabled(this, this.shadowRoot.getElementById('viewer')));\n    }\n    this.reactiongroup = glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"ReactionGroup\"].groupFromJSON({}, _sviewer__WEBPACK_IMPORTED_MODULE_2__[\"IupacSugar\"]);\n    if (this.reactiongroup) {\n      update_donors.call(this, this.reactiongroup).then(() => {\n        if (this.shadowRoot.getElementById('viewer').palette_ready_promise) {\n          this.shadowRoot.getElementById('viewer').palette_ready_promise.then(() => {\n            reset_form_disabled(this, this.shadowRoot.getElementById('viewer'));\n          });\n        }\n      });\n    }\n    var selection_highlighter = new _highlighter__WEBPACK_IMPORTED_MODULE_3__[\"default\"](shadowRoot.getElementById('viewer'), 'available');\n    selection_highlighter.setStates({\n      opacity: 0\n    }, {\n      opacity: 1\n    });\n    selection_highlighter.duration = 10;\n    selection_highlighter.draw = (_ref2, _ref3, ctx) => {\n      var {\n        angle,\n        opacity\n      } = _ref2;\n      var {\n        x,\n        y,\n        width,\n        height,\n        zoom\n      } = _ref3;\n      ctx.beginPath();\n      ctx.setLineDash([5, 5]);\n      ctx.lineWidth = parseFloat((2 / Math.max(zoom, 1)).toFixed(2));\n      ctx.strokeStyle = \"rgba(0,0,0,0.5)\";\n      ctx.arc(x + 0.5 * width, y + 0.5 * height, 1.2 * width / 2, -0.5 * Math.PI, 2 * Math.PI, false);\n      ctx.stroke();\n    };\n    shadowRoot.getElementById('viewer').available = selection_highlighter;\n    shadowRoot.getElementById('viewer').addEventListener('change', ev => {\n      var event = new Event('change', {\n        bubbles: true\n      });\n      this.dispatchEvent(event);\n    });\n  }\n  attributeChangedCallback(name) {\n    if (!this.shadowRoot) {\n      return;\n    }\n    if (['links', 'horizontal', 'resizeable', 'linkangles'].indexOf(name) >= 0) {\n      if (this.hasAttribute(name)) {\n        this.shadowRoot.getElementById('viewer').setAttribute(name, '');\n      } else {\n        this.shadowRoot.getElementById('viewer').removeAttribute(name);\n      }\n    }\n    if (name === 'linkangles') {\n      this.attributeChangedCallback('links');\n    }\n    if (name === 'renderer') {\n      if (this.hasAttribute(name)) {\n        this.shadowRoot.getElementById('viewer').setAttribute(name, this.getAttribute(name));\n      } else {\n        this.shadowRoot.getElementById('viewer').removeAttribute(name);\n      }\n    }\n    if (name === 'strict') {\n      reset_form_disabled(this, this.shadowRoot.getElementById('viewer'));\n    }\n  }\n  savePNG() {\n    this.shadowRoot.getElementById('viewer').save('png');\n  }\n  saveSVG() {\n    this.shadowRoot.getElementById('viewer').save('svg');\n  }\n  toDataURL(format) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return _this.shadowRoot.getElementById('viewer').toDataURL(format);\n    })();\n  }\n  set sequence(sequence) {\n    this.shadowRoot.getElementById('viewer').sequence = sequence;\n    setTimeout(() => reset_form_disabled(this, this.shadowRoot.getElementById('viewer')), 10);\n  }\n  get sequence() {\n    return this.shadowRoot.getElementById('viewer').sequence;\n  }\n  get textContent() {\n    return this.sequence;\n  }\n  get sugar() {\n    return this.shadowRoot.getElementById('viewer').renderer.sugars[0];\n  }\n  get repeats() {\n    return this.shadowRoot.getElementById('viewer').repeats;\n  }\n  set reactions(reactions) {\n    this.reactiongroup = glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"ReactionGroup\"].groupFromJSON(reactions, _sviewer__WEBPACK_IMPORTED_MODULE_2__[\"IupacSugar\"]);\n    update_donors.call(this, this.reactiongroup).then(() => {\n      reset_form_disabled(this, this.shadowRoot.getElementById('viewer'));\n    });\n  }\n  get reactions() {\n    return this.reactiongroup;\n  }\n}\ncustomElements.define(ELEMENT_NAME, SugarBuilder);\n/* harmony default export */ __webpack_exports__[\"default\"] = (SugarBuilder);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9idWlsZGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvYnVpbGRlci5qcz83NzQwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbHMgZG9jdW1lbnQsSFRNTEVsZW1lbnQsY3VzdG9tRWxlbWVudHMsd2luZG93LGZldGNoLFNoYWR5Q1NTICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCAqIGFzIGRlYnVnIGZyb20gJ2RlYnVnLWFueS1sZXZlbCc7XG5cbmltcG9ydCB7IENvbmRlbnNlZEl1cGFjLCBSZWFjdGlvbiwgUmVhY3Rpb25Hcm91cCwgUmVwZWF0LCBNb25vc2FjY2hhcmlkZSB9IGZyb20gJ2dseWNhbi5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIFNWaWV3ZXIsIEl1cGFjU3VnYXIgfSBmcm9tICcuL3N2aWV3ZXInO1xuXG5pbXBvcnQgSGlnaGxpZ2h0ZXIgZnJvbSAnLi9oaWdobGlnaHRlcic7XG5cbmNvbnN0IEVMRU1FTlRfTkFNRSA9ICdjY2ctc3VnYXJidWlsZGVyJztcblxuY29uc3QgSXVwYWMgPSBDb25kZW5zZWRJdXBhYy5JTztcblxuY2xhc3MgSXVwYWNSZWFjdGlvbiBleHRlbmRzIEl1cGFjKFJlYWN0aW9uKSB7fVxuXG5jb25zdCBtb2R1bGVfc3RyaW5nPSdzdmlld2VyOmJ1aWxkZXInO1xuXG5jb25zdCBsb2cgPSBkZWJ1Zyhtb2R1bGVfc3RyaW5nKTtcblxuZnVuY3Rpb24gV3JhcEhUTUwoKSB7IHJldHVybiBSZWZsZWN0LmNvbnN0cnVjdChIVE1MRWxlbWVudCwgW10sIE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvcik7IH1cbk9iamVjdC5zZXRQcm90b3R5cGVPZihXcmFwSFRNTC5wcm90b3R5cGUsIEhUTUxFbGVtZW50LnByb3RvdHlwZSk7XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoV3JhcEhUTUwsIEhUTUxFbGVtZW50KTtcblxuY29uc3QgZG9ub3JfbWFwX3N5bWJvbCA9IFN5bWJvbCgnZG9ub3JfbWFwJyk7XG5cbmNsYXNzIEJ1aWxkZXIgZXh0ZW5kcyBTVmlld2VyIHtcbiAgZXh0ZW5kU3VnYXIocmVzaWR1ZSxkb25vcl92YWx1ZSxhbm9tZXJfdmFsdWUsbGlua2FnZV92YWx1ZSkge1xuICAgIHJldHVybiBleHRlbmRfc3VnYXIuY2FsbCh0aGlzLHJlc2lkdWUsZG9ub3JfdmFsdWUsYW5vbWVyX3ZhbHVlLGxpbmthZ2VfdmFsdWUpO1xuICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnY2NnLWJ1aWxkZXInLEJ1aWxkZXIpO1xuXG5jb25zdCB0bXBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcblxudG1wbC5pbm5lckhUTUwgPSBgXG48c3R5bGU+XG4gIDpob3N0IHtcbiAgICAtLWRlbW90ZWQtb3BhY2l0eTogMC44O1xuICB9XG4gIDpob3N0IHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIH1cblxuICA6aG9zdCBjY2ctYnVpbGRlciB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgOmhvc3QgLndpZGdldF9jb250ZW50cyB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuPC9zdHlsZT5cbjxkaXYgY2xhc3M9XCJ3aWRnZXRfY29udGVudHNcIiA+XG4gIDxjY2ctYnVpbGRlciBlZGl0YWJsZSByZXNpemFibGUgbGlua3MgaWQ9XCJ2aWV3ZXJcIj48c2xvdD48L3Nsb3Q+PC9jY2ctYnVpbGRlcj5cbjwvZGl2PlxuYDtcblxuY29uc3QgZGVtb3RlX2l0ZW1zID0gZnVuY3Rpb24oZW5hYmxlZF93ZWlnaHQsZWxlbWVudHMsdmFsdWVzKSB7XG4gIGlmICggISB2YWx1ZXMgKSB7XG4gICAgZm9yIChsZXQgZWwgb2YgZWxlbWVudHMpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS13ZWlnaHQnKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIGZvciAobGV0IGVsIG9mIGVsZW1lbnRzKSB7XG4gICAgZWwucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIGlmICh2YWx1ZXMuaW5kZXhPZihlbC52YWx1ZSkgPj0gMCkge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLXdlaWdodCcsZW5hYmxlZF93ZWlnaHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtd2VpZ2h0JywnLTEnKTtcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IGRpc2FibGVfaXRlbXMgPSBmdW5jdGlvbihlbGVtZW50cyx2YWx1ZXMpIHtcbiAgaWYgKCAhIHZhbHVlcyApIHtcbiAgICBmb3IgKGxldCBlbCBvZiBlbGVtZW50cykge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgZm9yIChsZXQgZWwgb2YgZWxlbWVudHMpIHtcbiAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtd2VpZ2h0Jyk7XG4gICAgaWYgKHZhbHVlcy5pbmRleE9mKGVsLnZhbHVlKSA+PSAwKSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCcnKTtcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IGFkYXB0X2Zvcm0gPSBmdW5jdGlvbihlbGVtZW50cyx2YWx1ZXMpIHtcbiAgaWYgKHRoaXMuaGFzQXR0cmlidXRlKCdzdHJpY3QnKSkge1xuICAgIHJldHVybiBkaXNhYmxlX2l0ZW1zKGVsZW1lbnRzLHZhbHVlcyk7XG4gIH1cbiAgcmV0dXJuIGRlbW90ZV9pdGVtcyg0LGVsZW1lbnRzLHZhbHVlcyk7XG59O1xuXG5jb25zdCB1cGRhdGVfZG9ub3JzID0gYXN5bmMgZnVuY3Rpb24oZG9ub3JzKSB7XG4gIGxldCByZWFjdGlvbl9kb25vcnMgPSBkb25vcnMucmVhY3Rpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKCByZWFjID0+IHJlYWMuZGVsdGEuY29tcG9zaXRpb24oKS5sZW5ndGggPT0gMiApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKCByZWFjID0+IFtdLmNvbmNhdChyZWFjLmRlbHRhLmNvbXBvc2l0aW9uKCkpLnJldmVyc2UoKS5zaGlmdCgpLmlkZW50aWZpZXIgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlciggKG8saSxhKSA9PiBhLmluZGV4T2YobykgPT09IGkgKTtcbiAgY29uc3Qgdmlld2VyID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCd2aWV3ZXInKTtcbiAgbGV0IGRvbm9yX2Rlc2NyaXB0b3JzID0gdmlld2VyLmRvbm9ycy5jb25jYXQoIHJlYWN0aW9uX2Rvbm9ycy5maWx0ZXIoIGRvbm9yID0+IHZpZXdlci5kb25vcnMuaW5kZXhPZihkb25vcikgPCAwICkgKTtcbiAgbGV0IGNoYWluX2Rvbm9ycyA9IGRvbm9ycy5yZWFjdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoIHJlYWMgPT4gcmVhYy5kZWx0YS5jb21wb3NpdGlvbigpLmxlbmd0aCA+IDIgfHwgcmVhYy5kZWx0YS5yb290LmlkZW50aWZpZXIgIT09ICdSb290JyApO1xuXG4gIGxldCBkb25vcl9yZWFjdGlvbl9tYXAgPSBuZXcgTWFwKCk7XG5cbiAgZm9yIChsZXQgcmVhY3Rpb25zZXQgb2YgY2hhaW5fZG9ub3JzKSB7XG4gICAgZm9yIChsZXQgcmVhY3Rpb24gb2YgcmVhY3Rpb25zZXQucG9zaXRpdmUpIHtcbiAgICAgIGxldCByZWFjdGlvbl9zZXF1ZW5jZSA9IHJlYWN0aW9uLmRlbHRhLnNlcXVlbmNlLnJlcGxhY2UoL1xcKFthYnVdXFxkKy1cXGQrXFwpJC8sJycpO1xuICAgICAgaWYgKHJlYWN0aW9uLmRlbHRhLnJvb3QuaWRlbnRpZmllciAhPT0gJ1Jvb3QnKSB7XG4gICAgICAgIGxldCBkb25vcl9yZXMgPSByZWFjdGlvbi5kZWx0YS5yb290LmNoaWxkcmVuWzBdO1xuICAgICAgICBpZiAoICEgZG9ub3JfcmVzICkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJlYWN0aW9uX3NlcXVlbmNlID0gZG9ub3JfcmVzLnRvU3VnYXIocmVhY3Rpb24uZGVsdGEuY29uc3RydWN0b3IpLnNlcXVlbmNlO1xuICAgICAgfVxuICAgICAgaWYgKCAhIGRvbm9yX3JlYWN0aW9uX21hcC5oYXMocmVhY3Rpb25fc2VxdWVuY2UpICkge1xuICAgICAgICBkb25vcl9yZWFjdGlvbl9tYXAuc2V0KCByZWFjdGlvbl9zZXF1ZW5jZSwgbmV3IE1hcCgpKTtcbiAgICAgIH1cbiAgICAgIGRvbm9yX3JlYWN0aW9uX21hcC5nZXQocmVhY3Rpb25fc2VxdWVuY2UpLnNldChyZWFjdGlvbi5kZWx0YS5zZXF1ZW5jZSxyZWFjdGlvbik7XG4gICAgICBkb25vcl9kZXNjcmlwdG9ycy5wdXNoKCByZWFjdGlvbl9zZXF1ZW5jZSApO1xuICAgIH1cbiAgfVxuXG4gIHZpZXdlcltkb25vcl9tYXBfc3ltYm9sXSA9IGRvbm9yX3JlYWN0aW9uX21hcDtcblxuICBsZXQgdW5pcXVlX2Rvbm9ycyA9IGRvbm9yX2Rlc2NyaXB0b3JzLmZpbHRlciggKG8saSxhKSA9PiBhLmluZGV4T2YobykgPT09IGkgICk7XG4gIHJldHVybiB2aWV3ZXIuc2V0RG9ub3JzKHVuaXF1ZV9kb25vcnMpO1xufTtcblxubGV0IHdyaXRlX2xpbmsgPSBsaW5rID0+IHtcbiAgbGV0IGludF9saW5rID0gcGFyc2VJbnQobGluayk7XG5cbiAgaWYgKGludF9saW5rIDwgMCkge1xuICAgIGlmIChpbnRfbGluayA9PT0gTW9ub3NhY2NoYXJpZGUuTElOS0FHRVMuTykge1xuICAgICAgcmV0dXJuICdPJztcbiAgICB9XG4gICAgaWYoIGludF9saW5rID09PSBNb25vc2FjY2hhcmlkZS5MSU5LQUdFUy5OKSB7XG4gICAgICByZXR1cm4gJ04nO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaW50X2xpbmsgPD0gMCA/ICc/JyA6ICcnK2xpbms7XG59O1xuXG5mdW5jdGlvbiBleHRlbmRfc3VnYXIocmVzaWR1ZSxkb25vcl92YWx1ZSxhbm9tZXJfdmFsdWUsbGlua2FnZV92YWx1ZSkge1xuICBsZXQgc3VnID0gbmV3IEl1cGFjU3VnYXIoKTtcblxuICBzdWcuc2VxdWVuY2UgPSBkb25vcl92YWx1ZTtcblxuICBsZXQgbmV3X3JlcyA9IHN1Zy5yb290O1xuXG4gIG5ld19yZXMuYW5vbWVyID0gYW5vbWVyX3ZhbHVlO1xuXG4gIG5ld19yZXMucGFyZW50X2xpbmthZ2UgPSBkb25vcl92YWx1ZS5tYXRjaCgvTmV1KEdjfEFjKS8pID8gMiA6IDE7XG5cbiAgbGV0IGRlbHRhID0gYCR7c3VnLnNlcXVlbmNlfSgke25ld19yZXMuYW5vbWVyfSR7bmV3X3Jlcy5wYXJlbnRfbGlua2FnZX0tJHt3cml0ZV9saW5rKGxpbmthZ2VfdmFsdWUpfSlgO1xuXG4gIGxldCByZWFjdGlvbl9zdHJpbmcgPSBgJHtyZXNpZHVlLmlkZW50aWZpZXJ9KHU/LT8pKitcInske2RlbHRhfUB5MmF9XCJgO1xuXG4gIGxldCByZWFjdGlvbiA9IG5ldyBJdXBhY1JlYWN0aW9uKCk7XG4gIHJlYWN0aW9uLnNlcXVlbmNlID0gcmVhY3Rpb25fc3RyaW5nO1xuXG4gIGxldCBkb25vcl9tYXAgPSB0aGlzW2Rvbm9yX21hcF9zeW1ib2xdO1xuICBpZiAoZG9ub3JfbWFwLmhhcyhkb25vcl92YWx1ZSkpIHtcbiAgICBsZXQgZG9ub3JfcmVhY3Rpb25zID0gZG9ub3JfbWFwLmdldChkb25vcl92YWx1ZSk7XG4gICAgZm9yIChsZXQgZG9ub3JfcmVhY3Rpb24gb2YgZG9ub3JfcmVhY3Rpb25zLnZhbHVlcygpKSB7XG4gICAgICBsZXQgY2hpbGQgPSBkb25vcl9yZWFjdGlvbi5kZWx0YS5yb290LmNoaWxkcmVuWzBdO1xuICAgICAgbGV0IGNoaWxkX2xpbmthZ2UgPSBkb25vcl9yZWFjdGlvbi5kZWx0YS5yb290LmxpbmthZ2VPZihjaGlsZCk7XG4gICAgICBpZiAoY2hpbGQuYW5vbWVyID09IGFub21lcl92YWx1ZSAmJiBjaGlsZF9saW5rYWdlID09IGxpbmthZ2VfdmFsdWUpIHtcbiAgICAgICAgcmVhY3Rpb24gPSBkb25vcl9yZWFjdGlvbjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBsZXQgcmVuZGVyZXIgPSByZXNpZHVlLnJlbmRlcmVyO1xuICBpZiAoIChyZXNpZHVlIGluc3RhbmNlb2YgUmVwZWF0Lk1vbm9zYWNjaGFyaWRlKSAmJlxuICAgICAgIChyZXNpZHVlLnJlcGVhdC5tb2RlID09PSBSZXBlYXQuTU9ERV9NSU5JTUFMKSApIHtcbiAgICBpZiAoICghIHJlc2lkdWUuZW5kc1JlcGVhdCB8fCByZXNpZHVlLnJlcGVhdC5yb290LmlkZW50aWZpZXIgIT09IG5ld19yZXMuaWRlbnRpZmllcikgJiZcbiAgICAgICAgIChbJ0Z1YycsJ0hTTzMnXS5pbmRleE9mKG5ld19yZXMuaWRlbnRpZmllcikgPj0gMCkgKSB7XG4gICAgICByZWFjdGlvbi5leGVjdXRlKHJlbmRlcmVyLnN1Z2Fyc1swXSxyZXNpZHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIFsgLi4uc3VnLmNvbXBvc2l0aW9uKCkgXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcmVhY3Rpb24uZXhlY3V0ZShyZW5kZXJlci5zdWdhcnNbMF0scmVzaWR1ZSk7XG4gIH1cblxufVxuXG5jb25zdCByZXNldF9mb3JtX2Rpc2FibGVkID0gZnVuY3Rpb24od2lkZ2V0LHZpZXdlcikge1xuICBpZiAodmlld2VyLnJlbmRlcmVyLnN1Z2Fycy5sZW5ndGggPCAxKSB7XG4gICAgYWRhcHRfZm9ybS5jYWxsKHdpZGdldCwgWy4uLnZpZXdlci5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W25hbWU9XCJkb25vclwiXScpXSk7XG4gICAgcmV0dXJuXG4gIH1cbiAgbGV0IHN1Z2FyID0gdmlld2VyLnJlbmRlcmVyLnN1Z2Fyc1swXS5jbG9uZSgpO1xuICBzdWdhci5mcmVlemUoKTtcbiAgdmlld2VyLmF2YWlsYWJsZS5oaWdobGlnaHQoKTtcbiAgbGV0IHN1cHBvcnRlZCA9IHdpZGdldC5yZWFjdGlvbmdyb3VwLnN1cHBvcnRzTGlua2FnZUF0KHN1Z2FyKTtcbiAgaWYgKHZpZXdlci5mb3JtLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJkb25vclwiXScpKSB7XG4gICAgYWRhcHRfZm9ybS5jYWxsKHdpZGdldCxBcnJheS5mcm9tKHZpZXdlci5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W25hbWU9XCJkb25vclwiXScpKS5maWx0ZXIoZWwgPT4gZWwudmFsdWUgIT09ICdkZWxldGUnKSxzdXBwb3J0ZWQuZG9ub3IpO1xuICB9XG4gIGFkYXB0X2Zvcm0uY2FsbCh3aWRnZXQsWy4uLnZpZXdlci5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W25hbWU9XCJhbm9tZXJcIl0nKV0pO1xuICBhZGFwdF9mb3JtLmNhbGwod2lkZ2V0LFsuLi52aWV3ZXIuZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtuYW1lPVwibGlua2FnZVwiXScpXSk7XG59O1xuXG5jb25zdCB3aXJlX3N2aWV3ZXJfZXZlbnRzID0gZnVuY3Rpb24odmlld2VyKSB7XG4gIGNvbnN0IHdpZGdldCA9IHRoaXM7XG4gIGxldCBjaGFuZ2VkID0gZmFsc2U7XG4gIHZpZXdlci5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsZnVuY3Rpb24oKSB7XG4gICAgdmlld2VyLmF2YWlsYWJsZS5oaWdobGlnaHQoKTtcbiAgICBsZXQgcmVhY3Rpb25zID0gd2lkZ2V0LnJlYWN0aW9uZ3JvdXA7XG5cbiAgICBsZXQgZG9ub3JfdmFsID0gKHRoaXMucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImRvbm9yXCJdOmNoZWNrZWQnKSB8fCB7fSkudmFsdWUgPyB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJkb25vclwiXTpjaGVja2VkJykudmFsdWUgOiB1bmRlZmluZWQ7XG4gICAgbGV0IGxpbmthZ2VfdmFsID0gKHRoaXMucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImxpbmthZ2VcIl06Y2hlY2tlZCcpIHx8IHt9KS52YWx1ZSA/IHBhcnNlSW50KHRoaXMucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImxpbmthZ2VcIl06Y2hlY2tlZCcpLnZhbHVlKSA6IHVuZGVmaW5lZDtcbiAgICBsZXQgcmVzaWR1ZV92YWwgPSB0aGlzLnJlc2lkdWUgPyB0aGlzLnJlc2lkdWUgOiB1bmRlZmluZWQ7XG4gICAgbGV0IHN1Z2FyID0gdmlld2VyLnJlbmRlcmVyLnN1Z2Fyc1swXS5jbG9uZSgpO1xuICAgIHN1Z2FyLmZyZWV6ZSgpO1xuICAgIGlmIChyZXNpZHVlX3ZhbCkge1xuICAgICAgcmVzaWR1ZV92YWwgPSBzdWdhci5sb2NhdGVfbW9ub3NhY2NoYXJpZGUodmlld2VyLnJlbmRlcmVyLnN1Z2Fyc1swXS5sb2NhdGlvbl9mb3JfbW9ub3NhY2NoYXJpZGUocmVzaWR1ZV92YWwpKTtcbiAgICB9XG4gICAgbGV0IHN1cHBvcnRlZCA9IHJlYWN0aW9ucy5zdXBwb3J0c0xpbmthZ2VBdChzdWdhcixkb25vcl92YWwsbGlua2FnZV92YWwscmVzaWR1ZV92YWwpO1xuICAgIGlmIChzdXBwb3J0ZWQuc3Vic3RyYXRlKSB7XG4gICAgICB2aWV3ZXIuYXZhaWxhYmxlLmhpZ2hsaWdodChzdXBwb3J0ZWQuc3Vic3RyYXRlLm1hcCggcmVzID0+IHN1Z2FyLmxvY2F0aW9uX2Zvcl9tb25vc2FjY2hhcmlkZShyZXMpICkubWFwKCBsb2MgPT4gdmlld2VyLnJlbmRlcmVyLnN1Z2Fyc1swXS5sb2NhdGVfbW9ub3NhY2NoYXJpZGUobG9jKSApKTtcbiAgICB9XG4gICAgaWYgKHN1cHBvcnRlZC5hbm9tZXJsaW5rcyAmJiAodGhpcy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwiYW5vbWVyXCJdOmNoZWNrZWQnKSB8fCB7fSkudmFsdWUpIHtcbiAgICAgIGxldCBleGlzdGluZ19saW5rYWdlcyA9IFsuLi50aGlzLnJlc2lkdWUuY2hpbGRfbGlua2FnZXMua2V5cygpXTtcbiAgICAgIGxldCBhbm9tZXIgPSAodGhpcy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwiYW5vbWVyXCJdOmNoZWNrZWQnKSB8fCB7fSkudmFsdWU7XG4gICAgICBzdXBwb3J0ZWQubGlua2FnZSA9IHN1cHBvcnRlZC5hbm9tZXJsaW5rc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKCBsaW5rcGFpciA9PiBsaW5rcGFpci5tYXRjaChhbm9tZXIpIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCggbCA9PiBwYXJzZUludChsLnN1YnN0cigxKSkgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKCBsID0+IGV4aXN0aW5nX2xpbmthZ2VzLmluZGV4T2YobCkgPCAwKTtcbiAgICB9XG4gICAgYWRhcHRfZm9ybS5jYWxsKHdpZGdldCxbLi4udmlld2VyLmZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT1cImFub21lclwiXScpXSxzdXBwb3J0ZWQuYW5vbWVyKTtcbiAgICBhZGFwdF9mb3JtLmNhbGwod2lkZ2V0LFsuLi52aWV3ZXIuZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtuYW1lPVwibGlua2FnZVwiXScpXSxzdXBwb3J0ZWQubGlua2FnZS5tYXAoIGxpbmsgPT4gJycrbGluayApKTtcbiAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgfSk7XG4gIHZpZXdlci5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2V0JyxmdW5jdGlvbigpIHtcbiAgICB2aWV3ZXIuYXZhaWxhYmxlLmhpZ2hsaWdodCgpO1xuICAgIGlmICghIGNoYW5nZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHJlc2V0X2Zvcm1fZGlzYWJsZWQudGltZW91dCk7XG4gICAgcmVzZXRfZm9ybV9kaXNhYmxlZC50aW1lb3V0ID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSggcmVzZXRfZm9ybV9kaXNhYmxlZC5iaW5kKG51bGwsd2lkZ2V0LHZpZXdlcikgKTtcbiAgICBjaGFuZ2VkID0gZmFsc2U7XG4gIH0pO1xuXG59O1xuXG5pZiAod2luZG93LlNoYWR5Q1NTKSB7XG4gIFNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZSh0bXBsLCBFTEVNRU5UX05BTUUpO1xufVxuXG5jbGFzcyBTdWdhckJ1aWxkZXIgZXh0ZW5kcyBXcmFwSFRNTCB7XG4gIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuICAgIHJldHVybiBbJ3Jlc2l6YWJsZScsJ2xpbmtzJywnaG9yaXpvbnRhbCcsJ3N0cmljdCcsJ2xpbmthbmdsZXMnLCdyZW5kZXJlciddO1xuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICBsb2coJ0luaXRpYXRpbmcgU3VnYXJCdWlsZGVyIGVsZW1lbnQnKTtcbiAgfVxuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGlmICh3aW5kb3cuU2hhZHlDU1MpIHtcbiAgICAgIFNoYWR5Q1NTLnN0eWxlRWxlbWVudCh0aGlzKTtcbiAgICB9XG4gICAgbGV0IHNoYWRvd1Jvb3QgPSB0aGlzLmF0dGFjaFNoYWRvdyh7bW9kZTogJ29wZW4nfSk7XG4gICAgbGV0IHRlbXBsYXRlX2NvbnRlbnQgPSB0bXBsLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgIHRlbXBsYXRlX2NvbnRlbnQucXVlcnlTZWxlY3RvcignY2NnLWJ1aWxkZXInKS5zZXRBdHRyaWJ1dGUoJ3N1Z2FycycsdGhpcy5nZXRBdHRyaWJ1dGUoJ3N1Z2FycycpKTtcbiAgICBzaGFkb3dSb290LmFwcGVuZENoaWxkKHRlbXBsYXRlX2NvbnRlbnQpO1xuICAgIHdpcmVfc3ZpZXdlcl9ldmVudHMuY2FsbCh0aGlzLHNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ3ZpZXdlcicpKTtcbiAgICB0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjaygnaG9yaXpvbnRhbCcpO1xuICAgIHRoaXMuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKCdyZXNpemVhYmxlJyk7XG4gICAgdGhpcy5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soJ2xpbmthbmdsZXMnKTtcbiAgICB0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjaygnbGlua3MnKTtcbiAgICB0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjaygnc3VnYXJzJyk7XG5cbiAgICBpZiAodGhpcy5oYXNBdHRyaWJ1dGUoJ3JlYWN0aW9ucy1zcmMnKSkge1xuICAgICAgZmV0Y2godGhpcy5nZXRBdHRyaWJ1dGUoJ3JlYWN0aW9ucy1zcmMnKSB8fCAncmVhY3Rpb25zLmpzb24nKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAudGhlbigocmVhY3Rpb25zKSA9PiB0aGlzLnJlYWN0aW9ucyA9IHJlYWN0aW9ucyApXG4gICAgICAudGhlbiggKCkgPT4gcmVzZXRfZm9ybV9kaXNhYmxlZCh0aGlzLHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgndmlld2VyJykpICk7XG4gICAgfVxuXG4gICAgdGhpcy5yZWFjdGlvbmdyb3VwID0gUmVhY3Rpb25Hcm91cC5ncm91cEZyb21KU09OKHt9LEl1cGFjU3VnYXIpO1xuXG5cbiAgICBpZiAoIHRoaXMucmVhY3Rpb25ncm91cCApIHtcbiAgICAgIHVwZGF0ZV9kb25vcnMuY2FsbCh0aGlzLHRoaXMucmVhY3Rpb25ncm91cCkudGhlbiggKCkgPT4ge1xuICAgICAgICBpZiggdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCd2aWV3ZXInKS5wYWxldHRlX3JlYWR5X3Byb21pc2UgKSB7XG4gICAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCd2aWV3ZXInKS5wYWxldHRlX3JlYWR5X3Byb21pc2UudGhlbiggKCkgPT4ge1xuICAgICAgICAgICAgcmVzZXRfZm9ybV9kaXNhYmxlZCh0aGlzLHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgndmlld2VyJykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgc2VsZWN0aW9uX2hpZ2hsaWdodGVyID0gbmV3IEhpZ2hsaWdodGVyKHNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ3ZpZXdlcicpLCdhdmFpbGFibGUnKTtcbiAgICBzZWxlY3Rpb25faGlnaGxpZ2h0ZXIuc2V0U3RhdGVzKHtvcGFjaXR5OjB9LCB7IG9wYWNpdHk6IDEgfSk7XG4gICAgc2VsZWN0aW9uX2hpZ2hsaWdodGVyLmR1cmF0aW9uID0gMTA7XG4gICAgc2VsZWN0aW9uX2hpZ2hsaWdodGVyLmRyYXcgPSAoeyBhbmdsZSwgb3BhY2l0eSB9LHt4LCB5LCB3aWR0aCwgaGVpZ2h0LCB6b29tfSxjdHgpID0+IHtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5zZXRMaW5lRGFzaChbNSwgNV0pO1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IHBhcnNlRmxvYXQoKDIgLyBNYXRoLm1heCh6b29tLDEpKS50b0ZpeGVkKDIpKTtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGByZ2JhKDAsMCwwLDAuNSlgO1xuICAgICAgY3R4LmFyYyggeCswLjUqd2lkdGgseSswLjUqaGVpZ2h0LCAxLjIqd2lkdGgvMiwtMC41Kk1hdGguUEksIDIqTWF0aC5QSSwgZmFsc2UgKTtcbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9O1xuICAgIHNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ3ZpZXdlcicpLmF2YWlsYWJsZSA9IHNlbGVjdGlvbl9oaWdobGlnaHRlcjtcblxuICAgIHNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ3ZpZXdlcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChldikgPT4ge1xuICAgICAgbGV0IGV2ZW50ID0gbmV3IEV2ZW50KCdjaGFuZ2UnLHtidWJibGVzOiB0cnVlfSk7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH0pO1xuXG4gIH1cblxuICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSkge1xuICAgIGlmICggISB0aGlzLnNoYWRvd1Jvb3QgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChbJ2xpbmtzJywnaG9yaXpvbnRhbCcsJ3Jlc2l6ZWFibGUnLCdsaW5rYW5nbGVzJ10uaW5kZXhPZihuYW1lKSA+PSAwICkge1xuICAgICAgaWYgKHRoaXMuaGFzQXR0cmlidXRlKG5hbWUpKSB7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgndmlld2VyJykuc2V0QXR0cmlidXRlKG5hbWUsJycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCd2aWV3ZXInKS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChuYW1lID09PSAnbGlua2FuZ2xlcycpIHtcbiAgICAgIHRoaXMuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKCdsaW5rcycpO1xuICAgIH1cbiAgICBpZiAobmFtZSA9PT0gJ3JlbmRlcmVyJykge1xuICAgICAgaWYgKHRoaXMuaGFzQXR0cmlidXRlKG5hbWUpKSB7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgndmlld2VyJykuc2V0QXR0cmlidXRlKG5hbWUsdGhpcy5nZXRBdHRyaWJ1dGUobmFtZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCd2aWV3ZXInKS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChuYW1lID09PSAnc3RyaWN0Jykge1xuICAgICAgcmVzZXRfZm9ybV9kaXNhYmxlZCh0aGlzLHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgndmlld2VyJykpO1xuICAgIH1cbiAgfVxuXG4gIHNhdmVQTkcoKSB7XG4gICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCd2aWV3ZXInKS5zYXZlKCdwbmcnKTtcbiAgfVxuXG4gIHNhdmVTVkcoKSB7XG4gICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCd2aWV3ZXInKS5zYXZlKCdzdmcnKTtcbiAgfVxuXG4gIGFzeW5jIHRvRGF0YVVSTChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCd2aWV3ZXInKS50b0RhdGFVUkwoZm9ybWF0KTtcbiAgfVxuXG4gIHNldCBzZXF1ZW5jZShzZXF1ZW5jZSkge1xuICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgndmlld2VyJykuc2VxdWVuY2UgPSBzZXF1ZW5jZTtcbiAgICBzZXRUaW1lb3V0KCAoKSA9PiByZXNldF9mb3JtX2Rpc2FibGVkKHRoaXMsdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCd2aWV3ZXInKSksMTApO1xuICB9XG4gIGdldCBzZXF1ZW5jZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCd2aWV3ZXInKS5zZXF1ZW5jZTtcbiAgfVxuXG4gIGdldCB0ZXh0Q29udGVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5zZXF1ZW5jZTtcbiAgfVxuXG4gIGdldCBzdWdhcigpIHtcbiAgICByZXR1cm4gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCd2aWV3ZXInKS5yZW5kZXJlci5zdWdhcnNbMF07XG4gIH1cblxuICBnZXQgcmVwZWF0cygpIHtcbiAgICByZXR1cm4gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCd2aWV3ZXInKS5yZXBlYXRzO1xuICB9XG5cbiAgc2V0IHJlYWN0aW9ucyhyZWFjdGlvbnMpIHtcblxuICAgIHRoaXMucmVhY3Rpb25ncm91cCA9IFJlYWN0aW9uR3JvdXAuZ3JvdXBGcm9tSlNPTihyZWFjdGlvbnMsSXVwYWNTdWdhcik7XG4gICAgdXBkYXRlX2Rvbm9ycy5jYWxsKHRoaXMsdGhpcy5yZWFjdGlvbmdyb3VwKS50aGVuKCAoKSA9PiB7XG4gICAgICByZXNldF9mb3JtX2Rpc2FibGVkKHRoaXMsdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCd2aWV3ZXInKSk7XG4gICAgfSk7XG4gIH1cblxuICBnZXQgcmVhY3Rpb25zKCkge1xuICAgIHJldHVybiB0aGlzLnJlYWN0aW9uZ3JvdXA7XG4gIH1cblxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoRUxFTUVOVF9OQU1FLFN1Z2FyQnVpbGRlcik7XG5cbmV4cG9ydCBkZWZhdWx0IFN1Z2FyQnVpbGRlcjsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQURBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBMEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBbENBO0FBQUE7QUFBQTtBQW9DQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/builder.js\n");

/***/ }),

/***/ "./js/highlighter.js":
/*!***************************!*\
  !*** ./js/highlighter.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var es6_tween__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! es6-tween */ \"./node_modules/es6-tween/bundled/Tween.min.js\");\n/* harmony import */ var es6_tween__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(es6_tween__WEBPACK_IMPORTED_MODULE_0__);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar canvas_template = document.createElement('template');\ncanvas_template.innerHTML = \"\\n<canvas class=\\\"highlight_canvas\\\">\\n</canvas>\\n\";\nfunction create_canvas(viewer, identifier) {\n  var template_instance = canvas_template.content.cloneNode(true);\n  template_instance.querySelector('canvas').setAttribute('id', identifier);\n  var existing_highlight = viewer.shadowRoot.querySelector('canvas.highlight_canvas');\n  var new_canvas = template_instance.firstElementChild;\n  if (existing_highlight) {\n    existing_highlight.insertAdjacentElement('afterend', new_canvas);\n  } else {\n    viewer.shadowRoot.insertBefore(new_canvas, viewer.shadowRoot.firstElementChild);\n  }\n  return new_canvas;\n}\nfunction create_offscreen(target, scale_factor) {\n  var offScreenCanvas = document.createElement('canvas');\n  offScreenCanvas.width = target.width;\n  offScreenCanvas.height = target.height;\n  return offScreenCanvas;\n}\nvar active_tweens = new WeakMap();\nfunction performHighlight() {\n  var _this = this;\n  var residues = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var canv = this.canvas;\n  var ctx = canv.getContext('2d');\n  var zoom = Math.ceil(parseFloat((window.document.documentElement.clientWidth / window.innerWidth).toFixed(2)));\n  var scale_factor = Math.max(1, zoom);\n  if (active_tweens.get(this)) {\n    active_tweens.get(this).stop();\n    active_tweens.delete(this);\n  }\n  ctx.clearRect(0, 0, canv.width, canv.height);\n  var boundingrect = canv.getBoundingClientRect();\n  canv.width = scale_factor * boundingrect.width;\n  canv.height = scale_factor * boundingrect.height;\n  ctx.scale(scale_factor, scale_factor);\n  var offscreen = create_offscreen(canv, scale_factor);\n  var offscreen_ctx = offscreen.getContext('2d');\n  var renderer = this.viewer.renderer;\n  var {\n    start,\n    end\n  } = this.states;\n  var tween = new es6_tween__WEBPACK_IMPORTED_MODULE_0__[\"Tween\"](_objectSpread({}, start)).to(_objectSpread({}, end), this.duration);\n  tween.on('update', () => {\n    offscreen_ctx.clearRect(0, 0, canv.width, canv.height);\n  });\n  var _loop = function _loop(layout) {\n    if (!layout) {\n      return \"continue\";\n    }\n    var {\n      x,\n      y,\n      width,\n      height\n    } = renderer.screenCoordinatesFromLayout(layout);\n    x = x - boundingrect.left;\n    y = y - boundingrect.top;\n    tween.on('update', state => {\n      _this.draw(state, {\n        x,\n        y,\n        width,\n        height,\n        zoom\n      }, offscreen_ctx);\n    });\n  };\n  for (var layout of residues.map(res => renderer.layoutFor(res))) {\n    var _ret = _loop(layout);\n    if (_ret === \"continue\") continue;\n  }\n  Object(es6_tween__WEBPACK_IMPORTED_MODULE_0__[\"autoPlay\"])(true);\n  active_tweens.set(this, tween);\n  var tween_done = false;\n  tween.on('complete', () => {\n    tween_done = true;\n  });\n  var updater = () => {\n    ctx.clearRect(0, 0, canv.width, canv.height);\n    ctx.drawImage(offscreen, 0, 0);\n    if (!tween_done) {\n      window.requestAnimationFrame(updater);\n    }\n  };\n  window.requestAnimationFrame(updater);\n  tween.start();\n}\nvar canvas_symbol = Symbol('canvas');\nvar state_end = Symbol('state_end');\nvar state_start = Symbol('state_start');\nvar parent_viewer = Symbol('viewer');\nclass Highlighter {\n  constructor(viewer, identifier) {\n    this[parent_viewer] = viewer;\n    this[canvas_symbol] = create_canvas(viewer, identifier);\n    this.duration = 100;\n    this.draw = () => {};\n  }\n  get viewer() {\n    return this[parent_viewer];\n  }\n  get canvas() {\n    return this[canvas_symbol];\n  }\n  get identifier() {\n    return this.canvas.getAttribute('id');\n  }\n  highlight() {\n    var residues = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    return performHighlight.call(this, residues);\n  }\n  setStates(start, end) {\n    this[state_start] = Object.freeze(start);\n    this[state_end] = Object.freeze(end);\n  }\n  get states() {\n    return {\n      start: this[state_start],\n      end: this[state_end]\n    };\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (Highlighter);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9oaWdobGlnaHRlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzL2hpZ2hsaWdodGVyLmpzPzQzMjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVHdlZW4sIGF1dG9QbGF5IH0gZnJvbSAnZXM2LXR3ZWVuJztcblxuY29uc3QgY2FudmFzX3RlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcblxuY2FudmFzX3RlbXBsYXRlLmlubmVySFRNTCA9IGBcbjxjYW52YXMgY2xhc3M9XCJoaWdobGlnaHRfY2FudmFzXCI+XG48L2NhbnZhcz5cbmA7XG5cbmZ1bmN0aW9uIGNyZWF0ZV9jYW52YXModmlld2VyLGlkZW50aWZpZXIpIHtcbiAgbGV0IHRlbXBsYXRlX2luc3RhbmNlID0gY2FudmFzX3RlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICB0ZW1wbGF0ZV9pbnN0YW5jZS5xdWVyeVNlbGVjdG9yKCdjYW52YXMnKS5zZXRBdHRyaWJ1dGUoJ2lkJyxpZGVudGlmaWVyKTtcbiAgbGV0IGV4aXN0aW5nX2hpZ2hsaWdodCA9IHZpZXdlci5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcy5oaWdobGlnaHRfY2FudmFzJyk7XG4gIGxldCBuZXdfY2FudmFzID0gdGVtcGxhdGVfaW5zdGFuY2UuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gIGlmIChleGlzdGluZ19oaWdobGlnaHQpIHtcbiAgICAgZXhpc3RpbmdfaGlnaGxpZ2h0Lmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLG5ld19jYW52YXMpO1xuICB9IGVsc2Uge1xuICAgICB2aWV3ZXIuc2hhZG93Um9vdC5pbnNlcnRCZWZvcmUobmV3X2NhbnZhcyx2aWV3ZXIuc2hhZG93Um9vdC5maXJzdEVsZW1lbnRDaGlsZCk7XG4gIH1cbiAgcmV0dXJuIG5ld19jYW52YXM7XG59XG5cblxuZnVuY3Rpb24gY3JlYXRlX29mZnNjcmVlbih0YXJnZXQsc2NhbGVfZmFjdG9yKSB7XG4gICAgdmFyIG9mZlNjcmVlbkNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIG9mZlNjcmVlbkNhbnZhcy53aWR0aCA9IHRhcmdldC53aWR0aDtcbiAgICBvZmZTY3JlZW5DYW52YXMuaGVpZ2h0ID0gdGFyZ2V0LmhlaWdodDtcbiAgICByZXR1cm4gb2ZmU2NyZWVuQ2FudmFzO1xufVxuXG5jb25zdCBhY3RpdmVfdHdlZW5zID0gbmV3IFdlYWtNYXAoKTtcblxuZnVuY3Rpb24gcGVyZm9ybUhpZ2hsaWdodChyZXNpZHVlcz1bXSkge1xuICBsZXQgY2FudiA9IHRoaXMuY2FudmFzO1xuICBjb25zdCBjdHggPSBjYW52LmdldENvbnRleHQoJzJkJyk7XG4gIGNvbnN0IHpvb20gPSBNYXRoLmNlaWwocGFyc2VGbG9hdCgoIHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggLyB3aW5kb3cuaW5uZXJXaWR0aCkudG9GaXhlZCgyKSkpO1xuXG4gIGNvbnN0IHNjYWxlX2ZhY3RvciA9IE1hdGgubWF4KDEsem9vbSk7XG5cbiAgaWYgKGFjdGl2ZV90d2VlbnMuZ2V0KHRoaXMpKSB7XG4gICAgYWN0aXZlX3R3ZWVucy5nZXQodGhpcykuc3RvcCgpO1xuICAgIGFjdGl2ZV90d2VlbnMuZGVsZXRlKHRoaXMpO1xuICB9XG5cbiAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52LndpZHRoLCBjYW52LmhlaWdodCk7XG5cbiAgbGV0IGJvdW5kaW5ncmVjdCA9IGNhbnYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNhbnYud2lkdGggPSBzY2FsZV9mYWN0b3IqYm91bmRpbmdyZWN0LndpZHRoO1xuICBjYW52LmhlaWdodCA9IHNjYWxlX2ZhY3Rvcipib3VuZGluZ3JlY3QuaGVpZ2h0O1xuICBjdHguc2NhbGUoc2NhbGVfZmFjdG9yLHNjYWxlX2ZhY3Rvcik7XG5cbiAgbGV0IG9mZnNjcmVlbiA9IGNyZWF0ZV9vZmZzY3JlZW4oY2FudixzY2FsZV9mYWN0b3IpO1xuXG4gIGxldCBvZmZzY3JlZW5fY3R4ID0gb2Zmc2NyZWVuLmdldENvbnRleHQoJzJkJyk7XG5cbiAgbGV0IHJlbmRlcmVyID0gdGhpcy52aWV3ZXIucmVuZGVyZXI7XG5cbiAgbGV0IHtzdGFydCxlbmR9ID0gdGhpcy5zdGF0ZXM7XG5cbiAgbGV0IHR3ZWVuID0gbmV3IFR3ZWVuKHsuLi5zdGFydH0pXG4gIC50byh7Li4uZW5kfSwgdGhpcy5kdXJhdGlvbik7XG5cbiAgdHdlZW4ub24oJ3VwZGF0ZScsICgpID0+IHtcbiAgICBvZmZzY3JlZW5fY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52LndpZHRoLCBjYW52LmhlaWdodCk7XG4gIH0pO1xuXG4gIGZvciAobGV0IGxheW91dCBvZiByZXNpZHVlcy5tYXAoIHJlcyA9PiByZW5kZXJlci5sYXlvdXRGb3IocmVzKSApKSB7XG4gICAgaWYgKCAhIGxheW91dCApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGxldCB7eCx5LHdpZHRoLGhlaWdodH0gPSByZW5kZXJlci5zY3JlZW5Db29yZGluYXRlc0Zyb21MYXlvdXQobGF5b3V0KTtcblxuICAgIHggPSB4LWJvdW5kaW5ncmVjdC5sZWZ0O1xuICAgIHkgPSB5LWJvdW5kaW5ncmVjdC50b3A7XG5cbiAgICB0d2Vlbi5vbigndXBkYXRlJywgKHN0YXRlKSA9PiB7XG4gICAgICB0aGlzLmRyYXcoc3RhdGUse3gsIHksIHdpZHRoLCBoZWlnaHQsIHpvb20gfSxvZmZzY3JlZW5fY3R4KTtcbiAgICB9KTtcbiAgfVxuXG4gIGF1dG9QbGF5KHRydWUpO1xuICBhY3RpdmVfdHdlZW5zLnNldCh0aGlzLHR3ZWVuKTtcbiAgbGV0IHR3ZWVuX2RvbmUgPSBmYWxzZTtcbiAgdHdlZW4ub24oJ2NvbXBsZXRlJywgKCkgPT4ge1xuICAgIHR3ZWVuX2RvbmUgPSB0cnVlO1xuICB9KTtcblxuICBsZXQgdXBkYXRlciA9ICgpID0+IHtcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnYud2lkdGgsIGNhbnYuaGVpZ2h0KTtcbiAgICBjdHguZHJhd0ltYWdlKG9mZnNjcmVlbiwgMCwgMCk7XG4gICAgaWYgKCAhIHR3ZWVuX2RvbmUgKSB7XG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZXIpO1xuICAgIH1cbiAgfTtcbiAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGVyKTtcblxuICB0d2Vlbi5zdGFydCgpO1xuXG59XG5cbmNvbnN0IGNhbnZhc19zeW1ib2wgPSBTeW1ib2woJ2NhbnZhcycpO1xuY29uc3Qgc3RhdGVfZW5kID0gU3ltYm9sKCdzdGF0ZV9lbmQnKTtcbmNvbnN0IHN0YXRlX3N0YXJ0ID0gU3ltYm9sKCdzdGF0ZV9zdGFydCcpO1xuY29uc3QgcGFyZW50X3ZpZXdlciA9IFN5bWJvbCgndmlld2VyJyk7XG5cbmNsYXNzIEhpZ2hsaWdodGVyIHtcblxuICBjb25zdHJ1Y3Rvcih2aWV3ZXIsaWRlbnRpZmllcikge1xuICAgIHRoaXNbcGFyZW50X3ZpZXdlcl0gPSB2aWV3ZXI7XG4gICAgdGhpc1tjYW52YXNfc3ltYm9sXSA9IGNyZWF0ZV9jYW52YXModmlld2VyLGlkZW50aWZpZXIpO1xuICAgIHRoaXMuZHVyYXRpb24gPSAxMDBcbiAgICB0aGlzLmRyYXcgPSAoKSA9PiB7fVxuICB9XG5cbiAgZ2V0IHZpZXdlcigpIHtcbiAgICByZXR1cm4gdGhpc1twYXJlbnRfdmlld2VyXTtcbiAgfVxuXG4gIGdldCBjYW52YXMoKSB7XG4gICAgcmV0dXJuIHRoaXNbY2FudmFzX3N5bWJvbF07XG4gIH1cblxuICBnZXQgaWRlbnRpZmllcigpIHtcbiAgICByZXR1cm4gdGhpcy5jYW52YXMuZ2V0QXR0cmlidXRlKCdpZCcpO1xuICB9XG5cbiAgaGlnaGxpZ2h0KHJlc2lkdWVzPVtdKSB7XG4gICAgcmV0dXJuIHBlcmZvcm1IaWdobGlnaHQuY2FsbCh0aGlzLHJlc2lkdWVzKTtcbiAgfVxuXG4gIHNldFN0YXRlcyhzdGFydCxlbmQpIHtcbiAgICB0aGlzW3N0YXRlX3N0YXJ0XSA9IE9iamVjdC5mcmVlemUoc3RhcnQpO1xuICAgIHRoaXNbc3RhdGVfZW5kXSA9IE9iamVjdC5mcmVlemUoZW5kKTtcbiAgfVxuXG4gIGdldCBzdGF0ZXMoKSB7XG4gICAgcmV0dXJuIHsgc3RhcnQ6IHRoaXNbc3RhdGVfc3RhcnRdICwgZW5kOiB0aGlzW3N0YXRlX2VuZF0gfTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEhpZ2hsaWdodGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFFQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQVpBO0FBQUE7QUFBQTtBQWFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/highlighter.js\n");

/***/ }),

/***/ "./js/imagesaver.js":
/*!**************************!*\
  !*** ./js/imagesaver.js ***!
  \**************************/
/*! exports provided: default, prepare, download */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"prepare\", function() { return prepare; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"download\", function() { return download; });\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n/* globals document,MouseEvent,window,Blob,XMLSerializer,Image,HTMLCanvasElement */\n\nvar download = function download(uri) {\n  var filename = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'image.png';\n  var evt = new MouseEvent('click', {\n    view: window,\n    bubbles: false,\n    cancelable: true\n  });\n  var a = document.createElement('a');\n  document.body.appendChild(a);\n  a.style = 'display: none';\n  a.setAttribute('download', filename);\n  a.setAttribute('href', uri);\n  a.dispatchEvent(evt);\n};\nvar rect_tmpl = document.createElement('template');\nrect_tmpl.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\"><rect  x=\"0\" y=\"0\" width=\"100\" height=\"100\" fill=\"#fff\" opacity=\"0\" /></svg>';\nvar save = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* (widget, svg) {\n    var format = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'png';\n    var filename = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'image';\n    var data = yield prepare(widget, svg, format);\n    download(data, \"\".concat(filename, \".\").concat(format));\n  });\n  return function save(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar prepare = function prepare(widget, svg) {\n  var format = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'png';\n  if (format === 'png' && svg instanceof HTMLCanvasElement) {\n    var uri = svg.toDataURL('image/png').replace('image/png', 'image/octet-stream');\n    return Promise.resolve(uri);\n  }\n  var canvas = document.createElement('canvas');\n  canvas.width = widget.getBoundingClientRect().width;\n  canvas.height = widget.getBoundingClientRect().height;\n  var ctx = canvas.getContext('2d');\n  var new_svg = svg.cloneNode(true);\n  if (widget.shadowRoot.getElementById('icons')) {\n    var defs = widget.shadowRoot.getElementById('icons').querySelector('defs');\n    new_svg.appendChild(defs.cloneNode(true));\n    for (var extra_svg of [...new_svg.querySelectorAll('defs > svg')]) {\n      extra_svg.parentNode.removeChild(extra_svg);\n    }\n    for (var symbol of new_svg.querySelectorAll('defs symbol')) {\n      symbol.insertBefore(rect_tmpl.content.cloneNode(true).firstChild.firstChild, symbol.firstChild);\n    }\n  }\n  for (var strokes of new_svg.querySelectorAll('symbol *[stroke-width]')) {\n    if (strokes.getAttribute('fill') === 'none') {\n      continue;\n    }\n  }\n  for (var use of new_svg.querySelectorAll('use')) {\n    use.setAttribute('xlink:href', use.getAttribute('xlink:href').replace(/.*#/, '#'));\n  }\n  var data = new XMLSerializer().serializeToString(new_svg);\n  if (format === 'svg') {\n    if (!data.match(/^<svg[^>]+xmlns=\"http\\:\\/\\/www\\.w3\\.org\\/2000\\/svg\"/)) {\n      data = data.replace(/^<svg/, '<svg xmlns=\"http://www.w3.org/2000/svg\"');\n    }\n    if (!data.match(/^<svg[^>]+\"http\\:\\/\\/www\\.w3\\.org\\/1999\\/xlink\"/)) {\n      data = data.replace(/^<svg/, '<svg xmlns:xlink=\"http://www.w3.org/1999/xlink\"');\n    }\n\n    //add xml declaration\n    data = '<?xml version=\"1.0\" standalone=\"no\"?>\\r\\n' + data;\n    return Promise.resolve('data:image/svg+xml;charset=utf-8,' + encodeURIComponent(data));\n  }\n  var img = new Image();\n  var svgBlob = new Blob([data], {\n    type: 'image/svg+xml;charset=utf-8'\n  });\n  var url = window.URL.createObjectURL(svgBlob);\n  return new Promise(resolve => {\n    img.onload = function () {\n      ctx.drawImage(img, 0, 0);\n      window.URL.revokeObjectURL(url);\n      var uri = canvas.toDataURL('image/png').replace('image/png', 'image/octet-stream');\n      resolve(uri);\n    };\n    img.src = url;\n  });\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (save);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9pbWFnZXNhdmVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvaW1hZ2VzYXZlci5qcz81MWI5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbHMgZG9jdW1lbnQsTW91c2VFdmVudCx3aW5kb3csQmxvYixYTUxTZXJpYWxpemVyLEltYWdlLEhUTUxDYW52YXNFbGVtZW50ICovXG5cbmxldCBkb3dubG9hZCA9ICh1cmksZmlsZW5hbWU9J2ltYWdlLnBuZycpID0+IHtcbiAgdmFyIGV2dCA9IG5ldyBNb3VzZUV2ZW50KCdjbGljaycsIHtcbiAgICB2aWV3OiB3aW5kb3csXG4gICAgYnViYmxlczogZmFsc2UsXG4gICAgY2FuY2VsYWJsZTogdHJ1ZVxuICB9KTtcbiAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gIGEuc3R5bGUgPSAnZGlzcGxheTogbm9uZSc7XG4gIGEuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIGZpbGVuYW1lKTtcbiAgYS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCB1cmkpO1xuICBhLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbn07XG5cbmNvbnN0IHJlY3RfdG1wbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG5cbnJlY3RfdG1wbC5pbm5lckhUTUwgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHJlY3QgIHg9XCIwXCIgeT1cIjBcIiB3aWR0aD1cIjEwMFwiIGhlaWdodD1cIjEwMFwiIGZpbGw9XCIjZmZmXCIgb3BhY2l0eT1cIjBcIiAvPjwvc3ZnPic7XG5cbmxldCBzYXZlID0gYXN5bmMgKHdpZGdldCxzdmcsZm9ybWF0PSdwbmcnLGZpbGVuYW1lPSdpbWFnZScpID0+IHtcbiAgbGV0IGRhdGEgPSBhd2FpdCBwcmVwYXJlKHdpZGdldCxzdmcsZm9ybWF0KTtcbiAgZG93bmxvYWQoZGF0YSxgJHtmaWxlbmFtZX0uJHtmb3JtYXR9YCk7XG59XG5cbmxldCBwcmVwYXJlID0gKHdpZGdldCxzdmcsZm9ybWF0PSdwbmcnKSA9PiB7XG4gIGlmIChmb3JtYXQgPT09ICdwbmcnICYmIChzdmcgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkpIHtcbiAgICBsZXQgdXJpID0gc3ZnLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJykucmVwbGFjZSgnaW1hZ2UvcG5nJywgJ2ltYWdlL29jdGV0LXN0cmVhbScpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodXJpKTtcbiAgfVxuICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gIGNhbnZhcy53aWR0aD13aWRnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gIGNhbnZhcy5oZWlnaHQ9d2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgbGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICBsZXQgbmV3X3N2ZyA9IHN2Zy5jbG9uZU5vZGUodHJ1ZSk7XG4gIGlmICh3aWRnZXQuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnaWNvbnMnKSkge1xuICAgIGxldCBkZWZzID0gd2lkZ2V0LnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ2ljb25zJykucXVlcnlTZWxlY3RvcignZGVmcycpO1xuICAgIG5ld19zdmcuYXBwZW5kQ2hpbGQoZGVmcy5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgIGZvciAobGV0IGV4dHJhX3N2ZyBvZiBbLi4ubmV3X3N2Zy5xdWVyeVNlbGVjdG9yQWxsKCdkZWZzID4gc3ZnJyldKSB7XG4gICAgICBleHRyYV9zdmcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChleHRyYV9zdmcpO1xuICAgIH1cbiAgICBmb3IgKGxldCBzeW1ib2wgb2YgbmV3X3N2Zy5xdWVyeVNlbGVjdG9yQWxsKCdkZWZzIHN5bWJvbCcpKSB7XG4gICAgICBzeW1ib2wuaW5zZXJ0QmVmb3JlKHJlY3RfdG1wbC5jb250ZW50LmNsb25lTm9kZSh0cnVlKS5maXJzdENoaWxkLmZpcnN0Q2hpbGQsIHN5bWJvbC5maXJzdENoaWxkKTtcbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgc3Ryb2tlcyBvZiBuZXdfc3ZnLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N5bWJvbCAqW3N0cm9rZS13aWR0aF0nKSkge1xuICAgIGlmIChzdHJva2VzLmdldEF0dHJpYnV0ZSgnZmlsbCcpID09PSAnbm9uZScpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IHVzZSBvZiBuZXdfc3ZnLnF1ZXJ5U2VsZWN0b3JBbGwoJ3VzZScpKSB7XG4gICAgdXNlLnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsdXNlLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpLnJlcGxhY2UoLy4qIy8sJyMnKSk7XG4gIH1cbiAgbGV0IGRhdGEgPSAobmV3IFhNTFNlcmlhbGl6ZXIoKSkuc2VyaWFsaXplVG9TdHJpbmcobmV3X3N2Zyk7XG5cbiAgaWYgKGZvcm1hdCA9PT0gJ3N2ZycpIHtcbiAgICBpZighZGF0YS5tYXRjaCgvXjxzdmdbXj5dK3htbG5zPVwiaHR0cFxcOlxcL1xcL3d3d1xcLnczXFwub3JnXFwvMjAwMFxcL3N2Z1wiLykpe1xuICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKC9ePHN2Zy8sICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIicpO1xuICAgIH1cbiAgICBpZighZGF0YS5tYXRjaCgvXjxzdmdbXj5dK1wiaHR0cFxcOlxcL1xcL3d3d1xcLnczXFwub3JnXFwvMTk5OVxcL3hsaW5rXCIvKSl7XG4gICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoL148c3ZnLywgJzxzdmcgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCInKTtcbiAgICB9XG5cbiAgICAvL2FkZCB4bWwgZGVjbGFyYXRpb25cbiAgICBkYXRhID0gJzw/eG1sIHZlcnNpb249XCIxLjBcIiBzdGFuZGFsb25lPVwibm9cIj8+XFxyXFxuJyArIGRhdGE7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCdkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwnK2VuY29kZVVSSUNvbXBvbmVudChkYXRhKSk7XG4gIH1cblxuICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG4gIHZhciBzdmdCbG9iID0gbmV3IEJsb2IoW2RhdGFdLCB7dHlwZTogJ2ltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCd9KTtcbiAgdmFyIHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKHN2Z0Jsb2IpO1xuXG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKCByZXNvbHZlID0+IHtcbiAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xuICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcblxuICAgICAgbGV0IHVyaSA9IGNhbnZhc1xuICAgICAgICAgIC50b0RhdGFVUkwoJ2ltYWdlL3BuZycpXG4gICAgICAgICAgLnJlcGxhY2UoJ2ltYWdlL3BuZycsICdpbWFnZS9vY3RldC1zdHJlYW0nKTtcbiAgICAgIHJlc29sdmUodXJpKTtcbiAgICB9O1xuICAgIGltZy5zcmMgPSB1cmw7XG4gIH0pO1xuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBzYXZlO1xuZXhwb3J0IHsgcHJlcGFyZSwgZG93bmxvYWQgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSEE7QUFBQTtBQUFBO0FBS0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./js/imagesaver.js\n");

/***/ }),

/***/ "./js/sugarframe.js":
/*!**************************!*\
  !*** ./js/sugarframe.js ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var debug_any_level__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! debug-any-level */ \"./node_modules/debug-any-level/index.js\");\n/* harmony import */ var debug_any_level__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(debug_any_level__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var glycan_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! glycan.js */ \"../glycan.js/js/main.js\");\n/* harmony import */ var _imagesaver__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./imagesaver */ \"./js/imagesaver.js\");\n/* globals document,HTMLElement,customElements,window,ShadyCSS,CustomEvent */\n\n\n\n\n\nvar ELEMENT_NAME = 'ccg-sugarframe';\nvar module_string = 'sviewer:sugarframe';\nvar log = debug_any_level__WEBPACK_IMPORTED_MODULE_0__(module_string);\nvar Iupac = glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"CondensedIupac\"].IO;\nvar IupacSugar = Iupac(glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"Sugar\"]);\nvar NLINKED_CORE = new IupacSugar();\nNLINKED_CORE.sequence = 'Man(a1-3)[Man(a1-6)]Man(b1-4)GlcNAc(b1-4)GlcNAc(b1-N)Asn';\nfunction WrapHTML() {\n  return Reflect.construct(HTMLElement, [], Object.getPrototypeOf(this).constructor);\n}\nObject.setPrototypeOf(WrapHTML.prototype, HTMLElement.prototype);\nObject.setPrototypeOf(WrapHTML, HTMLElement);\nvar highlight_filter = Symbol('highlight');\nvar tmpl = document.createElement('template');\ntmpl.innerHTML = \"\\n<style>\\n  :host {\\n    display: block;\\n    position: relative;\\n    --highlight-stroke: #000;\\n    --highlight-stroke-opacity: 1;\\n    --highlight-fill-opacity: 1;\\n    --highlight-fill: #fff;\\n  }\\n\\n  :host div#styles {\\n    display: none;\\n  }\\n\\n\\n  #styles {\\n    display: none;\\n  }\\n  #targetsvg {\\n    width: 100%;\\n    height: 100%;\\n  }\\n  #output {\\n    display: block;\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    margin: auto;\\n    height: 100%;\\n    width: 100%;\\n  }\\n</style>\\n\\n<div id=\\\"styles\\\">\\n<slot></slot>\\n</div>\\n<div id=\\\"output\\\">\\n</div>\\n\";\nvar targetsvg_tmpl = document.createElement('template');\ntargetsvg_tmpl.innerHTML = '<object id=\"targetsvg\" type=\"image/svg+xml\"></object>';\nvar FILTER_TEXT = \"\\n  <feColorMatrix mode=\\\"matrix\\\" in=\\\"SourceGraphic\\\" values=\\\"0 0 0 0 0\\n                                                          0 0 0 0 0\\n                                                          0 0 0 0 0\\n                                                          0 0 0 1 0\\\" result=\\\"blacksource\\\"/>\\n  <feGaussianBlur in=\\\"blacksource\\\" stdDeviation=\\\"10\\\" result=\\\"blur\\\" />\\n  <feColorMatrix mode=\\\"matrix\\\" in=\\\"blur\\\" values=\\\"0 0 0 0 0\\n                                                 0 0 0 0 0\\n                                                 0 0 0 0 0\\n                                                 0 0 0 30 -3\\\" result=\\\"contrastup\\\"/>\\n  <feMorphology operator=\\\"dilate\\\" in=\\\"contrastup\\\" radius=\\\"3\\\"/>\\n  <feColorMatrix mode=\\\"matrix\\\"           values=\\\"0 0 0 0 1\\n                                                 0 0 0 0 1\\n                                                 0 0 0 0 1\\n                                                 0 0 0 0.3 0\\\" result=\\\"feather_back\\\"/>\\n  <feMorphology operator=\\\"dilate\\\" in=\\\"feather_back\\\" radius=\\\"5\\\"/>\\n  <feColorMatrix mode=\\\"matrix\\\" values=\\\"0 0 0 0 0.1\\n                                       0 0 0 0 0.1\\n                                       0 0 0 0 0.1\\n                                       0 0 0 1 0\\\" result=\\\"outeroutline\\\"/>\\n  <feComposite in2=\\\"outeroutline\\\" in=\\\"feather_back\\\" result=\\\"outline\\\"/>\\n  <feComposite in2=\\\"outline\\\" in=\\\"SourceGraphic\\\"/>\\n\";\nvar sugar_glow_filter_tmpl = \"\\n   <feOffset in=\\\"SourceAlpha\\\" dx=\\\"0\\\" dy=\\\"0\\\" result=\\\"offset\\\" />\\n  <feFlood flood-color=\\\"rgba(255,255,255,0.3)\\\" result=\\\"white\\\"/>\\n  <feComposite in2=\\\"offset\\\" in=\\\"white\\\" operator=\\\"in\\\" result=\\\"matrix\\\"/>\\n<feGaussianBlur in=\\\"matrix\\\" stdDeviation=\\\"4\\\" result=\\\"blur\\\"/>\\n<feComposite in2=\\\"SourceGraphic\\\" in=\\\"blur\\\" operator=\\\"over\\\"/>\\n<feComposite in2=\\\"SourceGraphic\\\" operator=\\\"in\\\"/>\\n\";\nvar hex_to_component = hex => {\n  // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n  var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  hex = hex.replace(shorthandRegex, function (m, r, g, b) {\n    return r + r + g + g + b + b;\n  });\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : null;\n};\nvar mixin_colours = (hex, opacity) => {\n  var c = hex_to_component(hex.replace(/^\\s+/, ''));\n  return \"0 0 0 0 \".concat((c.r / 255).toFixed(1), \" 0 0 0 0 \").concat((c.g / 255).toFixed(1), \" 0 0 0 0 \").concat((c.b / 255).toFixed(1), \" 0 0 0 \").concat(opacity, \" 0\");\n};\nvar update_highlight_colours = function update_highlight_colours() {\n  var filter = this[highlight_filter];\n  var actual_style = window.getComputedStyle(this);\n  var stroke = actual_style.getPropertyValue('--highlight-stroke');\n  var fill = actual_style.getPropertyValue('--highlight-fill');\n  var stroke_opacity = actual_style.getPropertyValue('--highlight-stroke-opacity');\n  var fill_opacity = actual_style.getPropertyValue('--highlight-fill-opacity');\n  filter.querySelector('feColorMatrix[result=\"outeroutline\"]').setAttribute('values', mixin_colours(stroke, stroke_opacity));\n  filter.querySelector('feColorMatrix[result=\"feather_back\"]').setAttribute('values', mixin_colours(fill, fill_opacity));\n};\nvar make_filter = function make_filter(svg) {\n  var filter = svg.createElementNS('http://www.w3.org/2000/svg', 'filter');\n  filter.innerHTML = FILTER_TEXT;\n  filter.setAttribute('id', 'highlight');\n  filter.setAttribute('filterUnits', 'objectBoundingBox');\n  filter.setAttribute('y', '-40%');\n  filter.setAttribute('x', '-40%');\n  filter.setAttribute('width', '180%');\n  filter.setAttribute('height', '180%');\n  this[highlight_filter] = filter;\n  svg.documentElement.appendChild(filter);\n  var glow_filter = svg.createElementNS('http://www.w3.org/2000/svg', 'filter');\n  glow_filter.innerHTML = sugar_glow_filter_tmpl;\n  glow_filter.setAttribute('id', 'sugar_glow');\n  svg.documentElement.appendChild(glow_filter);\n  update_highlight_colours.call(this);\n};\nvar copy_styles = function copy_styles() {\n  var svg = this.shadowRoot.querySelector('object').contentDocument;\n  var styleElement = svg.createElementNS('http://www.w3.org/2000/svg', 'style');\n  styleElement.textContent = this.shadowRoot.querySelector('slot').assignedNodes().map(node => node.textContent).join('\\n');\n  svg.documentElement.appendChild(styleElement);\n  make_filter.call(this, svg);\n};\nvar bind_load_event = function bind_load_event(el) {\n  el.addEventListener('load', () => {\n    if (el.contentDocument.documentElement.tagName.toUpperCase() !== 'SVG') {\n      this.dispatchEvent(new CustomEvent('error', {\n        bubbles: true\n      }));\n      return;\n    }\n    var [,, width, height] = (el.contentDocument.documentElement.getAttribute('viewBox') || '').split(' ');\n    if (width && height) {\n      this.style.aspectRatio = \"\".concat(width, \" / \").concat(height);\n      if (parseFloat(width) / parseFloat(height) > 1) {\n        this.setAttribute('aspect', 'landscape');\n      } else {\n        this.setAttribute('aspect', 'portrait');\n      }\n    }\n    copy_styles.call(this);\n    this.renderer = glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"SVGRenderer\"].fromSVGElement(el.contentDocument.documentElement, this.constructor.SugarClass);\n    for (var sugar of this.renderer.sugars) {\n      sugar.freeze();\n    }\n    this.tagSupported();\n    this.dispatchEvent(new CustomEvent('load', {\n      bubbles: true\n    }));\n  });\n};\nvar add_target_svg = function add_target_svg() {\n  var current_target = this.shadowRoot.getElementById('targetsvg');\n  if (current_target) {\n    current_target.parentNode.removeChild(current_target);\n  }\n  this.shadowRoot.querySelector('#output').appendChild(targetsvg_tmpl.content.cloneNode(true));\n  current_target = this.shadowRoot.getElementById('targetsvg');\n  bind_load_event.call(this, current_target);\n  current_target.setAttribute('data', this.getAttribute('src'));\n};\nclass SugarFrame extends WrapHTML {\n  static get SugarClass() {\n    return IupacSugar;\n  }\n  static get observedAttributes() {\n    return ['src'];\n  }\n  constructor() {\n    super();\n    if (window.ShadyCSS) {\n      ShadyCSS.prepareTemplate(tmpl, this.tagName.toLowerCase());\n    }\n    log('Initiating SugarFrame element');\n  }\n  connectedCallback() {\n    if (window.ShadyCSS) {\n      ShadyCSS.styleElement(this);\n    }\n    var shadowRoot = this.attachShadow({\n      mode: 'open'\n    });\n    shadowRoot.appendChild(tmpl.content.cloneNode(true));\n    add_target_svg.call(this);\n  }\n  attributeChangedCallback(name) {\n    if (!this.shadowRoot) {\n      return;\n    }\n    if ([].indexOf(name) >= 0) {\n      if (this.hasAttribute(name)) {\n        this.shadowRoot.getElementById('viewer').setAttribute(name, '');\n      } else {\n        this.shadowRoot.getElementById('viewer').removeAttribute(name);\n      }\n    }\n    if (name === 'src') {\n      add_target_svg.call(this);\n    }\n  }\n  save() {\n    var format = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'svg';\n    Object(_imagesaver__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, this.renderer.element.canvas, format);\n  }\n  tagSupported() {\n    var tag_symbol = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Symbol('supported');\n    var cacheKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    if (!this.reactions) {\n      return;\n    }\n    this.renderer.groupTag = tag_symbol;\n    this.renderer.sugars.forEach(sug => {\n      this.reactions.supportLinkages(sug, this.reactions.reactions, tag_symbol, cacheKey);\n      sug.root.setTag(tag_symbol);\n      for (var residue of sug.breadth_first_traversal()) {\n        if (!residue.parent) {\n          continue;\n        }\n        if (!residue.parent.getTag(tag_symbol)) {\n          residue.setTag(tag_symbol, null);\n        }\n      }\n    });\n    this.renderer.refresh();\n  }\n  set reactions(reactions) {\n    if (!reactions) {\n      return;\n    }\n    this.reactiongroup = glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"ReactionGroup\"].groupFromJSON(reactions, IupacSugar);\n    if (this.renderer) {\n      this.tagSupported();\n    }\n  }\n  get reactions() {\n    return this.reactiongroup;\n  }\n}\ncustomElements.define(ELEMENT_NAME, SugarFrame);\n/* harmony default export */ __webpack_exports__[\"default\"] = (SugarFrame);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9zdWdhcmZyYW1lLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvc3VnYXJmcmFtZS5qcz8wNDE2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbHMgZG9jdW1lbnQsSFRNTEVsZW1lbnQsY3VzdG9tRWxlbWVudHMsd2luZG93LFNoYWR5Q1NTLEN1c3RvbUV2ZW50ICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCAqIGFzIGRlYnVnIGZyb20gJ2RlYnVnLWFueS1sZXZlbCc7XG5cbmltcG9ydCB7IENvbmRlbnNlZEl1cGFjLCBTdWdhciwgU1ZHUmVuZGVyZXIsIFJlYWN0aW9uLCBSZWFjdGlvbkdyb3VwIH0gZnJvbSAnZ2x5Y2FuLmpzJztcblxuaW1wb3J0IEltYWdlU2F2ZXIgZnJvbSAnLi9pbWFnZXNhdmVyJztcblxuY29uc3QgRUxFTUVOVF9OQU1FID0gJ2NjZy1zdWdhcmZyYW1lJztcblxuY29uc3QgbW9kdWxlX3N0cmluZz0nc3ZpZXdlcjpzdWdhcmZyYW1lJztcblxuY29uc3QgbG9nID0gZGVidWcobW9kdWxlX3N0cmluZyk7XG5cbmNvbnN0IEl1cGFjID0gQ29uZGVuc2VkSXVwYWMuSU87XG5cbmNvbnN0IEl1cGFjU3VnYXIgPSBJdXBhYyhTdWdhcik7XG5cbmNvbnN0IE5MSU5LRURfQ09SRSA9IG5ldyBJdXBhY1N1Z2FyKCk7XG5OTElOS0VEX0NPUkUuc2VxdWVuY2UgPSAnTWFuKGExLTMpW01hbihhMS02KV1NYW4oYjEtNClHbGNOQWMoYjEtNClHbGNOQWMoYjEtTilBc24nO1xuXG5mdW5jdGlvbiBXcmFwSFRNTCgpIHsgcmV0dXJuIFJlZmxlY3QuY29uc3RydWN0KEhUTUxFbGVtZW50LCBbXSwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKTsgfVxuT2JqZWN0LnNldFByb3RvdHlwZU9mKFdyYXBIVE1MLnByb3RvdHlwZSwgSFRNTEVsZW1lbnQucHJvdG90eXBlKTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihXcmFwSFRNTCwgSFRNTEVsZW1lbnQpO1xuXG5jb25zdCBoaWdobGlnaHRfZmlsdGVyID0gU3ltYm9sKCdoaWdobGlnaHQnKTtcblxuY29uc3QgdG1wbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG5cbnRtcGwuaW5uZXJIVE1MID0gYFxuPHN0eWxlPlxuICA6aG9zdCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIC0taGlnaGxpZ2h0LXN0cm9rZTogIzAwMDtcbiAgICAtLWhpZ2hsaWdodC1zdHJva2Utb3BhY2l0eTogMTtcbiAgICAtLWhpZ2hsaWdodC1maWxsLW9wYWNpdHk6IDE7XG4gICAgLS1oaWdobGlnaHQtZmlsbDogI2ZmZjtcbiAgfVxuXG4gIDpob3N0IGRpdiNzdHlsZXMge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cblxuXG4gICNzdHlsZXMge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cbiAgI3RhcmdldHN2ZyB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG4gICNvdXRwdXQge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcbiAgICByaWdodDogMDtcbiAgICBib3R0b206IDA7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuPC9zdHlsZT5cblxuPGRpdiBpZD1cInN0eWxlc1wiPlxuPHNsb3Q+PC9zbG90PlxuPC9kaXY+XG48ZGl2IGlkPVwib3V0cHV0XCI+XG48L2Rpdj5cbmA7XG5cbmNvbnN0IHRhcmdldHN2Z190bXBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcblxudGFyZ2V0c3ZnX3RtcGwuaW5uZXJIVE1MID0gJzxvYmplY3QgaWQ9XCJ0YXJnZXRzdmdcIiB0eXBlPVwiaW1hZ2Uvc3ZnK3htbFwiPjwvb2JqZWN0Pic7XG5cbmNvbnN0IEZJTFRFUl9URVhUID0gYFxuICA8ZmVDb2xvck1hdHJpeCBtb2RlPVwibWF0cml4XCIgaW49XCJTb3VyY2VHcmFwaGljXCIgdmFsdWVzPVwiMCAwIDAgMCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCAwIDAgMCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCAwIDAgMCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCAwIDAgMSAwXCIgcmVzdWx0PVwiYmxhY2tzb3VyY2VcIi8+XG4gIDxmZUdhdXNzaWFuQmx1ciBpbj1cImJsYWNrc291cmNlXCIgc3RkRGV2aWF0aW9uPVwiMTBcIiByZXN1bHQ9XCJibHVyXCIgLz5cbiAgPGZlQ29sb3JNYXRyaXggbW9kZT1cIm1hdHJpeFwiIGluPVwiYmx1clwiIHZhbHVlcz1cIjAgMCAwIDAgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAgMCAwIDAgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAgMCAwIDAgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAgMCAwIDMwIC0zXCIgcmVzdWx0PVwiY29udHJhc3R1cFwiLz5cbiAgPGZlTW9ycGhvbG9neSBvcGVyYXRvcj1cImRpbGF0ZVwiIGluPVwiY29udHJhc3R1cFwiIHJhZGl1cz1cIjNcIi8+XG4gIDxmZUNvbG9yTWF0cml4IG1vZGU9XCJtYXRyaXhcIiAgICAgICAgICAgdmFsdWVzPVwiMCAwIDAgMCAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCAwIDAgMCAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCAwIDAgMCAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCAwIDAgMC4zIDBcIiByZXN1bHQ9XCJmZWF0aGVyX2JhY2tcIi8+XG4gIDxmZU1vcnBob2xvZ3kgb3BlcmF0b3I9XCJkaWxhdGVcIiBpbj1cImZlYXRoZXJfYmFja1wiIHJhZGl1cz1cIjVcIi8+XG4gIDxmZUNvbG9yTWF0cml4IG1vZGU9XCJtYXRyaXhcIiB2YWx1ZXM9XCIwIDAgMCAwIDAuMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCAwIDAgMCAwLjFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAgMCAwIDAgMC4xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwIDAgMCAxIDBcIiByZXN1bHQ9XCJvdXRlcm91dGxpbmVcIi8+XG4gIDxmZUNvbXBvc2l0ZSBpbjI9XCJvdXRlcm91dGxpbmVcIiBpbj1cImZlYXRoZXJfYmFja1wiIHJlc3VsdD1cIm91dGxpbmVcIi8+XG4gIDxmZUNvbXBvc2l0ZSBpbjI9XCJvdXRsaW5lXCIgaW49XCJTb3VyY2VHcmFwaGljXCIvPlxuYDtcblxuXG5jb25zdCBzdWdhcl9nbG93X2ZpbHRlcl90bXBsID0gYFxuICAgPGZlT2Zmc2V0IGluPVwiU291cmNlQWxwaGFcIiBkeD1cIjBcIiBkeT1cIjBcIiByZXN1bHQ9XCJvZmZzZXRcIiAvPlxuICA8ZmVGbG9vZCBmbG9vZC1jb2xvcj1cInJnYmEoMjU1LDI1NSwyNTUsMC4zKVwiIHJlc3VsdD1cIndoaXRlXCIvPlxuICA8ZmVDb21wb3NpdGUgaW4yPVwib2Zmc2V0XCIgaW49XCJ3aGl0ZVwiIG9wZXJhdG9yPVwiaW5cIiByZXN1bHQ9XCJtYXRyaXhcIi8+XG48ZmVHYXVzc2lhbkJsdXIgaW49XCJtYXRyaXhcIiBzdGREZXZpYXRpb249XCI0XCIgcmVzdWx0PVwiYmx1clwiLz5cbjxmZUNvbXBvc2l0ZSBpbjI9XCJTb3VyY2VHcmFwaGljXCIgaW49XCJibHVyXCIgb3BlcmF0b3I9XCJvdmVyXCIvPlxuPGZlQ29tcG9zaXRlIGluMj1cIlNvdXJjZUdyYXBoaWNcIiBvcGVyYXRvcj1cImluXCIvPlxuYDtcblxuY29uc3QgaGV4X3RvX2NvbXBvbmVudCA9IChoZXgpID0+IHtcbiAgLy8gRXhwYW5kIHNob3J0aGFuZCBmb3JtIChlLmcuIFwiMDNGXCIpIHRvIGZ1bGwgZm9ybSAoZS5nLiBcIjAwMzNGRlwiKVxuICB2YXIgc2hvcnRoYW5kUmVnZXggPSAvXiM/KFthLWZcXGRdKShbYS1mXFxkXSkoW2EtZlxcZF0pJC9pO1xuICBoZXggPSBoZXgucmVwbGFjZShzaG9ydGhhbmRSZWdleCwgZnVuY3Rpb24obSwgciwgZywgYikge1xuICAgICAgcmV0dXJuIHIgKyByICsgZyArIGcgKyBiICsgYjtcbiAgfSk7XG5cbiAgdmFyIHJlc3VsdCA9IC9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyhoZXgpO1xuICByZXR1cm4gcmVzdWx0ID8ge1xuICAgICAgcjogcGFyc2VJbnQocmVzdWx0WzFdLCAxNiksXG4gICAgICBnOiBwYXJzZUludChyZXN1bHRbMl0sIDE2KSxcbiAgICAgIGI6IHBhcnNlSW50KHJlc3VsdFszXSwgMTYpXG4gIH0gOiBudWxsO1xufTtcblxuY29uc3QgbWl4aW5fY29sb3VycyA9IChoZXgsb3BhY2l0eSkgPT4ge1xuICBsZXQgYyA9IGhleF90b19jb21wb25lbnQoaGV4LnJlcGxhY2UoL15cXHMrLywnJykpO1xuICByZXR1cm4gYDAgMCAwIDAgJHsoYy5yLzI1NSkudG9GaXhlZCgxKX0gMCAwIDAgMCAkeyhjLmcvMjU1KS50b0ZpeGVkKDEpfSAwIDAgMCAwICR7KGMuYi8yNTUpLnRvRml4ZWQoMSl9IDAgMCAwICR7b3BhY2l0eX0gMGA7XG59O1xuXG5jb25zdCB1cGRhdGVfaGlnaGxpZ2h0X2NvbG91cnMgPSBmdW5jdGlvbigpIHtcbiAgbGV0IGZpbHRlciA9IHRoaXNbaGlnaGxpZ2h0X2ZpbHRlcl07XG4gIGxldCBhY3R1YWxfc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzKTtcbiAgbGV0IHN0cm9rZSA9IGFjdHVhbF9zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLWhpZ2hsaWdodC1zdHJva2UnKTtcbiAgbGV0IGZpbGwgPSBhY3R1YWxfc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1oaWdobGlnaHQtZmlsbCcpO1xuICBsZXQgc3Ryb2tlX29wYWNpdHkgPSBhY3R1YWxfc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1oaWdobGlnaHQtc3Ryb2tlLW9wYWNpdHknKTtcbiAgbGV0IGZpbGxfb3BhY2l0eSA9IGFjdHVhbF9zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLWhpZ2hsaWdodC1maWxsLW9wYWNpdHknKTtcbiAgZmlsdGVyLnF1ZXJ5U2VsZWN0b3IoJ2ZlQ29sb3JNYXRyaXhbcmVzdWx0PVwib3V0ZXJvdXRsaW5lXCJdJykuc2V0QXR0cmlidXRlKCd2YWx1ZXMnLG1peGluX2NvbG91cnMoc3Ryb2tlLHN0cm9rZV9vcGFjaXR5KSk7XG4gIGZpbHRlci5xdWVyeVNlbGVjdG9yKCdmZUNvbG9yTWF0cml4W3Jlc3VsdD1cImZlYXRoZXJfYmFja1wiXScpLnNldEF0dHJpYnV0ZSgndmFsdWVzJyxtaXhpbl9jb2xvdXJzKGZpbGwsZmlsbF9vcGFjaXR5KSk7XG59O1xuXG5jb25zdCBtYWtlX2ZpbHRlciA9IGZ1bmN0aW9uKHN2Zykge1xuICBjb25zdCBmaWx0ZXIgPSBzdmcuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsJ2ZpbHRlcicpO1xuICBmaWx0ZXIuaW5uZXJIVE1MID0gRklMVEVSX1RFWFQ7XG4gIGZpbHRlci5zZXRBdHRyaWJ1dGUoJ2lkJywnaGlnaGxpZ2h0Jyk7XG4gIGZpbHRlci5zZXRBdHRyaWJ1dGUoJ2ZpbHRlclVuaXRzJywnb2JqZWN0Qm91bmRpbmdCb3gnKTtcbiAgZmlsdGVyLnNldEF0dHJpYnV0ZSgneScsJy00MCUnKTtcbiAgZmlsdGVyLnNldEF0dHJpYnV0ZSgneCcsJy00MCUnKTtcbiAgZmlsdGVyLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCcxODAlJyk7XG4gIGZpbHRlci5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsJzE4MCUnKTtcblxuICB0aGlzW2hpZ2hsaWdodF9maWx0ZXJdID0gZmlsdGVyO1xuICBzdmcuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGZpbHRlcik7XG5cbiAgY29uc3QgZ2xvd19maWx0ZXIgPSBzdmcuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsJ2ZpbHRlcicpO1xuICBnbG93X2ZpbHRlci5pbm5lckhUTUwgPSBzdWdhcl9nbG93X2ZpbHRlcl90bXBsO1xuICBnbG93X2ZpbHRlci5zZXRBdHRyaWJ1dGUoJ2lkJywnc3VnYXJfZ2xvdycpO1xuXG4gIHN2Zy5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZ2xvd19maWx0ZXIpO1xuICBcbiAgdXBkYXRlX2hpZ2hsaWdodF9jb2xvdXJzLmNhbGwodGhpcyk7XG59O1xuXG5jb25zdCBjb3B5X3N0eWxlcyA9IGZ1bmN0aW9uKCkge1xuICBsZXQgc3ZnID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ29iamVjdCcpLmNvbnRlbnREb2N1bWVudDtcbiAgdmFyIHN0eWxlRWxlbWVudCA9IHN2Zy5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N0eWxlJyk7XG4gIHN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCdzbG90JykuYXNzaWduZWROb2RlcygpLm1hcCggbm9kZSA9PiBub2RlLnRleHRDb250ZW50ICkuam9pbignXFxuJyk7XG4gIHN2Zy5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcbiAgbWFrZV9maWx0ZXIuY2FsbCh0aGlzLHN2Zyk7XG59O1xuXG5jb25zdCBiaW5kX2xvYWRfZXZlbnQgPSBmdW5jdGlvbihlbCkge1xuICBlbC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgIGlmICggZWwuY29udGVudERvY3VtZW50LmRvY3VtZW50RWxlbWVudC50YWdOYW1lLnRvVXBwZXJDYXNlKCkgIT09ICdTVkcnICkge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnZXJyb3InLCB7XG4gICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICB9KSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IFssLHdpZHRoLGhlaWdodF0gPSAoZWwuY29udGVudERvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnKSB8fCAnJykuc3BsaXQoJyAnKTtcbiAgICBpZiAod2lkdGggJiYgaGVpZ2h0KSB7XG4gICAgICB0aGlzLnN0eWxlLmFzcGVjdFJhdGlvID0gYCR7d2lkdGh9IC8gJHtoZWlnaHR9YDtcbiAgICAgIGlmICgocGFyc2VGbG9hdCh3aWR0aCkgLyBwYXJzZUZsb2F0KGhlaWdodCkpID4gMSkge1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnYXNwZWN0JywnbGFuZHNjYXBlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnYXNwZWN0JywncG9ydHJhaXQnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29weV9zdHlsZXMuY2FsbCh0aGlzKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gU1ZHUmVuZGVyZXIuZnJvbVNWR0VsZW1lbnQoZWwuY29udGVudERvY3VtZW50LmRvY3VtZW50RWxlbWVudCx0aGlzLmNvbnN0cnVjdG9yLlN1Z2FyQ2xhc3MpO1xuICAgIGZvciAobGV0IHN1Z2FyIG9mIHRoaXMucmVuZGVyZXIuc3VnYXJzKSB7XG4gICAgICBzdWdhci5mcmVlemUoKTtcbiAgICB9XG4gICAgdGhpcy50YWdTdXBwb3J0ZWQoKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdsb2FkJywge1xuICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICB9KSk7XG4gIH0pO1xufTtcblxuY29uc3QgYWRkX3RhcmdldF9zdmcgPSBmdW5jdGlvbigpIHtcbiAgbGV0IGN1cnJlbnRfdGFyZ2V0ID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCd0YXJnZXRzdmcnKTtcbiAgaWYgKGN1cnJlbnRfdGFyZ2V0KSB7XG4gICAgY3VycmVudF90YXJnZXQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjdXJyZW50X3RhcmdldCk7XG4gIH1cbiAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJyNvdXRwdXQnKS5hcHBlbmRDaGlsZCh0YXJnZXRzdmdfdG1wbC5jb250ZW50LmNsb25lTm9kZSh0cnVlKSk7XG4gIGN1cnJlbnRfdGFyZ2V0ID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCd0YXJnZXRzdmcnKTtcbiAgYmluZF9sb2FkX2V2ZW50LmNhbGwodGhpcyxjdXJyZW50X3RhcmdldCk7XG4gIGN1cnJlbnRfdGFyZ2V0LnNldEF0dHJpYnV0ZSgnZGF0YScsdGhpcy5nZXRBdHRyaWJ1dGUoJ3NyYycpKTtcbn07XG5cbmNsYXNzIFN1Z2FyRnJhbWUgZXh0ZW5kcyBXcmFwSFRNTCB7XG5cbiAgc3RhdGljIGdldCBTdWdhckNsYXNzKCkge1xuICAgIHJldHVybiBJdXBhY1N1Z2FyO1xuICB9XG5cbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIFsnc3JjJ107XG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGlmICh3aW5kb3cuU2hhZHlDU1MpIHtcbiAgICAgIFNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZSh0bXBsLCB0aGlzLnRhZ05hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgfVxuICAgIGxvZygnSW5pdGlhdGluZyBTdWdhckZyYW1lIGVsZW1lbnQnKTtcbiAgfVxuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGlmICh3aW5kb3cuU2hhZHlDU1MpIHtcbiAgICAgIFNoYWR5Q1NTLnN0eWxlRWxlbWVudCh0aGlzKTtcbiAgICB9XG4gICAgbGV0IHNoYWRvd1Jvb3QgPSB0aGlzLmF0dGFjaFNoYWRvdyh7bW9kZTogJ29wZW4nfSk7XG4gICAgc2hhZG93Um9vdC5hcHBlbmRDaGlsZCh0bXBsLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpKTtcbiAgICBhZGRfdGFyZ2V0X3N2Zy5jYWxsKHRoaXMpO1xuICB9XG5cbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUpIHtcbiAgICBpZiAoICEgdGhpcy5zaGFkb3dSb290ICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoW10uaW5kZXhPZihuYW1lKSA+PSAwICkge1xuICAgICAgaWYgKHRoaXMuaGFzQXR0cmlidXRlKG5hbWUpKSB7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgndmlld2VyJykuc2V0QXR0cmlidXRlKG5hbWUsJycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCd2aWV3ZXInKS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChuYW1lID09PSAnc3JjJykge1xuICAgICAgYWRkX3RhcmdldF9zdmcuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICBzYXZlKGZvcm1hdD0nc3ZnJykge1xuICAgIEltYWdlU2F2ZXIodGhpcyx0aGlzLnJlbmRlcmVyLmVsZW1lbnQuY2FudmFzLGZvcm1hdCk7XG4gIH1cblxuICB0YWdTdXBwb3J0ZWQodGFnX3N5bWJvbD1TeW1ib2woJ3N1cHBvcnRlZCcpLGNhY2hlS2V5PW51bGwpIHtcbiAgICBpZiAoICEgdGhpcy5yZWFjdGlvbnMgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucmVuZGVyZXIuZ3JvdXBUYWcgPSB0YWdfc3ltYm9sO1xuICAgIHRoaXMucmVuZGVyZXIuc3VnYXJzLmZvckVhY2goIHN1ZyA9PiB7XG4gICAgICB0aGlzLnJlYWN0aW9ucy5zdXBwb3J0TGlua2FnZXMoc3VnLHRoaXMucmVhY3Rpb25zLnJlYWN0aW9ucyx0YWdfc3ltYm9sLGNhY2hlS2V5KTtcblxuICAgICAgc3VnLnJvb3Quc2V0VGFnKHRhZ19zeW1ib2wpO1xuXG4gICAgICBmb3IgKGxldCByZXNpZHVlIG9mIHN1Zy5icmVhZHRoX2ZpcnN0X3RyYXZlcnNhbCgpKSB7XG4gICAgICAgIGlmICggISByZXNpZHVlLnBhcmVudCApIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISByZXNpZHVlLnBhcmVudC5nZXRUYWcodGFnX3N5bWJvbCkpIHtcbiAgICAgICAgICByZXNpZHVlLnNldFRhZyh0YWdfc3ltYm9sLG51bGwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5yZW5kZXJlci5yZWZyZXNoKCk7XG4gIH1cblxuICBzZXQgcmVhY3Rpb25zKHJlYWN0aW9ucykge1xuICAgIGlmICggISByZWFjdGlvbnMgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucmVhY3Rpb25ncm91cCA9IFJlYWN0aW9uR3JvdXAuZ3JvdXBGcm9tSlNPTihyZWFjdGlvbnMsSXVwYWNTdWdhcik7XG4gICAgaWYgKHRoaXMucmVuZGVyZXIpIHtcbiAgICAgIHRoaXMudGFnU3VwcG9ydGVkKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IHJlYWN0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFjdGlvbmdyb3VwO1xuICB9XG5cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKEVMRU1FTlRfTkFNRSxTdWdhckZyYW1lKTtcblxuZXhwb3J0IGRlZmF1bHQgU3VnYXJGcmFtZTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUEyQ0E7QUFFQTtBQUVBO0FBeUJBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./js/sugarframe.js\n");

/***/ }),

/***/ "./js/sugarselect.js":
/*!***************************!*\
  !*** ./js/sugarselect.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var debug_any_level__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! debug-any-level */ \"./node_modules/debug-any-level/index.js\");\n/* harmony import */ var debug_any_level__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(debug_any_level__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _sviewer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sviewer */ \"./js/sviewer/index.js\");\n/* harmony import */ var _sviewer_cache_sviewer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sviewer/cache-sviewer */ \"./js/sviewer/cache-sviewer.js\");\n/* harmony import */ var glycan_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! glycan.js */ \"../glycan.js/js/main.js\");\n/* globals document,HTMLElement,customElements,window,ShadyCSS,CustomEvent */\n\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = privateMap.get(receiver); if (!descriptor) { throw new TypeError(\"attempted to set private field on non-instance\"); } if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } return value; }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = privateMap.get(receiver); if (!descriptor) { throw new TypeError(\"attempted to get private field on non-instance\"); } if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\n\n\n\nvar ELEMENT_NAME = 'ccg-sugarselect';\nvar module_string = 'sviewer:sugarselect';\nvar log = debug_any_level__WEBPACK_IMPORTED_MODULE_0__(module_string);\nvar IupacSugar = _sviewer__WEBPACK_IMPORTED_MODULE_1__[\"IupacSugar\"];\nvar NLINKED_CORE = new IupacSugar();\nNLINKED_CORE.sequence = 'Man(a1-3)[Man(a1-6)]Man(b1-4)GlcNAc(b1-4)GlcNAc(b1-N)Asn';\nfunction WrapHTML() {\n  return Reflect.construct(HTMLElement, [], Object.getPrototypeOf(this).constructor);\n}\nObject.setPrototypeOf(WrapHTML.prototype, HTMLElement.prototype);\nObject.setPrototypeOf(WrapHTML, HTMLElement);\nvar tmpl = document.createElement('template');\ntmpl.innerHTML = \"\\n<style>\\n  :host {\\n    display: block;\\n    min-width: calc(22em + 30px);\\n    min-height: calc(15em + 30px);\\n    --max-select-display: -1;\\n    --drop-shadow-color: rgba(50, 50, 0, 0.5);\\n    --drop-shadow-offset: 2px;\\n    --drop-shadow-size: 1px;\\n  }\\n\\n  :host, :host * {\\n    user-select: none;\\n    -webkit-user-select: none; /* Safari */\\n    -moz-user-select: none;    /* Firefox */\\n    -ms-user-select: none;     /* IE 10+ */\\n  }\\n\\n  #output {\\n    display: flex;\\n    flex-direction: row;\\n    top: 0px;\\n    left: 0px;\\n    width: 100%;\\n    height: 100%;\\n    min-height: 10em;\\n    gap: 5px;\\n  }\\n  #builder {\\n    display: block;\\n    width: 50%;\\n    height: 100%;\\n    flex: 1 0 20em;\\n  }\\n\\n  #options {\\n    pointer-events: none;\\n  }\\n\\n  #options label {\\n    pointer-events: auto;\\n    box-shadow: var(--drop-shadow-offset) var(--drop-shadow-offset) var(--drop-shadow-size) var(--drop-shadow-color);\\n  }\\n\\n  #options label:first-child {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    font-family: Helvetica, Arial, sans-serif;\\n  }\\n  #options label:not(:has(ccg-sviewer-lite)) {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    font-family: Helvetica, Arial, sans-serif;\\n  }\\n\\n  #options label[disabled] {\\n    display: none;\\n  }\\n  #options label[checked] {\\n    background: var(--selection-color);\\n  }\\n  #options {\\n    margin-top: 10px;\\n    display: flex;\\n    flex-direction: row;\\n    flex-wrap: wrap;\\n    align-content: flex-start;\\n    max-width: calc(50% - 20px);\\n    max-height: calc(100% - 20px);\\n    gap: 10px;\\n    overflow-y: auto;\\n    overflow-x: hidden;\\n  }\\n\\n  #options label:hover {\\n    background: var(--selection-color);\\n  }\\n  #options label {\\n    cursor: pointer;\\n  }\\n\\n  #options label[hide], #options label[disabled] {\\n    display: none;\\n  }\\n  #options label {\\n    aspect-ratio: 1 / 1;\\n    flex: 1 1 min(calc(33.33% - 10px),10em);\\n    max-width: min(calc(33.33% - 20px),4em);\\n    max-height: min(calc(33.33% - 20px),4em);\\n    min-width: 3em;\\n    border-radius: 10px;\\n    background: var(--button-default-background-color,#555);\\n  }\\n  #options label input {\\n    position: fixed;\\n    opacity: 0;\\n    pointer-events: none;\\n  }\\n  #options ccg-sviewer-lite {\\n    width: 100%;\\n    height: 100%;\\n    position: relative;\\n  }\\n  ::part(donor-disabled) {\\n    display: none;\\n  }\\n</style>\\n\\n<div id=\\\"output\\\">\\n  <ccg-sugarbuilder exportparts=\\\"donor-button, donor-disabled\\\" strict id=\\\"builder\\\"> </ccg-sugarbuilder>\\n  <slot id=\\\"glycanoptions\\\"> </slot>\\n  <form id=\\\"options\\\">\\n    <label><input type=\\\"radio\\\" name=\\\"glycan\\\" value=\\\"\\\"/>Clear</label>\\n  </form>\\n</div>\\n\";\nvar label_template = document.createElement('template');\nlabel_template.innerHTML = \"\\n<label><input type=\\\"radio\\\" name=\\\"glycan\\\" value=\\\"\\\"/><ccg-sviewer-lite links renderer=\\\"png\\\"></ccg-sviewer-lite></label>\\n\";\nvar reset_template = document.createElement('template');\nreset_template.innerHTML = \"\\n<button>None</button>\\n\";\nvar CACHED_REACTIONS = {};\nvar CACHED_NEW_ROOTS = {};\nvar sequences_to_reactions = function sequences_to_reactions(seqs, clazz) {\n  console.time('sequences_to_reactions');\n  var reactions = [];\n  var seen_reactions = {};\n  var new_roots = [];\n  for (var seq of seqs) {\n    var new_reactions = [];\n    if (!CACHED_REACTIONS[seq]) {\n      var sug = new clazz();\n      sug.sequence = seq;\n      for (var res of sug.composition()) {\n        if (res == sug.root) {\n          if (new_roots.indexOf(res.identifier) < 0) {\n            new_roots.push(res.identifier);\n            CACHED_NEW_ROOTS[seq] = res.identifier;\n            if (res.children.length < 1) {\n              seqs.splice(seqs.indexOf(seq), 1);\n            }\n          }\n          continue;\n        }\n        var pos = sug.location_for_monosaccharide(res);\n        var output = sug.clone();\n        var target = output.locate_monosaccharide(pos);\n        var wanted = output.paths(output.root, target).flat();\n        for (var toremove of output.composition()) {\n          if (!toremove.parent || wanted.indexOf(toremove) >= 0) {\n            continue;\n          }\n          var _parent = toremove.parent;\n          var _linkage = _parent.linkageOf(toremove);\n          _parent.removeChild(_linkage, toremove);\n        }\n        var parent = target.parent;\n        var linkage = parent.linkageOf(target);\n        var parent_link = target.parent_linkage;\n        var anomer = target.anomer;\n        var parent_location = output.location_for_monosaccharide(parent);\n        parent.removeChild(linkage, target);\n        var reaction_seq = \"\".concat(output.sequence, \"+\\\"{\").concat(target.identifier, \"(\").concat(anomer).concat(parent_link, \"-\").concat(linkage, \")}@\").concat(parent_location, \"\\\"\");\n        if (new_reactions.indexOf(reaction_seq) < 0) {\n          new_reactions.push(reaction_seq);\n        }\n      }\n      CACHED_REACTIONS[seq] = new_reactions;\n    } else {\n      new_reactions = CACHED_REACTIONS[seq];\n      if (CACHED_NEW_ROOTS[seq] && new_roots.indexOf(CACHED_NEW_ROOTS[seq]) < 0) {\n        new_roots.push(CACHED_NEW_ROOTS[seq]);\n      }\n    }\n    for (var _reaction_seq of new_reactions) {\n      if (!seen_reactions[_reaction_seq]) {\n        reactions.push([_reaction_seq]);\n        seen_reactions[_reaction_seq] = 1;\n      }\n    }\n  }\n  var result = {\n    \"ALL\": {\n      reactions\n    }\n  };\n  console.timeEnd('sequences_to_reactions');\n  return {\n    reactions: result,\n    new_roots\n  };\n};\nvar accept_options = function accept_options(slot, target) {\n  var max_children = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n  console.time('accept_options');\n  var passed_options = slot.assignedNodes({\n    flatten: true\n  }).filter(node => node.nodeType === Node.ELEMENT_NODE);\n  if (passed_options.length > 0 && passed_options[0].accepted) {\n    return;\n  }\n  if (passed_options.length > 0) {\n    passed_options[0].accepted = true;\n  }\n  var clear_button = target.firstElementChild;\n  var new_children = [clear_button];\n  for (var node of passed_options) {\n    var a_label = label_template.content.cloneNode(true);\n    a_label.firstElementChild.querySelector('ccg-sviewer-lite').SugarClass = this.SugarClass;\n    a_label.firstElementChild.querySelector('ccg-sviewer-lite').textContent = node.textContent;\n    a_label.firstElementChild.querySelector('input').setAttribute('value', node.textContent);\n    a_label.firstElementChild.querySelector('input').addEventListener('change', ev => {\n      for (var _node of target.querySelectorAll('label[checked]')) {\n        _node.removeAttribute('checked');\n      }\n      if (ev.target.checked) {\n        ev.target.parentNode.setAttribute('checked', '');\n      }\n    });\n    new_children.push(a_label);\n  }\n  var sequences = [...passed_options].map(node => node.textContent);\n  var {\n    reactions,\n    new_roots\n  } = sequences_to_reactions(sequences, this.SugarClass);\n  for (var new_root of new_roots) {\n    sequences.splice(0, 0, new_root);\n  }\n  sequences = sequences.filter((o, i, a) => a.indexOf(o) == i);\n  target.replaceChildren(...new_children.slice(0, max_children));\n  this.options = sequences;\n  console.timeEnd('accept_options');\n  return reactions;\n};\nvar wire_events = function wire_events() {\n  this.shadowRoot.getElementById('options').addEventListener('change', () => {\n    if (this.shadowRoot.getElementById('options').glycan.value == '') {\n      this.reset();\n      var _event = new Event('change', {\n        bubbles: true\n      });\n      this.dispatchEvent(_event);\n      return;\n    }\n    this.value = this.shadowRoot.getElementById('options').glycan.value;\n    var event = new Event('change', {\n      bubbles: true\n    });\n    this.dispatchEvent(event);\n  });\n  this.shadowRoot.getElementById('builder').addEventListener('change', () => {\n    var input_seq = this.shadowRoot.querySelector('#builder').sequence;\n    if (this.value !== input_seq && (this.options.indexOf(input_seq) >= 0 || input_seq == '')) {\n      this.value = input_seq;\n      var event = new Event('change', {\n        bubbles: true\n      });\n      this.dispatchEvent(event);\n    }\n    this.updateDisabled(input_seq);\n  });\n};\nvar _SugarClass = /*#__PURE__*/new WeakMap();\nvar _options = /*#__PURE__*/new WeakMap();\nclass SugarSelect extends WrapHTML {\n  static get observedAttributes() {\n    return [];\n  }\n  static processSequences(sequences, clazz) {\n    sequences_to_reactions(sequences, clazz);\n  }\n  constructor() {\n    super();\n    _SugarClass.set(this, {\n      writable: true,\n      value: IupacSugar\n    });\n    _options.set(this, {\n      writable: true,\n      value: []\n    });\n    log('Initiating SugarSelect element');\n  }\n  connectedCallback() {\n    var shadowRoot = this.attachShadow({\n      mode: 'open'\n    });\n    shadowRoot.appendChild(tmpl.content.cloneNode(true));\n    shadowRoot.getElementById('builder').reactions = {};\n    this.SugarClass = this.SugarClass;\n    var slot = this.shadowRoot.getElementById('glycanoptions');\n    var passed_options = slot.assignedNodes({\n      flatten: true\n    }).filter(node => node.nodeType === Node.ELEMENT_NODE);\n    if (passed_options.length > 0) {\n      this.refreshOptions();\n    }\n    slot.addEventListener('slotchange', () => {\n      this.refreshOptions();\n    });\n    wire_events.call(this);\n    for (var attr of ['links', 'linkangles']) {\n      this.attributeChangedCallback(attr);\n    }\n  }\n  refreshOptions() {\n    var slot = this.shadowRoot.getElementById('glycanoptions');\n    var max_display = parseInt(window.getComputedStyle(this).getPropertyValue('--max-select-display'));\n    var reactions = accept_options.call(this, slot, this.shadowRoot.getElementById('options'), max_display);\n    if (!reactions) {\n      return;\n    }\n    this.shadowRoot.getElementById('builder').reactions = reactions;\n    this.updateDisabled(this.value);\n  }\n  get options() {\n    return _classPrivateFieldGet(this, _options);\n  }\n  set options(sequences) {\n    _classPrivateFieldSet(this, _options, sequences);\n  }\n  get value() {\n    return this.shadowRoot.querySelector('#options').glycan.value;\n  }\n  set value(seq) {\n    if (this.options.indexOf(seq) < 0) {\n      return;\n    }\n    this.shadowRoot.querySelector('#builder').sequence = seq;\n    this.shadowRoot.querySelector('#options').glycan.value = seq;\n    this.updateDisabled(seq);\n  }\n  get SugarClass() {\n    return _classPrivateFieldGet(this, _SugarClass);\n  }\n  set SugarClass(clazz) {\n    _classPrivateFieldSet(this, _SugarClass, clazz);\n    if (this.shadowRoot) {\n      this.shadowRoot.querySelector('#builder').shadowRoot.querySelector('#viewer').SugarClass = clazz;\n    }\n  }\n  reset() {\n    this.shadowRoot.querySelector('#builder').sequence = '';\n  }\n  updateDisabled(reference_sequence) {\n    var enabled_count = 0;\n    console.time('updateDisabled');\n    var option_els = [...this.shadowRoot.querySelectorAll('label')].filter(el => el.firstElementChild.getAttribute('type') == 'radio' && el.querySelector('ccg-sviewer-lite'));\n    var max_display = parseInt(window.getComputedStyle(this).getPropertyValue('--max-select-display'));\n    if (max_display < 0) {\n      max_display = option_els.length;\n    }\n    for (var seq of this.options) {\n      if (!seq) {\n        continue;\n      }\n      var clazz = this.SugarClass;\n      var sug = new clazz();\n      sug.sequence = seq;\n      var curr_sug_seq = reference_sequence;\n      var curr_sug = new clazz();\n      curr_sug.sequence = curr_sug_seq;\n      var retval = sug.match_sugar_pattern(curr_sug, glycan_js__WEBPACK_IMPORTED_MODULE_3__[\"comparator\"]);\n      var no_pattern_match = curr_sug_seq != '' && retval.length < 1;\n      var oligo_match = [...sug.composition()].length > 1;\n      if (no_pattern_match && oligo_match) {\n        continue;\n      } else {\n        var option = option_els[enabled_count];\n        option.removeAttribute('checked');\n        option.querySelector('input').value = seq;\n        option.querySelector('ccg-sviewer-lite').textContent = seq;\n        option.querySelector('ccg-sviewer-lite').fullRefresh();\n        enabled_count += 1;\n        if (curr_sug.sequence == sug.sequence) {\n          option.querySelector('input').click();\n          option.setAttribute('checked', '');\n        }\n        option.removeAttribute('disabled');\n        if (enabled_count + 1 == max_display) {\n          return;\n        }\n      }\n    }\n    while (enabled_count + 1 < max_display) {\n      option_els[enabled_count].removeAttribute('checked');\n      option_els[enabled_count].setAttribute('disabled', 'true');\n      enabled_count += 1;\n    }\n    console.timeEnd('updateDisabled');\n  }\n  attributeChangedCallback(name) {\n    if (!this.shadowRoot) {\n      return;\n    }\n    if (['links', 'linkangles'].indexOf(name) >= 0) {\n      if (this.hasAttribute(name)) {\n        this.shadowRoot.getElementById('builder').setAttribute(name, '');\n      } else {\n        this.shadowRoot.getElementById('builder').removeAttribute(name);\n      }\n    }\n  }\n}\ncustomElements.define(ELEMENT_NAME, SugarSelect);\n/* harmony default export */ __webpack_exports__[\"default\"] = (SugarSelect);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9zdWdhcnNlbGVjdC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzL3N1Z2Fyc2VsZWN0LmpzP2I3OWUiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFscyBkb2N1bWVudCxIVE1MRWxlbWVudCxjdXN0b21FbGVtZW50cyx3aW5kb3csU2hhZHlDU1MsQ3VzdG9tRXZlbnQgKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0ICogYXMgZGVidWcgZnJvbSAnZGVidWctYW55LWxldmVsJztcblxuaW1wb3J0ICogYXMgU1ZpZXdlciBmcm9tICcuL3N2aWV3ZXInO1xuaW1wb3J0ICogYXMgQ2FjaGVTVmlld2VyIGZyb20gJy4vc3ZpZXdlci9jYWNoZS1zdmlld2VyJztcblxuXG5pbXBvcnQgeyBDb25kZW5zZWRJdXBhYywgU3VnYXIsIFNWR1JlbmRlcmVyLCBSZWFjdGlvbiwgUmVhY3Rpb25Hcm91cCwgY29tcGFyYXRvciB9IGZyb20gJ2dseWNhbi5qcyc7XG5cbmNvbnN0IEVMRU1FTlRfTkFNRSA9ICdjY2ctc3VnYXJzZWxlY3QnO1xuXG5jb25zdCBtb2R1bGVfc3RyaW5nPSdzdmlld2VyOnN1Z2Fyc2VsZWN0JztcblxuY29uc3QgbG9nID0gZGVidWcobW9kdWxlX3N0cmluZyk7XG5cbmNvbnN0IEl1cGFjU3VnYXIgPSBTVmlld2VyLkl1cGFjU3VnYXI7XG5cbmNvbnN0IE5MSU5LRURfQ09SRSA9IG5ldyBJdXBhY1N1Z2FyKCk7XG5OTElOS0VEX0NPUkUuc2VxdWVuY2UgPSAnTWFuKGExLTMpW01hbihhMS02KV1NYW4oYjEtNClHbGNOQWMoYjEtNClHbGNOQWMoYjEtTilBc24nO1xuXG5mdW5jdGlvbiBXcmFwSFRNTCgpIHsgcmV0dXJuIFJlZmxlY3QuY29uc3RydWN0KEhUTUxFbGVtZW50LCBbXSwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKTsgfVxuT2JqZWN0LnNldFByb3RvdHlwZU9mKFdyYXBIVE1MLnByb3RvdHlwZSwgSFRNTEVsZW1lbnQucHJvdG90eXBlKTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihXcmFwSFRNTCwgSFRNTEVsZW1lbnQpO1xuXG5jb25zdCB0bXBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcblxudG1wbC5pbm5lckhUTUwgPSBgXG48c3R5bGU+XG4gIDpob3N0IHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtaW4td2lkdGg6IGNhbGMoMjJlbSArIDMwcHgpO1xuICAgIG1pbi1oZWlnaHQ6IGNhbGMoMTVlbSArIDMwcHgpO1xuICAgIC0tbWF4LXNlbGVjdC1kaXNwbGF5OiAtMTtcbiAgICAtLWRyb3Atc2hhZG93LWNvbG9yOiByZ2JhKDUwLCA1MCwgMCwgMC41KTtcbiAgICAtLWRyb3Atc2hhZG93LW9mZnNldDogMnB4O1xuICAgIC0tZHJvcC1zaGFkb3ctc2l6ZTogMXB4O1xuICB9XG5cbiAgOmhvc3QsIDpob3N0ICoge1xuICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7IC8qIFNhZmFyaSAqL1xuICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7ICAgIC8qIEZpcmVmb3ggKi9cbiAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7ICAgICAvKiBJRSAxMCsgKi9cbiAgfVxuXG4gICNvdXRwdXQge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICB0b3A6IDBweDtcbiAgICBsZWZ0OiAwcHg7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIG1pbi1oZWlnaHQ6IDEwZW07XG4gICAgZ2FwOiA1cHg7XG4gIH1cbiAgI2J1aWxkZXIge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHdpZHRoOiA1MCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGZsZXg6IDEgMCAyMGVtO1xuICB9XG5cbiAgI29wdGlvbnMge1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICB9XG5cbiAgI29wdGlvbnMgbGFiZWwge1xuICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xuICAgIGJveC1zaGFkb3c6IHZhcigtLWRyb3Atc2hhZG93LW9mZnNldCkgdmFyKC0tZHJvcC1zaGFkb3ctb2Zmc2V0KSB2YXIoLS1kcm9wLXNoYWRvdy1zaXplKSB2YXIoLS1kcm9wLXNoYWRvdy1jb2xvcik7XG4gIH1cblxuICAjb3B0aW9ucyBsYWJlbDpmaXJzdC1jaGlsZCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICB9XG4gICNvcHRpb25zIGxhYmVsOm5vdCg6aGFzKGNjZy1zdmlld2VyLWxpdGUpKSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICB9XG5cbiAgI29wdGlvbnMgbGFiZWxbZGlzYWJsZWRdIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG4gICNvcHRpb25zIGxhYmVsW2NoZWNrZWRdIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1zZWxlY3Rpb24tY29sb3IpO1xuICB9XG4gICNvcHRpb25zIHtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgYWxpZ24tY29udGVudDogZmxleC1zdGFydDtcbiAgICBtYXgtd2lkdGg6IGNhbGMoNTAlIC0gMjBweCk7XG4gICAgbWF4LWhlaWdodDogY2FsYygxMDAlIC0gMjBweCk7XG4gICAgZ2FwOiAxMHB4O1xuICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgb3ZlcmZsb3cteDogaGlkZGVuO1xuICB9XG5cbiAgI29wdGlvbnMgbGFiZWw6aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLXNlbGVjdGlvbi1jb2xvcik7XG4gIH1cbiAgI29wdGlvbnMgbGFiZWwge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuXG4gICNvcHRpb25zIGxhYmVsW2hpZGVdLCAjb3B0aW9ucyBsYWJlbFtkaXNhYmxlZF0ge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cbiAgI29wdGlvbnMgbGFiZWwge1xuICAgIGFzcGVjdC1yYXRpbzogMSAvIDE7XG4gICAgZmxleDogMSAxIG1pbihjYWxjKDMzLjMzJSAtIDEwcHgpLDEwZW0pO1xuICAgIG1heC13aWR0aDogbWluKGNhbGMoMzMuMzMlIC0gMjBweCksNGVtKTtcbiAgICBtYXgtaGVpZ2h0OiBtaW4oY2FsYygzMy4zMyUgLSAyMHB4KSw0ZW0pO1xuICAgIG1pbi13aWR0aDogM2VtO1xuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYnV0dG9uLWRlZmF1bHQtYmFja2dyb3VuZC1jb2xvciwjNTU1KTtcbiAgfVxuICAjb3B0aW9ucyBsYWJlbCBpbnB1dCB7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIG9wYWNpdHk6IDA7XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIH1cbiAgI29wdGlvbnMgY2NnLXN2aWV3ZXItbGl0ZSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuICA6OnBhcnQoZG9ub3ItZGlzYWJsZWQpIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG48L3N0eWxlPlxuXG48ZGl2IGlkPVwib3V0cHV0XCI+XG4gIDxjY2ctc3VnYXJidWlsZGVyIGV4cG9ydHBhcnRzPVwiZG9ub3ItYnV0dG9uLCBkb25vci1kaXNhYmxlZFwiIHN0cmljdCBpZD1cImJ1aWxkZXJcIj4gPC9jY2ctc3VnYXJidWlsZGVyPlxuICA8c2xvdCBpZD1cImdseWNhbm9wdGlvbnNcIj4gPC9zbG90PlxuICA8Zm9ybSBpZD1cIm9wdGlvbnNcIj5cbiAgICA8bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJnbHljYW5cIiB2YWx1ZT1cIlwiLz5DbGVhcjwvbGFiZWw+XG4gIDwvZm9ybT5cbjwvZGl2PlxuYDtcblxuY29uc3QgbGFiZWxfdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuXG5sYWJlbF90ZW1wbGF0ZS5pbm5lckhUTUwgPSBgXG48bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJnbHljYW5cIiB2YWx1ZT1cIlwiLz48Y2NnLXN2aWV3ZXItbGl0ZSBsaW5rcyByZW5kZXJlcj1cInBuZ1wiPjwvY2NnLXN2aWV3ZXItbGl0ZT48L2xhYmVsPlxuYDtcblxuY29uc3QgcmVzZXRfdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuXG5yZXNldF90ZW1wbGF0ZS5pbm5lckhUTUwgPSBgXG48YnV0dG9uPk5vbmU8L2J1dHRvbj5cbmA7XG5cbmNvbnN0IENBQ0hFRF9SRUFDVElPTlMgPSB7fTtcbmNvbnN0IENBQ0hFRF9ORVdfUk9PVFMgPSB7fTtcblxuY29uc3Qgc2VxdWVuY2VzX3RvX3JlYWN0aW9ucyA9IGZ1bmN0aW9uKHNlcXMsY2xhenopIHtcbiAgY29uc29sZS50aW1lKCdzZXF1ZW5jZXNfdG9fcmVhY3Rpb25zJyk7XG4gIGxldCByZWFjdGlvbnMgPSBbXTtcbiAgbGV0IHNlZW5fcmVhY3Rpb25zID0ge307XG4gIGxldCBuZXdfcm9vdHMgPSBbXTtcbiAgZm9yIChsZXQgc2VxIG9mIHNlcXMpIHtcbiAgICBsZXQgbmV3X3JlYWN0aW9ucyA9IFtdO1xuICAgIGlmICggISBDQUNIRURfUkVBQ1RJT05TW3NlcV0pIHtcbiAgICAgIGxldCBzdWcgPSBuZXcgY2xhenooKTtcbiAgICAgIHN1Zy5zZXF1ZW5jZSA9IHNlcTtcbiAgICAgIGZvciAobGV0IHJlcyBvZiBzdWcuY29tcG9zaXRpb24oKSkge1xuICAgICAgICBpZiAocmVzID09IHN1Zy5yb290KSB7XG4gICAgICAgICAgaWYgKG5ld19yb290cy5pbmRleE9mKHJlcy5pZGVudGlmaWVyKSA8IDApIHtcbiAgICAgICAgICAgIG5ld19yb290cy5wdXNoKHJlcy5pZGVudGlmaWVyKTtcbiAgICAgICAgICAgIENBQ0hFRF9ORVdfUk9PVFNbc2VxXSA9IHJlcy5pZGVudGlmaWVyO1xuICAgICAgICAgICAgaWYgKHJlcy5jaGlsZHJlbi5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICAgIHNlcXMuc3BsaWNlKHNlcXMuaW5kZXhPZihzZXEpLDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcG9zID0gc3VnLmxvY2F0aW9uX2Zvcl9tb25vc2FjY2hhcmlkZShyZXMpO1xuICAgICAgICBsZXQgb3V0cHV0ID0gc3VnLmNsb25lKCk7XG4gICAgICAgIGxldCB0YXJnZXQgPSBvdXRwdXQubG9jYXRlX21vbm9zYWNjaGFyaWRlKHBvcyk7XG4gICAgICAgIGxldCB3YW50ZWQgPSBvdXRwdXQucGF0aHMob3V0cHV0LnJvb3QsdGFyZ2V0KS5mbGF0KCk7XG4gICAgICAgIGZvciAobGV0IHRvcmVtb3ZlIG9mIG91dHB1dC5jb21wb3NpdGlvbigpKSB7XG4gICAgICAgICAgaWYgKCEgdG9yZW1vdmUucGFyZW50IHx8IHdhbnRlZC5pbmRleE9mKHRvcmVtb3ZlKSA+PSAwKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IHBhcmVudCA9IHRvcmVtb3ZlLnBhcmVudDtcbiAgICAgICAgICBsZXQgbGlua2FnZSA9IHBhcmVudC5saW5rYWdlT2YodG9yZW1vdmUpO1xuICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChsaW5rYWdlLHRvcmVtb3ZlKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcGFyZW50ID0gdGFyZ2V0LnBhcmVudDtcbiAgICAgICAgbGV0IGxpbmthZ2UgPSBwYXJlbnQubGlua2FnZU9mKHRhcmdldCk7XG4gICAgICAgIGxldCBwYXJlbnRfbGluayA9IHRhcmdldC5wYXJlbnRfbGlua2FnZTtcbiAgICAgICAgbGV0IGFub21lciA9IHRhcmdldC5hbm9tZXI7XG4gICAgICAgIGxldCBwYXJlbnRfbG9jYXRpb24gPSBvdXRwdXQubG9jYXRpb25fZm9yX21vbm9zYWNjaGFyaWRlKHBhcmVudCk7XG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChsaW5rYWdlLHRhcmdldCk7XG4gICAgICAgIGxldCByZWFjdGlvbl9zZXEgPSBgJHtvdXRwdXQuc2VxdWVuY2V9K1wieyR7dGFyZ2V0LmlkZW50aWZpZXJ9KCR7YW5vbWVyfSR7cGFyZW50X2xpbmt9LSR7bGlua2FnZX0pfUAke3BhcmVudF9sb2NhdGlvbn1cImA7XG4gICAgICAgIGlmIChuZXdfcmVhY3Rpb25zLmluZGV4T2YocmVhY3Rpb25fc2VxKSA8IDApIHtcbiAgICAgICAgICBuZXdfcmVhY3Rpb25zLnB1c2gocmVhY3Rpb25fc2VxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgQ0FDSEVEX1JFQUNUSU9OU1tzZXFdID0gbmV3X3JlYWN0aW9ucztcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3X3JlYWN0aW9ucyA9IENBQ0hFRF9SRUFDVElPTlNbc2VxXTtcbiAgICAgIGlmIChDQUNIRURfTkVXX1JPT1RTW3NlcV0gJiYgbmV3X3Jvb3RzLmluZGV4T2YoQ0FDSEVEX05FV19ST09UU1tzZXFdKSA8IDApIHtcbiAgICAgICAgbmV3X3Jvb3RzLnB1c2goQ0FDSEVEX05FV19ST09UU1tzZXFdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgcmVhY3Rpb25fc2VxIG9mIG5ld19yZWFjdGlvbnMpIHtcbiAgICAgIGlmICggISBzZWVuX3JlYWN0aW9uc1tyZWFjdGlvbl9zZXFdICkge1xuICAgICAgICByZWFjdGlvbnMucHVzaChbcmVhY3Rpb25fc2VxXSk7XG4gICAgICAgIHNlZW5fcmVhY3Rpb25zW3JlYWN0aW9uX3NlcV0gPSAxO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgcmVzdWx0ID0gIHsgXCJBTExcIiA6IHsgcmVhY3Rpb25zIH0gfTtcbiAgY29uc29sZS50aW1lRW5kKCdzZXF1ZW5jZXNfdG9fcmVhY3Rpb25zJyk7XG4gIHJldHVybiAoe3JlYWN0aW9uczogcmVzdWx0LG5ld19yb290c30pO1xufVxuXG5jb25zdCBhY2NlcHRfb3B0aW9ucyA9IGZ1bmN0aW9uKHNsb3QsdGFyZ2V0LG1heF9jaGlsZHJlbj0xMCkge1xuICBjb25zb2xlLnRpbWUoJ2FjY2VwdF9vcHRpb25zJyk7XG4gIGNvbnN0IHBhc3NlZF9vcHRpb25zID0gKHNsb3QuYXNzaWduZWROb2Rlcyh7ZmxhdHRlbjogdHJ1ZSB9KS5maWx0ZXIoIG5vZGUgPT4gbm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUgKSk7XG4gIGlmIChwYXNzZWRfb3B0aW9ucy5sZW5ndGggPiAwICYmIHBhc3NlZF9vcHRpb25zWzBdLmFjY2VwdGVkICkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAocGFzc2VkX29wdGlvbnMubGVuZ3RoID4gMCkge1xuICAgIHBhc3NlZF9vcHRpb25zWzBdLmFjY2VwdGVkID0gdHJ1ZTtcbiAgfVxuICBsZXQgY2xlYXJfYnV0dG9uID0gdGFyZ2V0LmZpcnN0RWxlbWVudENoaWxkO1xuICBsZXQgbmV3X2NoaWxkcmVuID0gW2NsZWFyX2J1dHRvbl07XG4gIGZvciAobGV0IG5vZGUgb2YgcGFzc2VkX29wdGlvbnMpIHtcbiAgICBsZXQgYV9sYWJlbCA9IGxhYmVsX3RlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgIGFfbGFiZWwuZmlyc3RFbGVtZW50Q2hpbGQucXVlcnlTZWxlY3RvcignY2NnLXN2aWV3ZXItbGl0ZScpLlN1Z2FyQ2xhc3MgPSB0aGlzLlN1Z2FyQ2xhc3M7XG4gICAgYV9sYWJlbC5maXJzdEVsZW1lbnRDaGlsZC5xdWVyeVNlbGVjdG9yKCdjY2ctc3ZpZXdlci1saXRlJykudGV4dENvbnRlbnQgPSBub2RlLnRleHRDb250ZW50O1xuICAgIGFfbGFiZWwuZmlyc3RFbGVtZW50Q2hpbGQucXVlcnlTZWxlY3RvcignaW5wdXQnKS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJyxub2RlLnRleHRDb250ZW50KTtcbiAgICBhX2xhYmVsLmZpcnN0RWxlbWVudENoaWxkLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZXYgPT4ge1xuICAgICAgZm9yIChsZXQgbm9kZSBvZiB0YXJnZXQucXVlcnlTZWxlY3RvckFsbCgnbGFiZWxbY2hlY2tlZF0nKSkge1xuICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZSgnY2hlY2tlZCcpO1xuICAgICAgfVxuICAgICAgaWYgKGV2LnRhcmdldC5jaGVja2VkKSB7XG4gICAgICAgIGV2LnRhcmdldC5wYXJlbnROb2RlLnNldEF0dHJpYnV0ZSgnY2hlY2tlZCcsJycpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG5ld19jaGlsZHJlbi5wdXNoKGFfbGFiZWwpO1xuICB9XG4gIGxldCBzZXF1ZW5jZXMgPSBbLi4ucGFzc2VkX29wdGlvbnNdLm1hcCggbm9kZSA9PiBub2RlLnRleHRDb250ZW50ICk7XG4gIGxldCB7cmVhY3Rpb25zLG5ld19yb290c30gPSBzZXF1ZW5jZXNfdG9fcmVhY3Rpb25zKHNlcXVlbmNlcyx0aGlzLlN1Z2FyQ2xhc3MpO1xuICBmb3IgKGxldCBuZXdfcm9vdCBvZiBuZXdfcm9vdHMpIHtcbiAgICBzZXF1ZW5jZXMuc3BsaWNlKDAsMCxuZXdfcm9vdCk7XG4gIH1cbiAgc2VxdWVuY2VzID0gc2VxdWVuY2VzLmZpbHRlciggKG8saSxhKSA9PiBhLmluZGV4T2YobykgPT0gaSApXG4gIHRhcmdldC5yZXBsYWNlQ2hpbGRyZW4oLi4uKG5ld19jaGlsZHJlbi5zbGljZSgwLG1heF9jaGlsZHJlbikpKTtcbiAgdGhpcy5vcHRpb25zID0gc2VxdWVuY2VzO1xuICBjb25zb2xlLnRpbWVFbmQoJ2FjY2VwdF9vcHRpb25zJyk7XG4gIHJldHVybihyZWFjdGlvbnMpO1xufTtcblxuY29uc3Qgd2lyZV9ldmVudHMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdvcHRpb25zJykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgIGlmICh0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ29wdGlvbnMnKS5nbHljYW4udmFsdWUgPT0gJycpIHtcbiAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgIGxldCBldmVudCA9IG5ldyBFdmVudCgnY2hhbmdlJyx7YnViYmxlczogdHJ1ZX0pO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy52YWx1ZSA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnb3B0aW9ucycpLmdseWNhbi52YWx1ZTtcbiAgICBsZXQgZXZlbnQgPSBuZXcgRXZlbnQoJ2NoYW5nZScse2J1YmJsZXM6IHRydWV9KTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICB9KTtcbiAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdidWlsZGVyJykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgIGxldCBpbnB1dF9zZXEgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignI2J1aWxkZXInKS5zZXF1ZW5jZTtcbiAgICBpZiAoKHRoaXMudmFsdWUgIT09IGlucHV0X3NlcSkgJiYgKCh0aGlzLm9wdGlvbnMuaW5kZXhPZihpbnB1dF9zZXEpID49IDApIHx8IGlucHV0X3NlcSA9PSAnJykgKSB7XG4gICAgICB0aGlzLnZhbHVlID0gaW5wdXRfc2VxO1xuICAgICAgbGV0IGV2ZW50ID0gbmV3IEV2ZW50KCdjaGFuZ2UnLHtidWJibGVzOiB0cnVlfSk7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZURpc2FibGVkKGlucHV0X3NlcSk7XG4gIH0pO1xufTtcblxuY2xhc3MgU3VnYXJTZWxlY3QgZXh0ZW5kcyBXcmFwSFRNTCB7XG5cbiAgI1N1Z2FyQ2xhc3MgPSBJdXBhY1N1Z2FyO1xuICAjb3B0aW9ucyA9IFtdO1xuXG4gIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHN0YXRpYyBwcm9jZXNzU2VxdWVuY2VzKHNlcXVlbmNlcyxjbGF6eikge1xuICAgIHNlcXVlbmNlc190b19yZWFjdGlvbnMoc2VxdWVuY2VzLGNsYXp6KTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgbG9nKCdJbml0aWF0aW5nIFN1Z2FyU2VsZWN0IGVsZW1lbnQnKTtcbiAgfVxuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGxldCBzaGFkb3dSb290ID0gdGhpcy5hdHRhY2hTaGFkb3coe21vZGU6ICdvcGVuJ30pO1xuICAgIHNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodG1wbC5jb250ZW50LmNsb25lTm9kZSh0cnVlKSk7XG4gICAgc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnYnVpbGRlcicpLnJlYWN0aW9ucyA9IHt9O1xuICAgIHRoaXMuU3VnYXJDbGFzcyA9IHRoaXMuU3VnYXJDbGFzcztcblxuICAgIGxldCBzbG90ID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdnbHljYW5vcHRpb25zJyk7XG4gICAgY29uc3QgcGFzc2VkX29wdGlvbnMgPSAoc2xvdC5hc3NpZ25lZE5vZGVzKHtmbGF0dGVuOiB0cnVlIH0pLmZpbHRlciggbm9kZSA9PiBub2RlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSApKTtcblxuICAgIGlmIChwYXNzZWRfb3B0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLnJlZnJlc2hPcHRpb25zKCk7XG4gICAgfVxuXG4gICAgc2xvdC5hZGRFdmVudExpc3RlbmVyKCdzbG90Y2hhbmdlJywgKCkgPT4ge1xuICAgICAgdGhpcy5yZWZyZXNoT3B0aW9ucygpO1xuICAgIH0pO1xuXG4gICAgd2lyZV9ldmVudHMuY2FsbCh0aGlzKTtcblxuICAgIGZvciAobGV0IGF0dHIgb2YgWydsaW5rcycsJ2xpbmthbmdsZXMnXSkge1xuICAgICAgdGhpcy5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYXR0cik7XG4gICAgfVxuXG4gIH1cblxuICByZWZyZXNoT3B0aW9ucygpIHtcbiAgICBsZXQgc2xvdCA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnZ2x5Y2Fub3B0aW9ucycpO1xuICAgIGxldCBtYXhfZGlzcGxheSA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMpLmdldFByb3BlcnR5VmFsdWUoJy0tbWF4LXNlbGVjdC1kaXNwbGF5JykpO1xuICAgIGNvbnN0IHJlYWN0aW9ucyA9IGFjY2VwdF9vcHRpb25zLmNhbGwodGhpcyxzbG90LHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnb3B0aW9ucycpLG1heF9kaXNwbGF5KTtcbiAgICBpZiAoISByZWFjdGlvbnMgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnYnVpbGRlcicpLnJlYWN0aW9ucyA9IHJlYWN0aW9ucztcbiAgICB0aGlzLnVwZGF0ZURpc2FibGVkKHRoaXMudmFsdWUpO1xuICB9XG5cbiAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuI29wdGlvbnM7XG4gIH1cblxuICBzZXQgb3B0aW9ucyhzZXF1ZW5jZXMpIHtcbiAgICB0aGlzLiNvcHRpb25zID0gc2VxdWVuY2VzO1xuICB9XG5cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignI29wdGlvbnMnKS5nbHljYW4udmFsdWU7XG4gIH1cblxuICBzZXQgdmFsdWUoc2VxKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5pbmRleE9mKHNlcSkgPCAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcjYnVpbGRlcicpLnNlcXVlbmNlID0gc2VxO1xuICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcjb3B0aW9ucycpLmdseWNhbi52YWx1ZSA9IHNlcTtcbiAgICB0aGlzLnVwZGF0ZURpc2FibGVkKHNlcSk7XG4gIH1cblxuICBnZXQgU3VnYXJDbGFzcygpIHtcbiAgICByZXR1cm4gdGhpcy4jU3VnYXJDbGFzcztcbiAgfVxuXG4gIHNldCBTdWdhckNsYXNzKGNsYXp6KSB7XG4gICAgdGhpcy4jU3VnYXJDbGFzcyA9IGNsYXp6O1xuICAgIGlmICh0aGlzLnNoYWRvd1Jvb3QpIHtcbiAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcjYnVpbGRlcicpLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignI3ZpZXdlcicpLlN1Z2FyQ2xhc3MgPSBjbGF6ejtcbiAgICB9XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignI2J1aWxkZXInKS5zZXF1ZW5jZSA9ICcnO1xuICB9XG5cbiAgdXBkYXRlRGlzYWJsZWQocmVmZXJlbmNlX3NlcXVlbmNlKSB7XG4gICAgbGV0IGVuYWJsZWRfY291bnQgPSAwO1xuICAgIGNvbnNvbGUudGltZSgndXBkYXRlRGlzYWJsZWQnKTtcbiAgICBsZXQgb3B0aW9uX2VscyA9IFsuLi50aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbCgnbGFiZWwnKV0uZmlsdGVyKCBlbCA9PiAoZWwuZmlyc3RFbGVtZW50Q2hpbGQuZ2V0QXR0cmlidXRlKCd0eXBlJykgPT0gJ3JhZGlvJykgJiYgZWwucXVlcnlTZWxlY3RvcignY2NnLXN2aWV3ZXItbGl0ZScpICk7XG4gICAgbGV0IG1heF9kaXNwbGF5ID0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcykuZ2V0UHJvcGVydHlWYWx1ZSgnLS1tYXgtc2VsZWN0LWRpc3BsYXknKSk7XG4gICAgaWYgKG1heF9kaXNwbGF5IDwgMCkge1xuICAgICAgbWF4X2Rpc3BsYXkgPSBvcHRpb25fZWxzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBzZXEgb2YgdGhpcy5vcHRpb25zKSB7XG4gICAgICBpZiAoISBzZXEpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBsZXQgY2xhenogPSB0aGlzLlN1Z2FyQ2xhc3M7XG4gICAgICBsZXQgc3VnID0gbmV3IGNsYXp6KCk7XG4gICAgICBzdWcuc2VxdWVuY2UgPSBzZXE7XG4gICAgICBsZXQgY3Vycl9zdWdfc2VxID0gcmVmZXJlbmNlX3NlcXVlbmNlO1xuICAgICAgbGV0IGN1cnJfc3VnID0gbmV3IGNsYXp6KCk7XG4gICAgICBjdXJyX3N1Zy5zZXF1ZW5jZSA9IGN1cnJfc3VnX3NlcTtcbiAgICAgIGxldCByZXR2YWwgPSBzdWcubWF0Y2hfc3VnYXJfcGF0dGVybihjdXJyX3N1Zyxjb21wYXJhdG9yKTtcbiAgICAgIGxldCBub19wYXR0ZXJuX21hdGNoID0gY3Vycl9zdWdfc2VxICE9ICcnICYmIHJldHZhbC5sZW5ndGggPCAxO1xuICAgICAgbGV0IG9saWdvX21hdGNoID0gWy4uLnN1Zy5jb21wb3NpdGlvbigpXS5sZW5ndGggPiAxO1xuICAgICAgaWYgKG5vX3BhdHRlcm5fbWF0Y2ggJiYgb2xpZ29fbWF0Y2gpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgb3B0aW9uICA9IG9wdGlvbl9lbHNbZW5hYmxlZF9jb3VudF07XG4gICAgICAgIG9wdGlvbi5yZW1vdmVBdHRyaWJ1dGUoJ2NoZWNrZWQnKTtcbiAgICAgICAgb3B0aW9uLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykudmFsdWUgPSBzZXE7XG4gICAgICAgIG9wdGlvbi5xdWVyeVNlbGVjdG9yKCdjY2ctc3ZpZXdlci1saXRlJykudGV4dENvbnRlbnQgPSBzZXE7XG4gICAgICAgIG9wdGlvbi5xdWVyeVNlbGVjdG9yKCdjY2ctc3ZpZXdlci1saXRlJykuZnVsbFJlZnJlc2goKTtcblxuICAgICAgICBlbmFibGVkX2NvdW50ICs9IDE7XG4gICAgICAgIGlmIChjdXJyX3N1Zy5zZXF1ZW5jZSA9PSBzdWcuc2VxdWVuY2UpIHtcbiAgICAgICAgICBvcHRpb24ucXVlcnlTZWxlY3RvcignaW5wdXQnKS5jbGljaygpO1xuICAgICAgICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnLCcnKTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICBpZiAoKGVuYWJsZWRfY291bnQgKyAxKSA9PSBtYXhfZGlzcGxheSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB3aGlsZSAoKGVuYWJsZWRfY291bnQgKyAxKSA8IG1heF9kaXNwbGF5KSB7XG4gICAgICBvcHRpb25fZWxzW2VuYWJsZWRfY291bnRdLnJlbW92ZUF0dHJpYnV0ZSgnY2hlY2tlZCcpO1xuICAgICAgb3B0aW9uX2Vsc1tlbmFibGVkX2NvdW50XS5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywndHJ1ZScpO1xuICAgICAgZW5hYmxlZF9jb3VudCArPSAxO1xuICAgIH1cbiAgICBjb25zb2xlLnRpbWVFbmQoJ3VwZGF0ZURpc2FibGVkJyk7XG4gIH1cblxuXG4gIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lKSB7XG4gICAgaWYgKCAhIHRoaXMuc2hhZG93Um9vdCApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKFsnbGlua3MnLCdsaW5rYW5nbGVzJ10uaW5kZXhPZihuYW1lKSA+PSAwICkge1xuICAgICAgaWYgKHRoaXMuaGFzQXR0cmlidXRlKG5hbWUpKSB7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnYnVpbGRlcicpLnNldEF0dHJpYnV0ZShuYW1lLCcnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnYnVpbGRlcicpLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG5cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKEVMRU1FTlRfTkFNRSxTdWdhclNlbGVjdCk7XG5cbmV4cG9ydCBkZWZhdWx0IFN1Z2FyU2VsZWN0OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBREE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUF3SEE7QUFFQTtBQUlBO0FBRUE7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFaQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBWUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./js/sugarselect.js\n");

/***/ }),

/***/ "./js/sugarviewers.js":
/*!****************************!*\
  !*** ./js/sugarviewers.js ***!
  \****************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var glycan_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! glycan.js */ \"../glycan.js/js/main.js\");\n/* harmony import */ var _sviewer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sviewer */ \"./js/sviewer/index.js\");\n/* harmony import */ var _builder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./builder */ \"./js/builder.js\");\n/* harmony import */ var _sugarframe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sugarframe */ \"./js/sugarframe.js\");\n/* harmony import */ var _sugarselect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sugarselect */ \"./js/sugarselect.js\");\n/*global window*/\n\n\n\n\n\n\nwindow.Glycan = glycan_js__WEBPACK_IMPORTED_MODULE_0__;\nwindow.SViewer = _sviewer__WEBPACK_IMPORTED_MODULE_1__;\nwindow.SugarBuilder = _builder__WEBPACK_IMPORTED_MODULE_2__;\nwindow.SugarFrame = _sugarframe__WEBPACK_IMPORTED_MODULE_3__;\nwindow.SugarSelect = _sugarselect__WEBPACK_IMPORTED_MODULE_4__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9zdWdhcnZpZXdlcnMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9zdWdhcnZpZXdlcnMuanM/M2I5MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKmdsb2JhbCB3aW5kb3cqL1xuXG5pbXBvcnQgKiBhcyBHbHljYW4gZnJvbSAnZ2x5Y2FuLmpzJztcbmltcG9ydCAqIGFzIFNWaWV3ZXIgZnJvbSAnLi9zdmlld2VyJztcbmltcG9ydCAqIGFzIFN1Z2FyQnVpbGRlciBmcm9tICcuL2J1aWxkZXInO1xuaW1wb3J0ICogYXMgU3VnYXJGcmFtZSBmcm9tICcuL3N1Z2FyZnJhbWUnO1xuaW1wb3J0ICogYXMgU3VnYXJTZWxlY3QgZnJvbSAnLi9zdWdhcnNlbGVjdCc7XG5cbndpbmRvdy5HbHljYW4gPSBHbHljYW47XG53aW5kb3cuU1ZpZXdlciA9IFNWaWV3ZXI7XG53aW5kb3cuU3VnYXJCdWlsZGVyID0gU3VnYXJCdWlsZGVyO1xud2luZG93LlN1Z2FyRnJhbWUgPSBTdWdhckZyYW1lO1xud2luZG93LlN1Z2FyU2VsZWN0ID0gU3VnYXJTZWxlY3Q7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/sugarviewers.js\n");

/***/ }),

/***/ "./js/sviewer/cache-sviewer.js":
/*!*************************************!*\
  !*** ./js/sviewer/cache-sviewer.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lite__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lite */ \"./js/sviewer/lite.js\");\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar SUGAR_CACHE = new Map();\nvar SUGAR_CACHE_COUNTS = new Map();\nvar render_lock;\nclass Lock {\n  constructor() {\n    this.lock = new Promise(resolve => {\n      this.done = resolve;\n    });\n  }\n  nextTick() {\n    return new Promise(resolve => {\n      requestAnimationFrame(resolve);\n    });\n  }\n}\nclass SViewerCache extends _lite__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  _redraw_sugar() {\n    var _superprop_get_redraw_sugar = () => super._redraw_sugar,\n      _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.sequence == '') {\n        return;\n      }\n      if (!_this.renderer) {\n        return;\n      }\n      yield _this.renderer.ready;\n      if (render_lock && render_lock.active) {\n        setTimeout(() => {\n          _this._redraw_sugar();\n        }, 0);\n        return;\n      }\n      render_lock = new Lock();\n      render_lock.active = true;\n      if (SUGAR_CACHE.has(_this.sequence) && SUGAR_CACHE_COUNTS.get(_this.sequence) > 1) {\n        render_lock.done();\n        render_lock.active = false;\n        _this.shadowRoot.getElementById('output').innerHTML = '<img/>';\n        _this.shadowRoot.getElementById('output').firstChild.setAttribute('src', SUGAR_CACHE.get(_this.sequence));\n        return;\n      } else {\n        yield _superprop_get_redraw_sugar().call(_this);\n        yield render_lock.nextTick();\n        var dataurl = yield _this.toDataURL('image/png');\n        SUGAR_CACHE.set(_this.sequence, dataurl);\n        SUGAR_CACHE_COUNTS.set(_this.sequence, (SUGAR_CACHE_COUNTS.get(_this.sequence) || 0) + 1);\n        render_lock.done();\n        render_lock.active = false;\n        return;\n      }\n    })();\n  }\n}\ncustomElements.define('ccg-sviewer-cache', SViewerCache);\n/* harmony default export */ __webpack_exports__[\"default\"] = (SViewerCache);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9zdmlld2VyL2NhY2hlLXN2aWV3ZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9zdmlld2VyL2NhY2hlLXN2aWV3ZXIuanM/M2U2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2RlZmF1bHQgYXMgU1ZpZXdlckxpdGV9IGZyb20gJy4vbGl0ZSc7XG5cbmNvbnN0IFNVR0FSX0NBQ0hFPW5ldyBNYXAoKTtcbmNvbnN0IFNVR0FSX0NBQ0hFX0NPVU5UUz1uZXcgTWFwKCk7XG5cbmxldCByZW5kZXJfbG9jaztcblxuXG5jbGFzcyBMb2NrIHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5sb2NrID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcblx0XHRcdHRoaXMuZG9uZSA9IHJlc29sdmU7XG5cdFx0fSlcblx0fVxuXHRuZXh0VGljaygpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG5cdFx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVzb2x2ZSk7XG5cdFx0fSlcblx0fVxufVxuXG5jbGFzcyBTVmlld2VyQ2FjaGUgZXh0ZW5kcyBTVmlld2VyTGl0ZSB7XG4gIGFzeW5jIF9yZWRyYXdfc3VnYXIoKSB7XG4gIFx0aWYgKHRoaXMuc2VxdWVuY2UgPT0gJycpIHtcbiAgXHRcdHJldHVybjtcbiAgXHR9XG4gIFx0aWYgKCAhIHRoaXMucmVuZGVyZXIgKSB7XG4gIFx0XHRyZXR1cm47XG4gIFx0fVxuXG4gIFx0YXdhaXQgdGhpcy5yZW5kZXJlci5yZWFkeTtcblxuICBcdGlmIChyZW5kZXJfbG9jayAmJiByZW5kZXJfbG9jay5hY3RpdmUpIHtcbiAgXHRcdHNldFRpbWVvdXQoICgpID0+IHtcbiAgXHRcdFx0dGhpcy5fcmVkcmF3X3N1Z2FyKCk7XG4gIFx0XHR9LDApO1xuICBcdFx0cmV0dXJuO1xuICBcdH1cbiAgXHRyZW5kZXJfbG9jayA9IG5ldyBMb2NrKCk7XG4gIFx0cmVuZGVyX2xvY2suYWN0aXZlID0gdHJ1ZTtcbiAgXHRpZiAoU1VHQVJfQ0FDSEUuaGFzKHRoaXMuc2VxdWVuY2UpICYmIFNVR0FSX0NBQ0hFX0NPVU5UUy5nZXQodGhpcy5zZXF1ZW5jZSkgPiAxKSB7XG4gIFx0XHRyZW5kZXJfbG9jay5kb25lKCk7XG4gIFx0XHRyZW5kZXJfbG9jay5hY3RpdmUgPSBmYWxzZTtcbiAgXHRcdHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnb3V0cHV0JykuaW5uZXJIVE1MID0gJzxpbWcvPic7XG4gIFx0XHR0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ291dHB1dCcpLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCdzcmMnLFNVR0FSX0NBQ0hFLmdldCh0aGlzLnNlcXVlbmNlKSk7XG4gIFx0XHRyZXR1cm47XG4gIFx0fSBlbHNlIHtcbiAgXHRcdGF3YWl0IHN1cGVyLl9yZWRyYXdfc3VnYXIoKTtcbiAgXHRcdGF3YWl0IHJlbmRlcl9sb2NrLm5leHRUaWNrKCk7XG4gIFx0XHRsZXQgZGF0YXVybCA9IGF3YWl0IHRoaXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTtcbiAgXHRcdFNVR0FSX0NBQ0hFLnNldCh0aGlzLnNlcXVlbmNlLGRhdGF1cmwpO1xuICBcdFx0U1VHQVJfQ0FDSEVfQ09VTlRTLnNldCh0aGlzLnNlcXVlbmNlLCAoU1VHQVJfQ0FDSEVfQ09VTlRTLmdldCh0aGlzLnNlcXVlbmNlKSB8fCAwKSsxKTtcbiAgXHRcdHJlbmRlcl9sb2NrLmRvbmUoKTtcbiAgXHRcdHJlbmRlcl9sb2NrLmFjdGl2ZSA9IGZhbHNlO1xuICBcdFx0cmV0dXJuO1xuICBcdH1cbiAgfVxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2NjZy1zdmlld2VyLWNhY2hlJyxTVmlld2VyQ2FjaGUpO1xuXG5leHBvcnQgZGVmYXVsdCBTVmlld2VyQ2FjaGU7XG4iXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/sviewer/cache-sviewer.js\n");

/***/ }),

/***/ "./js/sviewer/index.js":
/*!*****************************!*\
  !*** ./js/sviewer/index.js ***!
  \*****************************/
/*! exports provided: IupacSugar, SViewerLite, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var rough_glycan_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rough-glycan.js */ \"./node_modules/rough-glycan.js/js/main.js\");\n/* harmony import */ var glycan_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! glycan.js */ \"../glycan.js/js/main.js\");\n/* harmony import */ var DragMenus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! DragMenus */ \"./node_modules/DragMenus/js/index.js\");\n/* harmony import */ var _lite__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lite */ \"./js/sviewer/lite.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"IupacSugar\", function() { return _lite__WEBPACK_IMPORTED_MODULE_3__[\"IupacSugar\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"SViewerLite\", function() { return _lite__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n\n\n\n\n\n\nvar wire_drag_functions = function wire_drag_functions() {\n  if (this.form) {\n    new DragMenus__WEBPACK_IMPORTED_MODULE_2__[\"DragManager\"](this);\n    new DragMenus__WEBPACK_IMPORTED_MODULE_2__[\"DraggableForm\"](this.form);\n  }\n};\nvar renderers = new Map(Object.entries({\n  svg: glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"SVGRenderer\"],\n  canvas: glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"CanvasRenderer\"],\n  sketch: rough_glycan_js__WEBPACK_IMPORTED_MODULE_0__[\"RoughCanvasRenderer\"]\n}));\nclass SViewer extends _lite__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\n  static get RegisteredRenderers() {\n    return renderers;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    new DragMenus__WEBPACK_IMPORTED_MODULE_2__[\"ShadowDragDropTouch\"](this);\n    wire_drag_functions.call(this);\n    this.form.style.display = 'block';\n  }\n}\ncustomElements.define('ccg-sviewer', SViewer);\n/* harmony default export */ __webpack_exports__[\"default\"] = (SViewer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9zdmlld2VyL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvc3ZpZXdlci9pbmRleC5qcz81NWM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdWdoQ2FudmFzUmVuZGVyZXIgfSBmcm9tICdyb3VnaC1nbHljYW4uanMnO1xuXG5pbXBvcnQgeyBTVkdSZW5kZXJlciwgQ2FudmFzUmVuZGVyZXIgfSBmcm9tICdnbHljYW4uanMnO1xuXG5pbXBvcnQgeyBEcmFnZ2FibGVGb3JtLCBEcmFnTWFuYWdlciwgU2hhZG93RHJhZ0Ryb3BUb3VjaCB9IGZyb20gJ0RyYWdNZW51cyc7XG5cbmV4cG9ydCB7IEl1cGFjU3VnYXIgfSBmcm9tICcuL2xpdGUnO1xuXG5pbXBvcnQge2RlZmF1bHQgYXMgU1ZpZXdlckxpdGV9IGZyb20gJy4vbGl0ZSc7XG5cbmV4cG9ydCB7IFNWaWV3ZXJMaXRlIH1cblxubGV0IHdpcmVfZHJhZ19mdW5jdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuZm9ybSkge1xuICAgIG5ldyBEcmFnTWFuYWdlcih0aGlzKTtcbiAgICBuZXcgRHJhZ2dhYmxlRm9ybSh0aGlzLmZvcm0pO1xuICB9XG59O1xuXG5jb25zdCByZW5kZXJlcnMgPSBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKHtcbiAgc3ZnOiBTVkdSZW5kZXJlcixcbiAgY2FudmFzOiBDYW52YXNSZW5kZXJlcixcbiAgc2tldGNoOiBSb3VnaENhbnZhc1JlbmRlcmVyXG59KSk7XG5cbmNsYXNzIFNWaWV3ZXIgZXh0ZW5kcyBTVmlld2VyTGl0ZSB7XG5cbiAgc3RhdGljIGdldCBSZWdpc3RlcmVkUmVuZGVyZXJzKCkge1xuICAgIHJldHVybiByZW5kZXJlcnM7XG4gIH1cblxuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuXG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcblxuICAgIG5ldyBTaGFkb3dEcmFnRHJvcFRvdWNoKHRoaXMpO1xuXG4gICAgd2lyZV9kcmFnX2Z1bmN0aW9ucy5jYWxsKHRoaXMpO1xuICAgIHRoaXMuZm9ybS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnY2NnLXN2aWV3ZXInLFNWaWV3ZXIpO1xuXG5leHBvcnQgZGVmYXVsdCBTVmlld2VyOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./js/sviewer/index.js\n");

/***/ }),

/***/ "./js/sviewer/lite.js":
/*!****************************!*\
  !*** ./js/sviewer/lite.js ***!
  \****************************/
/*! exports provided: default, IupacSugar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IupacSugar\", function() { return IupacSugar; });\n/* harmony import */ var debug_any_level__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! debug-any-level */ \"./node_modules/debug-any-level/index.js\");\n/* harmony import */ var debug_any_level__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(debug_any_level__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var glycan_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! glycan.js */ \"../glycan.js/js/main.js\");\n/* harmony import */ var _imagesaver__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../imagesaver */ \"./js/imagesaver.js\");\n/* harmony import */ var _highlighter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../highlighter */ \"./js/highlighter.js\");\n/* harmony import */ var _autorepeat__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../autorepeat */ \"./js/autorepeat.js\");\n/* globals document,HTMLElement,HTMLLabelElement,MutationObserver,Event,customElements,window,requestAnimationFrame,cancelAnimationFrame,ShadyCSS,Node,ResizeObserver */\n\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = privateMap.get(receiver); if (!descriptor) { throw new TypeError(\"attempted to set private field on non-instance\"); } if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } return value; }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = privateMap.get(receiver); if (!descriptor) { throw new TypeError(\"attempted to get private field on non-instance\"); } if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\n\nvar module_string = 'sviewer:sviewer';\nvar log = debug_any_level__WEBPACK_IMPORTED_MODULE_0__(module_string);\nvar Iupac = glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"CondensedIupac\"].IO;\nvar IupacSugar = Object(glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"Mass\"])(Iupac(glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"Sugar\"]));\nvar sequence_symbol = Symbol('sequence');\nvar donors_symbol = Symbol('donors');\nvar repeats_symbol = Symbol('repeats');\nvar highlighter_symbol = Symbol('highlighter');\nvar scale_timeout_symbol = Symbol('scale_timeout');\nvar RESIDUE_SELECTION_TIMEOUT = 500;\nvar tmpl = document.createElement('template');\ntmpl.innerHTML = \"\\n<style>\\n  :root {\\n    --button-color: #000;\\n    --drop-shadow-color: rgba(50, 50, 0, 0.5);\\n    --drop-shadow-offset: 2px;\\n    --drop-shadow-size: 1px;\\n  }\\n  :host {\\n    display: block;\\n    position: relative;\\n    --palette-background-color: #eee;\\n    --palette-icon-size: 32px;\\n    --demoted-opacity: 0.5;\\n    --sugars-url: inherit;\\n  }\\n\\n  :host([resizeable]) {\\n    resize: both;\\n    overflow: auto;\\n  }\\n\\n  :host([resizeable]) .widget_contents {\\n    width: calc(100% - 5px);\\n    height: calc(100% - 5px);\\n  }\\n\\n  :host #output {\\n    display: flex;\\n    justify-content: center;\\n  }\\n\\n  :host .widget_contents > div > svg {\\n    width: 100%;\\n    height: 100%;\\n    pointer-events: auto;\\n    font-family: Helvetica, sans-serif;\\n  }\\n\\n  :host .widget_contents > div > canvas {\\n    object-fit: contain;\\n    width: 100%;\\n    height: 100%;\\n  }\\n\\n  :host .widget_contents > div > svg * {\\n    -moz-transition: all 0.1s ease-in-out;\\n    -o-transition: all 0.1s ease-in-out;\\n    -webkit-transition: all 0.1s ease-in-out;\\n    transition: all 0.1s ease-in-out;\\n  }\\n\\n  :host .widget_contents > div > svg {\\n    -moz-transition: all 0.5s ease-in-out;\\n    -o-transition: all 0.5s ease-in-out;\\n    -webkit-transition: all 0.5s ease-in-out;\\n    transition: all 0.5s ease-in-out;\\n  }\\n\\n  :host .widget_contents {\\n    position: absolute;\\n    left: 0px;\\n    right: 0px;\\n    top: 0px;\\n    bottom: 0px;\\n    width: 100%;\\n    height: 100%;\\n  }\\n\\n  :host .pie_parent {\\n    position: fixed;\\n    top: 0px;\\n    left: 0px;\\n    width: 100%;\\n    height: 100%;\\n    z-index: 1;\\n    pointer-events: none;\\n  }\\n\\n  :host .widget_contents > div {\\n    position: absolute;\\n    top: 0px;\\n    left: 0px;\\n    height: 100%;\\n    width: 100%;\\n  }\\n\\n  :host([editable]) .highlight_canvas {\\n    position: absolute;\\n    left: 0px;\\n    width: 100%;\\n    top: var(--palette-height);\\n    height: calc( 100% - var(--palette-height));\\n  }\\n\\n  :host([editable]) .widget_contents > div {\\n    top: var(--palette-height);\\n    height: calc( 100% - var(--palette-height));\\n  }\\n\\n  :host .palette {\\n    display: none;\\n  }\\n\\n  :host([editable]) .widget_contents {\\n    margin-top: var(--palette-height, 0px);\\n    height: calc( 100% - var(--palette-height, 0px));\\n  }\\n\\n  :host([editable]) .palette {\\n    display: grid;\\n    grid-gap: 5px;\\n    grid-template-columns: repeat(auto-fill, calc( var(--palette-icon-size) + 10px ));\\n    margin-top: calc(-1 *  var(--palette-height, 0px));\\n  }\\n\\n  :host([editable]) .palette:after {\\n    content: \\\"\\\";\\n    flex: auto;\\n  }\\n\\n\\n  :host .palette {\\n    position: absolute;\\n    top: 0px;\\n    left: 0px;\\n    right: 0px;\\n    background: var(--palette-background-color);\\n    pointer-events: auto;\\n    overflow: hidden;\\n    width: var(--expandedwidth);\\n    background: none;\\n    height: auto;\\n    min-height: calc(var(--palette-icon-size) + 5px);\\n    padding-top: 5px;\\n    padding-left: 5px;\\n    padding-bottom: 5px;\\n    padding-right: 2px;\\n    border-bottom-right-radius: 5px;\\n    border-bottom-left-radius: 5px;\\n  }\\n\\n  :host #palette_closer_wrap {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    filter: drop-shadow(var(--drop-shadow-offset) var(--drop-shadow-offset) var(--drop-shadow-size) var(--drop-shadow-color));\\n  }\\n\\n  :host #palette_closer:hover {\\n    --button-default-background-color: var(--selection-color, #ff0000);\\n    background-image: url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1 1'%3E%3Cstyle%3E* %7B stroke-width: 0.05; stroke: rgba(0,0,0,1); fill: none;%7D line %7B stroke: rgba(255,255,255,1) %7D %3C/style%3E%3Ccircle cx='0.5' cy='0.5' r='0.4' /%3E%3Cline x1='0.5' y1='0.25' x2='0.5' y2='0.75' /%3E%3Cline y1='0.5' x1='0.25' y2='0.5' x2='0.75' /%3E%3C/svg%3E\\\");\\n  }\\n\\n  :host #palette_closer {\\n    background-color: var(--button-default-background-color,#555);\\n    background-image: url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1 1'%3E%3Cstyle%3E* %7B stroke-width: 0.05; stroke: rgba(0,0,0,1); fill: none;%7D line %7B stroke: rgba(255,255,255,1) %7D %3C/style%3E%3Ccircle cx='0.5' cy='0.5' r='0.4' /%3E %3C/svg%3E\\\");\\n    -webkit-mask: url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1 1'%3E%3Ccircle cx='0.5' cy='0.5' r='0.4' /%3E%3Cline x1='0.5' y1='0.25' x2='0.5' y2='0.75' /%3E%3Cline y1='0.5' x1='0.25' y2='0.5' x2='0.75' /%3E%3C/svg%3E\\\");\\n    mask: url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1 1'%3E%3Ccircle cx='0.5' cy='0.5' r='0.4' /%3E%3Cline x1='0.5' y1='0.25' x2='0.5' y2='0.75' /%3E%3Cline y1='0.5' x1='0.25' y2='0.5' x2='0.75' /%3E%3C/svg%3E\\\");\\n\\n    width: var(--palette-icon-size);\\n    height: var(--palette-icon-size);\\n    -moz-transition: all 0.5s ease-in-out;\\n    -o-transition: all 0.5s ease-in-out;\\n    -webkit-transition: all 0.5s ease-in-out;\\n    transition: transform 0.5s ease-in-out;\\n    background-repeat: no-repeat;\\n    position: relative;\\n    cursor: pointer;\\n  }\\n\\n  :host #palette_closer:after {\\n    content: '';\\n    display: block;\\n    --l-threshold: 0.7;\\n    --l: clamp(0, (var(--l-threshold) / l - 1) * infinity, 1);\\n    --button-foreground: oklch(from var(--button-default-background-color,#555) var(--l) 0 h);\\n    background: var(--button-foreground,white);\\n    width: 100%;\\n    height: 100%;\\n    pointer-events: none;\\n    mask: url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1 1'%3E %3Cline x1='0.5' y1='0.25' x2='0.5' y2='0.75' stroke-width='0.06' stroke='black' /%3E%3Cline stroke-width='0.06' stroke='black' y1='0.5' x1='0.25' y2='0.5' x2='0.75' /%3E%3C/svg%3E\\\");\\n  }\\n  :host(:not(.dragging)) .palette.expanded #palette_closer {\\n    transform: rotate(405deg);\\n  }\\n\\n  :host(.dragging) .palette.expanded {\\n    pointer-events: none;\\n  }\\n\\n  :host .palette label {\\n    transform: translate(calc(-1 * (var(--palette-item-count) + 1) * (var(--palette-icon-size) + 12px) ),0px);\\n    transition: transform 0.5s ease-in-out;\\n  }\\n\\n  :host(:not(.dragging)) .palette.expanded label {\\n    flex: 1;\\n    transform: translate(0px,0px);\\n    min-width: var(--palette-icon-size);\\n    min-height: var(--palette-icon-size);\\n    max-width: var(--palette-icon-size);\\n    max-height: var(--palette-icon-size);\\n  }\\n\\n  :host(:not(.dragging)) .palette.expanded {\\n    width: var(--expandedwidth);\\n    background: var(--palette-background-color);\\n  }\\n\\n  :host #textbox {\\n    top: auto;\\n    bottom: 0px;\\n    height: auto;\\n    font-family: sans-serif;\\n  }\\n\\n  :host #textbox {\\n    display: none;\\n  }\\n\\n\\n  :host([showsequence]) #textbox {\\n    display: block;\\n  }\\n\\n  :host * {\\n    -webkit-tap-highlight-color: rgba(0,0,0,0);\\n  }\\n\\n  :host ccg-piemenu {\\n    position: absolute;\\n    top: 0px;\\n    left: 0px;\\n    pointer-events: none;\\n    width: 150px;\\n    height: 150px;\\n    z-index: 2;\\n    --end-angle: 60;\\n    --start-angle: -60;\\n    --icon-size: 10px;\\n  }\\n\\n  :host ccg-piemenu[active] label {\\n    pointer-events: all;\\n  }\\n\\n  :host ccg-piemenu[active] label[data-weight^=\\\"-\\\"] {\\n    opacity: calc( -1 * var(--weight) * var(--demoted-opacity) );\\n  }\\n\\n  :host ccg-piemenu button, ccg-piemenu label {\\n    font-family: sans-serif;\\n    font-size: var(--icon-size);\\n  }\\n\\n  @keyframes piemenuselection {\\n    0% {\\n      background-position: right top;\\n      color: #000000;\\n    }\\n    100% {\\n      background-position: left top;\\n      color: #ffffff;\\n    }\\n  }\\n\\n\\n  :host ccg-piemenu label.dragover {\\n    background: linear-gradient(var(--slice-background-rotate-angle),var(--selection-color) 50%, var(--palette-background-color) 50%);\\n    background-size: 375% 100%;\\n    animation: piemenuselection 650ms;\\n  }\\n\\n  :host ccg-piemenu button.hover, ccg-piemenu label.hover, ccg-piemenu button:hover, ccg-piemenu label:hover {\\n    background: var(--selection-color);\\n    color: #ffffff;\\n  }\\n\\n  :host ccg-piemenu button[data-weight^=\\\"-\\\"].hover, ccg-piemenu label[data-weight^=\\\"-\\\"].hover, ccg-piemenu button[data-weight^=\\\"-\\\"]:hover, ccg-piemenu label[data-weight^=\\\"-\\\"]:hover {\\n    background: #FFE2E2;\\n    opacity: 1;\\n    color: #000000;\\n  }\\n\\n\\n  :host #icons {\\n    display: none;\\n  }\\n\\n  @supports (pointer-events: bounding-box) {\\n    :host {\\n      --bounding-box-events: true;\\n    }\\n  }\\n\\n  @media only screen\\n    and (min-device-width: 320px)\\n    and (max-device-width: 480px)\\n    and (-webkit-min-device-pixel-ratio: 2) {\\n    :host {\\n      --palette-icon-size: 32px;\\n    }\\n    :host ccg-piemenu {\\n      --end-angle: 135;\\n      --start-angle: 35;\\n      --icon-position-ratio: 0.1;\\n      --icon-size: 24px;\\n      width: 200px;\\n      height: 200px;\\n    }\\n\\n    :host([editable]) .widget_contents {\\n      margin-top: 0px;\\n      height: 100%;\\n      overflow: hidden;\\n    }\\n\\n    :host([editable]) .palette {\\n      margin-top: 0px;\\n    }\\n\\n  }\\n  :host .palette label svg {\\n    pointer-events: none;\\n  }\\n  :host .palette label[data-disabled] {\\n    opacity: 0.2;\\n    pointer-events: none;\\n  }\\n\\n  :host .palette label[data-weight^=\\\"-\\\"] {\\n    opacity: var(--demoted-opacity);\\n  }\\n\\n  :host #palette_delete {\\n    padding: 2px;\\n    padding-left: 8px;\\n    border-radius: 5px;\\n    height: var(--palette-icon-size);\\n    cursor: pointer;\\n  }\\n\\n  :host .palette label.checked {\\n    background: #faa;\\n  }\\n\\n  :host .palette label[draggable] {\\n    display: block;\\n\\n    cursor: move; /* fallback if grab cursor is unsupported */\\n    cursor: grab;\\n    cursor: -moz-grab;\\n    cursor: -webkit-grab;\\n\\n    background: rgba(255,255,255,0.8);\\n    width: var(--palette-icon-size);\\n    height: var(--palette-icon-size);\\n\\n    -webkit-user-drag: element;\\n    border-radius: 5px;\\n    box-shadow: 2px 2px 2px rgba(90,90,90,0.6);\\n    padding: 0.5px;\\n    border: solid rgba(90,90,90,0.5) 0.5px;\\n    padding-left: 7px;\\n  }\\n\\n  :host .palette label[draggable]:before {\\n    position: absolute;\\n    content: '';\\n    height: 75%;\\n    left: 2px;\\n    top: calc(12.5% - 2px);\\n    width: 2px;\\n    background-image: linear-gradient(0deg, #999, #999 40%, transparent 40%, transparent 100%);\\n    background-size: 1px 25%;\\n    border: none;\\n  }\\n\\n  :host .palette label[draggable].checked {\\n    background: var(--selection-color);\\n  }\\n\\n  :host .palette label input[value=\\\"delete\\\"] {\\n    display: none;\\n  }\\n\\n  :host .palette label[draggable] input {\\n    display: none;\\n  }\\n\\n</style>\\n<div class=\\\"widget_contents\\\" >\\n  <div id=\\\"icons\\\"></div>\\n  <div id=\\\"output\\\"></div>\\n  <form id=\\\"new_linkage\\\">\\n    <div id=\\\"palette\\\" class=\\\"palette expanded\\\">\\n    <div id=\\\"palette_closer_wrap\\\">\\n    <div id=\\\"palette_closer\\\" onclick=\\\"this.parentNode.parentNode.classList.toggle('expanded')\\\"></div>\\n    </div>\\n    <label id=\\\"palette_delete\\\">\\n    <svg viewBox=\\\"-100 -100 812 812\\\">\\n      <g>\\n      <path d=\\\"m510.81 85.933c-29.254-14.929-58.367-16.325-59.592-16.375-0.246-0.012-0.492-0.017-0.737-0.017h-46.303c3e-3 -0.139 0.022-0.273 0.022-0.415 0-26.812-12.761-48.09-35.931-59.913-16.138-8.234-31.876-9.122-33.618-9.194-0.244-0.013-0.49-0.019-0.736-0.019h-55.832c-0.246 0-0.492 6e-3 -0.737 0.017-1.741 0.074-17.48 0.96-33.616 9.194-23.172 11.824-35.932 33.102-35.932 59.913 0 0.142 0.017 0.276 0.022 0.415h-46.303c-0.246 0-0.492 6e-3 -0.737 0.017-1.226 0.051-30.337 1.446-59.593 16.375-28.241 14.41-61.905 44.075-61.905 103.55 0 9.581 7.767 17.35 17.35 17.35h15.245l67.087 390.76c1.43 8.328 8.65 14.416 17.099 14.416h299.87c8.449 0 15.67-6.088 17.099-14.416l67.087-390.76h15.245c9.581 0 17.35-7.768 17.35-17.35-1e-3 -59.473-33.666-89.138-61.907-103.55zm-435.41 86.197c4.22-24.493 17.846-42.891 40.665-54.828 21.272-11.123 43.329-12.888 45.936-13.063h288c2.585 0.172 24.08 1.906 45.034 12.6 23.361 11.922 37.29 30.475 41.562 55.29l-461.2 1e-3zm167.1-103c0-13.566 5.156-22.656 16.226-28.599 8.889-4.773 18.372-5.701 19.886-5.825h54.742c1.736 0.142 11.12 1.102 19.92 5.825 11.07 5.944 16.228 15.033 16.228 28.599 0 0.142 0.017 0.276 0.022 0.415h-127.04c2e-3 -0.139 0.02-0.275 0.02-0.415zm198.81 508.18h-270.62l-63.605-370.47h397.83l-63.605 370.47z\\\"/>\\n      <path d=\\\"m306 519.57c9.581 0 17.35-7.768 17.35-17.35v-244.31c0-9.581-7.768-17.35-17.35-17.35-9.583 0-17.35 7.768-17.35 17.35v244.31c0 9.582 7.769 17.35 17.35 17.35z\\\"/>\\n      <path d=\\\"m203.78 503.75c0.801 9.022 8.373 15.816 17.261 15.816 0.513 0 1.032-0.023 1.553-0.068 9.545-0.847 16.596-9.273 15.749-18.816l-21.687-244.31c-0.847-9.545-9.265-16.609-18.817-15.749-9.545 0.847-16.595 9.27-15.748 18.816l21.689 244.31z\\\"/>\\n      <path d=\\\"m389.4 519.5c0.52 0.045 1.04 0.068 1.553 0.068 8.889 0 16.462-6.794 17.263-15.816l21.687-244.31c0.847-9.545-6.202-17.968-15.748-18.816-9.544-0.856-17.968 6.204-18.817 15.749l-21.687 244.31c-0.847 9.544 6.204 17.97 15.749 18.817z\\\"/>\\n      </g>\\n    </svg>\\n    <input name=\\\"donor\\\" value=\\\"delete\\\" type=\\\"radio\\\"></label>\\n    </div>\\n    <div class=\\\"pie_parent\\\">\\n      <ccg-piemenu name=\\\"anomer\\\" id=\\\"anomer_menu\\\" data-next=\\\"linkage_menu\\\">\\n        <label><span>\\u03B1</span><input name=\\\"anomer\\\" value=\\\"a\\\" type=\\\"radio\\\"></label>\\n        <label><span>\\u03B2</span><input name=\\\"anomer\\\" value=\\\"b\\\" type=\\\"radio\\\"></label>\\n        <label><span>?</span><input name=\\\"anomer\\\" value=\\\"u\\\" type=\\\"radio\\\"></label>\\n      </ccg-piemenu>\\n      <ccg-piemenu name=\\\"linkage\\\" id=\\\"linkage_menu\\\">\\n        <label><span>N</span><input name=\\\"linkage\\\" value=\\\"\".concat(glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"Monosaccharide\"].LINKAGES.N, \"\\\" type=\\\"radio\\\"></label>\\n        <label><span>O</span><input name=\\\"linkage\\\" value=\\\"\").concat(glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"Monosaccharide\"].LINKAGES.O, \"\\\" type=\\\"radio\\\"></label>\\n        <label><span>?</span><input name=\\\"linkage\\\" value=\\\"0\\\" type=\\\"radio\\\"></label>\\n        <label><span>1</span><input name=\\\"linkage\\\" value=\\\"1\\\" type=\\\"radio\\\"></label>\\n        <label><span>2</span><input name=\\\"linkage\\\" value=\\\"2\\\" type=\\\"radio\\\"></label>\\n        <label><span>3</span><input name=\\\"linkage\\\" value=\\\"3\\\" type=\\\"radio\\\"></label>\\n        <label><span>4</span><input name=\\\"linkage\\\" value=\\\"4\\\" type=\\\"radio\\\"></label>\\n        <label><span>6</span><input name=\\\"linkage\\\" value=\\\"6\\\" type=\\\"radio\\\"></label>\\n        <label><span>8</span><input name=\\\"linkage\\\" value=\\\"8\\\" type=\\\"radio\\\"></label>\\n      </ccg-piemenu>\\n    </div>\\n  </form>\\n  <div id=\\\"textbox\\\">\\n    <slot id=\\\"textcontent\\\"> </slot>\\n  </div>\\n</div>\\n\");\nvar palette_template = document.createElement('template');\npalette_template.innerHTML = \"\\n  <label draggable=\\\"true\\\">\\n  <svg width=\\\"100%\\\" height=\\\"100%\\\" viewBox=\\\"0 0 100 100\\\">\\n    <use x=\\\"0.0\\\" y=\\\"0.0\\\" width=\\\"100\\\" height=\\\"100\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"#neuac\\\"></use>\\n  </svg>\\n  <input name=\\\"donor\\\" value=\\\"NeuAc\\\" type=\\\"radio\\\">\\n  </label>\\n\";\nfunction WrapHTML() {\n  return Reflect.construct(HTMLElement, [], Object.getPrototypeOf(this).constructor);\n}\nObject.setPrototypeOf(WrapHTML.prototype, HTMLElement.prototype);\nObject.setPrototypeOf(WrapHTML, HTMLElement);\nvar rescale_widget_chrome = function rescale_widget_chrome(state) {\n  if (!this.hasAttribute('editable')) {\n    return;\n  }\n  var zoom = parseFloat((window.innerWidth / window.document.documentElement.clientWidth).toFixed(2));\n  var top = window.scrollY;\n  var left = window.scrollX;\n  var palette = this.shadowRoot.querySelector('.palette');\n  var pie_parent = this.shadowRoot.querySelector('.pie_parent');\n  var widget_pos = palette.parentNode.parentNode.getBoundingClientRect();\n  if (widget_pos.top < 0 || widget_pos.left < 0) {\n    var fs_left = widget_pos.left < 0 ? -1 * widget_pos.left : 0;\n    var fs_top = widget_pos.top < 0 ? -1 * widget_pos.top : 0;\n    palette.style.position = 'absolute';\n    palette.style.transformOrigin = \"\".concat(fs_left, \"px \").concat(fs_top, \"px\");\n    // Viewport width\n    if (palette.classList.contains('expanded')) {\n      palette.style.setProperty('--expandedwidth', document.documentElement.clientWidth + 'px');\n    }\n    palette.style.transform = \"scale(\".concat(zoom, \") translate(\").concat(fs_left, \"px,\").concat(fs_top, \"px)\");\n  } else {\n    palette.style.position = 'absolute';\n    if (palette.classList.contains('expanded')) {\n      palette.style.setProperty('--expandedwidth', (1 / zoom * 100).toFixed(2) + '%');\n    }\n    palette.style.transformOrigin = \"\".concat(0, \"px \", 0, \"px\");\n    palette.style.transform = \"scale(\".concat(zoom, \") translate(\", 0, \"px,0px)\");\n  }\n  var looper = palette;\n  var offsetLeft = 0;\n  while (looper.parentNode) {\n    offsetLeft += looper.offsetLeft;\n    looper = looper.parentNode;\n  }\n  left -= offsetLeft / zoom;\n  pie_parent.style.transformOrigin = \"\".concat(window.scrollX, \"px \").concat(top, \"px\");\n  pie_parent.style.transform = \"scale(\".concat(zoom, \") translate(\").concat(left, \"px,\").concat(top, \"px)\");\n  state.ticking = false;\n};\nvar layout_engine_stores = new Map();\nvar get_layout_engine = (instance, layout_class) => {\n  if (!layout_engine_stores.has(layout_class)) {\n    layout_engine_stores.set(layout_class, new WeakMap());\n  }\n  if (!layout_engine_stores.get(layout_class).has(instance)) {\n    layout_engine_stores.get(layout_class).set(instance, class extends layout_class {});\n  }\n  return layout_engine_stores.get(layout_class).get(instance);\n};\nvar window_scroll_listener = state => {\n  if (!state.ticking) {\n    window.requestAnimationFrame(rescale_widget_chrome.bind(state.owner, state));\n    state.ticking = true;\n  }\n};\nvar create_scroll_listener = state => {\n  return () => window_scroll_listener(state);\n};\nvar wire_palette_pagezoom = function wire_palette_pagezoom() {\n  var state = {\n    ticking: false,\n    owner: this\n  };\n  var scroll_listener = create_scroll_listener(state);\n  window.removeEventListener('scroll', scroll_listener);\n  window.addEventListener('scroll', scroll_listener);\n};\nvar show_anomer = function show_anomer(residue, target) {\n  if (!this.hasAttribute('editable')) {\n    return;\n  }\n  var anomer_chooser = this.shadowRoot.getElementById('anomer_menu');\n  var form = this.form;\n  if (form && form.clear) {\n    form.clear();\n  }\n  log.info('Setting target to', residue.identifier);\n  delete form.active_residue;\n  this.highlightResidues();\n  form.residue = residue;\n  var event = new Event('change', {\n    bubbles: true\n  });\n  form.dispatchEvent(event);\n  anomer_chooser.removeAttribute('active');\n  var zoom = parseFloat((window.innerWidth / window.document.documentElement.clientWidth).toFixed(2));\n  var target_pos = target.getBoundingClientRect();\n  var vals = {\n    top: target_pos.top,\n    left: target_pos.left,\n    width: target_pos.width,\n    height: target_pos.height\n  };\n  if (vals.width < 5) {\n    // Transforms are not being taken into account on the use element\n    // in Firefox. https://bugzilla.mozilla.org/show_bug.cgi?id=1066435\n    // Look for elements that are too small, and scale up.\n    vals.width = vals.width * 100;\n    vals.height = vals.height * 100;\n  }\n  var anomer_size = anomer_chooser.getBoundingClientRect();\n  var palette_top = anomer_chooser.parentNode.getBoundingClientRect().top / zoom;\n  var palette_left = anomer_chooser.parentNode.getBoundingClientRect().left / zoom;\n  var left_pos = ((vals.left + 0.5 * vals.width - 0.5 * anomer_size.width) / zoom - palette_left).toFixed(2);\n  var top_pos = ((vals.top + 0.5 * vals.height - 0.5 * anomer_size.height) / zoom - palette_top).toFixed(2);\n  left_pos = ((vals.left + 0.5 * vals.width - 0.5 * anomer_size.width) / zoom).toFixed(2);\n  anomer_chooser.style.transformOrigin = \"\".concat(left_pos, \"px \").concat(top_pos, \"px\");\n  anomer_chooser.style.transform = \"scale(1) translate(\".concat(left_pos, \"px,\").concat(top_pos, \"px)\");\n  setTimeout(() => {\n    if ([...anomer_chooser.querySelectorAll('label:not([data-disabled])')].length === 1) {\n      anomer_chooser.querySelector('label:not([data-disabled])').click();\n    } else {\n      setTimeout(() => {\n        anomer_chooser.setAttribute('active', null);\n      }, 100);\n    }\n  }, 0);\n  anomer_chooser.clear();\n};\nvar enableDropResidue = function enableDropResidue(renderer, residue) {\n  residue.renderer = renderer;\n  if (!renderer.rendered.has(residue)) {\n    return;\n  }\n  var target = renderer.rendered.get(residue).residue.element;\n  if (!target) {\n    return;\n  }\n  var supports_bounding_box = window.getComputedStyle(target).getPropertyValue('--bounding-box-events') === 'true';\n  if (target.style.pointerEvents === (supports_bounding_box ? 'bounding-box' : 'all')) {\n    return;\n  }\n  target.style.pointerEvents = supports_bounding_box ? 'bounding-box' : 'all';\n  var form = this.form;\n  target.addEventListener('dragleave', () => {\n    delete form.active_residue;\n    if (form.menu_timeout) {\n      clearTimeout(form.menu_timeout);\n    }\n    if (!form.active_center) {\n      form.clear();\n    }\n    this.highlightResidues();\n  });\n  target.addEventListener('click', ev => {\n    if (form.querySelector('input[name=\"donor\"]:checked').value === 'delete') {\n      var parent = residue.parent;\n      parent.removeChild(parent.linkageOf(residue), residue);\n      parent.balance();\n      parent.renderer.refresh();\n      this.sequence = this.renderer.sugars[0].sequence;\n      this.form.reset();\n      return;\n    }\n    if (form.querySelector('input[name=\"donor\"]:checked').value) {\n      show_anomer.bind(this, residue)(ev.target);\n    }\n  });\n  target.addEventListener('dragenter', ev => {\n    if (!this.hasAttribute('editable')) {\n      return;\n    }\n    if (!form.active_center) {\n      this.highlightResidues([residue]);\n    }\n    if (form.residue === residue) {\n      return;\n    }\n    if (form.active_residue === residue) {\n      return;\n    }\n    if (form.active_center) {\n      var center = form.active_center;\n      if (center.r < 75) {\n        center.r = 75;\n      }\n      if (Math.pow(ev.clientX - center.left, 2) + Math.pow(ev.clientY - center.top, 2) < Math.pow(1 * center.r, 2)) {\n        return;\n      }\n    }\n    form.clear();\n\n    // We should wait for a drag over at least 300 ms after\n    // to set the target\n    form.active_residue = residue;\n    if (form.menu_timeout) {\n      clearTimeout(form.menu_timeout);\n    }\n    form.menu_timeout = setTimeout(show_anomer.bind(this, residue, ev.target), RESIDUE_SELECTION_TIMEOUT);\n  });\n};\nvar update_sequence = function update_sequence() {\n  if (!this.renderer || !this.renderer.sugars || this.renderer.sugars.length < 1) {\n    return;\n  }\n  if (this.renderer.sugars[0].sequence !== this.sequence) {\n    this.renderer.sugars[0].sequence = this.sequence;\n  }\n};\nvar redraw_sugar = function redraw_sugar() {\n  if (!this.renderer || !this.renderer.sugars || this.renderer.sugars.length < 1) {\n    return;\n  }\n  return this.renderer.refresh().then(() => {\n    if (this.hasAttribute('editable')) {\n      for (var residue of this.renderer.sugars[0].composition()) {\n        enableDropResidue.call(this, this.renderer, residue);\n      }\n    }\n    this.scaleToFit();\n  });\n};\nvar wire_renderer_canvas_events = function wire_renderer_canvas_events() {\n  var canvas = this.renderer.element.canvas;\n  this.addEventListener('drag', () => {\n    this.classList.add('dragging');\n  });\n  var contents = this.shadowRoot.querySelector('.widget_contents');\n  contents.addEventListener('click', ev => {\n    if (ev.target !== contents) {\n      return;\n    }\n    // // Reset form values and selected items\n    if (this.form && this.form.clear) {\n      this.form.reset();\n      this.form.clear();\n    }\n  });\n  canvas.addEventListener('click', ev => {\n    if (ev.target !== canvas) {\n      return;\n    }\n    // // Reset form values and selected items\n    if (this.form && this.form.clear) {\n      this.form.reset();\n      this.form.clear();\n    }\n  });\n  canvas.addEventListener('dragleave', ev => {\n    if (ev.relatedTarget === canvas) {\n      if (this.form.active_center) {\n        var center = this.form.active_center;\n        if (center.r < 75) {\n          center.r = 75;\n        }\n        if (Math.pow(ev.clientX - center.left, 2) + Math.pow(ev.clientY - center.top, 2) < Math.pow(1 * center.r, 2)) {\n          return;\n        }\n      }\n      this.form.clear();\n      delete this.form.active_residue;\n      delete this.form.residue;\n      if (this.form.menu_timeout) {\n        clearTimeout(this.form.menu_timeout);\n      }\n      this.highlightResidues();\n      return;\n    }\n  });\n  this.addEventListener('dragend', () => {\n    this.classList.remove('dragging');\n    this.highlightResidues();\n    setTimeout(() => {\n      this.form.reset();\n    }, 100);\n  });\n};\nvar wire_renderer_fisheye = function wire_renderer_fisheye(arg) {\n  var canvas = this.renderer.element.canvas;\n  var renderer = this.renderer;\n  canvas.addEventListener('dragover', () => {\n    this.classList.add('dragging');\n  });\n  document.addEventListener('dragend', () => {\n    this.classList.remove('dragging');\n  });\n  if (!arg) {\n    return;\n  }\n  var last_req;\n  canvas.addEventListener('dragover', ev => {\n    if (this.shadowRoot.querySelectorAll('ccg-piemenu[active]').length > 0) {\n      return;\n    }\n    if (!this.hasAttribute('editable')) {\n      return;\n    }\n    this.LayoutEngine.focus = [ev.sugarX, ev.sugarY];\n    var vp_zoom = parseFloat((window.innerWidth / window.document.documentElement.clientWidth).toFixed(2));\n    var candidate_zoom = parseFloat((vp_zoom * vp_zoom * 3).toFixed(2));\n    this.LayoutEngine.zoom = candidate_zoom < 0.1 ? 0.1 : candidate_zoom;\n    this.LayoutEngine.lock_residues = true;\n    if (last_req) {\n      cancelAnimationFrame(last_req);\n    }\n    last_req = requestAnimationFrame(function () {\n      renderer.refresh();\n    });\n  });\n  document.addEventListener('dragend', () => {\n    this.LayoutEngine.focus = [-1000, -1000];\n    if (last_req) {\n      cancelAnimationFrame(last_req);\n    }\n    last_req = requestAnimationFrame(function () {\n      renderer.refresh();\n    });\n  });\n};\nvar update_repeats = function update_repeats() {\n  var repeats = this.renderer.sugars[0].repeats;\n  this[repeats_symbol].length = 0;\n  this[repeats_symbol].push(...repeats.map(repeat => new _autorepeat__WEBPACK_IMPORTED_MODULE_4__[\"ModifiableRepeat\"](repeat, this)));\n};\nvar update_icon_text_orientation = function update_icon_text_orientation() {\n  var is_rotated = this.renderer.rotate;\n  for (var text of this.shadowRoot.querySelectorAll('#icons symbol text')) {\n    if (is_rotated) {\n      text.setAttribute('transform', 'rotate(90,50,50)');\n    } else {\n      text.removeAttribute('transform');\n    }\n  }\n};\nvar wire_form_check_class = function wire_form_check_class() {\n  this.form.addEventListener('change', function (ev) {\n    if (ev.target && ev.target.parentNode instanceof HTMLLabelElement) {\n      var targ = ev.target;\n      if (targ.name !== 'donor') {\n        return;\n      }\n      for (var sib of this.querySelectorAll(\"input[name=\\\"\".concat(targ.name, \"\\\"]\"))) {\n        if (sib === targ) {\n          sib.parentNode.classList.add('checked');\n        } else {\n          sib.parentNode.classList.remove('checked');\n        }\n      }\n    }\n  });\n  this.form.addEventListener('reset', function () {\n    delete this.residue;\n    for (var sib of this.querySelectorAll('input[name=\"donor\"]')) {\n      sib.parentNode.classList.remove('checked');\n    }\n  });\n};\nvar wire_palette_watcher = label => {\n  var config = {\n    attributes: true,\n    subtree: true,\n    attributeFilter: ['disabled', 'data-weight']\n  };\n  // Callback function to execute when mutations are observed\n  var callback = function callback(mutationsList) {\n    for (var mutation of mutationsList) {\n      if (mutation.target === label) {\n        return;\n      }\n      if (mutation.type == 'attributes') {\n        var current_parts = new Set((label.getAttribute('part') || '').split(', '));\n        if (current_parts.has('donor-disabled')) {\n          current_parts.delete('donor-disabled');\n        }\n        if (label.querySelector('input[disabled]')) {\n          label.setAttribute('data-disabled', '');\n          current_parts.add('donor-disabled');\n        } else {\n          label.removeAttribute('data-disabled');\n        }\n        label.setAttribute('part', [...current_parts].join(', '));\n        if (label.querySelector('input[data-weight]')) {\n          label.setAttribute('data-weight', label.querySelector('input[data-weight]').getAttribute('data-weight'));\n        } else {\n          label.removeAttribute('data-weight');\n        }\n      }\n    }\n  };\n  var observer = new MutationObserver(callback);\n  observer.observe(label, config);\n\n  // Later, you can stop observing\n  // observer.disconnect();\n};\nvar active_palette_population_symbol = Symbol('ACTIVE_POPULATION');\nvar ensure_sugar_icon = function ensure_sugar_icon(defs_block, sequence) {\n  var safe_seq = sequence.toLowerCase().replace(/[()\\[\\]]/g, '_');\n  var existing;\n  try {\n    existing = defs_block.querySelector(\"#\".concat(safe_seq));\n  } catch (error) {\n    console.log(error);\n    return Promise.resolve();\n  }\n  if (existing) {\n    return Promise.resolve();\n  }\n  var templayout = class extends glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"SugarAwareLayoutFishEye\"] {};\n  templayout.LINKS = false;\n  var sugar_renderer = new glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"SVGRenderer\"](defs_block, templayout);\n  var clazz = this.SugarClass;\n  var sug = new clazz();\n  sug.sequence = sequence;\n  sugar_renderer.element.canvas.setAttribute('id', safe_seq);\n  sugar_renderer.rotate = true;\n  sugar_renderer.addSugar(sug);\n  return sugar_renderer.refresh().then(() => {\n    var a_use = document.createElementNS('http://www.w3.org/2000/svg', 'use');\n    a_use.setAttributeNS('http://www.w3.org/1999/xlink', 'href', '#' + safe_seq);\n    a_use.style.visibility = 'hidden';\n    defs_block.parentNode.parentNode.style.display = 'block';\n    defs_block.parentNode.appendChild(a_use);\n    sugar_renderer.element.canvas.getBBox = () => {\n      return a_use.getBBox();\n    };\n    sugar_renderer.scaleToFit({\n      side: 0.25,\n      top: 0.5\n    });\n    a_use.parentNode.removeChild(a_use);\n    defs_block.parentNode.parentNode.style.display = 'none';\n    sugar_renderer.element.canvas.setAttribute('preserveAspectRatio', 'xMidYMid meet');\n  });\n};\nvar populate_palette = function populate_palette(widget, palette) {\n  var donors = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : ['Gal', 'Glc', 'Man', 'GalNAc', 'GlcNAc', 'NeuAc', 'NeuGc', 'GlcA', 'IdoA', 'Xyl', 'Fuc'];\n  var icons = widget.shadowRoot.getElementById('icons');\n  while (palette.lastElementChild && palette.lastElementChild.getAttribute('id') !== 'palette_delete') {\n    palette.removeChild(palette.lastElementChild);\n  }\n  var process_token = Symbol('ACTIVE');\n  widget[active_palette_population_symbol] = process_token;\n  widget[donors_symbol] = donors;\n  return Promise.resolve(widget.renderer.constructor.SYMBOLS).then(xml => icons.innerHTML = xml).then(/*#__PURE__*/_asyncToGenerator(function* () {\n    if (widget[active_palette_population_symbol] !== process_token) {\n      return;\n    }\n    delete widget[active_palette_population_symbol];\n    var exportparts = 'donor-button, donor-disabled';\n    for (var sug of widget.donors) {\n      var safe_seq = sug.toLowerCase().replace(/[()\\[\\]]/g, '_');\n      yield ensure_sugar_icon.call(widget, icons.querySelector('defs'), sug);\n      var palette_entry = palette_template.content.cloneNode(true);\n      palette_entry.querySelector('use').setAttribute('xlink:href', \"#\".concat(safe_seq));\n      palette_entry.querySelector('input').setAttribute('value', sug);\n      palette_entry.querySelector('label').setAttribute('data-donor', sug.toLowerCase());\n      palette_entry.querySelector('label').setAttribute('part', \"donor-button\");\n      palette.appendChild(palette_entry);\n      wire_palette_watcher(palette.lastElementChild);\n    }\n    widget.setAttribute('exportparts', exportparts);\n    palette.style.setProperty('--palette-item-count', palette.children.length);\n  }));\n};\nvar extend_sugar = function extend_sugar(residue, donor_value, anomer_value, linkage_value) {\n  var clazz = this.SugarClass;\n  var sug = new clazz();\n  sug.sequence = donor_value;\n  var new_res = sug.root;\n  new_res.anomer = anomer_value;\n  new_res.parent_linkage = donor_value.match(/Neu(Gc|Ac)/) ? 2 : 1;\n  var delta = \"\".concat(sug.sequence, \"(\").concat(new_res.anomer).concat(new_res.parent_linkage, \"-\").concat(linkage_value, \")\");\n  var reaction_string = \"\".concat(residue.identifier, \"(u?-?)*+\\\"{\").concat(delta, \"@y2a}\\\"\");\n  var ReactionClass = glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"Reaction\"].CopyIO(sug);\n  var reaction = new ReactionClass();\n  reaction.sequence = reaction_string;\n\n  // if (this.querySelector('input[name=\"donor\"]:checked').reaction) {\n  //   reaction = this.querySelector('input[name=\"donor\"]:checked').reaction;\n  // }\n\n  var renderer = residue.renderer;\n  if (residue instanceof glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"Repeat\"].Monosaccharide && residue.repeat.mode === glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"Repeat\"].MODE_MINIMAL) {\n    if ((!residue.endsRepeat || residue.repeat.root.identifier !== new_res.identifier) && ['Fuc', 'HSO3'].indexOf(new_res.identifier) >= 0) {\n      residue.original.addChild(parseInt(linkage_value), new_res);\n    } else {\n      residue.addChild(parseInt(linkage_value), new_res);\n    }\n    return [...sug.composition()];\n  } else {\n    return reaction.execute(renderer.sugars[0], residue);\n  }\n};\nvar form_action = function form_action(widget, ev) {\n  ev.preventDefault();\n  ev.stopPropagation();\n  var donor_value = (this.querySelector('input[name=\"donor\"]:checked') || {}).value;\n  if (!donor_value) {\n    return;\n  }\n  var possible_anomers = [...this.querySelectorAll('input[name=\"anomer\"]:not([disabled])')];\n  if (!this.querySelector('input[name=\"anomer\"]:checked') && possible_anomers.length === 1) {\n    possible_anomers[0].checked = true;\n  }\n  var possible_linkages = [...this.querySelectorAll('input[name=\"linkage\"]:not([disabled])')];\n  if (!this.querySelector('input[name=\"linkage\"]:checked') && possible_linkages.length === 1) {\n    possible_linkages[0].checked = true;\n  }\n  var anomer_value = this.querySelector('input[name=\"anomer\"]:checked').value;\n  var linkage_value = this.querySelector('input[name=\"linkage\"]:checked').value;\n  var renderer = this.residue.renderer;\n  var original_location = renderer.sugars[0].location_for_monosaccharide(this.residue);\n  var added = widget.extendSugar(this.residue, donor_value, anomer_value, linkage_value);\n\n  // If the editing procedure removes the residue from the tree\n  // we should get the original residue back again.\n  // FIXME - This might be a source of pain if the linkages are ambiguous\n  // and the addition of a child makes the branch ordering flip around\n\n  this.residue = renderer.sugars[0].locate_monosaccharide(original_location);\n  this.residue.balance();\n  Object(_autorepeat__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(renderer.sugars[0]);\n  renderer.refresh().then(() => {\n    for (var new_res of added) {\n      enableDropResidue.call(widget, renderer, new_res);\n    }\n    widget.scaleToFit();\n    widget.highlightResidues();\n  });\n  if ('requestAnimationFrame' in window) {\n    requestAnimationFrame(() => {\n      widget.sequence = renderer.sugars[0].sequence;\n    });\n  } else {\n    widget.sequence = renderer.sugars[0].sequence;\n  }\n  this.reset();\n  return false;\n};\nvar wire_form_action = function wire_form_action() {\n  this.form.addEventListener('finished', form_action.bind(this.form, this));\n};\nvar initialise_events = function initialise_events() {\n  if (!this.hasAttribute('editable')) {\n    return;\n  }\n  log.info('Initialising global events');\n  wire_palette_pagezoom.call(this);\n  wire_form_check_class.call(this);\n  wire_form_action.call(this);\n  if ('ResizeObserver' in window) {\n    new ResizeObserver(() => {\n      var palette = this.shadowRoot.getElementById('palette');\n      this.style.setProperty('--palette-height', palette.offsetHeight - 32 + 'px');\n    }).observe(this.shadowRoot.getElementById('palette'));\n  }\n  if (this.hasAttribute('editable') && this.shadowRoot.querySelector('#anomer_menu')) {\n    this.shadowRoot.querySelector('#anomer_menu').addEventListener('click', () => {\n      setTimeout(() => {\n        var linkage_chooser = this.shadowRoot.querySelector('#linkage_menu');\n        if (!linkage_chooser) {\n          return;\n        }\n        if ([...linkage_chooser.querySelectorAll('label:not([data-disabled])')].length === 1) {\n          this.form.clear();\n          linkage_chooser.querySelector('label:not([data-disabled])').click();\n          this.form.reset();\n        }\n      }, 0);\n    }, {\n      capture: true\n    });\n  }\n  log.info('Initialised global events');\n};\nvar initialise_renderer_object = function initialise_renderer_object() {\n  if (!this.shadowRoot) {\n    return;\n  }\n  var renderer_class = this.hasAttribute('renderer') ? this.constructor.RegisteredRenderers.get(this.getAttribute('renderer')) || glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"SVGRenderer\"] : glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"SVGRenderer\"];\n  var get_sugars_url = () => {\n    return window.getComputedStyle(this).getPropertyValue('--sugars-url') || this.getAttribute('sugars');\n  };\n  var overriding_renderer = class extends renderer_class {\n    static get SYMBOLS() {\n      var sugars_url = get_sugars_url();\n      if (sugars_url !== null && sugars_url !== \"null\" && sugars_url) {\n        return fetch(sugars_url).then(body => body.text());\n      } else {\n        return renderer_class.SYMBOLS;\n      }\n    }\n  };\n  if (this.renderer) {\n    while (this.shadowRoot.getElementById('output').firstChild) {\n      this.shadowRoot.getElementById('output').removeChild(this.shadowRoot.getElementById('output').firstChild);\n    }\n    this.renderer = null;\n  }\n  this.renderer = new overriding_renderer(this.shadowRoot.getElementById('output'), this.LayoutEngine);\n};\nvar initialise_renderer = function initialise_renderer() {\n  if (!this.shadowRoot) {\n    return;\n  }\n  this.LayoutEngine.LINKS = this.hasAttribute('links') ? true : false;\n  this.renderer.rotate = this.hasAttribute('horizontal');\n  this.renderer.leftToRight = false;\n  update_icon_text_orientation.call(this);\n  log.info('Wiring canvas events');\n  wire_renderer_canvas_events.call(this);\n  wire_renderer_fisheye.call(this);\n  log.info('Wired canvas events');\n  var clazz = this.SugarClass;\n  var sug = new clazz();\n  this.renderer.addSugar(sug);\n  if (this.sequence || this.sequence == '' && this.renderer.sugars[0].sequence != this.sequence) {\n    update_sequence.call(this);\n    this._redraw_sugar();\n    if (sug.repeats.length > 0) {\n      Object(_autorepeat__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(sug);\n    }\n    update_repeats.call(this);\n  }\n};\nvar update_sugar_seq = function update_sugar_seq(watched_text_nodes) {\n  var newseq = watched_text_nodes.map(n => n.textContent).join('');\n  newseq = newseq.replace(/^\\s+/, '').replace(/\\s+$/, '');\n  if (newseq !== this.sequence) {\n    this[sequence_symbol] = newseq;\n  }\n  if (this.sequence || this.sequence == '') {\n    update_sequence.call(this);\n  }\n  this._redraw_sugar();\n};\nif (window.ShadyCSS) {\n  ShadyCSS.prepareTemplate(tmpl, 'ccg-sviewer');\n}\nvar renderers = new Map(Object.entries({\n  svg: glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"SVGRenderer\"],\n  canvas: glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"CanvasRenderer\"]\n}));\nvar scale_to_fit = function scale_to_fit() {\n  var padding = Object.assign({}, this.renderer.constructor.DEFAULT_PADDING || {\n    top: 0,\n    side: 0\n  });\n  var padding_side = window.getComputedStyle(this).getPropertyValue('--sugar-padding-side');\n  var padding_top = window.getComputedStyle(this).getPropertyValue('--sugar-padding-top');\n  if (padding_side && typeof padding_side !== 'undefined') {\n    padding.side = parseFloat(padding_side);\n  }\n  if (padding_top && typeof padding_top !== 'undefined') {\n    padding.top = parseFloat(padding_top);\n  }\n  return this.renderer.scaleToFit(padding);\n};\nvar _SUGAR_CLASS = /*#__PURE__*/new WeakMap();\nclass SViewer extends WrapHTML {\n  static get observedAttributes() {\n    return ['links', 'horizontal', 'linkangles', 'sugars', 'renderer'];\n  }\n  static get RegisteredRenderers() {\n    return renderers;\n  }\n  get SugarClass() {\n    return _classPrivateFieldGet(this, _SUGAR_CLASS);\n  }\n  set SugarClass(clazz) {\n    _classPrivateFieldSet(this, _SUGAR_CLASS, clazz);\n  }\n  constructor() {\n    super();\n    _SUGAR_CLASS.set(this, {\n      writable: true,\n      value: IupacSugar\n    });\n    this[repeats_symbol] = [];\n    log('Initiating Sviewer element');\n  }\n  fullRefresh() {\n    return this._redraw_sugar();\n  }\n  _redraw_sugar() {\n    return redraw_sugar.call(this);\n  }\n  scaleToFit() {\n    if ('requestAnimationFrame' in window) {\n      if (this[scale_timeout_symbol]) {\n        window.cancelAnimationFrame(this[scale_timeout_symbol]);\n      }\n      this[scale_timeout_symbol] = window.requestAnimationFrame(() => {\n        scale_to_fit.call(this);\n      });\n    } else {\n      return scale_to_fit.call(this);\n    }\n  }\n  toDataURL() {\n    var _arguments = arguments,\n      _this = this;\n    return _asyncToGenerator(function* () {\n      var format = _arguments.length > 0 && _arguments[0] !== undefined ? _arguments[0] : 'image/svg';\n      if (format == 'image/svg') {\n        format = 'svg';\n      }\n      if (format == 'image/png') {\n        format = 'png';\n      }\n      var data = yield Object(_imagesaver__WEBPACK_IMPORTED_MODULE_2__[\"prepare\"])(_this, _this.renderer.element.canvas, format);\n      return data;\n    })();\n  }\n  save() {\n    var format = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'svg';\n    Object(_imagesaver__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, this.renderer.element.canvas, format, this.sequence);\n  }\n  get LayoutEngine() {\n    if (this.renderer instanceof glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"CanvasRenderer\"]) {\n      if (this.hasAttribute('linkangles')) {\n        return glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"LinkageLayoutFishEye\"];\n      } else {\n        return glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"SugarAwareLayoutFishEye\"];\n      }\n    } else {\n      var proto_engine = this.hasAttribute('linkangles') ? glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"LinkageLayoutFishEye\"] : glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"SugarAwareLayoutFishEye\"];\n      return get_layout_engine(this, proto_engine);\n    }\n  }\n  attributeChangedCallback(name) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      if (name === 'renderer') {\n        if (!_this2.shadowRoot) {\n          return;\n        }\n        initialise_renderer_object.call(_this2);\n        yield _this2.renderer.constructor.SYMBOLS;\n        initialise_renderer.call(_this2);\n        return;\n      }\n      if (name === 'links') {\n        if (_this2.hasAttribute('links')) {\n          _this2.LayoutEngine.LINKS = true;\n        } else {\n          _this2.LayoutEngine.LINKS = false;\n        }\n        if (_this2.renderer) {\n          _this2.renderer.refresh();\n          _this2.scaleToFit();\n        }\n      }\n      if (name === 'sugars') {\n        if (_this2.hasAttribute('sugars')) {\n          _this2.style.setProperty('--sugars-url', _this2.getAttribute('sugars'));\n        }\n      }\n      if (name === 'horizontal') {\n        if (!_this2.renderer) {\n          return;\n        }\n        if (_this2.hasAttribute('horizontal')) {\n          _this2.renderer.rotate = true;\n        } else {\n          _this2.renderer.rotate = false;\n        }\n        update_icon_text_orientation.call(_this2);\n        _this2.renderer.refresh();\n        setTimeout(() => _this2.scaleToFit(), 500);\n      }\n      if (name === 'linkangles') {\n        _this2.LayoutEngine.LINKS = _this2.renderer.LayoutEngine.LINKS;\n        _this2.renderer.LayoutEngine = _this2.LayoutEngine;\n        _this2.renderer.refresh();\n        _this2.scaleToFit();\n      }\n    })();\n  }\n  connectedCallback() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      if (window.ShadyCSS) {\n        ShadyCSS.styleElement(_this3);\n      }\n      var shadowRoot = _this3.attachShadow({\n        mode: 'open'\n      });\n      var tmpl_content = tmpl.content.cloneNode(true);\n      if (!_this3.hasAttribute('editable')) {\n        var pie_parent = tmpl_content.getRootNode().querySelector('.pie_parent');\n        pie_parent.parentNode.removeChild(pie_parent);\n      }\n      shadowRoot.appendChild(tmpl_content);\n      _this3.form = _this3.shadowRoot.getElementById('new_linkage');\n      if (_this3.form) {\n        _this3.form.style.display = 'none';\n      }\n      var slot = _this3.shadowRoot.getElementById('textcontent');\n      if (slot.assignedNodes({\n        flatten: true\n      })[0]) {\n        _this3[sequence_symbol] = slot.assignedNodes({\n          flatten: true\n        })[0].textContent;\n      }\n      var watched_text_nodes;\n      slot.addEventListener('slotchange', () => {\n        var watched_text_nodes = slot.assignedNodes({\n          flatten: true\n        }).filter(node => node.nodeType === Node.TEXT_NODE);\n        var update_func = update_sugar_seq.bind(_this3, watched_text_nodes);\n        for (var node of watched_text_nodes) {\n          node.addEventListener('DOMCharacterDataModified', update_func, false);\n        }\n        update_sugar_seq.call(_this3, watched_text_nodes);\n      });\n      if (_this3.hasAttribute('sugars')) {\n        _this3.style.setProperty('--sugars-url', _this3.getAttribute('sugars'));\n      }\n      initialise_renderer_object.call(_this3);\n      yield _this3.renderer.constructor.SYMBOLS;\n      _this3.palette_ready_promise = populate_palette(_this3, _this3.shadowRoot.getElementById('palette')).then(() => {\n        initialise_renderer.call(_this3);\n        initialise_events.call(_this3);\n      });\n      setTimeout(() => {\n        _this3.shadowRoot.querySelector('#palette').classList.remove('expanded');\n      }, 1000);\n      var max_opacity = 0.3;\n      var selection_highlighter = new _highlighter__WEBPACK_IMPORTED_MODULE_3__[\"default\"](_this3, 'selection');\n      selection_highlighter.setStates({\n        angle: 0,\n        opacity: 0\n      }, {\n        angle: 2 * Math.PI,\n        opacity: max_opacity\n      });\n      selection_highlighter.duration = RESIDUE_SELECTION_TIMEOUT - 50;\n      selection_highlighter.draw = (_ref2, _ref3, ctx) => {\n        var {\n          angle,\n          opacity\n        } = _ref2;\n        var {\n          x,\n          y,\n          width,\n          height,\n          zoom\n        } = _ref3;\n        ctx.beginPath();\n        ctx.lineWidth = parseFloat((10 / Math.max(zoom, 1)).toFixed(2));\n        if (opacity >= max_opacity) {\n          ctx.strokeStyle = window.getComputedStyle(_this3).getPropertyValue('--selection-color');\n        } else {\n          ctx.strokeStyle = \"rgba(0,0,0,\".concat(opacity.toFixed(2), \")\");\n        }\n        ctx.arc(x + 0.5 * width, y + 0.5 * height, 1.5 * width / 2, -0.5 * Math.PI, angle - 0.5 * Math.PI, false);\n        ctx.stroke();\n      };\n      _this3[highlighter_symbol] = selection_highlighter;\n    })();\n  }\n  get donors() {\n    return Object.freeze([].concat(this[donors_symbol]));\n  }\n  setDonors(donors) {\n    return populate_palette(this, this.shadowRoot.getElementById('palette'), [].concat(donors));\n  }\n  set donors(donors) {\n    this.setDonors(donors);\n  }\n  set sequence(seq) {\n    if (this.sequence !== seq) {\n      var slot = this.shadowRoot.getElementById('textcontent');\n      var text = slot.assignedNodes({\n        flatten: true\n      }).filter(node => node.nodeType === Node.TEXT_NODE)[0];\n      text.textContent = seq;\n      slot.dispatchEvent(new Event('slotchange'));\n      Object(_autorepeat__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.renderer.sugars[0]);\n      update_repeats.call(this);\n      var event = new Event('change', {\n        bubbles: true\n      });\n      this.dispatchEvent(event);\n    }\n    return seq;\n  }\n  get sequence() {\n    return this[sequence_symbol];\n  }\n  get repeats() {\n    return this[repeats_symbol];\n  }\n  extendSugar(residue, donor_value, anomer_value, linkage_value) {\n    return extend_sugar.call(this, residue, donor_value, anomer_value, linkage_value);\n  }\n  highlightResidues() {\n    var residues = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    this[highlighter_symbol].highlight(residues);\n  }\n}\ncustomElements.define('ccg-sviewer-lite', SViewer);\n/* harmony default export */ __webpack_exports__[\"default\"] = (SViewer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9zdmlld2VyL2xpdGUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9zdmlld2VyL2xpdGUuanM/Y2Y4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWxzIGRvY3VtZW50LEhUTUxFbGVtZW50LEhUTUxMYWJlbEVsZW1lbnQsTXV0YXRpb25PYnNlcnZlcixFdmVudCxjdXN0b21FbGVtZW50cyx3aW5kb3cscmVxdWVzdEFuaW1hdGlvbkZyYW1lLGNhbmNlbEFuaW1hdGlvbkZyYW1lLFNoYWR5Q1NTLE5vZGUsUmVzaXplT2JzZXJ2ZXIgKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0ICogYXMgZGVidWcgZnJvbSAnZGVidWctYW55LWxldmVsJztcblxuaW1wb3J0IHtDb25kZW5zZWRJdXBhYywgTWFzcywgU3VnYXIsIE1vbm9zYWNjaGFyaWRlLCBMaW5rYWdlTGF5b3V0RmlzaEV5ZSwgU3VnYXJBd2FyZUxheW91dEZpc2hFeWUsIFNWR1JlbmRlcmVyLCBDYW52YXNSZW5kZXJlciwgUmVwZWF0LCBSZWFjdGlvbiB9IGZyb20gJ2dseWNhbi5qcyc7XG5cbmltcG9ydCB7IGRlZmF1bHQgYXMgSW1hZ2VTYXZlciwgcHJlcGFyZSBhcyBwcmVwYXJlSW1hZ2UgfSBmcm9tICcuLi9pbWFnZXNhdmVyJztcblxuaW1wb3J0IEhpZ2hsaWdodGVyIGZyb20gJy4uL2hpZ2hsaWdodGVyJztcblxuaW1wb3J0IHsgZGVmYXVsdCBhcyByZXBlYXRDYWxsYmFjaywgTW9kaWZpYWJsZVJlcGVhdCB9IGZyb20gJy4uL2F1dG9yZXBlYXQnO1xuXG5jb25zdCBtb2R1bGVfc3RyaW5nPSdzdmlld2VyOnN2aWV3ZXInO1xuXG5jb25zdCBsb2cgPSBkZWJ1Zyhtb2R1bGVfc3RyaW5nKTtcblxuY29uc3QgSXVwYWMgPSBDb25kZW5zZWRJdXBhYy5JTztcblxuY29uc3QgSXVwYWNTdWdhciA9IE1hc3MoSXVwYWMoU3VnYXIpKTtcblxuY29uc3Qgc2VxdWVuY2Vfc3ltYm9sID0gU3ltYm9sKCdzZXF1ZW5jZScpO1xuXG5jb25zdCBkb25vcnNfc3ltYm9sID0gU3ltYm9sKCdkb25vcnMnKTtcblxuY29uc3QgcmVwZWF0c19zeW1ib2wgPSBTeW1ib2woJ3JlcGVhdHMnKTtcblxuY29uc3QgaGlnaGxpZ2h0ZXJfc3ltYm9sID0gU3ltYm9sKCdoaWdobGlnaHRlcicpO1xuXG5jb25zdCBzY2FsZV90aW1lb3V0X3N5bWJvbCA9IFN5bWJvbCgnc2NhbGVfdGltZW91dCcpO1xuXG5jb25zdCBSRVNJRFVFX1NFTEVDVElPTl9USU1FT1VUID0gNTAwO1xuXG5jb25zdCB0bXBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcblxudG1wbC5pbm5lckhUTUwgPSBgXG48c3R5bGU+XG4gIDpyb290IHtcbiAgICAtLWJ1dHRvbi1jb2xvcjogIzAwMDtcbiAgICAtLWRyb3Atc2hhZG93LWNvbG9yOiByZ2JhKDUwLCA1MCwgMCwgMC41KTtcbiAgICAtLWRyb3Atc2hhZG93LW9mZnNldDogMnB4O1xuICAgIC0tZHJvcC1zaGFkb3ctc2l6ZTogMXB4O1xuICB9XG4gIDpob3N0IHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgLS1wYWxldHRlLWJhY2tncm91bmQtY29sb3I6ICNlZWU7XG4gICAgLS1wYWxldHRlLWljb24tc2l6ZTogMzJweDtcbiAgICAtLWRlbW90ZWQtb3BhY2l0eTogMC41O1xuICAgIC0tc3VnYXJzLXVybDogaW5oZXJpdDtcbiAgfVxuXG4gIDpob3N0KFtyZXNpemVhYmxlXSkge1xuICAgIHJlc2l6ZTogYm90aDtcbiAgICBvdmVyZmxvdzogYXV0bztcbiAgfVxuXG4gIDpob3N0KFtyZXNpemVhYmxlXSkgLndpZGdldF9jb250ZW50cyB7XG4gICAgd2lkdGg6IGNhbGMoMTAwJSAtIDVweCk7XG4gICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSA1cHgpO1xuICB9XG5cbiAgOmhvc3QgI291dHB1dCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgfVxuXG4gIDpob3N0IC53aWRnZXRfY29udGVudHMgPiBkaXYgPiBzdmcge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBwb2ludGVyLWV2ZW50czogYXV0bztcbiAgICBmb250LWZhbWlseTogSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xuICB9XG5cbiAgOmhvc3QgLndpZGdldF9jb250ZW50cyA+IGRpdiA+IGNhbnZhcyB7XG4gICAgb2JqZWN0LWZpdDogY29udGFpbjtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cblxuICA6aG9zdCAud2lkZ2V0X2NvbnRlbnRzID4gZGl2ID4gc3ZnICoge1xuICAgIC1tb3otdHJhbnNpdGlvbjogYWxsIDAuMXMgZWFzZS1pbi1vdXQ7XG4gICAgLW8tdHJhbnNpdGlvbjogYWxsIDAuMXMgZWFzZS1pbi1vdXQ7XG4gICAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgMC4xcyBlYXNlLWluLW91dDtcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4xcyBlYXNlLWluLW91dDtcbiAgfVxuXG4gIDpob3N0IC53aWRnZXRfY29udGVudHMgPiBkaXYgPiBzdmcge1xuICAgIC1tb3otdHJhbnNpdGlvbjogYWxsIDAuNXMgZWFzZS1pbi1vdXQ7XG4gICAgLW8tdHJhbnNpdGlvbjogYWxsIDAuNXMgZWFzZS1pbi1vdXQ7XG4gICAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgMC41cyBlYXNlLWluLW91dDtcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC41cyBlYXNlLWluLW91dDtcbiAgfVxuXG4gIDpob3N0IC53aWRnZXRfY29udGVudHMge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAwcHg7XG4gICAgcmlnaHQ6IDBweDtcbiAgICB0b3A6IDBweDtcbiAgICBib3R0b206IDBweDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cblxuICA6aG9zdCAucGllX3BhcmVudCB7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHRvcDogMHB4O1xuICAgIGxlZnQ6IDBweDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgei1pbmRleDogMTtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgfVxuXG4gIDpob3N0IC53aWRnZXRfY29udGVudHMgPiBkaXYge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDBweDtcbiAgICBsZWZ0OiAwcHg7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgOmhvc3QoW2VkaXRhYmxlXSkgLmhpZ2hsaWdodF9jYW52YXMge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAwcHg7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgdG9wOiB2YXIoLS1wYWxldHRlLWhlaWdodCk7XG4gICAgaGVpZ2h0OiBjYWxjKCAxMDAlIC0gdmFyKC0tcGFsZXR0ZS1oZWlnaHQpKTtcbiAgfVxuXG4gIDpob3N0KFtlZGl0YWJsZV0pIC53aWRnZXRfY29udGVudHMgPiBkaXYge1xuICAgIHRvcDogdmFyKC0tcGFsZXR0ZS1oZWlnaHQpO1xuICAgIGhlaWdodDogY2FsYyggMTAwJSAtIHZhcigtLXBhbGV0dGUtaGVpZ2h0KSk7XG4gIH1cblxuICA6aG9zdCAucGFsZXR0ZSB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuXG4gIDpob3N0KFtlZGl0YWJsZV0pIC53aWRnZXRfY29udGVudHMge1xuICAgIG1hcmdpbi10b3A6IHZhcigtLXBhbGV0dGUtaGVpZ2h0LCAwcHgpO1xuICAgIGhlaWdodDogY2FsYyggMTAwJSAtIHZhcigtLXBhbGV0dGUtaGVpZ2h0LCAwcHgpKTtcbiAgfVxuXG4gIDpob3N0KFtlZGl0YWJsZV0pIC5wYWxldHRlIHtcbiAgICBkaXNwbGF5OiBncmlkO1xuICAgIGdyaWQtZ2FwOiA1cHg7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBjYWxjKCB2YXIoLS1wYWxldHRlLWljb24tc2l6ZSkgKyAxMHB4ICkpO1xuICAgIG1hcmdpbi10b3A6IGNhbGMoLTEgKiAgdmFyKC0tcGFsZXR0ZS1oZWlnaHQsIDBweCkpO1xuICB9XG5cbiAgOmhvc3QoW2VkaXRhYmxlXSkgLnBhbGV0dGU6YWZ0ZXIge1xuICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgZmxleDogYXV0bztcbiAgfVxuXG5cbiAgOmhvc3QgLnBhbGV0dGUge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDBweDtcbiAgICBsZWZ0OiAwcHg7XG4gICAgcmlnaHQ6IDBweDtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1wYWxldHRlLWJhY2tncm91bmQtY29sb3IpO1xuICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgd2lkdGg6IHZhcigtLWV4cGFuZGVkd2lkdGgpO1xuICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgaGVpZ2h0OiBhdXRvO1xuICAgIG1pbi1oZWlnaHQ6IGNhbGModmFyKC0tcGFsZXR0ZS1pY29uLXNpemUpICsgNXB4KTtcbiAgICBwYWRkaW5nLXRvcDogNXB4O1xuICAgIHBhZGRpbmctbGVmdDogNXB4O1xuICAgIHBhZGRpbmctYm90dG9tOiA1cHg7XG4gICAgcGFkZGluZy1yaWdodDogMnB4O1xuICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiA1cHg7XG4gICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogNXB4O1xuICB9XG5cbiAgOmhvc3QgI3BhbGV0dGVfY2xvc2VyX3dyYXAge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBmaWx0ZXI6IGRyb3Atc2hhZG93KHZhcigtLWRyb3Atc2hhZG93LW9mZnNldCkgdmFyKC0tZHJvcC1zaGFkb3ctb2Zmc2V0KSB2YXIoLS1kcm9wLXNoYWRvdy1zaXplKSB2YXIoLS1kcm9wLXNoYWRvdy1jb2xvcikpO1xuICB9XG5cbiAgOmhvc3QgI3BhbGV0dGVfY2xvc2VyOmhvdmVyIHtcbiAgICAtLWJ1dHRvbi1kZWZhdWx0LWJhY2tncm91bmQtY29sb3I6IHZhcigtLXNlbGVjdGlvbi1jb2xvciwgI2ZmMDAwMCk7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxIDEnJTNFJTNDc3R5bGUlM0UqICU3QiBzdHJva2Utd2lkdGg6IDAuMDU7IHN0cm9rZTogcmdiYSgwLDAsMCwxKTsgZmlsbDogbm9uZTslN0QgbGluZSAlN0Igc3Ryb2tlOiByZ2JhKDI1NSwyNTUsMjU1LDEpICU3RCAlM0Mvc3R5bGUlM0UlM0NjaXJjbGUgY3g9JzAuNScgY3k9JzAuNScgcj0nMC40JyAvJTNFJTNDbGluZSB4MT0nMC41JyB5MT0nMC4yNScgeDI9JzAuNScgeTI9JzAuNzUnIC8lM0UlM0NsaW5lIHkxPScwLjUnIHgxPScwLjI1JyB5Mj0nMC41JyB4Mj0nMC43NScgLyUzRSUzQy9zdmclM0VcIik7XG4gIH1cblxuICA6aG9zdCAjcGFsZXR0ZV9jbG9zZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJ1dHRvbi1kZWZhdWx0LWJhY2tncm91bmQtY29sb3IsIzU1NSk7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxIDEnJTNFJTNDc3R5bGUlM0UqICU3QiBzdHJva2Utd2lkdGg6IDAuMDU7IHN0cm9rZTogcmdiYSgwLDAsMCwxKTsgZmlsbDogbm9uZTslN0QgbGluZSAlN0Igc3Ryb2tlOiByZ2JhKDI1NSwyNTUsMjU1LDEpICU3RCAlM0Mvc3R5bGUlM0UlM0NjaXJjbGUgY3g9JzAuNScgY3k9JzAuNScgcj0nMC40JyAvJTNFICUzQy9zdmclM0VcIik7XG4gICAgLXdlYmtpdC1tYXNrOiB1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDEgMSclM0UlM0NjaXJjbGUgY3g9JzAuNScgY3k9JzAuNScgcj0nMC40JyAvJTNFJTNDbGluZSB4MT0nMC41JyB5MT0nMC4yNScgeDI9JzAuNScgeTI9JzAuNzUnIC8lM0UlM0NsaW5lIHkxPScwLjUnIHgxPScwLjI1JyB5Mj0nMC41JyB4Mj0nMC43NScgLyUzRSUzQy9zdmclM0VcIik7XG4gICAgbWFzazogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxIDEnJTNFJTNDY2lyY2xlIGN4PScwLjUnIGN5PScwLjUnIHI9JzAuNCcgLyUzRSUzQ2xpbmUgeDE9JzAuNScgeTE9JzAuMjUnIHgyPScwLjUnIHkyPScwLjc1JyAvJTNFJTNDbGluZSB5MT0nMC41JyB4MT0nMC4yNScgeTI9JzAuNScgeDI9JzAuNzUnIC8lM0UlM0Mvc3ZnJTNFXCIpO1xuXG4gICAgd2lkdGg6IHZhcigtLXBhbGV0dGUtaWNvbi1zaXplKTtcbiAgICBoZWlnaHQ6IHZhcigtLXBhbGV0dGUtaWNvbi1zaXplKTtcbiAgICAtbW96LXRyYW5zaXRpb246IGFsbCAwLjVzIGVhc2UtaW4tb3V0O1xuICAgIC1vLXRyYW5zaXRpb246IGFsbCAwLjVzIGVhc2UtaW4tb3V0O1xuICAgIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDAuNXMgZWFzZS1pbi1vdXQ7XG4gICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuNXMgZWFzZS1pbi1vdXQ7XG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICB9XG5cbiAgOmhvc3QgI3BhbGV0dGVfY2xvc2VyOmFmdGVyIHtcbiAgICBjb250ZW50OiAnJztcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICAtLWwtdGhyZXNob2xkOiAwLjc7XG4gICAgLS1sOiBjbGFtcCgwLCAodmFyKC0tbC10aHJlc2hvbGQpIC8gbCAtIDEpICogaW5maW5pdHksIDEpO1xuICAgIC0tYnV0dG9uLWZvcmVncm91bmQ6IG9rbGNoKGZyb20gdmFyKC0tYnV0dG9uLWRlZmF1bHQtYmFja2dyb3VuZC1jb2xvciwjNTU1KSB2YXIoLS1sKSAwIGgpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJ1dHRvbi1mb3JlZ3JvdW5kLHdoaXRlKTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgbWFzazogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxIDEnJTNFICUzQ2xpbmUgeDE9JzAuNScgeTE9JzAuMjUnIHgyPScwLjUnIHkyPScwLjc1JyBzdHJva2Utd2lkdGg9JzAuMDYnIHN0cm9rZT0nYmxhY2snIC8lM0UlM0NsaW5lIHN0cm9rZS13aWR0aD0nMC4wNicgc3Ryb2tlPSdibGFjaycgeTE9JzAuNScgeDE9JzAuMjUnIHkyPScwLjUnIHgyPScwLjc1JyAvJTNFJTNDL3N2ZyUzRVwiKTtcbiAgfVxuICA6aG9zdCg6bm90KC5kcmFnZ2luZykpIC5wYWxldHRlLmV4cGFuZGVkICNwYWxldHRlX2Nsb3NlciB7XG4gICAgdHJhbnNmb3JtOiByb3RhdGUoNDA1ZGVnKTtcbiAgfVxuXG4gIDpob3N0KC5kcmFnZ2luZykgLnBhbGV0dGUuZXhwYW5kZWQge1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICB9XG5cbiAgOmhvc3QgLnBhbGV0dGUgbGFiZWwge1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKGNhbGMoLTEgKiAodmFyKC0tcGFsZXR0ZS1pdGVtLWNvdW50KSArIDEpICogKHZhcigtLXBhbGV0dGUtaWNvbi1zaXplKSArIDEycHgpICksMHB4KTtcbiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC41cyBlYXNlLWluLW91dDtcbiAgfVxuXG4gIDpob3N0KDpub3QoLmRyYWdnaW5nKSkgLnBhbGV0dGUuZXhwYW5kZWQgbGFiZWwge1xuICAgIGZsZXg6IDE7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMHB4LDBweCk7XG4gICAgbWluLXdpZHRoOiB2YXIoLS1wYWxldHRlLWljb24tc2l6ZSk7XG4gICAgbWluLWhlaWdodDogdmFyKC0tcGFsZXR0ZS1pY29uLXNpemUpO1xuICAgIG1heC13aWR0aDogdmFyKC0tcGFsZXR0ZS1pY29uLXNpemUpO1xuICAgIG1heC1oZWlnaHQ6IHZhcigtLXBhbGV0dGUtaWNvbi1zaXplKTtcbiAgfVxuXG4gIDpob3N0KDpub3QoLmRyYWdnaW5nKSkgLnBhbGV0dGUuZXhwYW5kZWQge1xuICAgIHdpZHRoOiB2YXIoLS1leHBhbmRlZHdpZHRoKTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1wYWxldHRlLWJhY2tncm91bmQtY29sb3IpO1xuICB9XG5cbiAgOmhvc3QgI3RleHRib3gge1xuICAgIHRvcDogYXV0bztcbiAgICBib3R0b206IDBweDtcbiAgICBoZWlnaHQ6IGF1dG87XG4gICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XG4gIH1cblxuICA6aG9zdCAjdGV4dGJveCB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuXG5cbiAgOmhvc3QoW3Nob3dzZXF1ZW5jZV0pICN0ZXh0Ym94IHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgfVxuXG4gIDpob3N0ICoge1xuICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogcmdiYSgwLDAsMCwwKTtcbiAgfVxuXG4gIDpob3N0IGNjZy1waWVtZW51IHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwcHg7XG4gICAgbGVmdDogMHB4O1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgIHdpZHRoOiAxNTBweDtcbiAgICBoZWlnaHQ6IDE1MHB4O1xuICAgIHotaW5kZXg6IDI7XG4gICAgLS1lbmQtYW5nbGU6IDYwO1xuICAgIC0tc3RhcnQtYW5nbGU6IC02MDtcbiAgICAtLWljb24tc2l6ZTogMTBweDtcbiAgfVxuXG4gIDpob3N0IGNjZy1waWVtZW51W2FjdGl2ZV0gbGFiZWwge1xuICAgIHBvaW50ZXItZXZlbnRzOiBhbGw7XG4gIH1cblxuICA6aG9zdCBjY2ctcGllbWVudVthY3RpdmVdIGxhYmVsW2RhdGEtd2VpZ2h0Xj1cIi1cIl0ge1xuICAgIG9wYWNpdHk6IGNhbGMoIC0xICogdmFyKC0td2VpZ2h0KSAqIHZhcigtLWRlbW90ZWQtb3BhY2l0eSkgKTtcbiAgfVxuXG4gIDpob3N0IGNjZy1waWVtZW51IGJ1dHRvbiwgY2NnLXBpZW1lbnUgbGFiZWwge1xuICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1xuICAgIGZvbnQtc2l6ZTogdmFyKC0taWNvbi1zaXplKTtcbiAgfVxuXG4gIEBrZXlmcmFtZXMgcGllbWVudXNlbGVjdGlvbiB7XG4gICAgMCUge1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogcmlnaHQgdG9wO1xuICAgICAgY29sb3I6ICMwMDAwMDA7XG4gICAgfVxuICAgIDEwMCUge1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogbGVmdCB0b3A7XG4gICAgICBjb2xvcjogI2ZmZmZmZjtcbiAgICB9XG4gIH1cblxuXG4gIDpob3N0IGNjZy1waWVtZW51IGxhYmVsLmRyYWdvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodmFyKC0tc2xpY2UtYmFja2dyb3VuZC1yb3RhdGUtYW5nbGUpLHZhcigtLXNlbGVjdGlvbi1jb2xvcikgNTAlLCB2YXIoLS1wYWxldHRlLWJhY2tncm91bmQtY29sb3IpIDUwJSk7XG4gICAgYmFja2dyb3VuZC1zaXplOiAzNzUlIDEwMCU7XG4gICAgYW5pbWF0aW9uOiBwaWVtZW51c2VsZWN0aW9uIDY1MG1zO1xuICB9XG5cbiAgOmhvc3QgY2NnLXBpZW1lbnUgYnV0dG9uLmhvdmVyLCBjY2ctcGllbWVudSBsYWJlbC5ob3ZlciwgY2NnLXBpZW1lbnUgYnV0dG9uOmhvdmVyLCBjY2ctcGllbWVudSBsYWJlbDpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tc2VsZWN0aW9uLWNvbG9yKTtcbiAgICBjb2xvcjogI2ZmZmZmZjtcbiAgfVxuXG4gIDpob3N0IGNjZy1waWVtZW51IGJ1dHRvbltkYXRhLXdlaWdodF49XCItXCJdLmhvdmVyLCBjY2ctcGllbWVudSBsYWJlbFtkYXRhLXdlaWdodF49XCItXCJdLmhvdmVyLCBjY2ctcGllbWVudSBidXR0b25bZGF0YS13ZWlnaHRePVwiLVwiXTpob3ZlciwgY2NnLXBpZW1lbnUgbGFiZWxbZGF0YS13ZWlnaHRePVwiLVwiXTpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogI0ZGRTJFMjtcbiAgICBvcGFjaXR5OiAxO1xuICAgIGNvbG9yOiAjMDAwMDAwO1xuICB9XG5cblxuICA6aG9zdCAjaWNvbnMge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cblxuICBAc3VwcG9ydHMgKHBvaW50ZXItZXZlbnRzOiBib3VuZGluZy1ib3gpIHtcbiAgICA6aG9zdCB7XG4gICAgICAtLWJvdW5kaW5nLWJveC1ldmVudHM6IHRydWU7XG4gICAgfVxuICB9XG5cbiAgQG1lZGlhIG9ubHkgc2NyZWVuXG4gICAgYW5kIChtaW4tZGV2aWNlLXdpZHRoOiAzMjBweClcbiAgICBhbmQgKG1heC1kZXZpY2Utd2lkdGg6IDQ4MHB4KVxuICAgIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAyKSB7XG4gICAgOmhvc3Qge1xuICAgICAgLS1wYWxldHRlLWljb24tc2l6ZTogMzJweDtcbiAgICB9XG4gICAgOmhvc3QgY2NnLXBpZW1lbnUge1xuICAgICAgLS1lbmQtYW5nbGU6IDEzNTtcbiAgICAgIC0tc3RhcnQtYW5nbGU6IDM1O1xuICAgICAgLS1pY29uLXBvc2l0aW9uLXJhdGlvOiAwLjE7XG4gICAgICAtLWljb24tc2l6ZTogMjRweDtcbiAgICAgIHdpZHRoOiAyMDBweDtcbiAgICAgIGhlaWdodDogMjAwcHg7XG4gICAgfVxuXG4gICAgOmhvc3QoW2VkaXRhYmxlXSkgLndpZGdldF9jb250ZW50cyB7XG4gICAgICBtYXJnaW4tdG9wOiAwcHg7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIH1cblxuICAgIDpob3N0KFtlZGl0YWJsZV0pIC5wYWxldHRlIHtcbiAgICAgIG1hcmdpbi10b3A6IDBweDtcbiAgICB9XG5cbiAgfVxuICA6aG9zdCAucGFsZXR0ZSBsYWJlbCBzdmcge1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICB9XG4gIDpob3N0IC5wYWxldHRlIGxhYmVsW2RhdGEtZGlzYWJsZWRdIHtcbiAgICBvcGFjaXR5OiAwLjI7XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIH1cblxuICA6aG9zdCAucGFsZXR0ZSBsYWJlbFtkYXRhLXdlaWdodF49XCItXCJdIHtcbiAgICBvcGFjaXR5OiB2YXIoLS1kZW1vdGVkLW9wYWNpdHkpO1xuICB9XG5cbiAgOmhvc3QgI3BhbGV0dGVfZGVsZXRlIHtcbiAgICBwYWRkaW5nOiAycHg7XG4gICAgcGFkZGluZy1sZWZ0OiA4cHg7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIGhlaWdodDogdmFyKC0tcGFsZXR0ZS1pY29uLXNpemUpO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuXG4gIDpob3N0IC5wYWxldHRlIGxhYmVsLmNoZWNrZWQge1xuICAgIGJhY2tncm91bmQ6ICNmYWE7XG4gIH1cblxuICA6aG9zdCAucGFsZXR0ZSBsYWJlbFtkcmFnZ2FibGVdIHtcbiAgICBkaXNwbGF5OiBibG9jaztcblxuICAgIGN1cnNvcjogbW92ZTsgLyogZmFsbGJhY2sgaWYgZ3JhYiBjdXJzb3IgaXMgdW5zdXBwb3J0ZWQgKi9cbiAgICBjdXJzb3I6IGdyYWI7XG4gICAgY3Vyc29yOiAtbW96LWdyYWI7XG4gICAgY3Vyc29yOiAtd2Via2l0LWdyYWI7XG5cbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuOCk7XG4gICAgd2lkdGg6IHZhcigtLXBhbGV0dGUtaWNvbi1zaXplKTtcbiAgICBoZWlnaHQ6IHZhcigtLXBhbGV0dGUtaWNvbi1zaXplKTtcblxuICAgIC13ZWJraXQtdXNlci1kcmFnOiBlbGVtZW50O1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICBib3gtc2hhZG93OiAycHggMnB4IDJweCByZ2JhKDkwLDkwLDkwLDAuNik7XG4gICAgcGFkZGluZzogMC41cHg7XG4gICAgYm9yZGVyOiBzb2xpZCByZ2JhKDkwLDkwLDkwLDAuNSkgMC41cHg7XG4gICAgcGFkZGluZy1sZWZ0OiA3cHg7XG4gIH1cblxuICA6aG9zdCAucGFsZXR0ZSBsYWJlbFtkcmFnZ2FibGVdOmJlZm9yZSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGNvbnRlbnQ6ICcnO1xuICAgIGhlaWdodDogNzUlO1xuICAgIGxlZnQ6IDJweDtcbiAgICB0b3A6IGNhbGMoMTIuNSUgLSAycHgpO1xuICAgIHdpZHRoOiAycHg7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KDBkZWcsICM5OTksICM5OTkgNDAlLCB0cmFuc3BhcmVudCA0MCUsIHRyYW5zcGFyZW50IDEwMCUpO1xuICAgIGJhY2tncm91bmQtc2l6ZTogMXB4IDI1JTtcbiAgICBib3JkZXI6IG5vbmU7XG4gIH1cblxuICA6aG9zdCAucGFsZXR0ZSBsYWJlbFtkcmFnZ2FibGVdLmNoZWNrZWQge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLXNlbGVjdGlvbi1jb2xvcik7XG4gIH1cblxuICA6aG9zdCAucGFsZXR0ZSBsYWJlbCBpbnB1dFt2YWx1ZT1cImRlbGV0ZVwiXSB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuXG4gIDpob3N0IC5wYWxldHRlIGxhYmVsW2RyYWdnYWJsZV0gaW5wdXQge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cblxuPC9zdHlsZT5cbjxkaXYgY2xhc3M9XCJ3aWRnZXRfY29udGVudHNcIiA+XG4gIDxkaXYgaWQ9XCJpY29uc1wiPjwvZGl2PlxuICA8ZGl2IGlkPVwib3V0cHV0XCI+PC9kaXY+XG4gIDxmb3JtIGlkPVwibmV3X2xpbmthZ2VcIj5cbiAgICA8ZGl2IGlkPVwicGFsZXR0ZVwiIGNsYXNzPVwicGFsZXR0ZSBleHBhbmRlZFwiPlxuICAgIDxkaXYgaWQ9XCJwYWxldHRlX2Nsb3Nlcl93cmFwXCI+XG4gICAgPGRpdiBpZD1cInBhbGV0dGVfY2xvc2VyXCIgb25jbGljaz1cInRoaXMucGFyZW50Tm9kZS5wYXJlbnROb2RlLmNsYXNzTGlzdC50b2dnbGUoJ2V4cGFuZGVkJylcIj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8bGFiZWwgaWQ9XCJwYWxldHRlX2RlbGV0ZVwiPlxuICAgIDxzdmcgdmlld0JveD1cIi0xMDAgLTEwMCA4MTIgODEyXCI+XG4gICAgICA8Zz5cbiAgICAgIDxwYXRoIGQ9XCJtNTEwLjgxIDg1LjkzM2MtMjkuMjU0LTE0LjkyOS01OC4zNjctMTYuMzI1LTU5LjU5Mi0xNi4zNzUtMC4yNDYtMC4wMTItMC40OTItMC4wMTctMC43MzctMC4wMTdoLTQ2LjMwM2MzZS0zIC0wLjEzOSAwLjAyMi0wLjI3MyAwLjAyMi0wLjQxNSAwLTI2LjgxMi0xMi43NjEtNDguMDktMzUuOTMxLTU5LjkxMy0xNi4xMzgtOC4yMzQtMzEuODc2LTkuMTIyLTMzLjYxOC05LjE5NC0wLjI0NC0wLjAxMy0wLjQ5LTAuMDE5LTAuNzM2LTAuMDE5aC01NS44MzJjLTAuMjQ2IDAtMC40OTIgNmUtMyAtMC43MzcgMC4wMTctMS43NDEgMC4wNzQtMTcuNDggMC45Ni0zMy42MTYgOS4xOTQtMjMuMTcyIDExLjgyNC0zNS45MzIgMzMuMTAyLTM1LjkzMiA1OS45MTMgMCAwLjE0MiAwLjAxNyAwLjI3NiAwLjAyMiAwLjQxNWgtNDYuMzAzYy0wLjI0NiAwLTAuNDkyIDZlLTMgLTAuNzM3IDAuMDE3LTEuMjI2IDAuMDUxLTMwLjMzNyAxLjQ0Ni01OS41OTMgMTYuMzc1LTI4LjI0MSAxNC40MS02MS45MDUgNDQuMDc1LTYxLjkwNSAxMDMuNTUgMCA5LjU4MSA3Ljc2NyAxNy4zNSAxNy4zNSAxNy4zNWgxNS4yNDVsNjcuMDg3IDM5MC43NmMxLjQzIDguMzI4IDguNjUgMTQuNDE2IDE3LjA5OSAxNC40MTZoMjk5Ljg3YzguNDQ5IDAgMTUuNjctNi4wODggMTcuMDk5LTE0LjQxNmw2Ny4wODctMzkwLjc2aDE1LjI0NWM5LjU4MSAwIDE3LjM1LTcuNzY4IDE3LjM1LTE3LjM1LTFlLTMgLTU5LjQ3My0zMy42NjYtODkuMTM4LTYxLjkwNy0xMDMuNTV6bS00MzUuNDEgODYuMTk3YzQuMjItMjQuNDkzIDE3Ljg0Ni00Mi44OTEgNDAuNjY1LTU0LjgyOCAyMS4yNzItMTEuMTIzIDQzLjMyOS0xMi44ODggNDUuOTM2LTEzLjA2M2gyODhjMi41ODUgMC4xNzIgMjQuMDggMS45MDYgNDUuMDM0IDEyLjYgMjMuMzYxIDExLjkyMiAzNy4yOSAzMC40NzUgNDEuNTYyIDU1LjI5bC00NjEuMiAxZS0zem0xNjcuMS0xMDNjMC0xMy41NjYgNS4xNTYtMjIuNjU2IDE2LjIyNi0yOC41OTkgOC44ODktNC43NzMgMTguMzcyLTUuNzAxIDE5Ljg4Ni01LjgyNWg1NC43NDJjMS43MzYgMC4xNDIgMTEuMTIgMS4xMDIgMTkuOTIgNS44MjUgMTEuMDcgNS45NDQgMTYuMjI4IDE1LjAzMyAxNi4yMjggMjguNTk5IDAgMC4xNDIgMC4wMTcgMC4yNzYgMC4wMjIgMC40MTVoLTEyNy4wNGMyZS0zIC0wLjEzOSAwLjAyLTAuMjc1IDAuMDItMC40MTV6bTE5OC44MSA1MDguMThoLTI3MC42MmwtNjMuNjA1LTM3MC40N2gzOTcuODNsLTYzLjYwNSAzNzAuNDd6XCIvPlxuICAgICAgPHBhdGggZD1cIm0zMDYgNTE5LjU3YzkuNTgxIDAgMTcuMzUtNy43NjggMTcuMzUtMTcuMzV2LTI0NC4zMWMwLTkuNTgxLTcuNzY4LTE3LjM1LTE3LjM1LTE3LjM1LTkuNTgzIDAtMTcuMzUgNy43NjgtMTcuMzUgMTcuMzV2MjQ0LjMxYzAgOS41ODIgNy43NjkgMTcuMzUgMTcuMzUgMTcuMzV6XCIvPlxuICAgICAgPHBhdGggZD1cIm0yMDMuNzggNTAzLjc1YzAuODAxIDkuMDIyIDguMzczIDE1LjgxNiAxNy4yNjEgMTUuODE2IDAuNTEzIDAgMS4wMzItMC4wMjMgMS41NTMtMC4wNjggOS41NDUtMC44NDcgMTYuNTk2LTkuMjczIDE1Ljc0OS0xOC44MTZsLTIxLjY4Ny0yNDQuMzFjLTAuODQ3LTkuNTQ1LTkuMjY1LTE2LjYwOS0xOC44MTctMTUuNzQ5LTkuNTQ1IDAuODQ3LTE2LjU5NSA5LjI3LTE1Ljc0OCAxOC44MTZsMjEuNjg5IDI0NC4zMXpcIi8+XG4gICAgICA8cGF0aCBkPVwibTM4OS40IDUxOS41YzAuNTIgMC4wNDUgMS4wNCAwLjA2OCAxLjU1MyAwLjA2OCA4Ljg4OSAwIDE2LjQ2Mi02Ljc5NCAxNy4yNjMtMTUuODE2bDIxLjY4Ny0yNDQuMzFjMC44NDctOS41NDUtNi4yMDItMTcuOTY4LTE1Ljc0OC0xOC44MTYtOS41NDQtMC44NTYtMTcuOTY4IDYuMjA0LTE4LjgxNyAxNS43NDlsLTIxLjY4NyAyNDQuMzFjLTAuODQ3IDkuNTQ0IDYuMjA0IDE3Ljk3IDE1Ljc0OSAxOC44MTd6XCIvPlxuICAgICAgPC9nPlxuICAgIDwvc3ZnPlxuICAgIDxpbnB1dCBuYW1lPVwiZG9ub3JcIiB2YWx1ZT1cImRlbGV0ZVwiIHR5cGU9XCJyYWRpb1wiPjwvbGFiZWw+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInBpZV9wYXJlbnRcIj5cbiAgICAgIDxjY2ctcGllbWVudSBuYW1lPVwiYW5vbWVyXCIgaWQ9XCJhbm9tZXJfbWVudVwiIGRhdGEtbmV4dD1cImxpbmthZ2VfbWVudVwiPlxuICAgICAgICA8bGFiZWw+PHNwYW4+zrE8L3NwYW4+PGlucHV0IG5hbWU9XCJhbm9tZXJcIiB2YWx1ZT1cImFcIiB0eXBlPVwicmFkaW9cIj48L2xhYmVsPlxuICAgICAgICA8bGFiZWw+PHNwYW4+zrI8L3NwYW4+PGlucHV0IG5hbWU9XCJhbm9tZXJcIiB2YWx1ZT1cImJcIiB0eXBlPVwicmFkaW9cIj48L2xhYmVsPlxuICAgICAgICA8bGFiZWw+PHNwYW4+Pzwvc3Bhbj48aW5wdXQgbmFtZT1cImFub21lclwiIHZhbHVlPVwidVwiIHR5cGU9XCJyYWRpb1wiPjwvbGFiZWw+XG4gICAgICA8L2NjZy1waWVtZW51PlxuICAgICAgPGNjZy1waWVtZW51IG5hbWU9XCJsaW5rYWdlXCIgaWQ9XCJsaW5rYWdlX21lbnVcIj5cbiAgICAgICAgPGxhYmVsPjxzcGFuPk48L3NwYW4+PGlucHV0IG5hbWU9XCJsaW5rYWdlXCIgdmFsdWU9XCIke01vbm9zYWNjaGFyaWRlLkxJTktBR0VTLk59XCIgdHlwZT1cInJhZGlvXCI+PC9sYWJlbD5cbiAgICAgICAgPGxhYmVsPjxzcGFuPk88L3NwYW4+PGlucHV0IG5hbWU9XCJsaW5rYWdlXCIgdmFsdWU9XCIke01vbm9zYWNjaGFyaWRlLkxJTktBR0VTLk99XCIgdHlwZT1cInJhZGlvXCI+PC9sYWJlbD5cbiAgICAgICAgPGxhYmVsPjxzcGFuPj88L3NwYW4+PGlucHV0IG5hbWU9XCJsaW5rYWdlXCIgdmFsdWU9XCIwXCIgdHlwZT1cInJhZGlvXCI+PC9sYWJlbD5cbiAgICAgICAgPGxhYmVsPjxzcGFuPjE8L3NwYW4+PGlucHV0IG5hbWU9XCJsaW5rYWdlXCIgdmFsdWU9XCIxXCIgdHlwZT1cInJhZGlvXCI+PC9sYWJlbD5cbiAgICAgICAgPGxhYmVsPjxzcGFuPjI8L3NwYW4+PGlucHV0IG5hbWU9XCJsaW5rYWdlXCIgdmFsdWU9XCIyXCIgdHlwZT1cInJhZGlvXCI+PC9sYWJlbD5cbiAgICAgICAgPGxhYmVsPjxzcGFuPjM8L3NwYW4+PGlucHV0IG5hbWU9XCJsaW5rYWdlXCIgdmFsdWU9XCIzXCIgdHlwZT1cInJhZGlvXCI+PC9sYWJlbD5cbiAgICAgICAgPGxhYmVsPjxzcGFuPjQ8L3NwYW4+PGlucHV0IG5hbWU9XCJsaW5rYWdlXCIgdmFsdWU9XCI0XCIgdHlwZT1cInJhZGlvXCI+PC9sYWJlbD5cbiAgICAgICAgPGxhYmVsPjxzcGFuPjY8L3NwYW4+PGlucHV0IG5hbWU9XCJsaW5rYWdlXCIgdmFsdWU9XCI2XCIgdHlwZT1cInJhZGlvXCI+PC9sYWJlbD5cbiAgICAgICAgPGxhYmVsPjxzcGFuPjg8L3NwYW4+PGlucHV0IG5hbWU9XCJsaW5rYWdlXCIgdmFsdWU9XCI4XCIgdHlwZT1cInJhZGlvXCI+PC9sYWJlbD5cbiAgICAgIDwvY2NnLXBpZW1lbnU+XG4gICAgPC9kaXY+XG4gIDwvZm9ybT5cbiAgPGRpdiBpZD1cInRleHRib3hcIj5cbiAgICA8c2xvdCBpZD1cInRleHRjb250ZW50XCI+IDwvc2xvdD5cbiAgPC9kaXY+XG48L2Rpdj5cbmA7XG5cbmNvbnN0IHBhbGV0dGVfdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuXG5wYWxldHRlX3RlbXBsYXRlLmlubmVySFRNTCA9IGBcbiAgPGxhYmVsIGRyYWdnYWJsZT1cInRydWVcIj5cbiAgPHN2ZyB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgdmlld0JveD1cIjAgMCAxMDAgMTAwXCI+XG4gICAgPHVzZSB4PVwiMC4wXCIgeT1cIjAuMFwiIHdpZHRoPVwiMTAwXCIgaGVpZ2h0PVwiMTAwXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeGxpbms6aHJlZj1cIiNuZXVhY1wiPjwvdXNlPlxuICA8L3N2Zz5cbiAgPGlucHV0IG5hbWU9XCJkb25vclwiIHZhbHVlPVwiTmV1QWNcIiB0eXBlPVwicmFkaW9cIj5cbiAgPC9sYWJlbD5cbmA7XG5cbmZ1bmN0aW9uIFdyYXBIVE1MKCkgeyByZXR1cm4gUmVmbGVjdC5jb25zdHJ1Y3QoSFRNTEVsZW1lbnQsIFtdLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpOyB9XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoV3JhcEhUTUwucHJvdG90eXBlLCBIVE1MRWxlbWVudC5wcm90b3R5cGUpO1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFdyYXBIVE1MLCBIVE1MRWxlbWVudCk7XG5cblxubGV0IHJlc2NhbGVfd2lkZ2V0X2Nocm9tZSA9IGZ1bmN0aW9uKHN0YXRlKSB7XG4gIGlmICggISB0aGlzLmhhc0F0dHJpYnV0ZSgnZWRpdGFibGUnKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgem9vbSA9IHBhcnNlRmxvYXQoKHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCkudG9GaXhlZCgyKSk7XG4gIGxldCB0b3AgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgbGV0IGxlZnQgPSB3aW5kb3cuc2Nyb2xsWDtcbiAgbGV0IHBhbGV0dGUgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLnBhbGV0dGUnKTtcbiAgbGV0IHBpZV9wYXJlbnQgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLnBpZV9wYXJlbnQnKTtcblxuICBsZXQgd2lkZ2V0X3BvcyA9IHBhbGV0dGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cbiAgaWYgKHdpZGdldF9wb3MudG9wIDwgMCB8fCB3aWRnZXRfcG9zLmxlZnQgPCAwKSB7XG4gICAgbGV0IGZzX2xlZnQgPSB3aWRnZXRfcG9zLmxlZnQgPCAwID8gLTEqd2lkZ2V0X3Bvcy5sZWZ0IDogMDtcbiAgICBsZXQgZnNfdG9wID0gd2lkZ2V0X3Bvcy50b3AgPCAwID8gLTEqd2lkZ2V0X3Bvcy50b3AgOiAwO1xuICAgIHBhbGV0dGUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHBhbGV0dGUuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gYCR7ZnNfbGVmdH1weCAke2ZzX3RvcH1weGA7XG4gICAgLy8gVmlld3BvcnQgd2lkdGhcbiAgICBpZiAoIHBhbGV0dGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdleHBhbmRlZCcpICkge1xuICAgICAgcGFsZXR0ZS5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1leHBhbmRlZHdpZHRoJyxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgrJ3B4Jyk7XG4gICAgfVxuICAgIHBhbGV0dGUuc3R5bGUudHJhbnNmb3JtID0gYHNjYWxlKCR7em9vbX0pIHRyYW5zbGF0ZSgke2ZzX2xlZnR9cHgsJHtmc190b3B9cHgpYDtcbiAgfSBlbHNlIHtcbiAgICBwYWxldHRlLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBpZiAoIHBhbGV0dGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdleHBhbmRlZCcpICkge1xuICAgICAgcGFsZXR0ZS5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1leHBhbmRlZHdpZHRoJywoMS96b29tKjEwMCkudG9GaXhlZCgyKSsnJScpO1xuICAgIH1cbiAgICBwYWxldHRlLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IGAkezB9cHggJHswfXB4YDtcbiAgICBwYWxldHRlLnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgke3pvb219KSB0cmFuc2xhdGUoJHswfXB4LDBweClgO1xuICB9XG5cbiAgbGV0IGxvb3BlciA9IHBhbGV0dGU7XG4gIGxldCBvZmZzZXRMZWZ0ID0gMDtcbiAgd2hpbGUgKGxvb3Blci5wYXJlbnROb2RlKSB7XG4gICAgb2Zmc2V0TGVmdCArPSBsb29wZXIub2Zmc2V0TGVmdDtcbiAgICBsb29wZXIgPSBsb29wZXIucGFyZW50Tm9kZTtcbiAgfVxuXG4gIGxlZnQgLT0gb2Zmc2V0TGVmdC96b29tO1xuXG4gIHBpZV9wYXJlbnQuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gYCR7d2luZG93LnNjcm9sbFh9cHggJHt0b3B9cHhgO1xuICBwaWVfcGFyZW50LnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgke3pvb219KSB0cmFuc2xhdGUoJHtsZWZ0fXB4LCR7dG9wfXB4KWA7XG5cbiAgc3RhdGUudGlja2luZyA9IGZhbHNlO1xufTtcblxuY29uc3QgbGF5b3V0X2VuZ2luZV9zdG9yZXMgPSBuZXcgTWFwKCk7XG5cbmNvbnN0IGdldF9sYXlvdXRfZW5naW5lID0gKGluc3RhbmNlLGxheW91dF9jbGFzcykgPT4ge1xuICBpZiAoICEgbGF5b3V0X2VuZ2luZV9zdG9yZXMuaGFzKGxheW91dF9jbGFzcykpIHtcbiAgICBsYXlvdXRfZW5naW5lX3N0b3Jlcy5zZXQobGF5b3V0X2NsYXNzLCBuZXcgV2Vha01hcCgpKTtcbiAgfVxuICBpZiAoICEgbGF5b3V0X2VuZ2luZV9zdG9yZXMuZ2V0KGxheW91dF9jbGFzcykuaGFzKGluc3RhbmNlKSkge1xuICAgIGxheW91dF9lbmdpbmVfc3RvcmVzLmdldChsYXlvdXRfY2xhc3MpLnNldChpbnN0YW5jZSwgY2xhc3MgZXh0ZW5kcyBsYXlvdXRfY2xhc3Mge30pO1xuICB9XG4gIHJldHVybiBsYXlvdXRfZW5naW5lX3N0b3Jlcy5nZXQobGF5b3V0X2NsYXNzKS5nZXQoaW5zdGFuY2UpO1xufTtcblxuXG5sZXQgd2luZG93X3Njcm9sbF9saXN0ZW5lciA9IChzdGF0ZSkgPT4ge1xuICBpZiAoISBzdGF0ZS50aWNraW5nKSB7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShyZXNjYWxlX3dpZGdldF9jaHJvbWUuYmluZChzdGF0ZS5vd25lcixzdGF0ZSkpO1xuICAgIHN0YXRlLnRpY2tpbmcgPSB0cnVlO1xuICB9XG59O1xuXG5sZXQgY3JlYXRlX3Njcm9sbF9saXN0ZW5lciA9IChzdGF0ZSkgPT4ge1xuICByZXR1cm4gKCkgPT4gd2luZG93X3Njcm9sbF9saXN0ZW5lcihzdGF0ZSk7XG59O1xuXG5sZXQgd2lyZV9wYWxldHRlX3BhZ2V6b29tID0gZnVuY3Rpb24oKSB7XG4gIGxldCBzdGF0ZSA9IHsgdGlja2luZzogZmFsc2UsIG93bmVyOiB0aGlzIH07XG4gIGxldCBzY3JvbGxfbGlzdGVuZXIgPSBjcmVhdGVfc2Nyb2xsX2xpc3RlbmVyKHN0YXRlKTtcbiAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsc2Nyb2xsX2xpc3RlbmVyKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNjcm9sbF9saXN0ZW5lcik7XG59O1xuXG5sZXQgc2hvd19hbm9tZXIgPSBmdW5jdGlvbihyZXNpZHVlLHRhcmdldCkge1xuICBpZiAoICEgdGhpcy5oYXNBdHRyaWJ1dGUoJ2VkaXRhYmxlJykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGFub21lcl9jaG9vc2VyID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdhbm9tZXJfbWVudScpO1xuICBsZXQgZm9ybSA9IHRoaXMuZm9ybTtcbiAgaWYgKGZvcm0gJiYgZm9ybS5jbGVhcikge1xuICAgIGZvcm0uY2xlYXIoKTtcbiAgfVxuICBsb2cuaW5mbygnU2V0dGluZyB0YXJnZXQgdG8nLHJlc2lkdWUuaWRlbnRpZmllcik7XG4gIGRlbGV0ZSBmb3JtLmFjdGl2ZV9yZXNpZHVlO1xuICB0aGlzLmhpZ2hsaWdodFJlc2lkdWVzKCk7XG4gIGZvcm0ucmVzaWR1ZSA9IHJlc2lkdWU7XG4gIGxldCBldmVudCA9IG5ldyBFdmVudCgnY2hhbmdlJyx7YnViYmxlczogdHJ1ZX0pO1xuICBmb3JtLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXG4gIGFub21lcl9jaG9vc2VyLnJlbW92ZUF0dHJpYnV0ZSgnYWN0aXZlJyk7XG4gIGxldCB6b29tID0gcGFyc2VGbG9hdCgod2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKS50b0ZpeGVkKDIpKTtcbiAgbGV0IHRhcmdldF9wb3MgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGxldCB2YWxzID0geyB0b3A6IHRhcmdldF9wb3MudG9wICxsZWZ0OiB0YXJnZXRfcG9zLmxlZnQgLHdpZHRoOiB0YXJnZXRfcG9zLndpZHRoICxoZWlnaHQ6IHRhcmdldF9wb3MuaGVpZ2h0IH07XG5cbiAgaWYgKHZhbHMud2lkdGggPCA1KSB7IC8vIFRyYW5zZm9ybXMgYXJlIG5vdCBiZWluZyB0YWtlbiBpbnRvIGFjY291bnQgb24gdGhlIHVzZSBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpbiBGaXJlZm94LiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMDY2NDM1XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBMb29rIGZvciBlbGVtZW50cyB0aGF0IGFyZSB0b28gc21hbGwsIGFuZCBzY2FsZSB1cC5cbiAgICB2YWxzLndpZHRoID0gdmFscy53aWR0aCAqIDEwMDtcbiAgICB2YWxzLmhlaWdodCA9IHZhbHMuaGVpZ2h0ICogMTAwO1xuICB9XG4gIGxldCBhbm9tZXJfc2l6ZSA9IGFub21lcl9jaG9vc2VyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBsZXQgcGFsZXR0ZV90b3AgPSAoYW5vbWVyX2Nob29zZXIucGFyZW50Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3Avem9vbSk7XG4gIGxldCBwYWxldHRlX2xlZnQgPSAoYW5vbWVyX2Nob29zZXIucGFyZW50Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0L3pvb20pO1xuICBsZXQgbGVmdF9wb3MgPSAoKCh2YWxzLmxlZnQgKzAuNSp2YWxzLndpZHRoIC0gMC41KmFub21lcl9zaXplLndpZHRoKS96b29tKSAtIHBhbGV0dGVfbGVmdCkudG9GaXhlZCgyKTtcbiAgbGV0IHRvcF9wb3MgPSAoKCh2YWxzLnRvcCswLjUqdmFscy5oZWlnaHQgIC0gMC41KmFub21lcl9zaXplLmhlaWdodCkvem9vbSkgLSBwYWxldHRlX3RvcCkudG9GaXhlZCgyKTtcbiAgbGVmdF9wb3MgPSAoKHZhbHMubGVmdCArIDAuNSp2YWxzLndpZHRoIC0gMC41KmFub21lcl9zaXplLndpZHRoKS96b29tKS50b0ZpeGVkKDIpO1xuXG4gIGFub21lcl9jaG9vc2VyLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IGAke2xlZnRfcG9zfXB4ICR7dG9wX3Bvc31weGA7XG4gIGFub21lcl9jaG9vc2VyLnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgxKSB0cmFuc2xhdGUoJHtsZWZ0X3Bvc31weCwke3RvcF9wb3N9cHgpYDtcbiAgc2V0VGltZW91dCggKCkgPT4ge1xuICAgIGlmIChbLi4uYW5vbWVyX2Nob29zZXIucXVlcnlTZWxlY3RvckFsbCgnbGFiZWw6bm90KFtkYXRhLWRpc2FibGVkXSknKV0ubGVuZ3RoID09PSAxKSB7XG4gICAgICBhbm9tZXJfY2hvb3Nlci5xdWVyeVNlbGVjdG9yKCdsYWJlbDpub3QoW2RhdGEtZGlzYWJsZWRdKScpLmNsaWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFRpbWVvdXQoICgpID0+IHtcbiAgICAgICAgYW5vbWVyX2Nob29zZXIuc2V0QXR0cmlidXRlKCdhY3RpdmUnLG51bGwpO1xuICAgICAgfSwxMDApO1xuICAgIH1cbiAgfSwwKTtcblxuICBhbm9tZXJfY2hvb3Nlci5jbGVhcigpO1xufTtcblxubGV0IGVuYWJsZURyb3BSZXNpZHVlID0gZnVuY3Rpb24ocmVuZGVyZXIscmVzaWR1ZSkge1xuICByZXNpZHVlLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gIGlmICghIHJlbmRlcmVyLnJlbmRlcmVkLmhhcyhyZXNpZHVlKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgdGFyZ2V0ID0gcmVuZGVyZXIucmVuZGVyZWQuZ2V0KHJlc2lkdWUpLnJlc2lkdWUuZWxlbWVudDtcbiAgaWYgKCAhIHRhcmdldCApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgc3VwcG9ydHNfYm91bmRpbmdfYm94ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGFyZ2V0KS5nZXRQcm9wZXJ0eVZhbHVlKCctLWJvdW5kaW5nLWJveC1ldmVudHMnKSA9PT0gJ3RydWUnO1xuXG4gIGlmICh0YXJnZXQuc3R5bGUucG9pbnRlckV2ZW50cyA9PT0gKHN1cHBvcnRzX2JvdW5kaW5nX2JveCA/ICdib3VuZGluZy1ib3gnIDogJ2FsbCcpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRhcmdldC5zdHlsZS5wb2ludGVyRXZlbnRzID0gKHN1cHBvcnRzX2JvdW5kaW5nX2JveCA/ICdib3VuZGluZy1ib3gnIDogJ2FsbCcpO1xuICBsZXQgZm9ybSA9IHRoaXMuZm9ybTtcblxuICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgKCkgPT4ge1xuICAgIGRlbGV0ZSBmb3JtLmFjdGl2ZV9yZXNpZHVlO1xuICAgIGlmIChmb3JtLm1lbnVfdGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KGZvcm0ubWVudV90aW1lb3V0KTtcbiAgICB9XG4gICAgaWYgKCAhIGZvcm0uYWN0aXZlX2NlbnRlciApIHtcbiAgICAgIGZvcm0uY2xlYXIoKTtcbiAgICB9XG4gICAgdGhpcy5oaWdobGlnaHRSZXNpZHVlcygpO1xuICB9KTtcblxuICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcbiAgICBpZiAoZm9ybS5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwiZG9ub3JcIl06Y2hlY2tlZCcpLnZhbHVlID09PSAnZGVsZXRlJykge1xuICAgICAgbGV0IHBhcmVudCA9IHJlc2lkdWUucGFyZW50O1xuICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKHBhcmVudC5saW5rYWdlT2YocmVzaWR1ZSkscmVzaWR1ZSk7XG4gICAgICBwYXJlbnQuYmFsYW5jZSgpO1xuICAgICAgcGFyZW50LnJlbmRlcmVyLnJlZnJlc2goKTtcbiAgICAgIHRoaXMuc2VxdWVuY2UgPSB0aGlzLnJlbmRlcmVyLnN1Z2Fyc1swXS5zZXF1ZW5jZTtcbiAgICAgIHRoaXMuZm9ybS5yZXNldCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZm9ybS5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwiZG9ub3JcIl06Y2hlY2tlZCcpLnZhbHVlKSB7XG4gICAgICBzaG93X2Fub21lci5iaW5kKHRoaXMscmVzaWR1ZSkoZXYudGFyZ2V0KTtcbiAgICB9XG4gIH0pO1xuICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VudGVyJywgKGV2KSA9PiB7XG4gICAgaWYgKCEgdGhpcy5oYXNBdHRyaWJ1dGUoJ2VkaXRhYmxlJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCEgZm9ybS5hY3RpdmVfY2VudGVyKSB7XG4gICAgICB0aGlzLmhpZ2hsaWdodFJlc2lkdWVzKFtyZXNpZHVlXSk7XG4gICAgfVxuXG4gICAgaWYgKGZvcm0ucmVzaWR1ZSA9PT0gcmVzaWR1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChmb3JtLmFjdGl2ZV9yZXNpZHVlID09PSByZXNpZHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGZvcm0uYWN0aXZlX2NlbnRlcikge1xuICAgICAgbGV0IGNlbnRlciA9IGZvcm0uYWN0aXZlX2NlbnRlcjtcbiAgICAgIGlmIChjZW50ZXIuciA8IDc1KSB7XG4gICAgICAgIGNlbnRlci5yID0gNzU7XG4gICAgICB9XG4gICAgICBpZiAoIE1hdGgucG93KGV2LmNsaWVudFggLSBjZW50ZXIubGVmdCwyKSArIE1hdGgucG93KGV2LmNsaWVudFkgLSBjZW50ZXIudG9wLDIpIDwgTWF0aC5wb3coMSpjZW50ZXIuciwyKSApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvcm0uY2xlYXIoKTtcblxuICAgIC8vIFdlIHNob3VsZCB3YWl0IGZvciBhIGRyYWcgb3ZlciBhdCBsZWFzdCAzMDAgbXMgYWZ0ZXJcbiAgICAvLyB0byBzZXQgdGhlIHRhcmdldFxuICAgIGZvcm0uYWN0aXZlX3Jlc2lkdWUgPSByZXNpZHVlO1xuXG4gICAgaWYgKGZvcm0ubWVudV90aW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQoZm9ybS5tZW51X3RpbWVvdXQpO1xuICAgIH1cblxuICAgIGZvcm0ubWVudV90aW1lb3V0ID0gc2V0VGltZW91dChzaG93X2Fub21lci5iaW5kKHRoaXMscmVzaWR1ZSxldi50YXJnZXQpLFJFU0lEVUVfU0VMRUNUSU9OX1RJTUVPVVQpO1xuICB9KTtcbn07XG5cbmxldCB1cGRhdGVfc2VxdWVuY2UgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCAhIHRoaXMucmVuZGVyZXIgfHwgISB0aGlzLnJlbmRlcmVyLnN1Z2FycyB8fCB0aGlzLnJlbmRlcmVyLnN1Z2Fycy5sZW5ndGggPCAxICkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodGhpcy5yZW5kZXJlci5zdWdhcnNbMF0uc2VxdWVuY2UgIT09IHRoaXMuc2VxdWVuY2UpIHtcbiAgICB0aGlzLnJlbmRlcmVyLnN1Z2Fyc1swXS5zZXF1ZW5jZSA9IHRoaXMuc2VxdWVuY2U7XG4gIH1cbn07XG5cbmxldCByZWRyYXdfc3VnYXIgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCAhIHRoaXMucmVuZGVyZXIgfHwgISB0aGlzLnJlbmRlcmVyLnN1Z2FycyB8fCB0aGlzLnJlbmRlcmVyLnN1Z2Fycy5sZW5ndGggPCAxICkge1xuICAgIHJldHVybjtcbiAgfVxuICByZXR1cm4gdGhpcy5yZW5kZXJlci5yZWZyZXNoKCkudGhlbiggKCkgPT4ge1xuICAgIGlmICh0aGlzLmhhc0F0dHJpYnV0ZSgnZWRpdGFibGUnKSkge1xuICAgICAgZm9yIChsZXQgcmVzaWR1ZSBvZiB0aGlzLnJlbmRlcmVyLnN1Z2Fyc1swXS5jb21wb3NpdGlvbigpICkge1xuICAgICAgICBlbmFibGVEcm9wUmVzaWR1ZS5jYWxsKCB0aGlzLCB0aGlzLnJlbmRlcmVyLHJlc2lkdWUgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5zY2FsZVRvRml0KCk7XG4gIH0pO1xufTtcblxuXG5sZXQgd2lyZV9yZW5kZXJlcl9jYW52YXNfZXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gIGxldCBjYW52YXMgPSB0aGlzLnJlbmRlcmVyLmVsZW1lbnQuY2FudmFzO1xuXG4gIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignZHJhZycsICgpPT4ge1xuICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnZHJhZ2dpbmcnKTtcbiAgfSk7XG5cbiAgY29uc3QgY29udGVudHMgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLndpZGdldF9jb250ZW50cycpO1xuICBjb250ZW50cy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldikgPT4ge1xuICAgIGlmIChldi50YXJnZXQgIT09IGNvbnRlbnRzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIC8vIFJlc2V0IGZvcm0gdmFsdWVzIGFuZCBzZWxlY3RlZCBpdGVtc1xuICAgIGlmICh0aGlzLmZvcm0gJiYgdGhpcy5mb3JtLmNsZWFyKSB7XG4gICAgICB0aGlzLmZvcm0ucmVzZXQoKTtcbiAgICAgIHRoaXMuZm9ybS5jbGVhcigpO1xuICAgIH1cbiAgfSk7XG5cbiAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KSA9PiB7XG4gICAgaWYgKGV2LnRhcmdldCAhPT0gY2FudmFzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIC8vIFJlc2V0IGZvcm0gdmFsdWVzIGFuZCBzZWxlY3RlZCBpdGVtc1xuICAgIGlmICh0aGlzLmZvcm0gJiYgdGhpcy5mb3JtLmNsZWFyKSB7XG4gICAgICB0aGlzLmZvcm0ucmVzZXQoKTtcbiAgICAgIHRoaXMuZm9ybS5jbGVhcigpO1xuICAgIH1cbiAgfSk7XG5cbiAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIChldikgPT4ge1xuICAgIGlmIChldi5yZWxhdGVkVGFyZ2V0ID09PSBjYW52YXMpIHtcbiAgICAgIGlmICh0aGlzLmZvcm0uYWN0aXZlX2NlbnRlcikge1xuICAgICAgICBsZXQgY2VudGVyID0gdGhpcy5mb3JtLmFjdGl2ZV9jZW50ZXI7XG4gICAgICAgIGlmIChjZW50ZXIuciA8IDc1KSB7XG4gICAgICAgICAgY2VudGVyLnIgPSA3NTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIE1hdGgucG93KGV2LmNsaWVudFggLSBjZW50ZXIubGVmdCwyKSArIE1hdGgucG93KGV2LmNsaWVudFkgLSBjZW50ZXIudG9wLDIpIDwgTWF0aC5wb3coMSpjZW50ZXIuciwyKSApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5mb3JtLmNsZWFyKCk7XG4gICAgICBkZWxldGUgdGhpcy5mb3JtLmFjdGl2ZV9yZXNpZHVlO1xuICAgICAgZGVsZXRlIHRoaXMuZm9ybS5yZXNpZHVlO1xuICAgICAgaWYgKHRoaXMuZm9ybS5tZW51X3RpbWVvdXQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZm9ybS5tZW51X3RpbWVvdXQpO1xuICAgICAgfVxuICAgICAgdGhpcy5oaWdobGlnaHRSZXNpZHVlcygpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuICB9KTtcblxuICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCAoKSA9PiB7XG4gICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnZ2luZycpO1xuICAgIHRoaXMuaGlnaGxpZ2h0UmVzaWR1ZXMoKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+e1xuICAgICAgdGhpcy5mb3JtLnJlc2V0KCk7XG4gICAgfSwxMDApO1xuICB9KTtcblxufTtcblxubGV0IHdpcmVfcmVuZGVyZXJfZmlzaGV5ZSA9IGZ1bmN0aW9uKGFyZykge1xuICBsZXQgY2FudmFzID0gdGhpcy5yZW5kZXJlci5lbGVtZW50LmNhbnZhcztcbiAgbGV0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcblxuICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoKSA9PiB7XG4gICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdkcmFnZ2luZycpO1xuICB9KTtcblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgKCkgPT4ge1xuICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnZHJhZ2dpbmcnKTtcbiAgfSk7XG5cbiAgaWYgKCAhIGFyZyApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgbGFzdF9yZXE7XG4gIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChldikgPT4ge1xuICAgIGlmICh0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbCgnY2NnLXBpZW1lbnVbYWN0aXZlXScpLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCEgdGhpcy5oYXNBdHRyaWJ1dGUoJ2VkaXRhYmxlJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5MYXlvdXRFbmdpbmUuZm9jdXMgPSBbIGV2LnN1Z2FyWCwgZXYuc3VnYXJZIF07XG4gICAgbGV0IHZwX3pvb20gPSBwYXJzZUZsb2F0KCh3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpLnRvRml4ZWQoMikpO1xuICAgIGxldCBjYW5kaWRhdGVfem9vbSA9IHBhcnNlRmxvYXQoKHZwX3pvb20gKiB2cF96b29tICogMykudG9GaXhlZCgyKSk7XG4gICAgdGhpcy5MYXlvdXRFbmdpbmUuem9vbSA9IGNhbmRpZGF0ZV96b29tIDwgMC4xID8gMC4xIDogY2FuZGlkYXRlX3pvb207XG4gICAgdGhpcy5MYXlvdXRFbmdpbmUubG9ja19yZXNpZHVlcyA9IHRydWU7XG4gICAgaWYgKGxhc3RfcmVxKSB7XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShsYXN0X3JlcSk7XG4gICAgfVxuICAgIGxhc3RfcmVxID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgcmVuZGVyZXIucmVmcmVzaCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgKCkgPT4ge1xuICAgIHRoaXMuTGF5b3V0RW5naW5lLmZvY3VzID0gWyAtMTAwMCwgLTEwMDAgXTtcbiAgICBpZiAobGFzdF9yZXEpIHtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGxhc3RfcmVxKTtcbiAgICB9XG4gICAgbGFzdF9yZXEgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgICByZW5kZXJlci5yZWZyZXNoKCk7XG4gICAgfSk7XG4gIH0pO1xuXG59O1xuXG5jb25zdCB1cGRhdGVfcmVwZWF0cyA9IGZ1bmN0aW9uKCkge1xuICBsZXQgcmVwZWF0cyA9IHRoaXMucmVuZGVyZXIuc3VnYXJzWzBdLnJlcGVhdHM7XG4gIHRoaXNbcmVwZWF0c19zeW1ib2xdLmxlbmd0aCA9IDA7XG4gIHRoaXNbcmVwZWF0c19zeW1ib2xdLnB1c2goLi4ucmVwZWF0cy5tYXAoIHJlcGVhdCA9PiBuZXcgTW9kaWZpYWJsZVJlcGVhdChyZXBlYXQsdGhpcykgKSk7XG59O1xuXG5jb25zdCB1cGRhdGVfaWNvbl90ZXh0X29yaWVudGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gIGxldCBpc19yb3RhdGVkID0gdGhpcy5yZW5kZXJlci5yb3RhdGU7XG4gIGZvciAobGV0IHRleHQgb2YgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoJyNpY29ucyBzeW1ib2wgdGV4dCcpKSB7XG4gICAgaWYgKGlzX3JvdGF0ZWQpIHtcbiAgICAgIHRleHQuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCdyb3RhdGUoOTAsNTAsNTApJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRleHQucmVtb3ZlQXR0cmlidXRlKCd0cmFuc2Zvcm0nKTtcbiAgICB9XG4gIH1cbn07XG5cblxuXG5sZXQgd2lyZV9mb3JtX2NoZWNrX2NsYXNzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZm9ybS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihldikge1xuICAgIGlmIChldi50YXJnZXQgJiYgZXYudGFyZ2V0LnBhcmVudE5vZGUgaW5zdGFuY2VvZiBIVE1MTGFiZWxFbGVtZW50KSB7XG4gICAgICBsZXQgdGFyZyA9IGV2LnRhcmdldDtcbiAgICAgIGlmICh0YXJnLm5hbWUgIT09ICdkb25vcicpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgc2liIG9mIHRoaXMucXVlcnlTZWxlY3RvckFsbChgaW5wdXRbbmFtZT1cIiR7dGFyZy5uYW1lfVwiXWApKSB7XG4gICAgICAgIGlmIChzaWIgPT09IHRhcmcpIHtcbiAgICAgICAgICBzaWIucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2liLnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tlZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgdGhpcy5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2V0JywgZnVuY3Rpb24oKSB7XG4gICAgZGVsZXRlIHRoaXMucmVzaWR1ZTtcbiAgICBmb3IgKGxldCBzaWIgb2YgdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtuYW1lPVwiZG9ub3JcIl0nKSkge1xuICAgICAgc2liLnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tlZCcpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCB3aXJlX3BhbGV0dGVfd2F0Y2hlciA9IChsYWJlbCkgPT4ge1xuICBsZXQgY29uZmlnID0geyBhdHRyaWJ1dGVzOiB0cnVlLCBzdWJ0cmVlOiB0cnVlLGF0dHJpYnV0ZUZpbHRlcjogWydkaXNhYmxlZCcsJ2RhdGEtd2VpZ2h0J10gfTtcbiAgLy8gQ2FsbGJhY2sgZnVuY3Rpb24gdG8gZXhlY3V0ZSB3aGVuIG11dGF0aW9ucyBhcmUgb2JzZXJ2ZWRcbiAgbGV0IGNhbGxiYWNrID0gZnVuY3Rpb24obXV0YXRpb25zTGlzdCkge1xuICAgICAgZm9yKGxldCBtdXRhdGlvbiBvZiBtdXRhdGlvbnNMaXN0KSB7XG4gICAgICAgICAgaWYgKG11dGF0aW9uLnRhcmdldCA9PT0gbGFiZWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT0gJ2F0dHJpYnV0ZXMnKSB7XG4gICAgICAgICAgICAgIGxldCBjdXJyZW50X3BhcnRzID0gbmV3IFNldCgobGFiZWwuZ2V0QXR0cmlidXRlKCdwYXJ0JykgfHwgJycpLnNwbGl0KCcsICcpKTtcbiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRfcGFydHMuaGFzKCdkb25vci1kaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudF9wYXJ0cy5kZWxldGUoJ2Rvbm9yLWRpc2FibGVkJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGxhYmVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2Rpc2FibGVkXScpKSB7XG4gICAgICAgICAgICAgICAgbGFiZWwuc2V0QXR0cmlidXRlKCdkYXRhLWRpc2FibGVkJywnJyk7XG4gICAgICAgICAgICAgICAgY3VycmVudF9wYXJ0cy5hZGQoJ2Rvbm9yLWRpc2FibGVkJyk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGFiZWwucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWRpc2FibGVkJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbGFiZWwuc2V0QXR0cmlidXRlKCdwYXJ0JywgWy4uLmN1cnJlbnRfcGFydHNdLmpvaW4oJywgJykpO1xuXG4gICAgICAgICAgICAgIGlmIChsYWJlbC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXdlaWdodF0nKSkge1xuICAgICAgICAgICAgICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnZGF0YS13ZWlnaHQnLGxhYmVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtd2VpZ2h0XScpLmdldEF0dHJpYnV0ZSgnZGF0YS13ZWlnaHQnKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGFiZWwucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXdlaWdodCcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9O1xuXG4gIGxldCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTtcblxuICBvYnNlcnZlci5vYnNlcnZlKGxhYmVsLCBjb25maWcpO1xuXG4gIC8vIExhdGVyLCB5b3UgY2FuIHN0b3Agb2JzZXJ2aW5nXG4gIC8vIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbn07XG5cbmNvbnN0IGFjdGl2ZV9wYWxldHRlX3BvcHVsYXRpb25fc3ltYm9sID0gU3ltYm9sKCdBQ1RJVkVfUE9QVUxBVElPTicpO1xuXG5sZXQgZW5zdXJlX3N1Z2FyX2ljb24gPSBmdW5jdGlvbihkZWZzX2Jsb2NrLHNlcXVlbmNlKSB7XG4gIGxldCBzYWZlX3NlcSA9IHNlcXVlbmNlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvWygpXFxbXFxdXS9nLCdfJyk7XG4gIGxldCBleGlzdGluZztcbiAgdHJ5IHtcbiAgICBleGlzdGluZyA9IGRlZnNfYmxvY2sucXVlcnlTZWxlY3RvcihgIyR7c2FmZV9zZXF9YCk7XG4gIH0gY2F0Y2goZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbiAgaWYgKGV4aXN0aW5nKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG4gIGNvbnN0IHRlbXBsYXlvdXQgPSBjbGFzcyBleHRlbmRzIFN1Z2FyQXdhcmVMYXlvdXRGaXNoRXllIHt9O1xuICB0ZW1wbGF5b3V0LkxJTktTID0gZmFsc2U7XG4gIGxldCBzdWdhcl9yZW5kZXJlciA9IG5ldyBTVkdSZW5kZXJlcihkZWZzX2Jsb2NrLHRlbXBsYXlvdXQpO1xuICBsZXQgY2xhenogPSB0aGlzLlN1Z2FyQ2xhc3M7XG4gIGxldCBzdWcgPSBuZXcgY2xhenooKTtcbiAgc3VnLnNlcXVlbmNlID0gc2VxdWVuY2U7XG4gIHN1Z2FyX3JlbmRlcmVyLmVsZW1lbnQuY2FudmFzLnNldEF0dHJpYnV0ZSgnaWQnLHNhZmVfc2VxKTtcbiAgc3VnYXJfcmVuZGVyZXIucm90YXRlID0gdHJ1ZTtcbiAgc3VnYXJfcmVuZGVyZXIuYWRkU3VnYXIoc3VnKTtcbiAgcmV0dXJuIHN1Z2FyX3JlbmRlcmVyLnJlZnJlc2goKS50aGVuKCAoKSA9PiB7XG4gICAgbGV0IGFfdXNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsJ3VzZScpO1xuICAgIGFfdXNlLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywnaHJlZicsJyMnK3NhZmVfc2VxKTtcbiAgICBhX3VzZS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgZGVmc19ibG9jay5wYXJlbnROb2RlLnBhcmVudE5vZGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgZGVmc19ibG9jay5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGFfdXNlKTtcbiAgICBzdWdhcl9yZW5kZXJlci5lbGVtZW50LmNhbnZhcy5nZXRCQm94ID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIGFfdXNlLmdldEJCb3goKTtcbiAgICB9O1xuICAgIHN1Z2FyX3JlbmRlcmVyLnNjYWxlVG9GaXQoe3NpZGU6IDAuMjUsIHRvcDogMC41fSk7XG4gICAgYV91c2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhX3VzZSk7XG4gICAgZGVmc19ibG9jay5wYXJlbnROb2RlLnBhcmVudE5vZGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBzdWdhcl9yZW5kZXJlci5lbGVtZW50LmNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3ByZXNlcnZlQXNwZWN0UmF0aW8nLCd4TWlkWU1pZCBtZWV0Jyk7XG4gIH0pO1xufTtcblxubGV0IHBvcHVsYXRlX3BhbGV0dGUgPSBmdW5jdGlvbih3aWRnZXQscGFsZXR0ZSxkb25vcnM9WydHYWwnLCdHbGMnLCdNYW4nLCdHYWxOQWMnLCdHbGNOQWMnLCdOZXVBYycsJ05ldUdjJywnR2xjQScsJ0lkb0EnLCdYeWwnLCdGdWMnXSkge1xuICBsZXQgaWNvbnMgPSB3aWRnZXQuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnaWNvbnMnKTtcblxuICB3aGlsZSAocGFsZXR0ZS5sYXN0RWxlbWVudENoaWxkICYmIHBhbGV0dGUubGFzdEVsZW1lbnRDaGlsZC5nZXRBdHRyaWJ1dGUoJ2lkJykgIT09ICdwYWxldHRlX2RlbGV0ZScpIHtcbiAgICBwYWxldHRlLnJlbW92ZUNoaWxkKHBhbGV0dGUubGFzdEVsZW1lbnRDaGlsZCk7XG4gIH1cblxuICBsZXQgcHJvY2Vzc190b2tlbiA9IFN5bWJvbCgnQUNUSVZFJyk7XG5cbiAgd2lkZ2V0W2FjdGl2ZV9wYWxldHRlX3BvcHVsYXRpb25fc3ltYm9sXSA9IHByb2Nlc3NfdG9rZW47XG5cbiAgd2lkZ2V0W2Rvbm9yc19zeW1ib2xdID0gZG9ub3JzO1xuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHdpZGdldC5yZW5kZXJlci5jb25zdHJ1Y3Rvci5TWU1CT0xTKVxuICAudGhlbiggKHhtbCkgPT4gaWNvbnMuaW5uZXJIVE1MID0geG1sIClcbiAgLnRoZW4oIGFzeW5jICgpID0+IHtcbiAgICBpZiAod2lkZ2V0W2FjdGl2ZV9wYWxldHRlX3BvcHVsYXRpb25fc3ltYm9sXSAhPT0gcHJvY2Vzc190b2tlbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkZWxldGUgd2lkZ2V0W2FjdGl2ZV9wYWxldHRlX3BvcHVsYXRpb25fc3ltYm9sXTtcblxuICAgIGxldCBleHBvcnRwYXJ0cyA9ICdkb25vci1idXR0b24sIGRvbm9yLWRpc2FibGVkJztcbiAgICBmb3IgKGxldCBzdWcgb2Ygd2lkZ2V0LmRvbm9ycykge1xuXG4gICAgICBsZXQgc2FmZV9zZXEgPSBzdWcudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bKClcXFtcXF1dL2csJ18nKTtcblxuICAgICAgYXdhaXQgZW5zdXJlX3N1Z2FyX2ljb24uY2FsbCh3aWRnZXQsaWNvbnMucXVlcnlTZWxlY3RvcignZGVmcycpLHN1Zyk7XG5cbiAgICAgIGxldCBwYWxldHRlX2VudHJ5ID0gcGFsZXR0ZV90ZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIHBhbGV0dGVfZW50cnkucXVlcnlTZWxlY3RvcigndXNlJykuc2V0QXR0cmlidXRlKCd4bGluazpocmVmJyxgIyR7c2FmZV9zZXF9YCk7XG4gICAgICBwYWxldHRlX2VudHJ5LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jykuc2V0QXR0cmlidXRlKCd2YWx1ZScsc3VnKTtcbiAgICAgIHBhbGV0dGVfZW50cnkucXVlcnlTZWxlY3RvcignbGFiZWwnKS5zZXRBdHRyaWJ1dGUoJ2RhdGEtZG9ub3InLHN1Zy50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIHBhbGV0dGVfZW50cnkucXVlcnlTZWxlY3RvcignbGFiZWwnKS5zZXRBdHRyaWJ1dGUoJ3BhcnQnLGBkb25vci1idXR0b25gKTtcblxuICAgICAgcGFsZXR0ZS5hcHBlbmRDaGlsZChwYWxldHRlX2VudHJ5KTtcbiAgICAgIHdpcmVfcGFsZXR0ZV93YXRjaGVyKHBhbGV0dGUubGFzdEVsZW1lbnRDaGlsZCk7XG4gICAgfVxuICAgIHdpZGdldC5zZXRBdHRyaWJ1dGUoJ2V4cG9ydHBhcnRzJyxleHBvcnRwYXJ0cyk7XG5cbiAgICBwYWxldHRlLnN0eWxlLnNldFByb3BlcnR5KCAnLS1wYWxldHRlLWl0ZW0tY291bnQnLCBwYWxldHRlLmNoaWxkcmVuLmxlbmd0aCk7XG4gIH0pO1xufTtcblxubGV0IGV4dGVuZF9zdWdhciA9IGZ1bmN0aW9uKHJlc2lkdWUsZG9ub3JfdmFsdWUsYW5vbWVyX3ZhbHVlLGxpbmthZ2VfdmFsdWUpIHtcblxuICBsZXQgY2xhenogPSB0aGlzLlN1Z2FyQ2xhc3M7XG5cbiAgbGV0IHN1ZyA9IG5ldyBjbGF6eigpO1xuXG4gIHN1Zy5zZXF1ZW5jZSA9IGRvbm9yX3ZhbHVlO1xuXG4gIGxldCBuZXdfcmVzID0gc3VnLnJvb3Q7XG5cbiAgbmV3X3Jlcy5hbm9tZXIgPSBhbm9tZXJfdmFsdWU7XG5cbiAgbmV3X3Jlcy5wYXJlbnRfbGlua2FnZSA9IGRvbm9yX3ZhbHVlLm1hdGNoKC9OZXUoR2N8QWMpLykgPyAyIDogMTtcblxuICBsZXQgZGVsdGEgPSBgJHtzdWcuc2VxdWVuY2V9KCR7bmV3X3Jlcy5hbm9tZXJ9JHtuZXdfcmVzLnBhcmVudF9saW5rYWdlfS0ke2xpbmthZ2VfdmFsdWV9KWA7XG5cbiAgbGV0IHJlYWN0aW9uX3N0cmluZyA9IGAke3Jlc2lkdWUuaWRlbnRpZmllcn0odT8tPykqK1wieyR7ZGVsdGF9QHkyYX1cImA7XG5cbiAgbGV0IFJlYWN0aW9uQ2xhc3MgPSBSZWFjdGlvbi5Db3B5SU8oc3VnKVxuXG4gIGxldCByZWFjdGlvbiA9IG5ldyBSZWFjdGlvbkNsYXNzKCk7XG4gIHJlYWN0aW9uLnNlcXVlbmNlID0gcmVhY3Rpb25fc3RyaW5nO1xuXG4gIC8vIGlmICh0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJkb25vclwiXTpjaGVja2VkJykucmVhY3Rpb24pIHtcbiAgLy8gICByZWFjdGlvbiA9IHRoaXMucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImRvbm9yXCJdOmNoZWNrZWQnKS5yZWFjdGlvbjtcbiAgLy8gfVxuXG4gIGxldCByZW5kZXJlciA9IHJlc2lkdWUucmVuZGVyZXI7XG5cbiAgaWYgKCAocmVzaWR1ZSBpbnN0YW5jZW9mIFJlcGVhdC5Nb25vc2FjY2hhcmlkZSkgJiZcbiAgICAgICAocmVzaWR1ZS5yZXBlYXQubW9kZSA9PT0gUmVwZWF0Lk1PREVfTUlOSU1BTCkgKSB7XG5cbiAgICBpZiAoICghIHJlc2lkdWUuZW5kc1JlcGVhdCB8fCByZXNpZHVlLnJlcGVhdC5yb290LmlkZW50aWZpZXIgIT09IG5ld19yZXMuaWRlbnRpZmllcikgJiZcbiAgICAgICAgIChbJ0Z1YycsJ0hTTzMnXS5pbmRleE9mKG5ld19yZXMuaWRlbnRpZmllcikgPj0gMCkgKSB7XG4gICAgICByZXNpZHVlLm9yaWdpbmFsLmFkZENoaWxkKHBhcnNlSW50KGxpbmthZ2VfdmFsdWUpLG5ld19yZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNpZHVlLmFkZENoaWxkKHBhcnNlSW50KGxpbmthZ2VfdmFsdWUpLG5ld19yZXMpO1xuICAgIH1cbiAgICByZXR1cm4gWyAuLi5zdWcuY29tcG9zaXRpb24oKSBdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiByZWFjdGlvbi5leGVjdXRlKHJlbmRlcmVyLnN1Z2Fyc1swXSxyZXNpZHVlKTtcbiAgfVxufVxuXG5sZXQgZm9ybV9hY3Rpb24gPSBmdW5jdGlvbih3aWRnZXQsZXYpIHtcbiAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgbGV0IGRvbm9yX3ZhbHVlID0gKHRoaXMucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImRvbm9yXCJdOmNoZWNrZWQnKSB8fCB7fSkudmFsdWU7XG5cbiAgaWYgKCAhIGRvbm9yX3ZhbHVlICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBwb3NzaWJsZV9hbm9tZXJzID0gWy4uLnRoaXMucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT1cImFub21lclwiXTpub3QoW2Rpc2FibGVkXSknKV07XG5cbiAgaWYgKCAhIHRoaXMucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImFub21lclwiXTpjaGVja2VkJykgJiYgcG9zc2libGVfYW5vbWVycy5sZW5ndGggPT09IDEpIHtcbiAgICBwb3NzaWJsZV9hbm9tZXJzWzBdLmNoZWNrZWQgPSB0cnVlO1xuICB9XG5cbiAgbGV0IHBvc3NpYmxlX2xpbmthZ2VzID0gWy4uLnRoaXMucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT1cImxpbmthZ2VcIl06bm90KFtkaXNhYmxlZF0pJyldO1xuICBpZiAoICEgdGhpcy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwibGlua2FnZVwiXTpjaGVja2VkJykgJiYgcG9zc2libGVfbGlua2FnZXMubGVuZ3RoID09PSAxKSB7XG4gICAgcG9zc2libGVfbGlua2FnZXNbMF0uY2hlY2tlZCA9IHRydWU7XG4gIH1cblxuXG4gIGxldCBhbm9tZXJfdmFsdWUgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJhbm9tZXJcIl06Y2hlY2tlZCcpLnZhbHVlO1xuXG4gIGxldCBsaW5rYWdlX3ZhbHVlID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwibGlua2FnZVwiXTpjaGVja2VkJykudmFsdWU7XG5cbiAgbGV0IHJlbmRlcmVyID0gdGhpcy5yZXNpZHVlLnJlbmRlcmVyO1xuXG4gIGxldCBvcmlnaW5hbF9sb2NhdGlvbiA9IHJlbmRlcmVyLnN1Z2Fyc1swXS5sb2NhdGlvbl9mb3JfbW9ub3NhY2NoYXJpZGUodGhpcy5yZXNpZHVlKTtcblxuICBsZXQgYWRkZWQgPSB3aWRnZXQuZXh0ZW5kU3VnYXIodGhpcy5yZXNpZHVlLGRvbm9yX3ZhbHVlLGFub21lcl92YWx1ZSxsaW5rYWdlX3ZhbHVlKTtcblxuICAvLyBJZiB0aGUgZWRpdGluZyBwcm9jZWR1cmUgcmVtb3ZlcyB0aGUgcmVzaWR1ZSBmcm9tIHRoZSB0cmVlXG4gIC8vIHdlIHNob3VsZCBnZXQgdGhlIG9yaWdpbmFsIHJlc2lkdWUgYmFjayBhZ2Fpbi5cbiAgLy8gRklYTUUgLSBUaGlzIG1pZ2h0IGJlIGEgc291cmNlIG9mIHBhaW4gaWYgdGhlIGxpbmthZ2VzIGFyZSBhbWJpZ3VvdXNcbiAgLy8gYW5kIHRoZSBhZGRpdGlvbiBvZiBhIGNoaWxkIG1ha2VzIHRoZSBicmFuY2ggb3JkZXJpbmcgZmxpcCBhcm91bmRcblxuICB0aGlzLnJlc2lkdWUgPSByZW5kZXJlci5zdWdhcnNbMF0ubG9jYXRlX21vbm9zYWNjaGFyaWRlKG9yaWdpbmFsX2xvY2F0aW9uKTtcblxuICB0aGlzLnJlc2lkdWUuYmFsYW5jZSgpO1xuXG4gIHJlcGVhdENhbGxiYWNrKHJlbmRlcmVyLnN1Z2Fyc1swXSk7XG5cbiAgcmVuZGVyZXIucmVmcmVzaCgpLnRoZW4oICgpID0+IHtcbiAgICBmb3IgKGxldCBuZXdfcmVzIG9mIGFkZGVkICkge1xuICAgICAgZW5hYmxlRHJvcFJlc2lkdWUuY2FsbCggd2lkZ2V0LCByZW5kZXJlcixuZXdfcmVzKTtcbiAgICB9XG4gICAgd2lkZ2V0LnNjYWxlVG9GaXQoKTtcbiAgICB3aWRnZXQuaGlnaGxpZ2h0UmVzaWR1ZXMoKTtcbiAgfSk7XG5cbiAgaWYgKCdyZXF1ZXN0QW5pbWF0aW9uRnJhbWUnIGluIHdpbmRvdykge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSggKCkgPT4ge1xuICAgICAgd2lkZ2V0LnNlcXVlbmNlID0gcmVuZGVyZXIuc3VnYXJzWzBdLnNlcXVlbmNlO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHdpZGdldC5zZXF1ZW5jZSA9IHJlbmRlcmVyLnN1Z2Fyc1swXS5zZXF1ZW5jZTtcbiAgfVxuXG4gIHRoaXMucmVzZXQoKTtcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxubGV0IHdpcmVfZm9ybV9hY3Rpb24gPSBmdW5jdGlvbigpe1xuICB0aGlzLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcignZmluaXNoZWQnLCBmb3JtX2FjdGlvbi5iaW5kKHRoaXMuZm9ybSx0aGlzKSk7XG59O1xuXG5sZXQgaW5pdGlhbGlzZV9ldmVudHMgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCAhIHRoaXMuaGFzQXR0cmlidXRlKCdlZGl0YWJsZScpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxvZy5pbmZvKCdJbml0aWFsaXNpbmcgZ2xvYmFsIGV2ZW50cycpO1xuICB3aXJlX3BhbGV0dGVfcGFnZXpvb20uY2FsbCh0aGlzKTtcbiAgd2lyZV9mb3JtX2NoZWNrX2NsYXNzLmNhbGwodGhpcyk7XG4gIHdpcmVfZm9ybV9hY3Rpb24uY2FsbCh0aGlzKTtcbiAgaWYgKCdSZXNpemVPYnNlcnZlcicgaW4gd2luZG93KSB7XG4gICAgbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHtcbiAgICAgIGNvbnN0IHBhbGV0dGUgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ3BhbGV0dGUnKTtcbiAgICAgIHRoaXMuc3R5bGUuc2V0UHJvcGVydHkoICctLXBhbGV0dGUtaGVpZ2h0JywgKHBhbGV0dGUub2Zmc2V0SGVpZ2h0IC0gMzIpKydweCcpO1xuICAgIH0pLm9ic2VydmUodGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdwYWxldHRlJykpO1xuICB9XG4gIGlmICh0aGlzLmhhc0F0dHJpYnV0ZSgnZWRpdGFibGUnKSAmJiB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignI2Fub21lcl9tZW51JykpIHtcbiAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignI2Fub21lcl9tZW51JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGxpbmthZ2VfY2hvb3NlciA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcjbGlua2FnZV9tZW51Jyk7XG4gICAgICAgIGlmICghIGxpbmthZ2VfY2hvb3Nlcikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoWy4uLmxpbmthZ2VfY2hvb3Nlci5xdWVyeVNlbGVjdG9yQWxsKCdsYWJlbDpub3QoW2RhdGEtZGlzYWJsZWRdKScpXS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICB0aGlzLmZvcm0uY2xlYXIoKTtcbiAgICAgICAgICBsaW5rYWdlX2Nob29zZXIucXVlcnlTZWxlY3RvcignbGFiZWw6bm90KFtkYXRhLWRpc2FibGVkXSknKS5jbGljaygpO1xuICAgICAgICAgIHRoaXMuZm9ybS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICB9LDApO1xuICAgIH0sIHtjYXB0dXJlOiB0cnVlfSk7XG4gIH1cbiAgbG9nLmluZm8oJ0luaXRpYWxpc2VkIGdsb2JhbCBldmVudHMnKTtcbn07XG5cblxubGV0IGluaXRpYWxpc2VfcmVuZGVyZXJfb2JqZWN0ID0gZnVuY3Rpb24oKSB7XG4gIGlmICggISB0aGlzLnNoYWRvd1Jvb3QgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IHJlbmRlcmVyX2NsYXNzID0gdGhpcy5oYXNBdHRyaWJ1dGUoJ3JlbmRlcmVyJykgPyAodGhpcy5jb25zdHJ1Y3Rvci5SZWdpc3RlcmVkUmVuZGVyZXJzLmdldCh0aGlzLmdldEF0dHJpYnV0ZSgncmVuZGVyZXInKSkgfHwgU1ZHUmVuZGVyZXIpIDogU1ZHUmVuZGVyZXI7XG5cbiAgbGV0IGdldF9zdWdhcnNfdXJsID0gKCkgPT4ge1xuICAgIHJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzKS5nZXRQcm9wZXJ0eVZhbHVlKCctLXN1Z2Fycy11cmwnKSB8fCB0aGlzLmdldEF0dHJpYnV0ZSgnc3VnYXJzJyk7XG4gIH07XG5cbiAgbGV0IG92ZXJyaWRpbmdfcmVuZGVyZXIgPSBjbGFzcyBleHRlbmRzIHJlbmRlcmVyX2NsYXNzIHtcbiAgICBzdGF0aWMgZ2V0IFNZTUJPTFMoKSB7XG4gICAgICBjb25zdCBzdWdhcnNfdXJsID0gZ2V0X3N1Z2Fyc191cmwoKTtcbiAgICAgIGlmIChzdWdhcnNfdXJsICE9PSBudWxsICYmIHN1Z2Fyc191cmwgIT09IFwibnVsbFwiICYmIHN1Z2Fyc191cmwpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKHN1Z2Fyc191cmwpLnRoZW4oIGJvZHkgPT4gYm9keS50ZXh0KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlcmVyX2NsYXNzLlNZTUJPTFM7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKCB0aGlzLnJlbmRlcmVyICkge1xuICAgIHdoaWxlICh0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ291dHB1dCcpLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnb3V0cHV0JykucmVtb3ZlQ2hpbGQodGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdvdXRwdXQnKS5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gIH1cblxuICB0aGlzLnJlbmRlcmVyID0gbmV3IG92ZXJyaWRpbmdfcmVuZGVyZXIodGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdvdXRwdXQnKSx0aGlzLkxheW91dEVuZ2luZSk7XG5cbn1cblxubGV0IGluaXRpYWxpc2VfcmVuZGVyZXIgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCAhIHRoaXMuc2hhZG93Um9vdCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5MYXlvdXRFbmdpbmUuTElOS1MgPSB0aGlzLmhhc0F0dHJpYnV0ZSgnbGlua3MnKSA/IHRydWUgOiBmYWxzZTtcblxuICB0aGlzLnJlbmRlcmVyLnJvdGF0ZSA9IHRoaXMuaGFzQXR0cmlidXRlKCdob3Jpem9udGFsJyk7XG4gIHRoaXMucmVuZGVyZXIubGVmdFRvUmlnaHQgPSBmYWxzZTtcblxuICB1cGRhdGVfaWNvbl90ZXh0X29yaWVudGF0aW9uLmNhbGwodGhpcyk7XG5cbiAgbG9nLmluZm8oJ1dpcmluZyBjYW52YXMgZXZlbnRzJyk7XG4gIHdpcmVfcmVuZGVyZXJfY2FudmFzX2V2ZW50cy5jYWxsKHRoaXMpO1xuICB3aXJlX3JlbmRlcmVyX2Zpc2hleWUuY2FsbCh0aGlzKTtcbiAgbG9nLmluZm8oJ1dpcmVkIGNhbnZhcyBldmVudHMnKTtcbiAgbGV0IGNsYXp6ID0gdGhpcy5TdWdhckNsYXNzO1xuICBsZXQgc3VnID0gbmV3IGNsYXp6KCk7XG4gIHRoaXMucmVuZGVyZXIuYWRkU3VnYXIoc3VnKTtcbiAgaWYgKHRoaXMuc2VxdWVuY2UgfHwgKHRoaXMuc2VxdWVuY2UgPT0gJycgJiYgdGhpcy5yZW5kZXJlci5zdWdhcnNbMF0uc2VxdWVuY2UgIT0gdGhpcy5zZXF1ZW5jZSkpIHtcbiAgICB1cGRhdGVfc2VxdWVuY2UuY2FsbCh0aGlzKTtcbiAgICB0aGlzLl9yZWRyYXdfc3VnYXIoKTtcbiAgICBpZiAoc3VnLnJlcGVhdHMubGVuZ3RoID4gMCkge1xuICAgICAgcmVwZWF0Q2FsbGJhY2soc3VnKTtcbiAgICB9XG4gICAgdXBkYXRlX3JlcGVhdHMuY2FsbCh0aGlzKTtcbiAgfVxufTtcblxubGV0IHVwZGF0ZV9zdWdhcl9zZXEgPSBmdW5jdGlvbih3YXRjaGVkX3RleHRfbm9kZXMpIHtcbiAgbGV0IG5ld3NlcSA9IHdhdGNoZWRfdGV4dF9ub2Rlcy5tYXAoIG4gPT4gbi50ZXh0Q29udGVudCkuam9pbignJyk7XG4gIG5ld3NlcSA9IG5ld3NlcS5yZXBsYWNlKC9eXFxzKy8sJycpLnJlcGxhY2UoL1xccyskLywnJyk7XG4gIGlmIChuZXdzZXEgIT09IHRoaXMuc2VxdWVuY2UpIHtcbiAgICB0aGlzW3NlcXVlbmNlX3N5bWJvbF0gPSBuZXdzZXE7XG4gIH1cbiAgaWYgKHRoaXMuc2VxdWVuY2UgfHwgdGhpcy5zZXF1ZW5jZSA9PSAnJykge1xuICAgIHVwZGF0ZV9zZXF1ZW5jZS5jYWxsKHRoaXMpO1xuICB9XG4gIHRoaXMuX3JlZHJhd19zdWdhcigpO1xuXG59O1xuXG5pZiAod2luZG93LlNoYWR5Q1NTKSB7XG4gIFNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZSh0bXBsLCAnY2NnLXN2aWV3ZXInKTtcbn1cblxuY29uc3QgcmVuZGVyZXJzID0gbmV3IE1hcChPYmplY3QuZW50cmllcyh7XG4gIHN2ZzogU1ZHUmVuZGVyZXIsXG4gIGNhbnZhczogQ2FudmFzUmVuZGVyZXJcbn0pKTtcblxuY29uc3Qgc2NhbGVfdG9fZml0ID0gZnVuY3Rpb24oKSB7XG4gIGxldCBwYWRkaW5nID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5yZW5kZXJlci5jb25zdHJ1Y3Rvci5ERUZBVUxUX1BBRERJTkcgfHwgeyB0b3A6IDAsIHNpZGU6IDAgfSk7XG4gIGxldCBwYWRkaW5nX3NpZGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzKS5nZXRQcm9wZXJ0eVZhbHVlKCctLXN1Z2FyLXBhZGRpbmctc2lkZScpO1xuICBsZXQgcGFkZGluZ190b3AgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzKS5nZXRQcm9wZXJ0eVZhbHVlKCctLXN1Z2FyLXBhZGRpbmctdG9wJyk7XG5cbiAgaWYgKCBwYWRkaW5nX3NpZGUgJiYgdHlwZW9mIHBhZGRpbmdfc2lkZSAhPT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgcGFkZGluZy5zaWRlID0gcGFyc2VGbG9hdChwYWRkaW5nX3NpZGUpO1xuICB9XG4gIGlmICggcGFkZGluZ190b3AgJiYgdHlwZW9mIHBhZGRpbmdfdG9wICE9PSAndW5kZWZpbmVkJyApIHtcbiAgICBwYWRkaW5nLnRvcCA9IHBhcnNlRmxvYXQocGFkZGluZ190b3ApO1xuICB9XG4gIHJldHVybiB0aGlzLnJlbmRlcmVyLnNjYWxlVG9GaXQocGFkZGluZyk7XG59O1xuXG5jbGFzcyBTVmlld2VyIGV4dGVuZHMgV3JhcEhUTUwge1xuXG4gICNTVUdBUl9DTEFTUyA9IEl1cGFjU3VnYXI7XG5cbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIFsnbGlua3MnLCdob3Jpem9udGFsJywnbGlua2FuZ2xlcycsJ3N1Z2FycycsJ3JlbmRlcmVyJ107XG4gIH1cblxuICBzdGF0aWMgZ2V0IFJlZ2lzdGVyZWRSZW5kZXJlcnMoKSB7XG4gICAgcmV0dXJuIHJlbmRlcmVycztcbiAgfVxuXG4gIGdldCBTdWdhckNsYXNzKCkge1xuICAgIHJldHVybiB0aGlzLiNTVUdBUl9DTEFTUztcbiAgfVxuXG4gIHNldCBTdWdhckNsYXNzKGNsYXp6KSB7XG4gICAgdGhpcy4jU1VHQVJfQ0xBU1MgPSBjbGF6ejtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpc1tyZXBlYXRzX3N5bWJvbF0gPSBbXTtcbiAgICBsb2coJ0luaXRpYXRpbmcgU3ZpZXdlciBlbGVtZW50Jyk7XG4gIH1cblxuXG4gIGZ1bGxSZWZyZXNoKCkge1xuICAgIHJldHVybiB0aGlzLl9yZWRyYXdfc3VnYXIoKTtcbiAgfVxuXG4gIF9yZWRyYXdfc3VnYXIoKSB7XG4gICAgcmV0dXJuIHJlZHJhd19zdWdhci5jYWxsKHRoaXMpO1xuICB9XG5cbiAgc2NhbGVUb0ZpdCgpIHtcbiAgICBpZiAoJ3JlcXVlc3RBbmltYXRpb25GcmFtZScgaW4gd2luZG93KSB7XG4gICAgICBpZiAodGhpc1tzY2FsZV90aW1lb3V0X3N5bWJvbF0pIHtcbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXNbc2NhbGVfdGltZW91dF9zeW1ib2xdKTtcbiAgICAgIH1cbiAgICAgIHRoaXNbc2NhbGVfdGltZW91dF9zeW1ib2xdID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHNjYWxlX3RvX2ZpdC5jYWxsKHRoaXMpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzY2FsZV90b19maXQuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyB0b0RhdGFVUkwoZm9ybWF0PSdpbWFnZS9zdmcnKSB7XG4gICAgaWYgKGZvcm1hdCA9PSAnaW1hZ2Uvc3ZnJykge1xuICAgICAgZm9ybWF0ID0gJ3N2ZydcbiAgICB9XG4gICAgaWYgKGZvcm1hdCA9PSAnaW1hZ2UvcG5nJykge1xuICAgICAgZm9ybWF0ID0gJ3BuZydcbiAgICB9XG4gICAgbGV0IGRhdGEgPSBhd2FpdCBwcmVwYXJlSW1hZ2UodGhpcyx0aGlzLnJlbmRlcmVyLmVsZW1lbnQuY2FudmFzLGZvcm1hdCk7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBzYXZlKGZvcm1hdD0nc3ZnJykge1xuICAgIEltYWdlU2F2ZXIodGhpcyx0aGlzLnJlbmRlcmVyLmVsZW1lbnQuY2FudmFzLGZvcm1hdCx0aGlzLnNlcXVlbmNlKTtcbiAgfVxuXG4gIGdldCBMYXlvdXRFbmdpbmUoKSB7XG4gICAgaWYgKHRoaXMucmVuZGVyZXIgaW5zdGFuY2VvZiBDYW52YXNSZW5kZXJlcikge1xuICAgICAgaWYgKHRoaXMuaGFzQXR0cmlidXRlKCdsaW5rYW5nbGVzJykpIHtcbiAgICAgICAgcmV0dXJuIExpbmthZ2VMYXlvdXRGaXNoRXllO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFN1Z2FyQXdhcmVMYXlvdXRGaXNoRXllO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcHJvdG9fZW5naW5lID0gdGhpcy5oYXNBdHRyaWJ1dGUoJ2xpbmthbmdsZXMnKSA/IExpbmthZ2VMYXlvdXRGaXNoRXllIDogU3VnYXJBd2FyZUxheW91dEZpc2hFeWU7XG4gICAgICByZXR1cm4gZ2V0X2xheW91dF9lbmdpbmUodGhpcyxwcm90b19lbmdpbmUpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lKSB7XG4gICAgaWYgKG5hbWUgPT09ICdyZW5kZXJlcicpIHtcbiAgICAgIGlmICggISB0aGlzLnNoYWRvd1Jvb3QgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGluaXRpYWxpc2VfcmVuZGVyZXJfb2JqZWN0LmNhbGwodGhpcyk7XG4gICAgICBhd2FpdCB0aGlzLnJlbmRlcmVyLmNvbnN0cnVjdG9yLlNZTUJPTFM7XG4gICAgICBpbml0aWFsaXNlX3JlbmRlcmVyLmNhbGwodGhpcyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChuYW1lID09PSAnbGlua3MnKSB7XG4gICAgICBpZiAodGhpcy5oYXNBdHRyaWJ1dGUoJ2xpbmtzJykpIHtcbiAgICAgICAgdGhpcy5MYXlvdXRFbmdpbmUuTElOS1MgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5MYXlvdXRFbmdpbmUuTElOS1MgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVmcmVzaCgpO1xuICAgICAgICB0aGlzLnNjYWxlVG9GaXQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5hbWUgPT09ICdzdWdhcnMnKSB7XG4gICAgICBpZiAodGhpcy5oYXNBdHRyaWJ1dGUoJ3N1Z2FycycpKSB7XG4gICAgICAgIHRoaXMuc3R5bGUuc2V0UHJvcGVydHkoICctLXN1Z2Fycy11cmwnLCB0aGlzLmdldEF0dHJpYnV0ZSgnc3VnYXJzJykpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobmFtZSA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICBpZiAoICEgdGhpcy5yZW5kZXJlciApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5oYXNBdHRyaWJ1dGUoJ2hvcml6b250YWwnKSkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnJvdGF0ZSA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnJvdGF0ZSA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGVfaWNvbl90ZXh0X29yaWVudGF0aW9uLmNhbGwodGhpcyk7XG5cbiAgICAgIHRoaXMucmVuZGVyZXIucmVmcmVzaCgpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnNjYWxlVG9GaXQoKSw1MDApO1xuICAgIH1cbiAgICBpZiAobmFtZSA9PT0gJ2xpbmthbmdsZXMnKSB7XG4gICAgICB0aGlzLkxheW91dEVuZ2luZS5MSU5LUyA9IHRoaXMucmVuZGVyZXIuTGF5b3V0RW5naW5lLkxJTktTO1xuICAgICAgdGhpcy5yZW5kZXJlci5MYXlvdXRFbmdpbmUgPSB0aGlzLkxheW91dEVuZ2luZTtcbiAgICAgIHRoaXMucmVuZGVyZXIucmVmcmVzaCgpO1xuICAgICAgdGhpcy5zY2FsZVRvRml0KCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgaWYgKHdpbmRvdy5TaGFkeUNTUykge1xuICAgICAgU2hhZHlDU1Muc3R5bGVFbGVtZW50KHRoaXMpO1xuICAgIH1cbiAgICBsZXQgc2hhZG93Um9vdCA9IHRoaXMuYXR0YWNoU2hhZG93KHttb2RlOiAnb3Blbid9KTtcblxuICAgIGxldCB0bXBsX2NvbnRlbnQgPSB0bXBsLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgaWYgKCEgdGhpcy5oYXNBdHRyaWJ1dGUoJ2VkaXRhYmxlJykpIHtcbiAgICAgIGxldCBwaWVfcGFyZW50ID0gdG1wbF9jb250ZW50LmdldFJvb3ROb2RlKCkucXVlcnlTZWxlY3RvcignLnBpZV9wYXJlbnQnKTtcbiAgICAgIHBpZV9wYXJlbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwaWVfcGFyZW50KTtcbiAgICB9XG5cbiAgICBzaGFkb3dSb290LmFwcGVuZENoaWxkKHRtcGxfY29udGVudCk7XG5cbiAgICB0aGlzLmZvcm0gPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ25ld19saW5rYWdlJyk7XG4gICAgaWYgKHRoaXMuZm9ybSkge1xuICAgICAgdGhpcy5mb3JtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuXG4gICAgbGV0IHNsb3QgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ3RleHRjb250ZW50Jyk7XG4gICAgaWYgKHNsb3QuYXNzaWduZWROb2Rlcyh7ZmxhdHRlbjogdHJ1ZX0pWzBdKSB7XG4gICAgICB0aGlzW3NlcXVlbmNlX3N5bWJvbF0gPSBzbG90LmFzc2lnbmVkTm9kZXMoe2ZsYXR0ZW46IHRydWV9KVswXS50ZXh0Q29udGVudDtcbiAgICB9XG5cbiAgICBsZXQgd2F0Y2hlZF90ZXh0X25vZGVzO1xuXG4gICAgc2xvdC5hZGRFdmVudExpc3RlbmVyKCdzbG90Y2hhbmdlJywgKCkgPT4ge1xuICAgICAgbGV0IHdhdGNoZWRfdGV4dF9ub2RlcyA9IChzbG90LmFzc2lnbmVkTm9kZXMoe2ZsYXR0ZW46IHRydWUgfSkuZmlsdGVyKCBub2RlID0+IG5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFICkpO1xuICAgICAgbGV0IHVwZGF0ZV9mdW5jID0gdXBkYXRlX3N1Z2FyX3NlcS5iaW5kKHRoaXMsd2F0Y2hlZF90ZXh0X25vZGVzKTtcbiAgICAgIGZvciAobGV0IG5vZGUgb2Ygd2F0Y2hlZF90ZXh0X25vZGVzKSB7XG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkJywgdXBkYXRlX2Z1bmMsZmFsc2UpO1xuICAgICAgfVxuICAgICAgdXBkYXRlX3N1Z2FyX3NlcS5jYWxsKHRoaXMsd2F0Y2hlZF90ZXh0X25vZGVzKTtcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLmhhc0F0dHJpYnV0ZSgnc3VnYXJzJykpIHtcbiAgICAgIHRoaXMuc3R5bGUuc2V0UHJvcGVydHkoICctLXN1Z2Fycy11cmwnLCB0aGlzLmdldEF0dHJpYnV0ZSgnc3VnYXJzJykpO1xuICAgIH1cblxuICAgIGluaXRpYWxpc2VfcmVuZGVyZXJfb2JqZWN0LmNhbGwodGhpcyk7XG5cbiAgICBhd2FpdCB0aGlzLnJlbmRlcmVyLmNvbnN0cnVjdG9yLlNZTUJPTFM7XG5cbiAgICB0aGlzLnBhbGV0dGVfcmVhZHlfcHJvbWlzZSA9IHBvcHVsYXRlX3BhbGV0dGUodGhpcyx0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ3BhbGV0dGUnKSlcbiAgICAudGhlbiggKCkgPT4ge1xuICAgICAgaW5pdGlhbGlzZV9yZW5kZXJlci5jYWxsKHRoaXMpO1xuICAgICAgaW5pdGlhbGlzZV9ldmVudHMuY2FsbCh0aGlzKTtcbiAgICB9KTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJyNwYWxldHRlJykuY2xhc3NMaXN0LnJlbW92ZSgnZXhwYW5kZWQnKTtcbiAgICB9LDEwMDApO1xuXG4gICAgY29uc3QgbWF4X29wYWNpdHkgPSAwLjM7XG5cbiAgICBsZXQgc2VsZWN0aW9uX2hpZ2hsaWdodGVyID0gbmV3IEhpZ2hsaWdodGVyKHRoaXMsJ3NlbGVjdGlvbicpO1xuICAgIHNlbGVjdGlvbl9oaWdobGlnaHRlci5zZXRTdGF0ZXMoe2FuZ2xlOjAsIG9wYWNpdHk6MH0sIHsgYW5nbGU6IDIqTWF0aC5QSSwgb3BhY2l0eTogbWF4X29wYWNpdHkgfSk7XG4gICAgc2VsZWN0aW9uX2hpZ2hsaWdodGVyLmR1cmF0aW9uID0gUkVTSURVRV9TRUxFQ1RJT05fVElNRU9VVCAtIDUwO1xuICAgIHNlbGVjdGlvbl9oaWdobGlnaHRlci5kcmF3ID0gKHsgYW5nbGUsIG9wYWNpdHkgfSx7eCwgeSwgd2lkdGgsIGhlaWdodCwgem9vbX0sY3R4KSA9PiB7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgubGluZVdpZHRoID0gcGFyc2VGbG9hdCgoMTAgLyBNYXRoLm1heCh6b29tLDEpKS50b0ZpeGVkKDIpKTtcbiAgICAgIGlmIChvcGFjaXR5ID49IG1heF9vcGFjaXR5KSB7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMpLmdldFByb3BlcnR5VmFsdWUoJy0tc2VsZWN0aW9uLWNvbG9yJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBgcmdiYSgwLDAsMCwke29wYWNpdHkudG9GaXhlZCgyKX0pYDtcbiAgICAgIH1cbiAgICAgIGN0eC5hcmMoIHgrMC41KndpZHRoLHkrMC41KmhlaWdodCwgMS41KndpZHRoLzIsLTAuNSpNYXRoLlBJLCBhbmdsZS0wLjUqTWF0aC5QSSwgZmFsc2UgKTtcbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9O1xuICAgIHRoaXNbaGlnaGxpZ2h0ZXJfc3ltYm9sXSA9IHNlbGVjdGlvbl9oaWdobGlnaHRlcjtcbiAgfVxuXG4gIGdldCBkb25vcnMoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUoW10uY29uY2F0KHRoaXNbZG9ub3JzX3N5bWJvbF0pKTtcbiAgfVxuXG4gIHNldERvbm9ycyhkb25vcnMpIHtcbiAgICByZXR1cm4gcG9wdWxhdGVfcGFsZXR0ZSh0aGlzLHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgncGFsZXR0ZScpLFtdLmNvbmNhdChkb25vcnMpKTtcbiAgfVxuXG4gIHNldCBkb25vcnMoZG9ub3JzKSB7XG4gICAgdGhpcy5zZXREb25vcnMoZG9ub3JzKTtcbiAgfVxuXG4gIHNldCBzZXF1ZW5jZShzZXEpIHtcbiAgICBpZiAodGhpcy5zZXF1ZW5jZSAhPT0gc2VxKSB7XG4gICAgICBsZXQgc2xvdCA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgndGV4dGNvbnRlbnQnKTtcbiAgICAgIGxldCB0ZXh0ID0gKHNsb3QuYXNzaWduZWROb2Rlcyh7ZmxhdHRlbjogdHJ1ZSB9KS5maWx0ZXIoIG5vZGUgPT4gbm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUgKSlbMF07XG4gICAgICB0ZXh0LnRleHRDb250ZW50ID0gc2VxO1xuICAgICAgc2xvdC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnc2xvdGNoYW5nZScpKTtcbiAgICAgIHJlcGVhdENhbGxiYWNrKHRoaXMucmVuZGVyZXIuc3VnYXJzWzBdKTtcbiAgICAgIHVwZGF0ZV9yZXBlYXRzLmNhbGwodGhpcyk7XG4gICAgICBsZXQgZXZlbnQgPSBuZXcgRXZlbnQoJ2NoYW5nZScse2J1YmJsZXM6IHRydWV9KTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfVxuICAgIHJldHVybiBzZXE7XG4gIH1cbiAgZ2V0IHNlcXVlbmNlKCkge1xuICAgIHJldHVybiB0aGlzW3NlcXVlbmNlX3N5bWJvbF07XG4gIH1cblxuICBnZXQgcmVwZWF0cygpIHtcbiAgICByZXR1cm4gdGhpc1tyZXBlYXRzX3N5bWJvbF07XG4gIH1cblxuICBleHRlbmRTdWdhcihyZXNpZHVlLGRvbm9yX3ZhbHVlLGFub21lcl92YWx1ZSxsaW5rYWdlX3ZhbHVlKSB7XG4gICAgcmV0dXJuIGV4dGVuZF9zdWdhci5jYWxsKHRoaXMscmVzaWR1ZSxkb25vcl92YWx1ZSxhbm9tZXJfdmFsdWUsbGlua2FnZV92YWx1ZSk7XG4gIH1cblxuICBoaWdobGlnaHRSZXNpZHVlcyhyZXNpZHVlcz1bXSkge1xuICAgIHRoaXNbaGlnaGxpZ2h0ZXJfc3ltYm9sXS5oaWdobGlnaHQocmVzaWR1ZXMpO1xuICB9XG5cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdjY2ctc3ZpZXdlci1saXRlJyxTVmlld2VyKTtcblxuZXhwb3J0IGRlZmF1bHQgU1ZpZXdlcjtcbmV4cG9ydCB7IEl1cGFjU3VnYXIgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFvYkE7QUFFQTtBQVNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBbkJBO0FBb0JBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/sviewer/lite.js\n");

/***/ }),

/***/ "./node_modules/DragMenus/js/DragMenus/DragManager.js":
/*!************************************************************!*\
  !*** ./node_modules/DragMenus/js/DragMenus/DragManager.js ***!
  \************************************************************/
/*! exports provided: ShadowDragDropTouch, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ShadowDragDropTouch\", function() { return ShadowDragDropTouch; });\n/* harmony import */ var _lib_dragdroptouch_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/dragdroptouch.js */ \"./node_modules/DragMenus/lib/dragdroptouch.js\");\n/* globals document,Event,window */\n\n\n\nvar SingletonSymbol = Symbol('instance');\nvar scroll_parent = el => {\n  if (el.parentNode && (el.parentNode instanceof HTMLElement || el.parentNode instanceof ShadowRoot)) {\n    return scroll_parent(el.parentNode);\n  }\n  if (el.host) {\n    return scroll_parent(el.host);\n  }\n  return el;\n};\nvar shim_dispatch = function shim_dispatch(e, type, target) {\n  var related = null;\n  if (e && target) {\n    if (type == 'dragleave') {\n      related = this._getTarget(e);\n    }\n    var evt = document.createEvent('Event'),\n      t = e.touches ? e.touches[0] : e;\n    evt.initEvent(type, true, true);\n    evt.button = 0;\n    evt.which = evt.buttons = 1;\n    this._copyProps(evt, e, _lib_dragdroptouch_js__WEBPACK_IMPORTED_MODULE_0__[\"DragDropTouch\"]._kbdProps);\n    this._copyProps(evt, t, _lib_dragdroptouch_js__WEBPACK_IMPORTED_MODULE_0__[\"DragDropTouch\"]._ptProps);\n    if (evt.type === 'dragleave') {\n      evt.relatedTarget = related;\n    }\n    evt.dataTransfer = this._dataTransfer;\n    target.dispatchEvent(evt);\n    return evt;\n  }\n  return false;\n};\nclass ShadowDragDropTouch extends _lib_dragdroptouch_js__WEBPACK_IMPORTED_MODULE_0__[\"DragDropTouch\"] {\n  constructor(custom) {\n    var temp_instance = _lib_dragdroptouch_js__WEBPACK_IMPORTED_MODULE_0__[\"DragDropTouch\"]._instance;\n    delete _lib_dragdroptouch_js__WEBPACK_IMPORTED_MODULE_0__[\"DragDropTouch\"]._instance;\n    super();\n    _lib_dragdroptouch_js__WEBPACK_IMPORTED_MODULE_0__[\"DragDropTouch\"]._instance = temp_instance;\n    this._lastClick = 0;\n    // enforce singleton pattern\n    if (custom[SingletonSymbol]) {\n      throw 'DragDropTouch instance already created.';\n    }\n    custom[SingletonSymbol] = this;\n\n    // detect passive event support\n    // https://github.com/Modernizr/Modernizr/issues/1894\n    var supportsPassive = false;\n    document.addEventListener('test', function () {}, {\n      get passive() {\n        supportsPassive = true;\n        return true;\n      }\n    });\n    // listen to touch events\n    if ('ontouchstart' in document) {\n      var d = document,\n        ts = this._touchstart.bind(this),\n        tm = this._touchmove.bind(this),\n        te = this._touchend.bind(this),\n        opt = supportsPassive ? {\n          passive: false,\n          capture: false\n        } : false;\n      custom.shadowRoot.addEventListener('touchstart', ts, opt);\n      custom.shadowRoot.addEventListener('touchmove', tm, opt);\n      custom.shadowRoot.addEventListener('touchend', te);\n      custom.shadowRoot.addEventListener('touchcancel', te);\n      this.root = custom;\n    }\n  }\n  _getTarget(e) {\n    var pt = this._getPoint(e),\n      el = this.root.shadowRoot.elementFromPoint(pt.x, pt.y);\n    while (el && getComputedStyle(el).pointerEvents == 'none') {\n      el = el.parentElement;\n    }\n    return el;\n  }\n  _dispatchEvent(e, type, target) {\n    if (e && target) {\n      var new_ev = shim_dispatch.bind(this)(e, type, this.root);\n      new_ev.shim = true;\n      target.dispatchEvent(new_ev);\n      return new_ev.defaultPrevented;\n    }\n    return false;\n  }\n  _destroyImage() {\n    if (this._img) {\n      if (this._img.parentNode) {\n        this._img.parentNode.removeChild(this._img);\n      } else {\n        this.root.shadowRoot.removeChild(this._img);\n      }\n    }\n    super._destroyImage();\n  }\n  _createImage(e) {\n    super._createImage(e);\n    var bb = this.root.getBoundingClientRect();\n    var scroll_parent_el = scroll_parent(this.root);\n    this._imgOffset.x += bb.x + scroll_parent_el.scrollLeft;\n    this._imgOffset.y += bb.y + scroll_parent_el.scrollTop;\n    if (!this._imgCustom) {\n      var parent_style = this._dragSource.parentNode.style.transform;\n      this._img.style.transform = parent_style.replace(/translate\\([^)]*\\)/, '');\n    }\n    this.root.shadowRoot.appendChild(this._img);\n  }\n}\nvar uuid = function uuid() {\n  var uuid = '',\n    i,\n    random;\n  for (i = 0; i < 32; i++) {\n    random = Math.random() * 16 | 0;\n    if (i == 8 || i == 12 || i == 16 || i == 20) {\n      uuid += '-';\n    }\n    uuid += (i == 12 ? 4 : i == 16 ? random & 3 | 8 : random).toString(16);\n  }\n  return uuid;\n};\nvar global_drags = new Map();\nvar dragstart_event = function dragstart_event(e) {\n  if (!e.isTrusted && !e.shim) {\n    return;\n  }\n  var drag_id = 'drag/' + uuid();\n  try {\n    e.dataTransfer.setData(drag_id, '');\n  } catch (err) {\n    console.log('Couldnt set drag id, using global drag id');\n    e.dataTransfer.setData('text', drag_id);\n    window.global_drag = drag_id;\n  }\n  e.dataTransfer.effectAllowed = 'copy';\n  e.dataTransfer.dropEffect = 'copy';\n  var target = e.target;\n  var event = new Event('dragstart', {\n    bubbles: true\n  });\n  event.dataTransfer = {\n    types: [drag_id]\n  };\n  event.data = {};\n  this.drags.set(drag_id, event.data);\n  target.dispatchEvent(event);\n  e.stopPropagation();\n};\nvar populate_event_data = function populate_event_data(e) {\n  var drag_id = [...e.dataTransfer.types].filter(type => type.match(/^drag\\/\\d+/))[0] || window.global_drag;\n  e.data = this.drags.get(drag_id);\n};\nvar wire_global_drag_events = function wire_global_drag_events(parent) {\n  parent.addEventListener('dragstart', dragstart_event.bind(this), {\n    capture: true\n  });\n  for (var event of ['dragenter', 'dragover', 'drop', 'dragleave']) {\n    parent.addEventListener(event, populate_event_data.bind(this));\n  }\n};\nclass DragManager {\n  get drags() {\n    return global_drags;\n  }\n  constructor(parent) {\n    wire_global_drag_events.call(this, parent);\n  }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DragManager);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvRHJhZ01lbnVzL2pzL0RyYWdNZW51cy9EcmFnTWFuYWdlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9EcmFnTWVudXMvanMvRHJhZ01lbnVzL0RyYWdNYW5hZ2VyLmpzP2EzMTciXSwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFscyBkb2N1bWVudCxFdmVudCx3aW5kb3cgKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRHJhZ0Ryb3BUb3VjaCB9IGZyb20gJy4uLy4uL2xpYi9kcmFnZHJvcHRvdWNoLmpzJztcblxuXG5jb25zdCBTaW5nbGV0b25TeW1ib2wgPSBTeW1ib2woJ2luc3RhbmNlJyk7XG5cbmNvbnN0IHNjcm9sbF9wYXJlbnQgPSAoZWwpID0+IHtcbiAgaWYgKGVsLnBhcmVudE5vZGUgJiYgKChlbC5wYXJlbnROb2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHx8IChlbC5wYXJlbnROb2RlIGluc3RhbmNlb2YgU2hhZG93Um9vdCkgKSkge1xuICAgIHJldHVybiBzY3JvbGxfcGFyZW50KGVsLnBhcmVudE5vZGUpO1xuICB9XG4gIGlmIChlbC5ob3N0KSB7XG4gICAgcmV0dXJuIHNjcm9sbF9wYXJlbnQoZWwuaG9zdCk7XG4gIH1cbiAgcmV0dXJuIGVsO1xufVxuXG5jb25zdCBzaGltX2Rpc3BhdGNoID0gZnVuY3Rpb24oZSx0eXBlLHRhcmdldCkge1xuICBsZXQgcmVsYXRlZCA9IG51bGw7XG4gIGlmIChlICYmIHRhcmdldCkge1xuICAgICAgaWYgKHR5cGUgPT0gJ2RyYWdsZWF2ZScpIHtcbiAgICAgICAgcmVsYXRlZCA9IHRoaXMuX2dldFRhcmdldChlKTtcbiAgICAgIH1cbiAgICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKSwgdCA9IGUudG91Y2hlcyA/IGUudG91Y2hlc1swXSA6IGU7XG4gICAgICBldnQuaW5pdEV2ZW50KHR5cGUsIHRydWUsIHRydWUpO1xuICAgICAgZXZ0LmJ1dHRvbiA9IDA7XG4gICAgICBldnQud2hpY2ggPSBldnQuYnV0dG9ucyA9IDE7XG4gICAgICB0aGlzLl9jb3B5UHJvcHMoZXZ0LCBlLCBEcmFnRHJvcFRvdWNoLl9rYmRQcm9wcyk7XG4gICAgICB0aGlzLl9jb3B5UHJvcHMoZXZ0LCB0LCBEcmFnRHJvcFRvdWNoLl9wdFByb3BzKTtcbiAgICAgIGlmIChldnQudHlwZSA9PT0gJ2RyYWdsZWF2ZScpIHtcbiAgICAgICAgZXZ0LnJlbGF0ZWRUYXJnZXQgPSByZWxhdGVkO1xuICAgICAgfVxuICAgICAgZXZ0LmRhdGFUcmFuc2ZlciA9IHRoaXMuX2RhdGFUcmFuc2ZlcjtcbiAgICAgIHRhcmdldC5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgICByZXR1cm4gZXZ0O1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmNsYXNzIFNoYWRvd0RyYWdEcm9wVG91Y2ggZXh0ZW5kcyBEcmFnRHJvcFRvdWNoIHtcbiAgY29uc3RydWN0b3IoY3VzdG9tKSB7XG4gICAgbGV0IHRlbXBfaW5zdGFuY2UgPSBEcmFnRHJvcFRvdWNoLl9pbnN0YW5jZTtcbiAgICBkZWxldGUgRHJhZ0Ryb3BUb3VjaC5faW5zdGFuY2U7XG4gICAgc3VwZXIoKTtcbiAgICBEcmFnRHJvcFRvdWNoLl9pbnN0YW5jZSA9IHRlbXBfaW5zdGFuY2U7XG5cbiAgICB0aGlzLl9sYXN0Q2xpY2sgPSAwO1xuICAgIC8vIGVuZm9yY2Ugc2luZ2xldG9uIHBhdHRlcm5cbiAgICBpZiAoY3VzdG9tW1NpbmdsZXRvblN5bWJvbF0pIHtcbiAgICAgICAgdGhyb3cgJ0RyYWdEcm9wVG91Y2ggaW5zdGFuY2UgYWxyZWFkeSBjcmVhdGVkLic7XG4gICAgfVxuXG4gICAgY3VzdG9tW1NpbmdsZXRvblN5bWJvbF0gPSB0aGlzO1xuXG4gICAgLy8gZGV0ZWN0IHBhc3NpdmUgZXZlbnQgc3VwcG9ydFxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2lzc3Vlcy8xODk0XG4gICAgdmFyIHN1cHBvcnRzUGFzc2l2ZSA9IGZhbHNlO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBmdW5jdGlvbiAoKSB7IH0sIHtcbiAgICAgICAgZ2V0IHBhc3NpdmUoKSB7XG4gICAgICAgICAgICBzdXBwb3J0c1Bhc3NpdmUgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBsaXN0ZW4gdG8gdG91Y2ggZXZlbnRzXG4gICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50KSB7XG4gICAgICAgIHZhciBkID0gZG9jdW1lbnQsIHRzID0gdGhpcy5fdG91Y2hzdGFydC5iaW5kKHRoaXMpLCB0bSA9IHRoaXMuX3RvdWNobW92ZS5iaW5kKHRoaXMpLCB0ZSA9IHRoaXMuX3RvdWNoZW5kLmJpbmQodGhpcyksIG9wdCA9IHN1cHBvcnRzUGFzc2l2ZSA/IHsgcGFzc2l2ZTogZmFsc2UsIGNhcHR1cmU6IGZhbHNlIH0gOiBmYWxzZTtcbiAgICAgICAgY3VzdG9tLnNoYWRvd1Jvb3QuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRzLCBvcHQpO1xuICAgICAgICBjdXN0b20uc2hhZG93Um9vdC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0bSwgb3B0KTtcbiAgICAgICAgY3VzdG9tLnNoYWRvd1Jvb3QuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0ZSk7XG4gICAgICAgIGN1c3RvbS5zaGFkb3dSb290LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGUpO1xuICAgICAgICB0aGlzLnJvb3QgPSBjdXN0b207XG4gICAgfVxuICB9XG4gIF9nZXRUYXJnZXQoZSkge1xuICAgIHZhciBwdCA9IHRoaXMuX2dldFBvaW50KGUpLCBlbCA9IHRoaXMucm9vdC5zaGFkb3dSb290LmVsZW1lbnRGcm9tUG9pbnQocHQueCwgcHQueSk7XG4gICAgd2hpbGUgKGVsICYmIGdldENvbXB1dGVkU3R5bGUoZWwpLnBvaW50ZXJFdmVudHMgPT0gJ25vbmUnKSB7XG4gICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuICAgIHJldHVybiBlbDtcbiAgfVxuXG4gIF9kaXNwYXRjaEV2ZW50KGUsdHlwZSx0YXJnZXQpIHtcbiAgICBpZiAoZSAmJiB0YXJnZXQpIHtcbiAgICAgIGxldCBuZXdfZXYgPSBzaGltX2Rpc3BhdGNoLmJpbmQodGhpcykoZSx0eXBlLHRoaXMucm9vdCk7XG4gICAgICBuZXdfZXYuc2hpbSA9IHRydWU7XG4gICAgICB0YXJnZXQuZGlzcGF0Y2hFdmVudChuZXdfZXYpO1xuICAgICAgcmV0dXJuIG5ld19ldi5kZWZhdWx0UHJldmVudGVkO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBfZGVzdHJveUltYWdlKCkge1xuICAgIGlmICh0aGlzLl9pbWcpIHtcbiAgICAgIGlmICh0aGlzLl9pbWcucGFyZW50Tm9kZSkge1xuICAgICAgICB0aGlzLl9pbWcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9pbWcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yb290LnNoYWRvd1Jvb3QucmVtb3ZlQ2hpbGQodGhpcy5faW1nKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3VwZXIuX2Rlc3Ryb3lJbWFnZSgpO1xuICB9XG5cbiAgX2NyZWF0ZUltYWdlKGUpIHtcbiAgICBzdXBlci5fY3JlYXRlSW1hZ2UoZSk7XG4gICAgbGV0IGJiID0gdGhpcy5yb290LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBzY3JvbGxfcGFyZW50X2VsID0gc2Nyb2xsX3BhcmVudCh0aGlzLnJvb3QpO1xuICAgIHRoaXMuX2ltZ09mZnNldC54ICs9IGJiLnggKyBzY3JvbGxfcGFyZW50X2VsLnNjcm9sbExlZnQ7XG4gICAgdGhpcy5faW1nT2Zmc2V0LnkgKz0gYmIueSArIHNjcm9sbF9wYXJlbnRfZWwuc2Nyb2xsVG9wO1xuICAgIGlmICghIHRoaXMuX2ltZ0N1c3RvbSkge1xuICAgICAgbGV0IHBhcmVudF9zdHlsZSA9IHRoaXMuX2RyYWdTb3VyY2UucGFyZW50Tm9kZS5zdHlsZS50cmFuc2Zvcm07XG4gICAgICB0aGlzLl9pbWcuc3R5bGUudHJhbnNmb3JtID0gcGFyZW50X3N0eWxlLnJlcGxhY2UoL3RyYW5zbGF0ZVxcKFteKV0qXFwpLywnJyk7XG4gICAgfVxuICAgIHRoaXMucm9vdC5zaGFkb3dSb290LmFwcGVuZENoaWxkKHRoaXMuX2ltZyk7XG4gIH1cblxufVxuXG5jb25zdCB1dWlkID0gIGZ1bmN0aW9uKCkge1xuICB2YXIgdXVpZCA9ICcnLCBpLCByYW5kb207XG4gIGZvciAoaSA9IDA7IGkgPCAzMjsgaSsrKSB7XG4gICAgcmFuZG9tID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMDtcblxuICAgIGlmIChpID09IDggfHwgaSA9PSAxMiB8fCBpID09IDE2IHx8IGkgPT0gMjApIHtcbiAgICAgIHV1aWQgKz0gJy0nO1xuICAgIH1cbiAgICB1dWlkICs9IChpID09IDEyID8gNCA6IChpID09IDE2ID8gKHJhbmRvbSAmIDMgfCA4KSA6IHJhbmRvbSkpLnRvU3RyaW5nKDE2KTtcbiAgfVxuICByZXR1cm4gdXVpZDtcbn07XG5cbmNvbnN0IGdsb2JhbF9kcmFncyA9IG5ldyBNYXAoKTtcblxuY29uc3QgZHJhZ3N0YXJ0X2V2ZW50ID0gZnVuY3Rpb24oZSkge1xuICBpZiAoICEgZS5pc1RydXN0ZWQgJiYgISBlLnNoaW0gKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IGRyYWdfaWQgPSAnZHJhZy8nK3V1aWQoKTtcbiAgdHJ5IHtcbiAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKGRyYWdfaWQsICcnKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5sb2coJ0NvdWxkbnQgc2V0IGRyYWcgaWQsIHVzaW5nIGdsb2JhbCBkcmFnIGlkJyk7XG4gICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dCcsZHJhZ19pZCk7XG4gICAgd2luZG93Lmdsb2JhbF9kcmFnID0gZHJhZ19pZDtcbiAgfVxuICBlLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ2NvcHknO1xuICBlLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ2NvcHknO1xuXG4gIGxldCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgdmFyIGV2ZW50ID0gbmV3IEV2ZW50KCdkcmFnc3RhcnQnLHtidWJibGVzOiB0cnVlfSk7XG4gIGV2ZW50LmRhdGFUcmFuc2ZlciA9IHsgdHlwZXM6IFsgZHJhZ19pZCBdIH07XG4gIGV2ZW50LmRhdGEgPSB7IH07XG4gIHRoaXMuZHJhZ3Muc2V0KGRyYWdfaWQsZXZlbnQuZGF0YSk7XG4gIHRhcmdldC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbn07XG5cbmNvbnN0IHBvcHVsYXRlX2V2ZW50X2RhdGEgPSBmdW5jdGlvbihlKSB7XG5cbiAgbGV0IGRyYWdfaWQgPSBbLi4uZS5kYXRhVHJhbnNmZXIudHlwZXNdLmZpbHRlciggdHlwZSA9PiB0eXBlLm1hdGNoKC9eZHJhZ1xcL1xcZCsvKSlbMF0gfHwgd2luZG93Lmdsb2JhbF9kcmFnO1xuICBlLmRhdGEgPSB0aGlzLmRyYWdzLmdldChkcmFnX2lkKTtcbn07XG5cbmNvbnN0IHdpcmVfZ2xvYmFsX2RyYWdfZXZlbnRzID0gZnVuY3Rpb24ocGFyZW50KSB7XG4gIHBhcmVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLGRyYWdzdGFydF9ldmVudC5iaW5kKHRoaXMpLHtjYXB0dXJlOnRydWV9KTtcbiAgZm9yKGxldCBldmVudCBvZiBbJ2RyYWdlbnRlcicsJ2RyYWdvdmVyJywnZHJvcCcsJ2RyYWdsZWF2ZSddKSB7XG4gICAgcGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQscG9wdWxhdGVfZXZlbnRfZGF0YS5iaW5kKHRoaXMpKTtcbiAgfVxufTtcblxuY2xhc3MgRHJhZ01hbmFnZXIge1xuICBnZXQgZHJhZ3MoKSB7XG4gICAgcmV0dXJuIGdsb2JhbF9kcmFncztcbiAgfVxuICBjb25zdHJ1Y3RvcihwYXJlbnQpIHtcbiAgICB3aXJlX2dsb2JhbF9kcmFnX2V2ZW50cy5jYWxsKHRoaXMscGFyZW50KTtcbiAgfVxufVxuZXhwb3J0IHsgU2hhZG93RHJhZ0Ryb3BUb3VjaCB9O1xuZXhwb3J0IGRlZmF1bHQgRHJhZ01hbmFnZXI7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/DragMenus/js/DragMenus/DragManager.js\n");

/***/ }),

/***/ "./node_modules/DragMenus/js/DragMenus/DraggableForm.js":
/*!**************************************************************!*\
  !*** ./node_modules/DragMenus/js/DragMenus/DraggableForm.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* globals HTMLLabelElement,HTMLInputElement,Event,MouseEvent,window */\n\n\nvar timeout_symbol = Symbol('menu_timeout');\nvar last_selected_symbol = Symbol('last_selected');\nvar wire_form_startdrag = form => {\n  form.addEventListener('dragstart', evt => {\n    if (evt.__target) {\n      evt.__target.click();\n    } else {\n      evt.target.click();\n    }\n    evt.stopPropagation();\n  }, {\n    capture: false\n  });\n  form.addEventListener('drag', evt => {\n    if (evt.__target) {\n      evt.__target.click();\n    } else {\n      evt.target.click();\n    }\n  });\n};\nvar wire_form_enddrag = form => {\n  form.addEventListener('dragend', () => {\n    form.reset();\n  });\n};\nvar clear_menus = form => {\n  form[last_selected_symbol] = null;\n  if (form[timeout_symbol]) {\n    clearTimeout(form[timeout_symbol]);\n  }\n  var menus = form.querySelectorAll('ccg-piemenu');\n  for (var menu of menus) {\n    menu.removeAttribute('active');\n  }\n};\nvar wire_form_reset = form => {\n  form.addEventListener('finished', evt => {\n    evt.preventDefault();\n    return false;\n  });\n  form.addEventListener('reset', () => {\n    clear_menus(form);\n  });\n};\nvar wire_menu_events = piemenu => {\n  piemenu.form[last_selected_symbol] = null;\n  piemenu.addEventListener('dragenter', ev => {\n    var targ = ev.target;\n    if (!(targ instanceof HTMLLabelElement)) {\n      return;\n    }\n    if (targ === piemenu.form[last_selected_symbol]) {\n      return;\n    }\n    piemenu.form[last_selected_symbol] = targ;\n    var nextmenu = piemenu.getRootNode().getElementById(piemenu.getAttribute('data-next'));\n    for (var sib of targ.parentNode.children) {\n      if (sib !== targ) {\n        sib.classList.remove('dragover');\n        sib.classList.remove('hover');\n      } else {\n        sib.classList.add('hover');\n        if (nextmenu) {\n          sib.classList.add('dragover');\n        }\n      }\n    }\n    if (piemenu.form[timeout_symbol]) {\n      // Also clear this out for a dragend or a dragleave\n      clearTimeout(piemenu.form[timeout_symbol]);\n    }\n    if (!nextmenu) {\n      return;\n    }\n    piemenu.form[timeout_symbol] = setTimeout(() => {\n      if (!piemenu.form[last_selected_symbol]) {\n        return;\n      }\n      var event = new MouseEvent('click', {\n        bubbles: true,\n        clientX: ev.clientX,\n        clientY: ev.clientY - window.scrollY,\n        screenX: ev.screenX,\n        screenY: ev.screenY\n      });\n      piemenu.form[last_selected_symbol].control.dispatchEvent(event);\n      piemenu.form[last_selected_symbol] = null;\n    }, 700);\n  });\n  piemenu.addEventListener('click', ev => {\n    var targ = ev.target;\n    if (!(targ instanceof HTMLInputElement)) {\n      return;\n    }\n    targ.checked = true;\n    if (!ev.isTrusted) {\n      ev.preventDefault();\n    }\n    clearTimeout(piemenu.form[timeout_symbol]);\n    // let sizing = piemenu.getBoundingClientRect();\n    setTimeout(() => {\n      piemenu.removeAttribute('active');\n    }, 100);\n    var nextmenu = piemenu.getRootNode().getElementById(piemenu.getAttribute('data-next'));\n    if (!nextmenu) {\n      var event = new Event('finished', {\n        bubbles: true\n      });\n      piemenu.form.dispatchEvent(event);\n      return;\n    }\n    // let vp_zoom = 1/parseFloat((window.innerWidth / document.documentElement.clientWidth).toFixed(2));\n    // // console.log(ev.pageX,ev.pageY,ev.clientX,ev.clientY,vp_zoom);\n    // let left_pos = Math.round(ev.pageX)-0.5*sizing.width;\n    // let top_pos = Math.round(ev.pageY)-0.5*sizing.height;\n    // let zoom = 1;\n    // nextmenu.style.transformOrigin = `${left_pos}px ${top_pos}px`;\n    nextmenu.style.transform = piemenu.style.transform; //((!ev.isTrusted) || (vp_zoom > 1)) ? piemenu.style.transform : `scale(${zoom}) translate(${left_pos}px,${top_pos}px)`;\n    piemenu.form[timeout_symbol] = setTimeout(() => {\n      nextmenu.setAttribute('active', null);\n    }, 100);\n    nextmenu.clear();\n  }, {\n    capture: false\n  });\n  piemenu.addEventListener('drop', ev => {\n    var targ = ev.target;\n    if (!(targ instanceof HTMLLabelElement)) {\n      return;\n    }\n    var event = new MouseEvent('click', {\n      bubbles: true,\n      clientX: ev.clientX,\n      clientY: ev.clientY,\n      screenX: ev.screenX,\n      screenY: ev.screenY\n    });\n    piemenu.form[last_selected_symbol].control.dispatchEvent(event);\n  });\n  piemenu.addEventListener('dragover', ev => {\n    ev.preventDefault();\n    var targ = ev.target;\n    if (!(targ instanceof HTMLLabelElement)) {\n      return;\n    }\n    for (var sib of targ.parentNode.children) {\n      if (sib !== targ) {\n        sib.classList.remove('hover');\n      } else {\n        sib.classList.add('hover');\n      }\n    }\n  });\n  piemenu.addEventListener('dragleave', ev => {\n    if (ev.relatedTarget !== piemenu) {\n      return;\n    }\n    piemenu.form[last_selected_symbol] = null;\n    piemenu.removeAttribute('active');\n    piemenu.clear();\n  });\n};\nvar upgrade_piemenus = form => {\n  var menus = form.querySelectorAll('ccg-piemenu');\n  for (var menu of menus) {\n    menu.form = form;\n    wire_menu_events(menu);\n  }\n};\nvar wire_events_form = form => {\n  wire_form_startdrag(form);\n  wire_form_enddrag(form);\n  wire_form_reset(form);\n};\nclass DraggableForm {\n  constructor(form) {\n    wire_events_form(form);\n    upgrade_piemenus(form);\n    form.clear = () => {\n      clear_menus(form);\n    };\n    Object.defineProperty(form, 'active_center', {\n      get: () => {\n        var actives = form.querySelector('ccg-piemenu[active]');\n        if (!actives) {\n          return;\n        }\n        var rect = actives.getBoundingClientRect();\n        return {\n          left: rect.left + 0.5 * rect.width,\n          top: rect.top + 0.5 * rect.height,\n          r: 0.5 * rect.width\n        };\n      }\n    });\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (DraggableForm);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvRHJhZ01lbnVzL2pzL0RyYWdNZW51cy9EcmFnZ2FibGVGb3JtLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0RyYWdNZW51cy9qcy9EcmFnTWVudXMvRHJhZ2dhYmxlRm9ybS5qcz9lMzRkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbHMgSFRNTExhYmVsRWxlbWVudCxIVE1MSW5wdXRFbGVtZW50LEV2ZW50LE1vdXNlRXZlbnQsd2luZG93ICovXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IHRpbWVvdXRfc3ltYm9sID0gU3ltYm9sKCdtZW51X3RpbWVvdXQnKTtcbmNvbnN0IGxhc3Rfc2VsZWN0ZWRfc3ltYm9sID0gU3ltYm9sKCdsYXN0X3NlbGVjdGVkJyk7XG5cbmNvbnN0IHdpcmVfZm9ybV9zdGFydGRyYWcgPSAoZm9ybSkgPT4ge1xuICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGV2dCA9PiB7XG4gICAgaWYgKGV2dC5fX3RhcmdldCkge1xuICAgICAgZXZ0Ll9fdGFyZ2V0LmNsaWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV2dC50YXJnZXQuY2xpY2soKTtcbiAgICB9XG4gICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9LHtjYXB0dXJlOiBmYWxzZX0pO1xuICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWcnLCBldnQgPT4ge1xuICAgIGlmIChldnQuX190YXJnZXQpIHtcbiAgICAgIGV2dC5fX3RhcmdldC5jbGljaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBldnQudGFyZ2V0LmNsaWNrKCk7XG4gICAgfVxuICB9KTtcbn07XG5cbmNvbnN0IHdpcmVfZm9ybV9lbmRkcmFnID0gKGZvcm0pID0+IHtcbiAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgKCkgPT4ge1xuICAgIGZvcm0ucmVzZXQoKTtcbiAgfSk7XG59O1xuXG5jb25zdCBjbGVhcl9tZW51cyA9IChmb3JtKSA9PiB7XG4gIGZvcm1bbGFzdF9zZWxlY3RlZF9zeW1ib2xdID0gbnVsbDtcbiAgaWYgKGZvcm1bdGltZW91dF9zeW1ib2xdKSB7XG4gICAgY2xlYXJUaW1lb3V0KGZvcm1bdGltZW91dF9zeW1ib2xdKTtcbiAgfVxuICBsZXQgbWVudXMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2NjZy1waWVtZW51Jyk7XG4gIGZvciAobGV0IG1lbnUgb2YgbWVudXMpIHtcbiAgICBtZW51LnJlbW92ZUF0dHJpYnV0ZSgnYWN0aXZlJyk7XG4gIH1cbn07XG5cbmNvbnN0IHdpcmVfZm9ybV9yZXNldCA9IChmb3JtKSA9PiB7XG4gIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignZmluaXNoZWQnLCAoZXZ0KSA9PiB7XG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcblxuICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2V0JywgKCkgPT4ge1xuICAgIGNsZWFyX21lbnVzKGZvcm0pO1xuICB9KTtcbn07XG5cbmNvbnN0IHdpcmVfbWVudV9ldmVudHMgPSAocGllbWVudSkgPT4ge1xuICBwaWVtZW51LmZvcm1bbGFzdF9zZWxlY3RlZF9zeW1ib2xdID0gbnVsbDtcbiAgcGllbWVudS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCAoZXYpID0+IHtcblxuICAgICAgbGV0IHRhcmcgPSBldi50YXJnZXQ7XG4gICAgICBpZiAoICEgKHRhcmcgaW5zdGFuY2VvZiBIVE1MTGFiZWxFbGVtZW50KSApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRhcmcgPT09IHBpZW1lbnUuZm9ybVtsYXN0X3NlbGVjdGVkX3N5bWJvbF0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGllbWVudS5mb3JtW2xhc3Rfc2VsZWN0ZWRfc3ltYm9sXSA9IHRhcmc7XG5cbiAgICAgIGxldCBuZXh0bWVudSA9IHBpZW1lbnUuZ2V0Um9vdE5vZGUoKS5nZXRFbGVtZW50QnlJZChwaWVtZW51LmdldEF0dHJpYnV0ZSgnZGF0YS1uZXh0JykpO1xuXG4gICAgICBmb3IgKGxldCBzaWIgb2YgdGFyZy5wYXJlbnROb2RlLmNoaWxkcmVuKSB7XG4gICAgICAgIGlmIChzaWIgIT09IHRhcmcpIHtcbiAgICAgICAgICBzaWIuY2xhc3NMaXN0LnJlbW92ZSgnZHJhZ292ZXInKTtcbiAgICAgICAgICBzaWIuY2xhc3NMaXN0LnJlbW92ZSgnaG92ZXInKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzaWIuY2xhc3NMaXN0LmFkZCgnaG92ZXInKTtcbiAgICAgICAgICBpZiAobmV4dG1lbnUpIHtcbiAgICAgICAgICAgIHNpYi5jbGFzc0xpc3QuYWRkKCdkcmFnb3ZlcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocGllbWVudS5mb3JtW3RpbWVvdXRfc3ltYm9sXSkge1xuICAgICAgICAvLyBBbHNvIGNsZWFyIHRoaXMgb3V0IGZvciBhIGRyYWdlbmQgb3IgYSBkcmFnbGVhdmVcbiAgICAgICAgY2xlYXJUaW1lb3V0KHBpZW1lbnUuZm9ybVt0aW1lb3V0X3N5bWJvbF0pO1xuICAgICAgfVxuXG5cbiAgICAgIGlmICghIG5leHRtZW51ICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHBpZW1lbnUuZm9ybVt0aW1lb3V0X3N5bWJvbF0gPSBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgICAgIGlmICggISBwaWVtZW51LmZvcm1bbGFzdF9zZWxlY3RlZF9zeW1ib2xdICkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgdmFyIGV2ZW50ID0gbmV3IE1vdXNlRXZlbnQoJ2NsaWNrJyx7YnViYmxlczogdHJ1ZSwgY2xpZW50WDogZXYuY2xpZW50WCwgY2xpZW50WTogZXYuY2xpZW50WS13aW5kb3cuc2Nyb2xsWSwgc2NyZWVuWDogZXYuc2NyZWVuWCwgc2NyZWVuWTogZXYuc2NyZWVuWSB9KTtcblxuICAgICAgICBwaWVtZW51LmZvcm1bbGFzdF9zZWxlY3RlZF9zeW1ib2xdLmNvbnRyb2wuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cbiAgICAgICAgcGllbWVudS5mb3JtW2xhc3Rfc2VsZWN0ZWRfc3ltYm9sXSA9IG51bGw7XG4gICAgICB9LDcwMCk7XG4gICAgfSk7XG4gICAgcGllbWVudS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldikgPT4ge1xuICAgICAgbGV0IHRhcmcgPSBldi50YXJnZXQ7XG4gICAgICBpZiAoICEgKHRhcmcgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0YXJnLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgaWYgKCAhIGV2LmlzVHJ1c3RlZCApIHtcbiAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cblxuICAgICAgY2xlYXJUaW1lb3V0KHBpZW1lbnUuZm9ybVt0aW1lb3V0X3N5bWJvbF0pO1xuICAgICAgLy8gbGV0IHNpemluZyA9IHBpZW1lbnUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgICAgIHBpZW1lbnUucmVtb3ZlQXR0cmlidXRlKCdhY3RpdmUnKTtcbiAgICAgIH0sMTAwKTtcbiAgICAgIGxldCBuZXh0bWVudSA9IHBpZW1lbnUuZ2V0Um9vdE5vZGUoKS5nZXRFbGVtZW50QnlJZChwaWVtZW51LmdldEF0dHJpYnV0ZSgnZGF0YS1uZXh0JykpO1xuICAgICAgaWYgKCEgbmV4dG1lbnUgKSB7XG4gICAgICAgIHZhciBldmVudCA9IG5ldyBFdmVudCgnZmluaXNoZWQnLHtidWJibGVzOiB0cnVlfSk7XG4gICAgICAgIHBpZW1lbnUuZm9ybS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gbGV0IHZwX3pvb20gPSAxL3BhcnNlRmxvYXQoKHdpbmRvdy5pbm5lcldpZHRoIC8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKS50b0ZpeGVkKDIpKTtcbiAgICAgIC8vIC8vIGNvbnNvbGUubG9nKGV2LnBhZ2VYLGV2LnBhZ2VZLGV2LmNsaWVudFgsZXYuY2xpZW50WSx2cF96b29tKTtcbiAgICAgIC8vIGxldCBsZWZ0X3BvcyA9IE1hdGgucm91bmQoZXYucGFnZVgpLTAuNSpzaXppbmcud2lkdGg7XG4gICAgICAvLyBsZXQgdG9wX3BvcyA9IE1hdGgucm91bmQoZXYucGFnZVkpLTAuNSpzaXppbmcuaGVpZ2h0O1xuICAgICAgLy8gbGV0IHpvb20gPSAxO1xuICAgICAgLy8gbmV4dG1lbnUuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gYCR7bGVmdF9wb3N9cHggJHt0b3BfcG9zfXB4YDtcbiAgICAgIG5leHRtZW51LnN0eWxlLnRyYW5zZm9ybSA9IHBpZW1lbnUuc3R5bGUudHJhbnNmb3JtOyAvLygoIWV2LmlzVHJ1c3RlZCkgfHwgKHZwX3pvb20gPiAxKSkgPyBwaWVtZW51LnN0eWxlLnRyYW5zZm9ybSA6IGBzY2FsZSgke3pvb219KSB0cmFuc2xhdGUoJHtsZWZ0X3Bvc31weCwke3RvcF9wb3N9cHgpYDtcbiAgICAgIHBpZW1lbnUuZm9ybVt0aW1lb3V0X3N5bWJvbF0gPSBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgICAgIG5leHRtZW51LnNldEF0dHJpYnV0ZSgnYWN0aXZlJyxudWxsKTtcbiAgICAgIH0sMTAwKTtcbiAgICAgIG5leHRtZW51LmNsZWFyKCk7XG4gICAgfSx7Y2FwdHVyZTogZmFsc2V9KTtcblxuICAgIHBpZW1lbnUuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChldikgPT4ge1xuICAgICAgbGV0IHRhcmcgPSBldi50YXJnZXQ7XG4gICAgICBpZiAoICEgKHRhcmcgaW5zdGFuY2VvZiBIVE1MTGFiZWxFbGVtZW50KSApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgZXZlbnQgPSBuZXcgTW91c2VFdmVudCgnY2xpY2snLHtidWJibGVzOiB0cnVlLCBjbGllbnRYOiBldi5jbGllbnRYLCBjbGllbnRZOiBldi5jbGllbnRZLCBzY3JlZW5YOiBldi5zY3JlZW5YLCBzY3JlZW5ZOiBldi5zY3JlZW5ZIH0pO1xuXG4gICAgICBwaWVtZW51LmZvcm1bbGFzdF9zZWxlY3RlZF9zeW1ib2xdLmNvbnRyb2wuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfSk7XG5cbiAgICBwaWVtZW51LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGV2KSA9PiB7XG4gICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgbGV0IHRhcmcgPSBldi50YXJnZXQ7XG4gICAgICBpZiAoICEgKHRhcmcgaW5zdGFuY2VvZiBIVE1MTGFiZWxFbGVtZW50KSApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgc2liIG9mIHRhcmcucGFyZW50Tm9kZS5jaGlsZHJlbikge1xuICAgICAgICBpZiAoc2liICE9PSB0YXJnKSB7XG4gICAgICAgICAgc2liLmNsYXNzTGlzdC5yZW1vdmUoJ2hvdmVyJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2liLmNsYXNzTGlzdC5hZGQoJ2hvdmVyJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBwaWVtZW51LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIChldikgPT4ge1xuICAgICAgaWYgKGV2LnJlbGF0ZWRUYXJnZXQgIT09IHBpZW1lbnUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGllbWVudS5mb3JtW2xhc3Rfc2VsZWN0ZWRfc3ltYm9sXSA9IG51bGw7XG4gICAgICBwaWVtZW51LnJlbW92ZUF0dHJpYnV0ZSgnYWN0aXZlJyk7XG4gICAgICBwaWVtZW51LmNsZWFyKCk7XG4gICAgfSk7XG59O1xuXG5jb25zdCB1cGdyYWRlX3BpZW1lbnVzID0gKGZvcm0pID0+IHtcbiAgbGV0IG1lbnVzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdjY2ctcGllbWVudScpO1xuICBmb3IgKGxldCBtZW51IG9mIG1lbnVzKSB7XG4gICAgbWVudS5mb3JtID0gZm9ybTtcbiAgICB3aXJlX21lbnVfZXZlbnRzKG1lbnUpO1xuICB9XG59O1xuXG5jb25zdCB3aXJlX2V2ZW50c19mb3JtID0gKGZvcm0pID0+IHtcbiAgd2lyZV9mb3JtX3N0YXJ0ZHJhZyhmb3JtKTtcbiAgd2lyZV9mb3JtX2VuZGRyYWcoZm9ybSk7XG4gIHdpcmVfZm9ybV9yZXNldChmb3JtKTtcbn07XG5cbmNsYXNzIERyYWdnYWJsZUZvcm0ge1xuICBjb25zdHJ1Y3Rvcihmb3JtKSB7XG4gICAgd2lyZV9ldmVudHNfZm9ybShmb3JtKTtcbiAgICB1cGdyYWRlX3BpZW1lbnVzKGZvcm0pO1xuICAgIGZvcm0uY2xlYXIgPSAoKSA9PiB7XG4gICAgICBjbGVhcl9tZW51cyhmb3JtKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmb3JtLCAnYWN0aXZlX2NlbnRlcicsIHtcbiAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICBsZXQgYWN0aXZlcyA9IGZvcm0ucXVlcnlTZWxlY3RvcignY2NnLXBpZW1lbnVbYWN0aXZlXScpO1xuICAgICAgICBpZiAoICEgYWN0aXZlcyApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlY3QgPSBhY3RpdmVzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByZXR1cm4geyBsZWZ0OiByZWN0LmxlZnQgKyAwLjUqcmVjdC53aWR0aCwgdG9wOiByZWN0LnRvcCArIDAuNSpyZWN0LmhlaWdodCwgcjogMC41KnJlY3Qud2lkdGggfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEcmFnZ2FibGVGb3JtOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/DragMenus/js/DragMenus/DraggableForm.js\n");

/***/ }),

/***/ "./node_modules/DragMenus/js/DragMenus/PieMenu.js":
/*!********************************************************!*\
  !*** ./node_modules/DragMenus/js/DragMenus/PieMenu.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var debug_any_level__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! debug-any-level */ \"./node_modules/debug-any-level/index.js\");\n/* harmony import */ var debug_any_level__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(debug_any_level__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _clipsectors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./clipsectors.js */ \"./node_modules/DragMenus/js/DragMenus/clipsectors.js\");\n/* globals document,HTMLElement,customElements,window,ShadyCSS,MutationObserver */\n\n\n\nvar ELEMENT_NAME = 'ccg-piemenu';\nvar module_string = 'glycanjs:piemenu';\n\nvar log = debug_any_level__WEBPACK_IMPORTED_MODULE_0__(module_string);\nvar PRECISION = 1;\nvar tmpl = document.createElement('template');\ntmpl.innerHTML = \"\\n  <style>\\n    :host {\\n      padding: 0;\\n      display: block;\\n      position: relative;\\n      filter: drop-shadow(0px 5px 5px rgba(0,0,0,0.5));\\n      transform: scale(0.99);\\n      --start-angle: -60;\\n      --end-angle: 60;\\n      --notch-ratio: 0.075;\\n      --icon-position-ratio: 0.2;\\n      --icon-size: 10px;\\n      --sectorid: url(#sectorWeight1);\\n    }\\n    :host([active]) {\\n      transform: scale(1);\\n    }\\n\\n    :host ::slotted(*) {\\n      background: #eee;\\n      border: 0;\\n      color: black;\\n      position: absolute;\\n      top: 0;\\n      left: 0;\\n      transform: scale(0.001);\\n      width: 100%;\\n      height: 100%;\\n      -webkit-clip-path: var(--sectorid);\\n      clip-path: var(--sectorid);\\n    }\\n\\n    :host ::slotted(*[data-disabled]) {\\n      display: none;\\n    }\\n\\n  </style>\\n  <style id=\\\"angles\\\">\\n  </style>\\n  <slot id=\\\"items\\\"></slot>\\n\";\nvar str = num => num.toFixed(PRECISION);\nvar ang = num => num.toFixed(3);\nvar wire_attribute_watcher = (label, action) => {\n  var config = {\n    attributes: true,\n    subtree: true,\n    attributeFilter: ['disabled', 'data-weight']\n  };\n\n  // Callback function to execute when mutations are observed\n  var callback = function callback(mutationsList) {\n    for (var mutation of mutationsList) {\n      if (mutation.target === label) {\n        return;\n      }\n      if (mutation.type == 'attributes') {\n        clearTimeout(wire_attribute_watcher.timeouts.get(label.parentNode));\n        if (label.querySelector('input[disabled]')) {\n          label.setAttribute('data-disabled', '');\n        } else {\n          label.removeAttribute('data-disabled');\n        }\n        if (label.querySelector('input[data-weight]')) {\n          label.setAttribute('data-weight', label.querySelector('input[data-weight]').getAttribute('data-weight'));\n          label.style.setProperty('--weight', label.querySelector('input[data-weight]').getAttribute('data-weight'));\n        } else {\n          label.removeAttribute('data-weight');\n          label.style.setProperty('--weight', null);\n        }\n        var timeout = setTimeout(action, 0);\n        wire_attribute_watcher.timeouts.set(label.parentNode, timeout);\n      }\n    }\n  };\n  wire_attribute_watcher.timeouts = new WeakMap();\n  var observer = new MutationObserver(callback);\n  observer.observe(label, config);\n\n  // Later, you can stop observing\n  // observer.disconnect();\n};\nvar upgrade_elements = function upgrade_elements(slot) {\n  var items = slot.assignedNodes();\n  var transition_delay = 0;\n  var max_time = 0.3;\n  var angle = 0;\n  var all_styles = [];\n  var all_items = items.filter(item => item instanceof HTMLElement).filter(item => item.querySelector('input:not([disabled])'));\n  var start_angle = -60;\n  var end_angle = 60;\n  var actual_style = window.getComputedStyle(this);\n  start_angle = parseInt(actual_style.getPropertyValue('--start-angle'));\n  end_angle = parseInt(actual_style.getPropertyValue('--end-angle'));\n  var all_weights = all_items.map(item => Math.abs(parseInt(item.getAttribute('data-weight') || '1')));\n  var sum_weights = all_weights.reduce((acc, val) => acc + val, 0);\n  var base_delta = (end_angle - start_angle) / sum_weights;\n  angle = start_angle;\n  var delta = base_delta;\n  var notch = parseFloat(actual_style.getPropertyValue('--notch-ratio') || '0');\n  var icon_min_ratio = parseFloat(actual_style.getPropertyValue('--icon-position-ratio'));\n  var redo_upgrade = () => {\n    upgrade_elements.bind(this)(slot);\n  };\n  for (var item of all_items.reverse()) {\n    var item_weight = Math.abs(parseInt(item.getAttribute('data-weight') || '1'));\n    delta = base_delta * item_weight;\n    var icon_min = icon_min_ratio;\n    var icon_max = 0.5;\n    var icon_x_offset = str(50 + 100 * Math.cos(Math.PI / 180 * delta * 0.5) * (icon_max - icon_min));\n    var icon_y_offset = str(50 + 100 * Math.sin(Math.PI / 180 * delta * 0.5) * (icon_max - icon_min));\n    var icon_width = parseInt(actual_style.getPropertyValue('--icon-size').replace('px', ''));\n    if (item.firstChild && item.firstChild.setAttribute) {\n      item.firstChild.style.bottom = \"calc(\".concat(icon_y_offset, \"% - \").concat(icon_width / 2, \"px)\");\n      item.firstChild.style.left = \"calc(\".concat(icon_x_offset, \"% - \").concat(icon_width / 2, \"px)\");\n      item.firstChild.style.position = 'absolute';\n      item.firstChild.style.transform = \"rotate(\".concat(str(angle), \"deg)\");\n      item.firstChild.style.pointerEvents = 'none';\n      item.firstChild.style.display = 'table-cell';\n      item.firstChild.style.verticalAlign = 'middle';\n      item.firstChild.style.textAlign = 'center';\n      item.firstChild.style.width = \"\".concat(icon_width, \"px\");\n      item.firstChild.style.height = \"\".concat(icon_width, \"px\");\n    }\n    if (!item.style) {\n      continue;\n    }\n    item.style.transitionDelay = \"\".concat(str(transition_delay), \"s\");\n    item.style.transition = \"transform \".concat(str(max_time), \"s\");\n    item.style.transform = 'scale(0.001)';\n    if (item.hasAttribute('data-weight')) {\n      item.style.setProperty('--sectorid', Object(_clipsectors_js__WEBPACK_IMPORTED_MODULE_1__[\"generate_clip_path\"])(notch, 1, item_weight, sum_weights, start_angle, end_angle));\n    } else {\n      item.style.setProperty('--sectorid', Object(_clipsectors_js__WEBPACK_IMPORTED_MODULE_1__[\"generate_clip_path\"])(notch, 1, item_weight, sum_weights, start_angle, end_angle));\n    }\n    item.style.setProperty('--slice-background-rotate-angle', \"\".concat(str(90 - Math.abs(angle)), \"deg\"));\n    transition_delay += 0.1;\n    max_time -= 0.1;\n    var classname = \"rot\".concat(str(angle));\n    classname = classname.replace(/[-\\.]/g, 'x');\n    item.setAttribute('class', classname);\n    var basic_styles = window.ShadyCSS ? \"\".concat(ELEMENT_NAME, \"[active] .\").concat(classname, \" { transform: rotate(\").concat(str(-1 * angle), \"deg) !important; }\") : \":host([active]) ::slotted(.\".concat(classname, \") { transform: rotate(\").concat(str(-1 * angle), \"deg) !important; }\");\n    all_styles.push(basic_styles);\n    angle += delta;\n    if (!item.wired) {\n      wire_attribute_watcher(item, redo_upgrade);\n    }\n    item.wired = true;\n  }\n  this.hoverstyles.innerHTML = all_styles.join('\\n');\n  // let temp_template = document.createElement('template');\n  // temp_template.innerHTML = '<style type=\"text/css\">'+all_styles.join('\\n')+'</style>';\n  // ShadyCSS.prepareTemplate(temp_template,ELEMENT_NAME);\n  // this.hoverstyles.innerHTML = temp_template.content.cloneNode(true).textContent;\n};\nfunction WrapHTML() {\n  return Reflect.construct(HTMLElement, [], Object.getPrototypeOf(this).constructor);\n}\nObject.setPrototypeOf(WrapHTML.prototype, HTMLElement.prototype);\nObject.setPrototypeOf(WrapHTML, HTMLElement);\nif (window.ShadyCSS) {\n  ShadyCSS.prepareTemplate(tmpl, ELEMENT_NAME);\n}\nclass PieMenu extends WrapHTML {\n  constructor() {\n    super();\n    log('Initiating custom PieMenu element');\n    if (window.ShadyCSS) {\n      ShadyCSS.styleElement(this);\n    }\n  }\n  connectedCallback() {\n    this.attachShadow({\n      mode: 'open'\n    });\n    this.shadowRoot.appendChild(tmpl.content.cloneNode(true));\n    this.hoverstyles = this.shadowRoot.getElementById('angles');\n    if (!this.hoverstyles) {\n      this.hoverstyles = document.createElement('style');\n      this.shadowRoot.appendChild(this.hoverstyles);\n      this.hoverstyles.setAttribute('type', 'text/css');\n    }\n    var slot = this.shadowRoot.getElementById('items');\n    upgrade_elements.bind(this)(slot);\n    this.style.setProperty('--sectorid', Object(_clipsectors_js__WEBPACK_IMPORTED_MODULE_1__[\"generate_clip_path\"])(0, 1, 1, 1, 0, 90));\n    slot.addEventListener('slotchange', upgrade_elements.bind(this, slot));\n    slot.addEventListener('slotchange', () => {\n      this.style.setProperty('--sectorid', Object(_clipsectors_js__WEBPACK_IMPORTED_MODULE_1__[\"generate_clip_path\"])(0, 1, 1, 1, 0, 90));\n    });\n  }\n  clear() {\n    for (var kid of this.children) {\n      kid.classList.remove('hover');\n    }\n    Array.from(this.querySelectorAll('input:checked'), input => input.checked = false);\n  }\n}\nPieMenu.ChainForm = function (form) {\n  Object.getOwnPropertyNames(form.elements).filter(name => !name.match(/[0-9]+/));\n};\ncustomElements.define(ELEMENT_NAME, PieMenu);\n/* harmony default export */ __webpack_exports__[\"default\"] = (PieMenu);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvRHJhZ01lbnVzL2pzL0RyYWdNZW51cy9QaWVNZW51LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0RyYWdNZW51cy9qcy9EcmFnTWVudXMvUGllTWVudS5qcz8wNmQ3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbHMgZG9jdW1lbnQsSFRNTEVsZW1lbnQsY3VzdG9tRWxlbWVudHMsd2luZG93LFNoYWR5Q1NTLE11dGF0aW9uT2JzZXJ2ZXIgKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0ICogYXMgZGVidWcgZnJvbSAnZGVidWctYW55LWxldmVsJztcblxuY29uc3QgRUxFTUVOVF9OQU1FID0gJ2NjZy1waWVtZW51JztcblxuY29uc3QgbW9kdWxlX3N0cmluZz0nZ2x5Y2FuanM6cGllbWVudSc7XG5cbmltcG9ydCB7IGdlbmVyYXRlX2NsaXBfcGF0aCB9IGZyb20gJy4vY2xpcHNlY3RvcnMuanMnO1xuXG5jb25zdCBsb2cgPSBkZWJ1Zyhtb2R1bGVfc3RyaW5nKTtcblxuY29uc3QgUFJFQ0lTSU9OID0gMTtcblxuY29uc3QgdG1wbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG5cbnRtcGwuaW5uZXJIVE1MID0gYFxuICA8c3R5bGU+XG4gICAgOmhvc3Qge1xuICAgICAgcGFkZGluZzogMDtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgZmlsdGVyOiBkcm9wLXNoYWRvdygwcHggNXB4IDVweCByZ2JhKDAsMCwwLDAuNSkpO1xuICAgICAgdHJhbnNmb3JtOiBzY2FsZSgwLjk5KTtcbiAgICAgIC0tc3RhcnQtYW5nbGU6IC02MDtcbiAgICAgIC0tZW5kLWFuZ2xlOiA2MDtcbiAgICAgIC0tbm90Y2gtcmF0aW86IDAuMDc1O1xuICAgICAgLS1pY29uLXBvc2l0aW9uLXJhdGlvOiAwLjI7XG4gICAgICAtLWljb24tc2l6ZTogMTBweDtcbiAgICAgIC0tc2VjdG9yaWQ6IHVybCgjc2VjdG9yV2VpZ2h0MSk7XG4gICAgfVxuICAgIDpob3N0KFthY3RpdmVdKSB7XG4gICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpO1xuICAgIH1cblxuICAgIDpob3N0IDo6c2xvdHRlZCgqKSB7XG4gICAgICBiYWNrZ3JvdW5kOiAjZWVlO1xuICAgICAgYm9yZGVyOiAwO1xuICAgICAgY29sb3I6IGJsYWNrO1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiAwO1xuICAgICAgbGVmdDogMDtcbiAgICAgIHRyYW5zZm9ybTogc2NhbGUoMC4wMDEpO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAtd2Via2l0LWNsaXAtcGF0aDogdmFyKC0tc2VjdG9yaWQpO1xuICAgICAgY2xpcC1wYXRoOiB2YXIoLS1zZWN0b3JpZCk7XG4gICAgfVxuXG4gICAgOmhvc3QgOjpzbG90dGVkKCpbZGF0YS1kaXNhYmxlZF0pIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuXG4gIDwvc3R5bGU+XG4gIDxzdHlsZSBpZD1cImFuZ2xlc1wiPlxuICA8L3N0eWxlPlxuICA8c2xvdCBpZD1cIml0ZW1zXCI+PC9zbG90PlxuYDtcblxuY29uc3Qgc3RyID0gKG51bSkgPT4gbnVtLnRvRml4ZWQoUFJFQ0lTSU9OKTtcbmNvbnN0IGFuZyA9IChudW0pID0+IG51bS50b0ZpeGVkKDMpO1xuXG5jb25zdCB3aXJlX2F0dHJpYnV0ZV93YXRjaGVyID0gKGxhYmVsLGFjdGlvbikgPT4ge1xuICBsZXQgY29uZmlnID0geyBhdHRyaWJ1dGVzOiB0cnVlLCBzdWJ0cmVlOiB0cnVlLGF0dHJpYnV0ZUZpbHRlcjogWydkaXNhYmxlZCcsJ2RhdGEtd2VpZ2h0J10gfTtcblxuICAvLyBDYWxsYmFjayBmdW5jdGlvbiB0byBleGVjdXRlIHdoZW4gbXV0YXRpb25zIGFyZSBvYnNlcnZlZFxuICBsZXQgY2FsbGJhY2sgPSBmdW5jdGlvbihtdXRhdGlvbnNMaXN0KSB7XG4gICAgICBmb3IobGV0IG11dGF0aW9uIG9mIG11dGF0aW9uc0xpc3QpIHtcbiAgICAgICAgaWYgKG11dGF0aW9uLnRhcmdldCA9PT0gbGFiZWwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT0gJ2F0dHJpYnV0ZXMnKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHdpcmVfYXR0cmlidXRlX3dhdGNoZXIudGltZW91dHMuZ2V0KGxhYmVsLnBhcmVudE5vZGUpKTtcbiAgICAgICAgICBpZiAobGFiZWwucXVlcnlTZWxlY3RvcignaW5wdXRbZGlzYWJsZWRdJykpIHtcbiAgICAgICAgICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnZGF0YS1kaXNhYmxlZCcsJycpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsYWJlbC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtZGlzYWJsZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGxhYmVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtd2VpZ2h0XScpKSB7XG4gICAgICAgICAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtd2VpZ2h0JyxsYWJlbC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXdlaWdodF0nKS5nZXRBdHRyaWJ1dGUoJ2RhdGEtd2VpZ2h0JykpO1xuICAgICAgICAgICAgbGFiZWwuc3R5bGUuc2V0UHJvcGVydHkoJy0td2VpZ2h0JywgbGFiZWwucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS13ZWlnaHRdJykuZ2V0QXR0cmlidXRlKCdkYXRhLXdlaWdodCcpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGFiZWwucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXdlaWdodCcpO1xuICAgICAgICAgICAgbGFiZWwuc3R5bGUuc2V0UHJvcGVydHkoJy0td2VpZ2h0JywgbnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCB0aW1lb3V0ID0gc2V0VGltZW91dChhY3Rpb24sMCk7XG4gICAgICAgICAgd2lyZV9hdHRyaWJ1dGVfd2F0Y2hlci50aW1lb3V0cy5zZXQobGFiZWwucGFyZW50Tm9kZSx0aW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICB9O1xuXG4gIHdpcmVfYXR0cmlidXRlX3dhdGNoZXIudGltZW91dHMgPSBuZXcgV2Vha01hcCgpO1xuXG4gIGxldCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTtcblxuICBvYnNlcnZlci5vYnNlcnZlKGxhYmVsLCBjb25maWcpO1xuXG4gIC8vIExhdGVyLCB5b3UgY2FuIHN0b3Agb2JzZXJ2aW5nXG4gIC8vIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbn07XG5cblxuY29uc3QgdXBncmFkZV9lbGVtZW50cyA9IGZ1bmN0aW9uKHNsb3QpIHtcbiAgbGV0IGl0ZW1zID0gc2xvdC5hc3NpZ25lZE5vZGVzKCk7XG4gIGxldCB0cmFuc2l0aW9uX2RlbGF5ID0gMDtcbiAgbGV0IG1heF90aW1lID0gMC4zO1xuICBsZXQgYW5nbGUgPSAwO1xuICBsZXQgYWxsX3N0eWxlcyA9IFtdO1xuICBsZXQgYWxsX2l0ZW1zID0gaXRlbXMuZmlsdGVyKCBpdGVtID0+IGl0ZW0gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCApXG4gICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoIGl0ZW0gPT4gaXRlbS5xdWVyeVNlbGVjdG9yKCdpbnB1dDpub3QoW2Rpc2FibGVkXSknKSApO1xuICBsZXQgc3RhcnRfYW5nbGUgPSAtNjA7XG4gIGxldCBlbmRfYW5nbGUgPSA2MDtcblxuICBsZXQgYWN0dWFsX3N0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcyk7XG5cbiAgc3RhcnRfYW5nbGUgPSBwYXJzZUludChhY3R1YWxfc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1zdGFydC1hbmdsZScpKTtcbiAgZW5kX2FuZ2xlID0gcGFyc2VJbnQoYWN0dWFsX3N0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0tZW5kLWFuZ2xlJykpO1xuXG4gIGxldCBhbGxfd2VpZ2h0cyA9IGFsbF9pdGVtcy5tYXAoIGl0ZW0gPT4gTWF0aC5hYnMocGFyc2VJbnQoaXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtd2VpZ2h0JykgfHwgJzEnKSkgKTtcbiAgbGV0IHN1bV93ZWlnaHRzID0gYWxsX3dlaWdodHMucmVkdWNlKChhY2MsIHZhbCkgPT4gYWNjICsgdmFsLDApO1xuICBsZXQgYmFzZV9kZWx0YSA9IChlbmRfYW5nbGUgLSBzdGFydF9hbmdsZSkgLyBzdW1fd2VpZ2h0cztcbiAgYW5nbGUgPSBzdGFydF9hbmdsZTtcbiAgbGV0IGRlbHRhID0gYmFzZV9kZWx0YTtcbiAgbGV0IG5vdGNoID0gcGFyc2VGbG9hdChhY3R1YWxfc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1ub3RjaC1yYXRpbycpfHwnMCcpO1xuXG4gIGNvbnN0IGljb25fbWluX3JhdGlvID0gcGFyc2VGbG9hdChhY3R1YWxfc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1pY29uLXBvc2l0aW9uLXJhdGlvJykpO1xuXG4gIGxldCByZWRvX3VwZ3JhZGUgPSAoKSA9PiB7XG4gICAgdXBncmFkZV9lbGVtZW50cy5iaW5kKHRoaXMpKHNsb3QpO1xuICB9O1xuXG4gIGZvcihsZXQgaXRlbSBvZiBhbGxfaXRlbXMucmV2ZXJzZSgpKSB7XG4gICAgbGV0IGl0ZW1fd2VpZ2h0ID0gTWF0aC5hYnMocGFyc2VJbnQoaXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtd2VpZ2h0JykgfHwgJzEnKSk7XG4gICAgZGVsdGEgPSBiYXNlX2RlbHRhICogaXRlbV93ZWlnaHQ7XG4gICAgbGV0IGljb25fbWluID0gaWNvbl9taW5fcmF0aW87XG4gICAgbGV0IGljb25fbWF4ID0gMC41O1xuXG4gICAgbGV0IGljb25feF9vZmZzZXQgPSBzdHIoNTArKDEwMCpNYXRoLmNvcygoTWF0aC5QSS8xODApKmRlbHRhKjAuNSkqKGljb25fbWF4IC0gaWNvbl9taW4pKSk7XG4gICAgbGV0IGljb25feV9vZmZzZXQgPSBzdHIoNTArKDEwMCpNYXRoLnNpbigoTWF0aC5QSS8xODApKmRlbHRhKjAuNSkqKGljb25fbWF4IC0gaWNvbl9taW4pKSk7XG5cbiAgICBsZXQgaWNvbl93aWR0aCA9IHBhcnNlSW50KGFjdHVhbF9zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLWljb24tc2l6ZScpLnJlcGxhY2UoJ3B4JywnJykpO1xuXG4gICAgaWYgKGl0ZW0uZmlyc3RDaGlsZCAmJiBpdGVtLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKSB7XG4gICAgICBpdGVtLmZpcnN0Q2hpbGQuc3R5bGUuYm90dG9tID0gYGNhbGMoJHtpY29uX3lfb2Zmc2V0fSUgLSAke2ljb25fd2lkdGgvMn1weClgO1xuICAgICAgaXRlbS5maXJzdENoaWxkLnN0eWxlLmxlZnQgPSBgY2FsYygke2ljb25feF9vZmZzZXR9JSAtICR7aWNvbl93aWR0aC8yfXB4KWA7XG4gICAgICBpdGVtLmZpcnN0Q2hpbGQuc3R5bGUucG9zaXRpb24gID0nYWJzb2x1dGUnO1xuICAgICAgaXRlbS5maXJzdENoaWxkLnN0eWxlLnRyYW5zZm9ybSA9IGByb3RhdGUoJHtzdHIoYW5nbGUpfWRlZylgO1xuICAgICAgaXRlbS5maXJzdENoaWxkLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgICBpdGVtLmZpcnN0Q2hpbGQuc3R5bGUuZGlzcGxheSA9ICd0YWJsZS1jZWxsJztcbiAgICAgIGl0ZW0uZmlyc3RDaGlsZC5zdHlsZS52ZXJ0aWNhbEFsaWduID0gJ21pZGRsZSc7XG4gICAgICBpdGVtLmZpcnN0Q2hpbGQuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICBpdGVtLmZpcnN0Q2hpbGQuc3R5bGUud2lkdGggPSBgJHtpY29uX3dpZHRofXB4YDtcbiAgICAgIGl0ZW0uZmlyc3RDaGlsZC5zdHlsZS5oZWlnaHQgPSBgJHtpY29uX3dpZHRofXB4YDtcbiAgICB9XG4gICAgaWYgKCEgaXRlbS5zdHlsZSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGl0ZW0uc3R5bGUudHJhbnNpdGlvbkRlbGF5ID0gYCR7c3RyKHRyYW5zaXRpb25fZGVsYXkpfXNgO1xuICAgIGl0ZW0uc3R5bGUudHJhbnNpdGlvbiA9IGB0cmFuc2Zvcm0gJHtzdHIobWF4X3RpbWUpfXNgO1xuICAgIGl0ZW0uc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlKDAuMDAxKSc7XG4gICAgaWYgKGl0ZW0uaGFzQXR0cmlidXRlKCdkYXRhLXdlaWdodCcpKSB7XG4gICAgICBpdGVtLnN0eWxlLnNldFByb3BlcnR5KCctLXNlY3RvcmlkJywgZ2VuZXJhdGVfY2xpcF9wYXRoKG5vdGNoLDEsaXRlbV93ZWlnaHQsc3VtX3dlaWdodHMsc3RhcnRfYW5nbGUsZW5kX2FuZ2xlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZW0uc3R5bGUuc2V0UHJvcGVydHkoJy0tc2VjdG9yaWQnLCBnZW5lcmF0ZV9jbGlwX3BhdGgobm90Y2gsMSxpdGVtX3dlaWdodCxzdW1fd2VpZ2h0cyxzdGFydF9hbmdsZSxlbmRfYW5nbGUpKTtcbiAgICB9XG4gICAgaXRlbS5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zbGljZS1iYWNrZ3JvdW5kLXJvdGF0ZS1hbmdsZScsYCR7c3RyKDkwLU1hdGguYWJzKGFuZ2xlKSl9ZGVnYCk7XG4gICAgdHJhbnNpdGlvbl9kZWxheSs9IDAuMTtcbiAgICBtYXhfdGltZSAtPSAwLjE7XG4gICAgbGV0IGNsYXNzbmFtZSA9IGByb3Qke3N0cihhbmdsZSl9YDtcbiAgICBjbGFzc25hbWUgPSBjbGFzc25hbWUucmVwbGFjZSgvWy1cXC5dL2csJ3gnKTtcbiAgICBpdGVtLnNldEF0dHJpYnV0ZSgnY2xhc3MnLGNsYXNzbmFtZSk7XG5cbiAgICBsZXQgYmFzaWNfc3R5bGVzID0gd2luZG93LlNoYWR5Q1NTID8gYCR7RUxFTUVOVF9OQU1FfVthY3RpdmVdIC4ke2NsYXNzbmFtZX0geyB0cmFuc2Zvcm06IHJvdGF0ZSgke3N0cigtMSphbmdsZSl9ZGVnKSAhaW1wb3J0YW50OyB9YCA6IGA6aG9zdChbYWN0aXZlXSkgOjpzbG90dGVkKC4ke2NsYXNzbmFtZX0pIHsgdHJhbnNmb3JtOiByb3RhdGUoJHtzdHIoLTEqYW5nbGUpfWRlZykgIWltcG9ydGFudDsgfWA7XG5cbiAgICBhbGxfc3R5bGVzLnB1c2goYmFzaWNfc3R5bGVzKTtcbiAgICBhbmdsZSArPSBkZWx0YTtcbiAgICBpZiAoICEgaXRlbS53aXJlZCApIHtcbiAgICAgIHdpcmVfYXR0cmlidXRlX3dhdGNoZXIoaXRlbSwgcmVkb191cGdyYWRlKTtcbiAgICB9XG4gICAgaXRlbS53aXJlZCA9IHRydWU7XG4gIH1cbiAgdGhpcy5ob3ZlcnN0eWxlcy5pbm5lckhUTUwgPSBhbGxfc3R5bGVzLmpvaW4oJ1xcbicpO1xuICAvLyBsZXQgdGVtcF90ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gIC8vIHRlbXBfdGVtcGxhdGUuaW5uZXJIVE1MID0gJzxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj4nK2FsbF9zdHlsZXMuam9pbignXFxuJykrJzwvc3R5bGU+JztcbiAgLy8gU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlKHRlbXBfdGVtcGxhdGUsRUxFTUVOVF9OQU1FKTtcbiAgLy8gdGhpcy5ob3ZlcnN0eWxlcy5pbm5lckhUTUwgPSB0ZW1wX3RlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpLnRleHRDb250ZW50O1xufTtcblxuXG5mdW5jdGlvbiBXcmFwSFRNTCgpIHsgcmV0dXJuIFJlZmxlY3QuY29uc3RydWN0KEhUTUxFbGVtZW50LCBbXSwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKTsgfVxuT2JqZWN0LnNldFByb3RvdHlwZU9mKFdyYXBIVE1MLnByb3RvdHlwZSwgSFRNTEVsZW1lbnQucHJvdG90eXBlKTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihXcmFwSFRNTCwgSFRNTEVsZW1lbnQpO1xuaWYgKHdpbmRvdy5TaGFkeUNTUykge1xuICBTaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGUodG1wbCxFTEVNRU5UX05BTUUpO1xufVxuXG5jbGFzcyBQaWVNZW51IGV4dGVuZHMgV3JhcEhUTUwge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGxvZygnSW5pdGlhdGluZyBjdXN0b20gUGllTWVudSBlbGVtZW50Jyk7XG4gICAgaWYgKHdpbmRvdy5TaGFkeUNTUykge1xuICAgICAgU2hhZHlDU1Muc3R5bGVFbGVtZW50KHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuYXR0YWNoU2hhZG93KHttb2RlOiAnb3Blbid9KTtcbiAgICB0aGlzLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodG1wbC5jb250ZW50LmNsb25lTm9kZSh0cnVlKSk7XG5cbiAgICB0aGlzLmhvdmVyc3R5bGVzID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdhbmdsZXMnKTtcblxuICAgIGlmICghIHRoaXMuaG92ZXJzdHlsZXMpIHtcbiAgICAgIHRoaXMuaG92ZXJzdHlsZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgdGhpcy5zaGFkb3dSb290LmFwcGVuZENoaWxkKHRoaXMuaG92ZXJzdHlsZXMpO1xuICAgICAgdGhpcy5ob3ZlcnN0eWxlcy5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCd0ZXh0L2NzcycpO1xuICAgIH1cblxuICAgIGxldCBzbG90ID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdpdGVtcycpO1xuICAgIHVwZ3JhZGVfZWxlbWVudHMuYmluZCh0aGlzKShzbG90KTtcblxuICAgIHRoaXMuc3R5bGUuc2V0UHJvcGVydHkoJy0tc2VjdG9yaWQnLGdlbmVyYXRlX2NsaXBfcGF0aCgwLDEsMSwxLDAsOTApKTtcblxuICAgIHNsb3QuYWRkRXZlbnRMaXN0ZW5lcignc2xvdGNoYW5nZScsIHVwZ3JhZGVfZWxlbWVudHMuYmluZCh0aGlzLHNsb3QpKTtcbiAgICBzbG90LmFkZEV2ZW50TGlzdGVuZXIoJ3Nsb3RjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICB0aGlzLnN0eWxlLnNldFByb3BlcnR5KCctLXNlY3RvcmlkJyxnZW5lcmF0ZV9jbGlwX3BhdGgoMCwxLDEsMSwwLDkwKSk7XG4gICAgfSk7XG5cbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIGZvciAobGV0IGtpZCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICBraWQuY2xhc3NMaXN0LnJlbW92ZSgnaG92ZXInKTtcbiAgICB9XG4gICAgQXJyYXkuZnJvbSggdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dDpjaGVja2VkJyksIGlucHV0ID0+IGlucHV0LmNoZWNrZWQgPSBmYWxzZSApO1xuICB9XG59XG5cblBpZU1lbnUuQ2hhaW5Gb3JtID0gZnVuY3Rpb24oZm9ybSkge1xuICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhmb3JtLmVsZW1lbnRzKS5maWx0ZXIoIG5hbWUgPT4gISBuYW1lLm1hdGNoKC9bMC05XSsvKSApO1xufTtcblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKEVMRU1FTlRfTkFNRSxQaWVNZW51KTtcblxuZXhwb3J0IGRlZmF1bHQgUGllTWVudTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBMkNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/DragMenus/js/DragMenus/PieMenu.js\n");

/***/ }),

/***/ "./node_modules/DragMenus/js/DragMenus/clipsectors.js":
/*!************************************************************!*\
  !*** ./node_modules/DragMenus/js/DragMenus/clipsectors.js ***!
  \************************************************************/
/*! exports provided: generate_clip_path */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"generate_clip_path\", function() { return generate_clip_path; });\nvar precision = 1;\nvar circle_points = function circle_points(r, used, total) {\n  var start_angle = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var end_angle = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 90;\n  var points = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 100;\n  var x0 = 50;\n  var y0 = 50;\n  var results = [];\n  var angle_width = end_angle - start_angle;\n  var total_angle = used / total * (Math.PI / 2) * (angle_width / 90);\n  for (var i = 0; i <= points; i++) {\n    var x = x0 + r * Math.cos(total_angle * i / points);\n    var y = y0 + r * Math.sin(-1 * total_angle * i / points);\n    results.push(\"\".concat(x.toFixed(precision), \"% \").concat(y.toFixed(precision), \"%\"));\n  }\n  return results;\n};\nvar point_for_used = function point_for_used(r, used, total) {\n  var start_angle = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var end_angle = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 90;\n  var x0 = 50;\n  var y0 = 50;\n  var angle_width = end_angle - start_angle;\n  var total_angle = used / total * (Math.PI / 2) * (angle_width / 90);\n  var x = x0 + r * Math.cos(total_angle);\n  var y = y0 + r * Math.sin(-1 * total_angle);\n  return {\n    x,\n    y\n  };\n};\nvar generate_clip_path = function generate_clip_path(inner_r_ratio, outer_r_ratio) {\n  var used = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var total = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n  var start_angle = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var end_angle = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 90;\n  var points = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 10;\n  var inner_r = inner_r_ratio * 50;\n  var outer_r = outer_r_ratio * 50;\n  var {\n    x: inner_r_x,\n    y: inner_r_y\n  } = point_for_used(inner_r, used, total, start_angle, end_angle);\n  return \"polygon(\".concat((50 + inner_r).toFixed(precision), \"% 50%, \").concat((50 + outer_r).toFixed(precision), \"% 50%, \").concat(circle_points(outer_r, used, total, start_angle, end_angle, points).join(','), \", \").concat(inner_r_x.toFixed(precision), \"% \").concat(inner_r_y.toFixed(precision), \"%, \").concat(circle_points(inner_r, used, total, start_angle, end_angle, points).reverse().join(','), \")\");\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvRHJhZ01lbnVzL2pzL0RyYWdNZW51cy9jbGlwc2VjdG9ycy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9EcmFnTWVudXMvanMvRHJhZ01lbnVzL2NsaXBzZWN0b3JzLmpzP2FjOTgiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcHJlY2lzaW9uID0gMTtcblxubGV0IGNpcmNsZV9wb2ludHMgPSAocix1c2VkLHRvdGFsLHN0YXJ0X2FuZ2xlPTAsZW5kX2FuZ2xlPTkwLHBvaW50cz0xMDApID0+IHtcbiAgY29uc3QgeDAgPSA1MDtcbiAgY29uc3QgeTAgPSA1MDtcbiAgbGV0IHJlc3VsdHMgPSBbXTtcbiAgY29uc3QgYW5nbGVfd2lkdGggPSBlbmRfYW5nbGUgLSBzdGFydF9hbmdsZTtcbiAgY29uc3QgdG90YWxfYW5nbGUgPSAodXNlZC90b3RhbCkgKiAoTWF0aC5QSSAvIDIpICogKGFuZ2xlX3dpZHRoIC8gOTApO1xuICBmb3IgKGxldCBpPTA7IGkgPD0gcG9pbnRzOyBpKyspIHtcbiAgICBsZXQgeCA9IHgwICsgciAqIE1hdGguY29zKHRvdGFsX2FuZ2xlICogaSAvIHBvaW50cyk7XG4gICAgbGV0IHkgPSB5MCArIHIgKiBNYXRoLnNpbigtMSAqIHRvdGFsX2FuZ2xlICogaSAvIHBvaW50cyk7XG4gICAgcmVzdWx0cy5wdXNoKGAke3gudG9GaXhlZChwcmVjaXNpb24pfSUgJHt5LnRvRml4ZWQocHJlY2lzaW9uKX0lYClcbiAgfVxuICByZXR1cm4gcmVzdWx0cztcbn07XG5cbmxldCBwb2ludF9mb3JfdXNlZCA9IChyLHVzZWQsdG90YWwsc3RhcnRfYW5nbGU9MCxlbmRfYW5nbGU9OTApID0+IHtcbiAgY29uc3QgeDAgPSA1MDtcbiAgY29uc3QgeTAgPSA1MDtcbiAgY29uc3QgYW5nbGVfd2lkdGggPSBlbmRfYW5nbGUgLSBzdGFydF9hbmdsZTtcbiAgY29uc3QgdG90YWxfYW5nbGUgPSAodXNlZC90b3RhbCkgKiAoTWF0aC5QSSAvIDIpICogKGFuZ2xlX3dpZHRoIC8gOTApO1xuICBsZXQgeCA9IHgwICsgciAqIE1hdGguY29zKHRvdGFsX2FuZ2xlKTtcbiAgbGV0IHkgPSB5MCArIHIgKiBNYXRoLnNpbigtMSAqIHRvdGFsX2FuZ2xlKTtcbiAgcmV0dXJuIHt4LHl9O1xufVxuXG5sZXQgZ2VuZXJhdGVfY2xpcF9wYXRoID0gKGlubmVyX3JfcmF0aW8sb3V0ZXJfcl9yYXRpbyx1c2VkPTEsdG90YWw9MSxzdGFydF9hbmdsZT0wLGVuZF9hbmdsZT05MCxwb2ludHM9MTApID0+IHtcbiAgbGV0IGlubmVyX3IgPSAoaW5uZXJfcl9yYXRpbyo1MCk7XG4gIGxldCBvdXRlcl9yID0gKG91dGVyX3JfcmF0aW8qNTApO1xuICBsZXQge3g6IGlubmVyX3JfeCwgeTogaW5uZXJfcl95IH0gPSBwb2ludF9mb3JfdXNlZChpbm5lcl9yLHVzZWQsdG90YWwsc3RhcnRfYW5nbGUsZW5kX2FuZ2xlKTtcbiAgcmV0dXJuIGBwb2x5Z29uKCR7KDUwICsgaW5uZXJfcikudG9GaXhlZChwcmVjaXNpb24pfSUgNTAlLCAkeyg1MCtvdXRlcl9yKS50b0ZpeGVkKHByZWNpc2lvbil9JSA1MCUsICR7Y2lyY2xlX3BvaW50cyhvdXRlcl9yLHVzZWQsdG90YWwsc3RhcnRfYW5nbGUsZW5kX2FuZ2xlLHBvaW50cykuam9pbignLCcpfSwgJHtpbm5lcl9yX3gudG9GaXhlZChwcmVjaXNpb24pfSUgJHtpbm5lcl9yX3kudG9GaXhlZChwcmVjaXNpb24pfSUsICR7Y2lyY2xlX3BvaW50cyhpbm5lcl9yLHVzZWQsdG90YWwsc3RhcnRfYW5nbGUsZW5kX2FuZ2xlLHBvaW50cykucmV2ZXJzZSgpLmpvaW4oJywnKX0pYDtcbn1cblxuXG5leHBvcnQgeyBnZW5lcmF0ZV9jbGlwX3BhdGggfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/DragMenus/js/DragMenus/clipsectors.js\n");

/***/ }),

/***/ "./node_modules/DragMenus/js/index.js":
/*!********************************************!*\
  !*** ./node_modules/DragMenus/js/index.js ***!
  \********************************************/
/*! exports provided: PieMenu, DraggableForm, DragManager, ShadowDragDropTouch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _DragMenus_PieMenu_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DragMenus/PieMenu.js */ \"./node_modules/DragMenus/js/DragMenus/PieMenu.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"PieMenu\", function() { return _DragMenus_PieMenu_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _DragMenus_DraggableForm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DragMenus/DraggableForm.js */ \"./node_modules/DragMenus/js/DragMenus/DraggableForm.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DraggableForm\", function() { return _DragMenus_DraggableForm_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _DragMenus_DragManager_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DragMenus/DragManager.js */ \"./node_modules/DragMenus/js/DragMenus/DragManager.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DragManager\", function() { return _DragMenus_DragManager_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ShadowDragDropTouch\", function() { return _DragMenus_DragManager_js__WEBPACK_IMPORTED_MODULE_2__[\"ShadowDragDropTouch\"]; });\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvRHJhZ01lbnVzL2pzL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0RyYWdNZW51cy9qcy9pbmRleC5qcz9kZDNmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7ZGVmYXVsdCBhcyBQaWVNZW51fSBmcm9tICcuL0RyYWdNZW51cy9QaWVNZW51LmpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBEcmFnZ2FibGVGb3JtfSBmcm9tICcuL0RyYWdNZW51cy9EcmFnZ2FibGVGb3JtLmpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBEcmFnTWFuYWdlciwgU2hhZG93RHJhZ0Ryb3BUb3VjaH0gZnJvbSAnLi9EcmFnTWVudXMvRHJhZ01hbmFnZXIuanMnOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/DragMenus/js/index.js\n");

/***/ }),

/***/ "./node_modules/DragMenus/lib/dragdroptouch.js":
/*!*****************************************************!*\
  !*** ./node_modules/DragMenus/lib/dragdroptouch.js ***!
  \*****************************************************/
/*! exports provided: DataTransfer, DragDropTouch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DataTransfer\", function() { return transfer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DragDropTouch\", function() { return touch; });\n/* globals document,requestAnimationFrame,getComputedStyle,HTMLCanvasElement */\nvar DragDropTouch;\n(function (DragDropTouch_1) {\n  'use strict';\n\n  /**\n   * Object used to hold the data that is being dragged during drag and drop operations.\n   *\n   * It may hold one or more data items of different types. For more information about\n   * drag and drop operations and data transfer objects, see\n   * <a href='https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer'>HTML Drag and Drop API</a>.\n   *\n   * This object is created automatically by the @see:DragDropTouch singleton and is\n   * accessible through the @see:dataTransfer property of all drag events.\n   */\n  var DataTransfer = function () {\n    function DataTransfer() {\n      this._dropEffect = 'move';\n      this._effectAllowed = 'all';\n      this._data = {};\n    }\n    Object.defineProperty(DataTransfer.prototype, 'dropEffect', {\n      /**\n       * Gets or sets the type of drag-and-drop operation currently selected.\n       * The value must be 'none',  'copy',  'link', or 'move'.\n       */\n      get: function get() {\n        return this._dropEffect;\n      },\n      set: function set(value) {\n        this._dropEffect = value;\n      },\n      enumerable: true,\n      configurable: true\n    });\n    Object.defineProperty(DataTransfer.prototype, 'effectAllowed', {\n      /**\n       * Gets or sets the types of operations that are possible.\n       * Must be one of 'none', 'copy', 'copyLink', 'copyMove', 'link',\n       * 'linkMove', 'move', 'all' or 'uninitialized'.\n       */\n      get: function get() {\n        return this._effectAllowed;\n      },\n      set: function set(value) {\n        this._effectAllowed = value;\n      },\n      enumerable: true,\n      configurable: true\n    });\n    Object.defineProperty(DataTransfer.prototype, 'types', {\n      /**\n       * Gets an array of strings giving the formats that were set in the @see:dragstart event.\n       */\n      get: function get() {\n        return Object.keys(this._data);\n      },\n      enumerable: true,\n      configurable: true\n    });\n    /**\n     * Removes the data associated with a given type.\n     *\n     * The type argument is optional. If the type is empty or not specified, the data\n     * associated with all types is removed. If data for the specified type does not exist,\n     * or the data transfer contains no data, this method will have no effect.\n     *\n     * @param type Type of data to remove.\n     */\n    DataTransfer.prototype.clearData = function (type) {\n      if (type != null) {\n        delete this._data[type];\n      } else {\n        this._data = null;\n      }\n    };\n    /**\n     * Retrieves the data for a given type, or an empty string if data for that type does\n     * not exist or the data transfer contains no data.\n     *\n     * @param type Type of data to retrieve.\n     */\n    DataTransfer.prototype.getData = function (type) {\n      return this._data[type] || '';\n    };\n    /**\n     * Set the data for a given type.\n     *\n     * For a list of recommended drag types, please see\n     * https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Recommended_Drag_Types.\n     *\n     * @param type Type of data to add.\n     * @param value Data to add.\n     */\n    DataTransfer.prototype.setData = function (type, value) {\n      this._data[type] = value;\n    };\n    /**\n     * Set the image to be used for dragging if a custom one is desired.\n     *\n     * @param img An image element to use as the drag feedback image.\n     * @param offsetX The horizontal offset within the image.\n     * @param offsetY The vertical offset within the image.\n     */\n    DataTransfer.prototype.setDragImage = function (img, offsetX, offsetY) {\n      var ddt = DragDropTouch._instance;\n      ddt._imgCustom = img;\n      ddt._imgOffset = {\n        x: offsetX,\n        y: offsetY\n      };\n    };\n    return DataTransfer;\n  }();\n  DragDropTouch_1.DataTransfer = DataTransfer;\n  /**\n   * Defines a class that adds support for touch-based HTML5 drag/drop operations.\n   *\n   * The @see:DragDropTouch class listens to touch events and raises the\n   * appropriate HTML5 drag/drop events as if the events had been caused\n   * by mouse actions.\n   *\n   * The purpose of this class is to enable using existing, standard HTML5\n   * drag/drop code on mobile devices running IOS or Android.\n   *\n   * To use, include the DragDropTouch.js file on the page. The class will\n   * automatically start monitoring touch events and will raise the HTML5\n   * drag drop events (dragstart, dragenter, dragleave, drop, dragend) which\n   * should be handled by the application.\n   *\n   * For details and examples on HTML drag and drop, see\n   * https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Drag_operations.\n   */\n  var DragDropTouch = function () {\n    /**\n     * Initializes the single instance of the @see:DragDropTouch class.\n     */\n    function DragDropTouch() {\n      this._lastClick = 0;\n      // enforce singleton pattern\n      if (DragDropTouch._instance) {\n        throw 'DragDropTouch instance already created.';\n      }\n      // detect passive event support\n      // https://github.com/Modernizr/Modernizr/issues/1894\n      var supportsPassive = false;\n      document.addEventListener('test', function () {}, {\n        get passive() {\n          supportsPassive = true;\n          return true;\n        }\n      });\n      // listen to touch events\n      if ('ontouchstart' in document) {\n        var d = document,\n          ts = this._touchstart.bind(this),\n          tm = this._touchmove.bind(this),\n          te = this._touchend.bind(this),\n          opt = supportsPassive ? {\n            passive: false,\n            capture: false\n          } : false;\n        d.addEventListener('touchstart', ts, opt);\n        d.addEventListener('touchmove', tm, opt);\n        d.addEventListener('touchend', te);\n        d.addEventListener('touchcancel', te);\n      }\n    }\n    /**\n     * Gets a reference to the @see:DragDropTouch singleton.\n     */\n    DragDropTouch.getInstance = function () {\n      return DragDropTouch._instance;\n    };\n    // ** event handlers\n    DragDropTouch.prototype._touchstart = function (e) {\n      var _this = this;\n      if (this._shouldHandle(e)) {\n        // raise double-click and prevent zooming\n        if (Date.now() - this._lastClick < DragDropTouch._DBLCLICK) {\n          if (this._dispatchEvent(e, 'dblclick', e.target)) {\n            e.preventDefault();\n            this._reset();\n            return;\n          }\n        }\n        // clear all variables\n        this._reset();\n        // get nearest draggable element\n        var src = this._closestDraggable(e.target);\n        if (src) {\n          // give caller a chance to handle the hover/move events\n          if (!this._dispatchEvent(e, 'mousemove', e.target) && !this._dispatchEvent(e, 'mousedown', e.target)) {\n            // get ready to start dragging\n            this._dragSource = src;\n            this._ptDown = this._getPoint(e);\n            this._lastTouch = e;\n            e.preventDefault();\n            // show context menu if the user hasn't started dragging after a while\n            setTimeout(function () {\n              if (_this._dragSource == src && _this._img == null) {\n                if (_this._dispatchEvent(e, 'contextmenu', src)) {\n                  _this._reset();\n                }\n              }\n            }, DragDropTouch._CTXMENU);\n            if (DragDropTouch._ISPRESSHOLDMODE) {\n              this._pressHoldInterval = setTimeout(function () {\n                _this._isDragEnabled = true;\n                _this._touchmove(e);\n              }, DragDropTouch._PRESSHOLDAWAIT);\n            }\n          }\n        }\n      }\n    };\n    DragDropTouch.prototype._touchmove = function (e) {\n      if (this._shouldCancelPressHoldMove(e)) {\n        this._reset();\n        return;\n      }\n      if (this._shouldHandleMove(e) || this._shouldHandlePressHoldMove(e)) {\n        // see if target wants to handle move\n        var target = this._getTarget(e);\n        if (this._dispatchEvent(e, 'mousemove', target)) {\n          this._lastTouch = e;\n          e.preventDefault();\n          return;\n        }\n        // start dragging\n        if (this._dragSource && !this._img && this._shouldStartDragging(e)) {\n          this._dispatchEvent(e, 'dragstart', this._dragSource);\n          this._createImage(e);\n          this._dispatchEvent(e, 'dragenter', target);\n        }\n        // continue dragging\n        if (this._img) {\n          this._lastTouch = e;\n          e.preventDefault(); // prevent scrolling\n          if (target != this._lastTarget) {\n            this._dispatchEvent(this._lastTouch, 'dragleave', this._lastTarget);\n            this._dispatchEvent(e, 'dragenter', target);\n            this._lastTarget = target;\n          }\n          this._moveImage(e);\n          this._isDropZone = this._dispatchEvent(e, 'dragover', target);\n        }\n      }\n    };\n    DragDropTouch.prototype._touchend = function (e) {\n      if (this._shouldHandle(e)) {\n        // see if target wants to handle up\n        if (this._dispatchEvent(this._lastTouch, 'mouseup', e.target)) {\n          e.preventDefault();\n          return;\n        }\n        // user clicked the element but didn't drag, so clear the source and simulate a click\n        if (!this._img) {\n          this._dragSource = null;\n          this._dispatchEvent(this._lastTouch, 'click', e.target);\n          this._lastClick = Date.now();\n        }\n        // finish dragging\n        this._destroyImage();\n        if (this._dragSource) {\n          if (e.type.indexOf('cancel') < 0 && this._isDropZone) {\n            this._dispatchEvent(this._lastTouch, 'drop', this._lastTarget);\n          }\n          this._dispatchEvent(this._lastTouch, 'dragend', this._dragSource);\n          this._reset();\n        }\n      }\n    };\n    // ** utilities\n    // ignore events that have been handled or that involve more than one touch\n    DragDropTouch.prototype._shouldHandle = function (e) {\n      return e && !e.defaultPrevented && e.touches && e.touches.length < 2;\n    };\n\n    // use regular condition outside of press & hold mode\n    DragDropTouch.prototype._shouldHandleMove = function (e) {\n      return !DragDropTouch._ISPRESSHOLDMODE && this._shouldHandle(e);\n    };\n\n    // allow to handle moves that involve many touches for press & hold\n    DragDropTouch.prototype._shouldHandlePressHoldMove = function (e) {\n      return DragDropTouch._ISPRESSHOLDMODE && this._isDragEnabled && e && e.touches && e.touches.length;\n    };\n\n    // reset data if user drags without pressing & holding\n    DragDropTouch.prototype._shouldCancelPressHoldMove = function (e) {\n      return DragDropTouch._ISPRESSHOLDMODE && !this._isDragEnabled && this._getDelta(e) > DragDropTouch._PRESSHOLDMARGIN;\n    };\n\n    // start dragging when specified delta is detected\n    DragDropTouch.prototype._shouldStartDragging = function (e) {\n      var delta = this._getDelta(e);\n      return delta > DragDropTouch._THRESHOLD || DragDropTouch._ISPRESSHOLDMODE && delta >= DragDropTouch._PRESSHOLDTHRESHOLD;\n    };\n\n    // clear all members\n    DragDropTouch.prototype._reset = function () {\n      this._destroyImage();\n      this._dragSource = null;\n      this._lastTouch = null;\n      this._lastTarget = null;\n      this._ptDown = null;\n      this._isDragEnabled = false;\n      this._isDropZone = false;\n      this._dataTransfer = new DataTransfer();\n      clearInterval(this._pressHoldInterval);\n    };\n    // get point for a touch event\n    DragDropTouch.prototype._getPoint = function (e, page) {\n      if (e && e.touches) {\n        e = e.touches[0];\n      }\n      return {\n        x: page ? e.pageX : e.clientX,\n        y: page ? e.pageY : e.clientY\n      };\n    };\n    // get distance between the current touch event and the first one\n    DragDropTouch.prototype._getDelta = function (e) {\n      if (DragDropTouch._ISPRESSHOLDMODE && !this._ptDown) {\n        return 0;\n      }\n      var p = this._getPoint(e);\n      return Math.abs(p.x - this._ptDown.x) + Math.abs(p.y - this._ptDown.y);\n    };\n    // get the element at a given touch event\n    DragDropTouch.prototype._getTarget = function (e) {\n      var pt = this._getPoint(e),\n        el = document.elementFromPoint(pt.x, pt.y);\n      while (el && getComputedStyle(el).pointerEvents == 'none') {\n        el = el.parentElement;\n      }\n      return el;\n    };\n    // create drag image from source element\n    DragDropTouch.prototype._createImage = function (e) {\n      // just in case...\n      if (this._img) {\n        this._destroyImage();\n      }\n      // create drag image from custom element or drag source\n      var src = this._imgCustom || this._dragSource;\n      this._img = src.cloneNode(true);\n      this._copyStyle(src, this._img);\n      this._img.style.top = this._img.style.left = '-9999px';\n      // if creating from drag source, apply offset and opacity\n      if (!this._imgCustom) {\n        var rc = src.getBoundingClientRect(),\n          pt = this._getPoint(e);\n        this._imgOffset = {\n          x: pt.x - rc.left,\n          y: pt.y - rc.top\n        };\n        this._img.style.opacity = DragDropTouch._OPACITY.toString();\n      }\n      // add image to document\n      this._moveImage(e);\n      document.body.appendChild(this._img);\n    };\n    // dispose of drag image element\n    DragDropTouch.prototype._destroyImage = function () {\n      if (this._img && this._img.parentElement) {\n        this._img.parentElement.removeChild(this._img);\n      }\n      this._img = null;\n      this._imgCustom = null;\n    };\n    // move the drag image element\n    DragDropTouch.prototype._moveImage = function (e) {\n      var _this = this;\n      requestAnimationFrame(function () {\n        if (_this._img) {\n          var pt = _this._getPoint(e, true),\n            s = _this._img.style;\n          s.position = 'absolute';\n          s.pointerEvents = 'none';\n          s.zIndex = '999999';\n          s.left = Math.round(pt.x - _this._imgOffset.x) + 'px';\n          s.top = Math.round(pt.y - _this._imgOffset.y) + 'px';\n        }\n      });\n    };\n    // copy properties from an object to another\n    DragDropTouch.prototype._copyProps = function (dst, src, props) {\n      for (var i = 0; i < props.length; i++) {\n        var p = props[i];\n        dst[p] = src[p];\n      }\n    };\n    DragDropTouch.prototype._copyStyle = function (src, dst) {\n      // remove potentially troublesome attributes\n      DragDropTouch._rmvAtts.forEach(function (att) {\n        dst.removeAttribute(att);\n      });\n      // copy canvas content\n      if (src instanceof HTMLCanvasElement) {\n        var cSrc = src,\n          cDst = dst;\n        cDst.width = cSrc.width;\n        cDst.height = cSrc.height;\n        cDst.getContext('2d').drawImage(cSrc, 0, 0);\n      }\n      // copy style (without transitions)\n      var cs = getComputedStyle(src);\n      for (var i = 0; i < cs.length; i++) {\n        var key = cs[i];\n        if (key.indexOf('transition') < 0) {\n          dst.style[key] = cs[key];\n        }\n      }\n      dst.style.pointerEvents = 'none';\n      // and repeat for all children\n      for (var i = 0; i < src.children.length; i++) {\n        this._copyStyle(src.children[i], dst.children[i]);\n      }\n    };\n    DragDropTouch.prototype._dispatchEvent = function (e, type, target) {\n      if (e && target) {\n        var evt = document.createEvent('Event'),\n          t = e.touches ? e.touches[0] : e;\n        evt.initEvent(type, true, true);\n        evt.button = 0;\n        evt.which = evt.buttons = 1;\n        this._copyProps(evt, e, DragDropTouch._kbdProps);\n        this._copyProps(evt, t, DragDropTouch._ptProps);\n        evt.dataTransfer = this._dataTransfer;\n        target.dispatchEvent(evt);\n        return evt.defaultPrevented;\n      }\n      return false;\n    };\n    // gets an element's closest draggable ancestor\n    DragDropTouch.prototype._closestDraggable = function (e) {\n      for (; e; e = e.parentElement) {\n        if (e.hasAttribute('draggable') && e.draggable) {\n          return e;\n        }\n      }\n      return null;\n    };\n    return DragDropTouch;\n  }();\n  /*private*/\n  DragDropTouch._instance = new DragDropTouch(); // singleton\n  // constants\n  DragDropTouch._THRESHOLD = 5; // pixels to move before drag starts\n  DragDropTouch._OPACITY = 0.5; // drag image opacity\n  DragDropTouch._DBLCLICK = 500; // max ms between clicks in a double click\n  DragDropTouch._CTXMENU = 900; // ms to hold before raising 'contextmenu' event\n  DragDropTouch._ISPRESSHOLDMODE = false; // decides of press & hold mode presence\n  DragDropTouch._PRESSHOLDAWAIT = 400; // ms to wait before press & hold is detected\n  DragDropTouch._PRESSHOLDMARGIN = 25; // pixels that finger might shiver while pressing\n  DragDropTouch._PRESSHOLDTHRESHOLD = 0; // pixels to move before drag starts\n  // copy styles/attributes from drag source to drag image element\n  DragDropTouch._rmvAtts = 'id,class,style,draggable'.split(',');\n  // synthesize and dispatch an event\n  // returns true if the event has been handled (e.preventDefault == true)\n  DragDropTouch._kbdProps = 'altKey,ctrlKey,metaKey,shiftKey'.split(',');\n  DragDropTouch._ptProps = 'pageX,pageY,clientX,clientY,screenX,screenY,offsetX,offsetY'.split(',');\n  DragDropTouch_1.DragDropTouch = DragDropTouch;\n})(DragDropTouch || (DragDropTouch = {}));\nvar transfer = DragDropTouch.DataTransfer;\nvar touch = DragDropTouch.DragDropTouch;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvRHJhZ01lbnVzL2xpYi9kcmFnZHJvcHRvdWNoLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0RyYWdNZW51cy9saWIvZHJhZ2Ryb3B0b3VjaC5qcz9hNzA0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbHMgZG9jdW1lbnQscmVxdWVzdEFuaW1hdGlvbkZyYW1lLGdldENvbXB1dGVkU3R5bGUsSFRNTENhbnZhc0VsZW1lbnQgKi9cbnZhciBEcmFnRHJvcFRvdWNoO1xuXG4oZnVuY3Rpb24gKERyYWdEcm9wVG91Y2hfMSkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICAvKipcbiAgICAgKiBPYmplY3QgdXNlZCB0byBob2xkIHRoZSBkYXRhIHRoYXQgaXMgYmVpbmcgZHJhZ2dlZCBkdXJpbmcgZHJhZyBhbmQgZHJvcCBvcGVyYXRpb25zLlxuICAgICAqXG4gICAgICogSXQgbWF5IGhvbGQgb25lIG9yIG1vcmUgZGF0YSBpdGVtcyBvZiBkaWZmZXJlbnQgdHlwZXMuIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0XG4gICAgICogZHJhZyBhbmQgZHJvcCBvcGVyYXRpb25zIGFuZCBkYXRhIHRyYW5zZmVyIG9iamVjdHMsIHNlZVxuICAgICAqIDxhIGhyZWY9J2h0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9EYXRhVHJhbnNmZXInPkhUTUwgRHJhZyBhbmQgRHJvcCBBUEk8L2E+LlxuICAgICAqXG4gICAgICogVGhpcyBvYmplY3QgaXMgY3JlYXRlZCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBAc2VlOkRyYWdEcm9wVG91Y2ggc2luZ2xldG9uIGFuZCBpc1xuICAgICAqIGFjY2Vzc2libGUgdGhyb3VnaCB0aGUgQHNlZTpkYXRhVHJhbnNmZXIgcHJvcGVydHkgb2YgYWxsIGRyYWcgZXZlbnRzLlxuICAgICAqL1xuXG4gICAgdmFyIERhdGFUcmFuc2ZlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIERhdGFUcmFuc2ZlcigpIHtcbiAgICAgICAgICAgIHRoaXMuX2Ryb3BFZmZlY3QgPSAnbW92ZSc7XG4gICAgICAgICAgICB0aGlzLl9lZmZlY3RBbGxvd2VkID0gJ2FsbCc7XG4gICAgICAgICAgICB0aGlzLl9kYXRhID0ge307XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERhdGFUcmFuc2Zlci5wcm90b3R5cGUsICdkcm9wRWZmZWN0Jywge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBHZXRzIG9yIHNldHMgdGhlIHR5cGUgb2YgZHJhZy1hbmQtZHJvcCBvcGVyYXRpb24gY3VycmVudGx5IHNlbGVjdGVkLlxuICAgICAgICAgICAgICogVGhlIHZhbHVlIG11c3QgYmUgJ25vbmUnLCAgJ2NvcHknLCAgJ2xpbmsnLCBvciAnbW92ZScuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wRWZmZWN0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcEVmZmVjdCA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEYXRhVHJhbnNmZXIucHJvdG90eXBlLCAnZWZmZWN0QWxsb3dlZCcsIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogR2V0cyBvciBzZXRzIHRoZSB0eXBlcyBvZiBvcGVyYXRpb25zIHRoYXQgYXJlIHBvc3NpYmxlLlxuICAgICAgICAgICAgICogTXVzdCBiZSBvbmUgb2YgJ25vbmUnLCAnY29weScsICdjb3B5TGluaycsICdjb3B5TW92ZScsICdsaW5rJyxcbiAgICAgICAgICAgICAqICdsaW5rTW92ZScsICdtb3ZlJywgJ2FsbCcgb3IgJ3VuaW5pdGlhbGl6ZWQnLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZWZmZWN0QWxsb3dlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VmZmVjdEFsbG93ZWQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGF0YVRyYW5zZmVyLnByb3RvdHlwZSwgJ3R5cGVzJywge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBHZXRzIGFuIGFycmF5IG9mIHN0cmluZ3MgZ2l2aW5nIHRoZSBmb3JtYXRzIHRoYXQgd2VyZSBzZXQgaW4gdGhlIEBzZWU6ZHJhZ3N0YXJ0IGV2ZW50LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fZGF0YSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZXMgdGhlIGRhdGEgYXNzb2NpYXRlZCB3aXRoIGEgZ2l2ZW4gdHlwZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIHR5cGUgYXJndW1lbnQgaXMgb3B0aW9uYWwuIElmIHRoZSB0eXBlIGlzIGVtcHR5IG9yIG5vdCBzcGVjaWZpZWQsIHRoZSBkYXRhXG4gICAgICAgICAqIGFzc29jaWF0ZWQgd2l0aCBhbGwgdHlwZXMgaXMgcmVtb3ZlZC4gSWYgZGF0YSBmb3IgdGhlIHNwZWNpZmllZCB0eXBlIGRvZXMgbm90IGV4aXN0LFxuICAgICAgICAgKiBvciB0aGUgZGF0YSB0cmFuc2ZlciBjb250YWlucyBubyBkYXRhLCB0aGlzIG1ldGhvZCB3aWxsIGhhdmUgbm8gZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gdHlwZSBUeXBlIG9mIGRhdGEgdG8gcmVtb3ZlLlxuICAgICAgICAgKi9cbiAgICAgICAgRGF0YVRyYW5zZmVyLnByb3RvdHlwZS5jbGVhckRhdGEgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgaWYgKHR5cGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9kYXRhW3R5cGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0YSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXRyaWV2ZXMgdGhlIGRhdGEgZm9yIGEgZ2l2ZW4gdHlwZSwgb3IgYW4gZW1wdHkgc3RyaW5nIGlmIGRhdGEgZm9yIHRoYXQgdHlwZSBkb2VzXG4gICAgICAgICAqIG5vdCBleGlzdCBvciB0aGUgZGF0YSB0cmFuc2ZlciBjb250YWlucyBubyBkYXRhLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gdHlwZSBUeXBlIG9mIGRhdGEgdG8gcmV0cmlldmUuXG4gICAgICAgICAqL1xuICAgICAgICBEYXRhVHJhbnNmZXIucHJvdG90eXBlLmdldERhdGEgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFbdHlwZV0gfHwgJyc7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIGRhdGEgZm9yIGEgZ2l2ZW4gdHlwZS5cbiAgICAgICAgICpcbiAgICAgICAgICogRm9yIGEgbGlzdCBvZiByZWNvbW1lbmRlZCBkcmFnIHR5cGVzLCBwbGVhc2Ugc2VlXG4gICAgICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0d1aWRlL0hUTUwvUmVjb21tZW5kZWRfRHJhZ19UeXBlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHR5cGUgVHlwZSBvZiBkYXRhIHRvIGFkZC5cbiAgICAgICAgICogQHBhcmFtIHZhbHVlIERhdGEgdG8gYWRkLlxuICAgICAgICAgKi9cbiAgICAgICAgRGF0YVRyYW5zZmVyLnByb3RvdHlwZS5zZXREYXRhID0gZnVuY3Rpb24gKHR5cGUsIHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRhW3R5cGVdID0gdmFsdWU7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIGltYWdlIHRvIGJlIHVzZWQgZm9yIGRyYWdnaW5nIGlmIGEgY3VzdG9tIG9uZSBpcyBkZXNpcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gaW1nIEFuIGltYWdlIGVsZW1lbnQgdG8gdXNlIGFzIHRoZSBkcmFnIGZlZWRiYWNrIGltYWdlLlxuICAgICAgICAgKiBAcGFyYW0gb2Zmc2V0WCBUaGUgaG9yaXpvbnRhbCBvZmZzZXQgd2l0aGluIHRoZSBpbWFnZS5cbiAgICAgICAgICogQHBhcmFtIG9mZnNldFkgVGhlIHZlcnRpY2FsIG9mZnNldCB3aXRoaW4gdGhlIGltYWdlLlxuICAgICAgICAgKi9cbiAgICAgICAgRGF0YVRyYW5zZmVyLnByb3RvdHlwZS5zZXREcmFnSW1hZ2UgPSBmdW5jdGlvbiAoaW1nLCBvZmZzZXRYLCBvZmZzZXRZKSB7XG4gICAgICAgICAgICB2YXIgZGR0ID0gRHJhZ0Ryb3BUb3VjaC5faW5zdGFuY2U7XG4gICAgICAgICAgICBkZHQuX2ltZ0N1c3RvbSA9IGltZztcbiAgICAgICAgICAgIGRkdC5faW1nT2Zmc2V0ID0geyB4OiBvZmZzZXRYLCB5OiBvZmZzZXRZIH07XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBEYXRhVHJhbnNmZXI7XG4gICAgfSgpKTtcbiAgICBEcmFnRHJvcFRvdWNoXzEuRGF0YVRyYW5zZmVyID0gRGF0YVRyYW5zZmVyO1xuICAgIC8qKlxuICAgICAqIERlZmluZXMgYSBjbGFzcyB0aGF0IGFkZHMgc3VwcG9ydCBmb3IgdG91Y2gtYmFzZWQgSFRNTDUgZHJhZy9kcm9wIG9wZXJhdGlvbnMuXG4gICAgICpcbiAgICAgKiBUaGUgQHNlZTpEcmFnRHJvcFRvdWNoIGNsYXNzIGxpc3RlbnMgdG8gdG91Y2ggZXZlbnRzIGFuZCByYWlzZXMgdGhlXG4gICAgICogYXBwcm9wcmlhdGUgSFRNTDUgZHJhZy9kcm9wIGV2ZW50cyBhcyBpZiB0aGUgZXZlbnRzIGhhZCBiZWVuIGNhdXNlZFxuICAgICAqIGJ5IG1vdXNlIGFjdGlvbnMuXG4gICAgICpcbiAgICAgKiBUaGUgcHVycG9zZSBvZiB0aGlzIGNsYXNzIGlzIHRvIGVuYWJsZSB1c2luZyBleGlzdGluZywgc3RhbmRhcmQgSFRNTDVcbiAgICAgKiBkcmFnL2Ryb3AgY29kZSBvbiBtb2JpbGUgZGV2aWNlcyBydW5uaW5nIElPUyBvciBBbmRyb2lkLlxuICAgICAqXG4gICAgICogVG8gdXNlLCBpbmNsdWRlIHRoZSBEcmFnRHJvcFRvdWNoLmpzIGZpbGUgb24gdGhlIHBhZ2UuIFRoZSBjbGFzcyB3aWxsXG4gICAgICogYXV0b21hdGljYWxseSBzdGFydCBtb25pdG9yaW5nIHRvdWNoIGV2ZW50cyBhbmQgd2lsbCByYWlzZSB0aGUgSFRNTDVcbiAgICAgKiBkcmFnIGRyb3AgZXZlbnRzIChkcmFnc3RhcnQsIGRyYWdlbnRlciwgZHJhZ2xlYXZlLCBkcm9wLCBkcmFnZW5kKSB3aGljaFxuICAgICAqIHNob3VsZCBiZSBoYW5kbGVkIGJ5IHRoZSBhcHBsaWNhdGlvbi5cbiAgICAgKlxuICAgICAqIEZvciBkZXRhaWxzIGFuZCBleGFtcGxlcyBvbiBIVE1MIGRyYWcgYW5kIGRyb3AsIHNlZVxuICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0d1aWRlL0hUTUwvRHJhZ19vcGVyYXRpb25zLlxuICAgICAqL1xuICAgIHZhciBEcmFnRHJvcFRvdWNoID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluaXRpYWxpemVzIHRoZSBzaW5nbGUgaW5zdGFuY2Ugb2YgdGhlIEBzZWU6RHJhZ0Ryb3BUb3VjaCBjbGFzcy5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIERyYWdEcm9wVG91Y2goKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0Q2xpY2sgPSAwO1xuICAgICAgICAgICAgLy8gZW5mb3JjZSBzaW5nbGV0b24gcGF0dGVyblxuICAgICAgICAgICAgaWYgKERyYWdEcm9wVG91Y2guX2luc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgJ0RyYWdEcm9wVG91Y2ggaW5zdGFuY2UgYWxyZWFkeSBjcmVhdGVkLic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkZXRlY3QgcGFzc2l2ZSBldmVudCBzdXBwb3J0XG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9pc3N1ZXMvMTg5NFxuICAgICAgICAgICAgdmFyIHN1cHBvcnRzUGFzc2l2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndGVzdCcsIGZ1bmN0aW9uICgpIHsgfSwge1xuICAgICAgICAgICAgICAgIGdldCBwYXNzaXZlKCkge1xuICAgICAgICAgICAgICAgICAgICBzdXBwb3J0c1Bhc3NpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGxpc3RlbiB0byB0b3VjaCBldmVudHNcbiAgICAgICAgICAgIGlmICgnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBkID0gZG9jdW1lbnQsIHRzID0gdGhpcy5fdG91Y2hzdGFydC5iaW5kKHRoaXMpLCB0bSA9IHRoaXMuX3RvdWNobW92ZS5iaW5kKHRoaXMpLCB0ZSA9IHRoaXMuX3RvdWNoZW5kLmJpbmQodGhpcyksIG9wdCA9IHN1cHBvcnRzUGFzc2l2ZSA/IHsgcGFzc2l2ZTogZmFsc2UsIGNhcHR1cmU6IGZhbHNlIH0gOiBmYWxzZTtcbiAgICAgICAgICAgICAgICBkLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0cywgb3B0KTtcbiAgICAgICAgICAgICAgICBkLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRtLCBvcHQpO1xuICAgICAgICAgICAgICAgIGQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0ZSk7XG4gICAgICAgICAgICAgICAgZC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyBhIHJlZmVyZW5jZSB0byB0aGUgQHNlZTpEcmFnRHJvcFRvdWNoIHNpbmdsZXRvbi5cbiAgICAgICAgICovXG4gICAgICAgIERyYWdEcm9wVG91Y2guZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gRHJhZ0Ryb3BUb3VjaC5faW5zdGFuY2U7XG4gICAgICAgIH07XG4gICAgICAgIC8vICoqIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgIERyYWdEcm9wVG91Y2gucHJvdG90eXBlLl90b3VjaHN0YXJ0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAodGhpcy5fc2hvdWxkSGFuZGxlKGUpKSB7XG4gICAgICAgICAgICAgICAgLy8gcmFpc2UgZG91YmxlLWNsaWNrIGFuZCBwcmV2ZW50IHpvb21pbmdcbiAgICAgICAgICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIHRoaXMuX2xhc3RDbGljayA8IERyYWdEcm9wVG91Y2guX0RCTENMSUNLKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kaXNwYXRjaEV2ZW50KGUsICdkYmxjbGljaycsIGUudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBjbGVhciBhbGwgdmFyaWFibGVzXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzZXQoKTtcbiAgICAgICAgICAgICAgICAvLyBnZXQgbmVhcmVzdCBkcmFnZ2FibGUgZWxlbWVudFxuICAgICAgICAgICAgICAgIHZhciBzcmMgPSB0aGlzLl9jbG9zZXN0RHJhZ2dhYmxlKGUudGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAoc3JjKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGdpdmUgY2FsbGVyIGEgY2hhbmNlIHRvIGhhbmRsZSB0aGUgaG92ZXIvbW92ZSBldmVudHNcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9kaXNwYXRjaEV2ZW50KGUsICdtb3VzZW1vdmUnLCBlLnRhcmdldCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLl9kaXNwYXRjaEV2ZW50KGUsICdtb3VzZWRvd24nLCBlLnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdldCByZWFkeSB0byBzdGFydCBkcmFnZ2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhZ1NvdXJjZSA9IHNyYztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3B0RG93biA9IHRoaXMuX2dldFBvaW50KGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdFRvdWNoID0gZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNob3cgY29udGV4dCBtZW51IGlmIHRoZSB1c2VyIGhhc24ndCBzdGFydGVkIGRyYWdnaW5nIGFmdGVyIGEgd2hpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fZHJhZ1NvdXJjZSA9PSBzcmMgJiYgX3RoaXMuX2ltZyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fZGlzcGF0Y2hFdmVudChlLCAnY29udGV4dG1lbnUnLCBzcmMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIERyYWdEcm9wVG91Y2guX0NUWE1FTlUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKERyYWdEcm9wVG91Y2guX0lTUFJFU1NIT0xETU9ERSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ByZXNzSG9sZEludGVydmFsID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9pc0RyYWdFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3RvdWNobW92ZShlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBEcmFnRHJvcFRvdWNoLl9QUkVTU0hPTERBV0FJVCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIERyYWdEcm9wVG91Y2gucHJvdG90eXBlLl90b3VjaG1vdmUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3Nob3VsZENhbmNlbFByZXNzSG9sZE1vdmUoZSkpIHtcbiAgICAgICAgICAgICAgdGhpcy5fcmVzZXQoKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3Nob3VsZEhhbmRsZU1vdmUoZSkgfHwgdGhpcy5fc2hvdWxkSGFuZGxlUHJlc3NIb2xkTW92ZShlKSkge1xuICAgICAgICAgICAgICAgIC8vIHNlZSBpZiB0YXJnZXQgd2FudHMgdG8gaGFuZGxlIG1vdmVcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5fZ2V0VGFyZ2V0KGUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kaXNwYXRjaEV2ZW50KGUsICdtb3VzZW1vdmUnLCB0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RUb3VjaCA9IGU7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzdGFydCBkcmFnZ2luZ1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kcmFnU291cmNlICYmICF0aGlzLl9pbWcgJiYgdGhpcy5fc2hvdWxkU3RhcnREcmFnZ2luZyhlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwYXRjaEV2ZW50KGUsICdkcmFnc3RhcnQnLCB0aGlzLl9kcmFnU291cmNlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3JlYXRlSW1hZ2UoZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoRXZlbnQoZSwgJ2RyYWdlbnRlcicsIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGNvbnRpbnVlIGRyYWdnaW5nXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2ltZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sYXN0VG91Y2ggPSBlO1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vIHByZXZlbnQgc2Nyb2xsaW5nXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgIT0gdGhpcy5fbGFzdFRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hFdmVudCh0aGlzLl9sYXN0VG91Y2gsICdkcmFnbGVhdmUnLCB0aGlzLl9sYXN0VGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoRXZlbnQoZSwgJ2RyYWdlbnRlcicsIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sYXN0VGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21vdmVJbWFnZShlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNEcm9wWm9uZSA9IHRoaXMuX2Rpc3BhdGNoRXZlbnQoZSwgJ2RyYWdvdmVyJywgdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIERyYWdEcm9wVG91Y2gucHJvdG90eXBlLl90b3VjaGVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc2hvdWxkSGFuZGxlKGUpKSB7XG4gICAgICAgICAgICAgICAgLy8gc2VlIGlmIHRhcmdldCB3YW50cyB0byBoYW5kbGUgdXBcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZGlzcGF0Y2hFdmVudCh0aGlzLl9sYXN0VG91Y2gsICdtb3VzZXVwJywgZS50YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB1c2VyIGNsaWNrZWQgdGhlIGVsZW1lbnQgYnV0IGRpZG4ndCBkcmFnLCBzbyBjbGVhciB0aGUgc291cmNlIGFuZCBzaW11bGF0ZSBhIGNsaWNrXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pbWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhZ1NvdXJjZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoRXZlbnQodGhpcy5fbGFzdFRvdWNoLCAnY2xpY2snLCBlLnRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RDbGljayA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGZpbmlzaCBkcmFnZ2luZ1xuICAgICAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3lJbWFnZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kcmFnU291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnR5cGUuaW5kZXhPZignY2FuY2VsJykgPCAwICYmIHRoaXMuX2lzRHJvcFpvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoRXZlbnQodGhpcy5fbGFzdFRvdWNoLCAnZHJvcCcsIHRoaXMuX2xhc3RUYXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoRXZlbnQodGhpcy5fbGFzdFRvdWNoLCAnZHJhZ2VuZCcsIHRoaXMuX2RyYWdTb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXNldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gKiogdXRpbGl0aWVzXG4gICAgICAgIC8vIGlnbm9yZSBldmVudHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZCBvciB0aGF0IGludm9sdmUgbW9yZSB0aGFuIG9uZSB0b3VjaFxuICAgICAgICBEcmFnRHJvcFRvdWNoLnByb3RvdHlwZS5fc2hvdWxkSGFuZGxlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBlICYmXG4gICAgICAgICAgICAgICAgIWUuZGVmYXVsdFByZXZlbnRlZCAmJlxuICAgICAgICAgICAgICAgIGUudG91Y2hlcyAmJiBlLnRvdWNoZXMubGVuZ3RoIDwgMjtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyB1c2UgcmVndWxhciBjb25kaXRpb24gb3V0c2lkZSBvZiBwcmVzcyAmIGhvbGQgbW9kZVxuICAgICAgICBEcmFnRHJvcFRvdWNoLnByb3RvdHlwZS5fc2hvdWxkSGFuZGxlTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgcmV0dXJuICFEcmFnRHJvcFRvdWNoLl9JU1BSRVNTSE9MRE1PREUgJiYgdGhpcy5fc2hvdWxkSGFuZGxlKGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGFsbG93IHRvIGhhbmRsZSBtb3ZlcyB0aGF0IGludm9sdmUgbWFueSB0b3VjaGVzIGZvciBwcmVzcyAmIGhvbGRcbiAgICAgICAgRHJhZ0Ryb3BUb3VjaC5wcm90b3R5cGUuX3Nob3VsZEhhbmRsZVByZXNzSG9sZE1vdmUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHJldHVybiBEcmFnRHJvcFRvdWNoLl9JU1BSRVNTSE9MRE1PREUgJiZcbiAgICAgICAgICAgICAgdGhpcy5faXNEcmFnRW5hYmxlZCAmJiBlICYmIGUudG91Y2hlcyAmJiBlLnRvdWNoZXMubGVuZ3RoO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHJlc2V0IGRhdGEgaWYgdXNlciBkcmFncyB3aXRob3V0IHByZXNzaW5nICYgaG9sZGluZ1xuICAgICAgICBEcmFnRHJvcFRvdWNoLnByb3RvdHlwZS5fc2hvdWxkQ2FuY2VsUHJlc3NIb2xkTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgcmV0dXJuIERyYWdEcm9wVG91Y2guX0lTUFJFU1NIT0xETU9ERSAmJiAhdGhpcy5faXNEcmFnRW5hYmxlZCAmJlxuICAgICAgICAgICAgICB0aGlzLl9nZXREZWx0YShlKSA+IERyYWdEcm9wVG91Y2guX1BSRVNTSE9MRE1BUkdJTjtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBzdGFydCBkcmFnZ2luZyB3aGVuIHNwZWNpZmllZCBkZWx0YSBpcyBkZXRlY3RlZFxuICAgICAgICBEcmFnRHJvcFRvdWNoLnByb3RvdHlwZS5fc2hvdWxkU3RhcnREcmFnZ2luZyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgZGVsdGEgPSB0aGlzLl9nZXREZWx0YShlKTtcbiAgICAgICAgICAgIHJldHVybiBkZWx0YSA+IERyYWdEcm9wVG91Y2guX1RIUkVTSE9MRCB8fFxuICAgICAgICAgICAgICAgIChEcmFnRHJvcFRvdWNoLl9JU1BSRVNTSE9MRE1PREUgJiYgZGVsdGEgPj0gRHJhZ0Ryb3BUb3VjaC5fUFJFU1NIT0xEVEhSRVNIT0xEKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNsZWFyIGFsbCBtZW1iZXJzXG4gICAgICAgIERyYWdEcm9wVG91Y2gucHJvdG90eXBlLl9yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3lJbWFnZSgpO1xuICAgICAgICAgICAgdGhpcy5fZHJhZ1NvdXJjZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9sYXN0VG91Y2ggPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fbGFzdFRhcmdldCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9wdERvd24gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5faXNEcmFnRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5faXNEcm9wWm9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fZGF0YVRyYW5zZmVyID0gbmV3IERhdGFUcmFuc2ZlcigpO1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9wcmVzc0hvbGRJbnRlcnZhbCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGdldCBwb2ludCBmb3IgYSB0b3VjaCBldmVudFxuICAgICAgICBEcmFnRHJvcFRvdWNoLnByb3RvdHlwZS5fZ2V0UG9pbnQgPSBmdW5jdGlvbiAoZSwgcGFnZSkge1xuICAgICAgICAgICAgaWYgKGUgJiYgZS50b3VjaGVzKSB7XG4gICAgICAgICAgICAgICAgZSA9IGUudG91Y2hlc1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHg6IHBhZ2UgPyBlLnBhZ2VYIDogZS5jbGllbnRYLCB5OiBwYWdlID8gZS5wYWdlWSA6IGUuY2xpZW50WSB9O1xuICAgICAgICB9O1xuICAgICAgICAvLyBnZXQgZGlzdGFuY2UgYmV0d2VlbiB0aGUgY3VycmVudCB0b3VjaCBldmVudCBhbmQgdGhlIGZpcnN0IG9uZVxuICAgICAgICBEcmFnRHJvcFRvdWNoLnByb3RvdHlwZS5fZ2V0RGVsdGEgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKERyYWdEcm9wVG91Y2guX0lTUFJFU1NIT0xETU9ERSAmJiAhdGhpcy5fcHREb3duKSB7IHJldHVybiAwOyB9XG4gICAgICAgICAgICB2YXIgcCA9IHRoaXMuX2dldFBvaW50KGUpO1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHAueCAtIHRoaXMuX3B0RG93bi54KSArIE1hdGguYWJzKHAueSAtIHRoaXMuX3B0RG93bi55KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gZ2V0IHRoZSBlbGVtZW50IGF0IGEgZ2l2ZW4gdG91Y2ggZXZlbnRcbiAgICAgICAgRHJhZ0Ryb3BUb3VjaC5wcm90b3R5cGUuX2dldFRhcmdldCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgcHQgPSB0aGlzLl9nZXRQb2ludChlKSwgZWwgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHB0LngsIHB0LnkpO1xuICAgICAgICAgICAgd2hpbGUgKGVsICYmIGdldENvbXB1dGVkU3R5bGUoZWwpLnBvaW50ZXJFdmVudHMgPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgZWwgPSBlbC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICB9O1xuICAgICAgICAvLyBjcmVhdGUgZHJhZyBpbWFnZSBmcm9tIHNvdXJjZSBlbGVtZW50XG4gICAgICAgIERyYWdEcm9wVG91Y2gucHJvdG90eXBlLl9jcmVhdGVJbWFnZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAvLyBqdXN0IGluIGNhc2UuLi5cbiAgICAgICAgICAgIGlmICh0aGlzLl9pbWcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZXN0cm95SW1hZ2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNyZWF0ZSBkcmFnIGltYWdlIGZyb20gY3VzdG9tIGVsZW1lbnQgb3IgZHJhZyBzb3VyY2VcbiAgICAgICAgICAgIHZhciBzcmMgPSB0aGlzLl9pbWdDdXN0b20gfHwgdGhpcy5fZHJhZ1NvdXJjZTtcbiAgICAgICAgICAgIHRoaXMuX2ltZyA9IHNyYy5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLl9jb3B5U3R5bGUoc3JjLCB0aGlzLl9pbWcpO1xuICAgICAgICAgICAgdGhpcy5faW1nLnN0eWxlLnRvcCA9IHRoaXMuX2ltZy5zdHlsZS5sZWZ0ID0gJy05OTk5cHgnO1xuICAgICAgICAgICAgLy8gaWYgY3JlYXRpbmcgZnJvbSBkcmFnIHNvdXJjZSwgYXBwbHkgb2Zmc2V0IGFuZCBvcGFjaXR5XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2ltZ0N1c3RvbSkge1xuICAgICAgICAgICAgICAgIHZhciByYyA9IHNyYy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgcHQgPSB0aGlzLl9nZXRQb2ludChlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbWdPZmZzZXQgPSB7IHg6IHB0LnggLSByYy5sZWZ0LCB5OiBwdC55IC0gcmMudG9wIH07XG4gICAgICAgICAgICAgICAgdGhpcy5faW1nLnN0eWxlLm9wYWNpdHkgPSBEcmFnRHJvcFRvdWNoLl9PUEFDSVRZLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhZGQgaW1hZ2UgdG8gZG9jdW1lbnRcbiAgICAgICAgICAgIHRoaXMuX21vdmVJbWFnZShlKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5faW1nKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gZGlzcG9zZSBvZiBkcmFnIGltYWdlIGVsZW1lbnRcbiAgICAgICAgRHJhZ0Ryb3BUb3VjaC5wcm90b3R5cGUuX2Rlc3Ryb3lJbWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbWcgJiYgdGhpcy5faW1nLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbWcucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLl9pbWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faW1nID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2ltZ0N1c3RvbSA9IG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIC8vIG1vdmUgdGhlIGRyYWcgaW1hZ2UgZWxlbWVudFxuICAgICAgICBEcmFnRHJvcFRvdWNoLnByb3RvdHlwZS5fbW92ZUltYWdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5faW1nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwdCA9IF90aGlzLl9nZXRQb2ludChlLCB0cnVlKSwgcyA9IF90aGlzLl9pbWcuc3R5bGU7XG4gICAgICAgICAgICAgICAgICAgIHMucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgICAgICAgICAgICBzLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgICAgIHMuekluZGV4ID0gJzk5OTk5OSc7XG4gICAgICAgICAgICAgICAgICAgIHMubGVmdCA9IE1hdGgucm91bmQocHQueCAtIF90aGlzLl9pbWdPZmZzZXQueCkgKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICBzLnRvcCA9IE1hdGgucm91bmQocHQueSAtIF90aGlzLl9pbWdPZmZzZXQueSkgKyAncHgnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICAvLyBjb3B5IHByb3BlcnRpZXMgZnJvbSBhbiBvYmplY3QgdG8gYW5vdGhlclxuICAgICAgICBEcmFnRHJvcFRvdWNoLnByb3RvdHlwZS5fY29weVByb3BzID0gZnVuY3Rpb24gKGRzdCwgc3JjLCBwcm9wcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBwID0gcHJvcHNbaV07XG4gICAgICAgICAgICAgICAgZHN0W3BdID0gc3JjW3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBEcmFnRHJvcFRvdWNoLnByb3RvdHlwZS5fY29weVN0eWxlID0gZnVuY3Rpb24gKHNyYywgZHN0KSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgcG90ZW50aWFsbHkgdHJvdWJsZXNvbWUgYXR0cmlidXRlc1xuICAgICAgICAgICAgRHJhZ0Ryb3BUb3VjaC5fcm12QXR0cy5mb3JFYWNoKGZ1bmN0aW9uIChhdHQpIHtcbiAgICAgICAgICAgICAgICBkc3QucmVtb3ZlQXR0cmlidXRlKGF0dCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGNvcHkgY2FudmFzIGNvbnRlbnRcbiAgICAgICAgICAgIGlmIChzcmMgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBjU3JjID0gc3JjLCBjRHN0ID0gZHN0O1xuICAgICAgICAgICAgICAgIGNEc3Qud2lkdGggPSBjU3JjLndpZHRoO1xuICAgICAgICAgICAgICAgIGNEc3QuaGVpZ2h0ID0gY1NyYy5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgY0RzdC5nZXRDb250ZXh0KCcyZCcpLmRyYXdJbWFnZShjU3JjLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNvcHkgc3R5bGUgKHdpdGhvdXQgdHJhbnNpdGlvbnMpXG4gICAgICAgICAgICB2YXIgY3MgPSBnZXRDb21wdXRlZFN0eWxlKHNyYyk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGNzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZigndHJhbnNpdGlvbicpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBkc3Quc3R5bGVba2V5XSA9IGNzW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZHN0LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgICAgICAgICAvLyBhbmQgcmVwZWF0IGZvciBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3JjLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29weVN0eWxlKHNyYy5jaGlsZHJlbltpXSwgZHN0LmNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgRHJhZ0Ryb3BUb3VjaC5wcm90b3R5cGUuX2Rpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiAoZSwgdHlwZSwgdGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAoZSAmJiB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50JyksIHQgPSBlLnRvdWNoZXMgPyBlLnRvdWNoZXNbMF0gOiBlO1xuICAgICAgICAgICAgICAgIGV2dC5pbml0RXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgZXZ0LmJ1dHRvbiA9IDA7XG4gICAgICAgICAgICAgICAgZXZ0LndoaWNoID0gZXZ0LmJ1dHRvbnMgPSAxO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvcHlQcm9wcyhldnQsIGUsIERyYWdEcm9wVG91Y2guX2tiZFByb3BzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb3B5UHJvcHMoZXZ0LCB0LCBEcmFnRHJvcFRvdWNoLl9wdFByb3BzKTtcbiAgICAgICAgICAgICAgICBldnQuZGF0YVRyYW5zZmVyID0gdGhpcy5fZGF0YVRyYW5zZmVyO1xuICAgICAgICAgICAgICAgIHRhcmdldC5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2dC5kZWZhdWx0UHJldmVudGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICAvLyBnZXRzIGFuIGVsZW1lbnQncyBjbG9zZXN0IGRyYWdnYWJsZSBhbmNlc3RvclxuICAgICAgICBEcmFnRHJvcFRvdWNoLnByb3RvdHlwZS5fY2xvc2VzdERyYWdnYWJsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBmb3IgKDsgZTsgZSA9IGUucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGlmIChlLmhhc0F0dHJpYnV0ZSgnZHJhZ2dhYmxlJykgJiYgZS5kcmFnZ2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBEcmFnRHJvcFRvdWNoO1xuICAgIH0oKSk7XG4gICAgLypwcml2YXRlKi8gRHJhZ0Ryb3BUb3VjaC5faW5zdGFuY2UgPSBuZXcgRHJhZ0Ryb3BUb3VjaCgpOyAvLyBzaW5nbGV0b25cbiAgICAvLyBjb25zdGFudHNcbiAgICBEcmFnRHJvcFRvdWNoLl9USFJFU0hPTEQgPSA1OyAvLyBwaXhlbHMgdG8gbW92ZSBiZWZvcmUgZHJhZyBzdGFydHNcbiAgICBEcmFnRHJvcFRvdWNoLl9PUEFDSVRZID0gMC41OyAvLyBkcmFnIGltYWdlIG9wYWNpdHlcbiAgICBEcmFnRHJvcFRvdWNoLl9EQkxDTElDSyA9IDUwMDsgLy8gbWF4IG1zIGJldHdlZW4gY2xpY2tzIGluIGEgZG91YmxlIGNsaWNrXG4gICAgRHJhZ0Ryb3BUb3VjaC5fQ1RYTUVOVSA9IDkwMDsgLy8gbXMgdG8gaG9sZCBiZWZvcmUgcmFpc2luZyAnY29udGV4dG1lbnUnIGV2ZW50XG4gICAgRHJhZ0Ryb3BUb3VjaC5fSVNQUkVTU0hPTERNT0RFID0gZmFsc2U7IC8vIGRlY2lkZXMgb2YgcHJlc3MgJiBob2xkIG1vZGUgcHJlc2VuY2VcbiAgICBEcmFnRHJvcFRvdWNoLl9QUkVTU0hPTERBV0FJVCA9IDQwMDsgLy8gbXMgdG8gd2FpdCBiZWZvcmUgcHJlc3MgJiBob2xkIGlzIGRldGVjdGVkXG4gICAgRHJhZ0Ryb3BUb3VjaC5fUFJFU1NIT0xETUFSR0lOID0gMjU7IC8vIHBpeGVscyB0aGF0IGZpbmdlciBtaWdodCBzaGl2ZXIgd2hpbGUgcHJlc3NpbmdcbiAgICBEcmFnRHJvcFRvdWNoLl9QUkVTU0hPTERUSFJFU0hPTEQgPSAwOyAvLyBwaXhlbHMgdG8gbW92ZSBiZWZvcmUgZHJhZyBzdGFydHNcbiAgICAvLyBjb3B5IHN0eWxlcy9hdHRyaWJ1dGVzIGZyb20gZHJhZyBzb3VyY2UgdG8gZHJhZyBpbWFnZSBlbGVtZW50XG4gICAgRHJhZ0Ryb3BUb3VjaC5fcm12QXR0cyA9ICdpZCxjbGFzcyxzdHlsZSxkcmFnZ2FibGUnLnNwbGl0KCcsJyk7XG4gICAgLy8gc3ludGhlc2l6ZSBhbmQgZGlzcGF0Y2ggYW4gZXZlbnRcbiAgICAvLyByZXR1cm5zIHRydWUgaWYgdGhlIGV2ZW50IGhhcyBiZWVuIGhhbmRsZWQgKGUucHJldmVudERlZmF1bHQgPT0gdHJ1ZSlcbiAgICBEcmFnRHJvcFRvdWNoLl9rYmRQcm9wcyA9ICdhbHRLZXksY3RybEtleSxtZXRhS2V5LHNoaWZ0S2V5Jy5zcGxpdCgnLCcpO1xuICAgIERyYWdEcm9wVG91Y2guX3B0UHJvcHMgPSAncGFnZVgscGFnZVksY2xpZW50WCxjbGllbnRZLHNjcmVlblgsc2NyZWVuWSxvZmZzZXRYLG9mZnNldFknLnNwbGl0KCcsJyk7XG4gICAgRHJhZ0Ryb3BUb3VjaF8xLkRyYWdEcm9wVG91Y2ggPSBEcmFnRHJvcFRvdWNoO1xufSkoRHJhZ0Ryb3BUb3VjaCB8fCAoRHJhZ0Ryb3BUb3VjaCA9IHt9KSk7XG5cbmxldCB0cmFuc2ZlciA9IERyYWdEcm9wVG91Y2guRGF0YVRyYW5zZmVyO1xubGV0IHRvdWNoID0gRHJhZ0Ryb3BUb3VjaC5EcmFnRHJvcFRvdWNoO1xuXG5leHBvcnQgeyB0cmFuc2ZlciBhcyBEYXRhVHJhbnNmZXIsIHRvdWNoIGFzIERyYWdEcm9wVG91Y2ggfVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/DragMenus/lib/dragdroptouch.js\n");

/***/ }),

/***/ "./node_modules/debug-any-level/index.js":
/*!***********************************************!*\
  !*** ./node_modules/debug-any-level/index.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var debug = __webpack_require__(/*! debug */ \"./node_modules/debug/src/browser.js\");\nvar cache = {};\nfunction _get(t, k, r, name) {\n  var defProp = Reflect.get(t, k, r) || Reflect.get(debug, k, r);\n  if (defProp && defProp !== debug) {\n    return defProp;\n  } else {\n    if (name) {\n      k = \"\".concat(name, \":\").concat(k);\n    }\n    return cache[k] || (cache[k] = debugAny(k));\n  }\n}\nvar set = (target, key, value) => Reflect.set(debug, key, value);\nvar debugAny = new Proxy(function (name) {\n  for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    rest[_key - 1] = arguments[_key];\n  }\n  return new Proxy(debug(name, ...rest), {\n    get: function get() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      return _get(...args, name);\n    },\n    set\n  });\n}, {\n  get: _get,\n  set\n});\nmodule.exports = debugAny;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZGVidWctYW55LWxldmVsL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RlYnVnLWFueS1sZXZlbC9pbmRleC5qcz9kN2RhIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKTtcblxuY29uc3QgY2FjaGUgPSB7fTtcblxuZnVuY3Rpb24gZ2V0KHQsIGssIHIsIG5hbWUpIHtcbiAgY29uc3QgZGVmUHJvcCA9IFJlZmxlY3QuZ2V0KHQsIGssIHIpIHx8IFJlZmxlY3QuZ2V0KGRlYnVnLCBrLCByKTtcbiAgaWYgKGRlZlByb3AgJiYgZGVmUHJvcCAhPT0gZGVidWcpIHtcbiAgICByZXR1cm4gZGVmUHJvcDtcbiAgfSBlbHNlIHtcbiAgICBpZiAobmFtZSkge1xuICAgICAgayA9IGAke25hbWV9OiR7a31gO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGVba10gfHwgKGNhY2hlW2tdID0gZGVidWdBbnkoaykpO1xuICB9XG59XG5cbmNvbnN0IHNldCA9ICh0YXJnZXQsIGtleSwgdmFsdWUpID0+IFJlZmxlY3Quc2V0KGRlYnVnLCBrZXksIHZhbHVlKTtcblxuY29uc3QgZGVidWdBbnkgPSBuZXcgUHJveHkoKG5hbWUsIC4uLnJlc3QpID0+IG5ldyBQcm94eShkZWJ1ZyhuYW1lLCAuLi5yZXN0KSwgeyBnZXQ6ICguLi5hcmdzKSA9PiBnZXQoLi4uYXJncywgbmFtZSksIHNldCB9KSwgeyBnZXQsIHNldCB9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWJ1Z0FueTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/debug-any-level/index.js\n");

/***/ }),

/***/ "./node_modules/debug/src/browser.js":
/*!*******************************************!*\
  !*** ./node_modules/debug/src/browser.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(process) {/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n  var warned = false;\n  return () => {\n    if (!warned) {\n      warned = true;\n      console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n    }\n  };\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n\n  // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance ||\n  // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) ||\n  // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 ||\n  // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n  if (!this.useColors) {\n    return;\n  }\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit');\n\n  // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, match => {\n    if (match === '%%') {\n      return;\n    }\n    index++;\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {\n    // Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {\n    // Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n  return r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {\n    // Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\nmodule.exports = __webpack_require__(/*! ./common */ \"./node_modules/debug/src/common.js\")(exports);\nvar {\n  formatters\n} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/node_modules/process/browser.js */ \"./node_modules/webpack/node_modules/process/browser.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanM/OGFjYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cblxuLyoqXG4gKiBUaGlzIGlzIHRoZSB3ZWIgYnJvd3NlciBpbXBsZW1lbnRhdGlvbiBvZiBgZGVidWcoKWAuXG4gKi9cblxuZXhwb3J0cy5mb3JtYXRBcmdzID0gZm9ybWF0QXJncztcbmV4cG9ydHMuc2F2ZSA9IHNhdmU7XG5leHBvcnRzLmxvYWQgPSBsb2FkO1xuZXhwb3J0cy51c2VDb2xvcnMgPSB1c2VDb2xvcnM7XG5leHBvcnRzLnN0b3JhZ2UgPSBsb2NhbHN0b3JhZ2UoKTtcbmV4cG9ydHMuZGVzdHJveSA9ICgoKSA9PiB7XG5cdGxldCB3YXJuZWQgPSBmYWxzZTtcblxuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGlmICghd2FybmVkKSB7XG5cdFx0XHR3YXJuZWQgPSB0cnVlO1xuXHRcdFx0Y29uc29sZS53YXJuKCdJbnN0YW5jZSBtZXRob2QgYGRlYnVnLmRlc3Ryb3koKWAgaXMgZGVwcmVjYXRlZCBhbmQgbm8gbG9uZ2VyIGRvZXMgYW55dGhpbmcuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGBkZWJ1Z2AuJyk7XG5cdFx0fVxuXHR9O1xufSkoKTtcblxuLyoqXG4gKiBDb2xvcnMuXG4gKi9cblxuZXhwb3J0cy5jb2xvcnMgPSBbXG5cdCcjMDAwMENDJyxcblx0JyMwMDAwRkYnLFxuXHQnIzAwMzNDQycsXG5cdCcjMDAzM0ZGJyxcblx0JyMwMDY2Q0MnLFxuXHQnIzAwNjZGRicsXG5cdCcjMDA5OUNDJyxcblx0JyMwMDk5RkYnLFxuXHQnIzAwQ0MwMCcsXG5cdCcjMDBDQzMzJyxcblx0JyMwMENDNjYnLFxuXHQnIzAwQ0M5OScsXG5cdCcjMDBDQ0NDJyxcblx0JyMwMENDRkYnLFxuXHQnIzMzMDBDQycsXG5cdCcjMzMwMEZGJyxcblx0JyMzMzMzQ0MnLFxuXHQnIzMzMzNGRicsXG5cdCcjMzM2NkNDJyxcblx0JyMzMzY2RkYnLFxuXHQnIzMzOTlDQycsXG5cdCcjMzM5OUZGJyxcblx0JyMzM0NDMDAnLFxuXHQnIzMzQ0MzMycsXG5cdCcjMzNDQzY2Jyxcblx0JyMzM0NDOTknLFxuXHQnIzMzQ0NDQycsXG5cdCcjMzNDQ0ZGJyxcblx0JyM2NjAwQ0MnLFxuXHQnIzY2MDBGRicsXG5cdCcjNjYzM0NDJyxcblx0JyM2NjMzRkYnLFxuXHQnIzY2Q0MwMCcsXG5cdCcjNjZDQzMzJyxcblx0JyM5OTAwQ0MnLFxuXHQnIzk5MDBGRicsXG5cdCcjOTkzM0NDJyxcblx0JyM5OTMzRkYnLFxuXHQnIzk5Q0MwMCcsXG5cdCcjOTlDQzMzJyxcblx0JyNDQzAwMDAnLFxuXHQnI0NDMDAzMycsXG5cdCcjQ0MwMDY2Jyxcblx0JyNDQzAwOTknLFxuXHQnI0NDMDBDQycsXG5cdCcjQ0MwMEZGJyxcblx0JyNDQzMzMDAnLFxuXHQnI0NDMzMzMycsXG5cdCcjQ0MzMzY2Jyxcblx0JyNDQzMzOTknLFxuXHQnI0NDMzNDQycsXG5cdCcjQ0MzM0ZGJyxcblx0JyNDQzY2MDAnLFxuXHQnI0NDNjYzMycsXG5cdCcjQ0M5OTAwJyxcblx0JyNDQzk5MzMnLFxuXHQnI0NDQ0MwMCcsXG5cdCcjQ0NDQzMzJyxcblx0JyNGRjAwMDAnLFxuXHQnI0ZGMDAzMycsXG5cdCcjRkYwMDY2Jyxcblx0JyNGRjAwOTknLFxuXHQnI0ZGMDBDQycsXG5cdCcjRkYwMEZGJyxcblx0JyNGRjMzMDAnLFxuXHQnI0ZGMzMzMycsXG5cdCcjRkYzMzY2Jyxcblx0JyNGRjMzOTknLFxuXHQnI0ZGMzNDQycsXG5cdCcjRkYzM0ZGJyxcblx0JyNGRjY2MDAnLFxuXHQnI0ZGNjYzMycsXG5cdCcjRkY5OTAwJyxcblx0JyNGRjk5MzMnLFxuXHQnI0ZGQ0MwMCcsXG5cdCcjRkZDQzMzJ1xuXTtcblxuLyoqXG4gKiBDdXJyZW50bHkgb25seSBXZWJLaXQtYmFzZWQgV2ViIEluc3BlY3RvcnMsIEZpcmVmb3ggPj0gdjMxLFxuICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duXG4gKiB0byBzdXBwb3J0IFwiJWNcIiBDU1MgY3VzdG9taXphdGlvbnMuXG4gKlxuICogVE9ETzogYWRkIGEgYGxvY2FsU3RvcmFnZWAgdmFyaWFibGUgdG8gZXhwbGljaXRseSBlbmFibGUvZGlzYWJsZSBjb2xvcnNcbiAqL1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZnVuY3Rpb24gdXNlQ29sb3JzKCkge1xuXHQvLyBOQjogSW4gYW4gRWxlY3Ryb24gcHJlbG9hZCBzY3JpcHQsIGRvY3VtZW50IHdpbGwgYmUgZGVmaW5lZCBidXQgbm90IGZ1bGx5XG5cdC8vIGluaXRpYWxpemVkLiBTaW5jZSB3ZSBrbm93IHdlJ3JlIGluIENocm9tZSwgd2UnbGwganVzdCBkZXRlY3QgdGhpcyBjYXNlXG5cdC8vIGV4cGxpY2l0bHlcblx0aWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wcm9jZXNzICYmICh3aW5kb3cucHJvY2Vzcy50eXBlID09PSAncmVuZGVyZXInIHx8IHdpbmRvdy5wcm9jZXNzLl9fbndqcykpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8vIEludGVybmV0IEV4cGxvcmVyIGFuZCBFZGdlIGRvIG5vdCBzdXBwb3J0IGNvbG9ycy5cblx0aWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC8oZWRnZXx0cmlkZW50KVxcLyhcXGQrKS8pKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Ly8gSXMgd2Via2l0PyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNjQ1OTYwNi8zNzY3NzNcblx0Ly8gZG9jdW1lbnQgaXMgdW5kZWZpbmVkIGluIHJlYWN0LW5hdGl2ZTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9wdWxsLzE2MzJcblx0cmV0dXJuICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLldlYmtpdEFwcGVhcmFuY2UpIHx8XG5cdFx0Ly8gSXMgZmlyZWJ1Zz8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzk4MTIwLzM3Njc3M1xuXHRcdCh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUuZmlyZWJ1ZyB8fCAod2luZG93LmNvbnNvbGUuZXhjZXB0aW9uICYmIHdpbmRvdy5jb25zb2xlLnRhYmxlKSkpIHx8XG5cdFx0Ly8gSXMgZmlyZWZveCA+PSB2MzE/XG5cdFx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Ub29scy9XZWJfQ29uc29sZSNTdHlsaW5nX21lc3NhZ2VzXG5cdFx0KHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykgJiYgcGFyc2VJbnQoUmVnRXhwLiQxLCAxMCkgPj0gMzEpIHx8XG5cdFx0Ly8gRG91YmxlIGNoZWNrIHdlYmtpdCBpbiB1c2VyQWdlbnQganVzdCBpbiBjYXNlIHdlIGFyZSBpbiBhIHdvcmtlclxuXHRcdCh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcXC8oXFxkKykvKSk7XG59XG5cbi8qKlxuICogQ29sb3JpemUgbG9nIGFyZ3VtZW50cyBpZiBlbmFibGVkLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZm9ybWF0QXJncyhhcmdzKSB7XG5cdGFyZ3NbMF0gPSAodGhpcy51c2VDb2xvcnMgPyAnJWMnIDogJycpICtcblx0XHR0aGlzLm5hbWVzcGFjZSArXG5cdFx0KHRoaXMudXNlQ29sb3JzID8gJyAlYycgOiAnICcpICtcblx0XHRhcmdzWzBdICtcblx0XHQodGhpcy51c2VDb2xvcnMgPyAnJWMgJyA6ICcgJykgK1xuXHRcdCcrJyArIG1vZHVsZS5leHBvcnRzLmh1bWFuaXplKHRoaXMuZGlmZik7XG5cblx0aWYgKCF0aGlzLnVzZUNvbG9ycykge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IGMgPSAnY29sb3I6ICcgKyB0aGlzLmNvbG9yO1xuXHRhcmdzLnNwbGljZSgxLCAwLCBjLCAnY29sb3I6IGluaGVyaXQnKTtcblxuXHQvLyBUaGUgZmluYWwgXCIlY1wiIGlzIHNvbWV3aGF0IHRyaWNreSwgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBvdGhlclxuXHQvLyBhcmd1bWVudHMgcGFzc2VkIGVpdGhlciBiZWZvcmUgb3IgYWZ0ZXIgdGhlICVjLCBzbyB3ZSBuZWVkIHRvXG5cdC8vIGZpZ3VyZSBvdXQgdGhlIGNvcnJlY3QgaW5kZXggdG8gaW5zZXJ0IHRoZSBDU1MgaW50b1xuXHRsZXQgaW5kZXggPSAwO1xuXHRsZXQgbGFzdEMgPSAwO1xuXHRhcmdzWzBdLnJlcGxhY2UoLyVbYS16QS1aJV0vZywgbWF0Y2ggPT4ge1xuXHRcdGlmIChtYXRjaCA9PT0gJyUlJykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpbmRleCsrO1xuXHRcdGlmIChtYXRjaCA9PT0gJyVjJykge1xuXHRcdFx0Ly8gV2Ugb25seSBhcmUgaW50ZXJlc3RlZCBpbiB0aGUgKmxhc3QqICVjXG5cdFx0XHQvLyAodGhlIHVzZXIgbWF5IGhhdmUgcHJvdmlkZWQgdGhlaXIgb3duKVxuXHRcdFx0bGFzdEMgPSBpbmRleDtcblx0XHR9XG5cdH0pO1xuXG5cdGFyZ3Muc3BsaWNlKGxhc3RDLCAwLCBjKTtcbn1cblxuLyoqXG4gKiBJbnZva2VzIGBjb25zb2xlLmRlYnVnKClgIHdoZW4gYXZhaWxhYmxlLlxuICogTm8tb3Agd2hlbiBgY29uc29sZS5kZWJ1Z2AgaXMgbm90IGEgXCJmdW5jdGlvblwiLlxuICogSWYgYGNvbnNvbGUuZGVidWdgIGlzIG5vdCBhdmFpbGFibGUsIGZhbGxzIGJhY2tcbiAqIHRvIGBjb25zb2xlLmxvZ2AuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuZXhwb3J0cy5sb2cgPSBjb25zb2xlLmRlYnVnIHx8IGNvbnNvbGUubG9nIHx8ICgoKSA9PiB7fSk7XG5cbi8qKlxuICogU2F2ZSBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzYXZlKG5hbWVzcGFjZXMpIHtcblx0dHJ5IHtcblx0XHRpZiAobmFtZXNwYWNlcykge1xuXHRcdFx0ZXhwb3J0cy5zdG9yYWdlLnNldEl0ZW0oJ2RlYnVnJywgbmFtZXNwYWNlcyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGV4cG9ydHMuc3RvcmFnZS5yZW1vdmVJdGVtKCdkZWJ1ZycpO1xuXHRcdH1cblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTd2FsbG93XG5cdFx0Ly8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG5cdH1cbn1cblxuLyoqXG4gKiBMb2FkIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHJldHVybnMgdGhlIHByZXZpb3VzbHkgcGVyc2lzdGVkIGRlYnVnIG1vZGVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gbG9hZCgpIHtcblx0bGV0IHI7XG5cdHRyeSB7XG5cdFx0ciA9IGV4cG9ydHMuc3RvcmFnZS5nZXRJdGVtKCdkZWJ1ZycpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxuXG5cdC8vIElmIGRlYnVnIGlzbid0IHNldCBpbiBMUywgYW5kIHdlJ3JlIGluIEVsZWN0cm9uLCB0cnkgdG8gbG9hZCAkREVCVUdcblx0aWYgKCFyICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAnZW52JyBpbiBwcm9jZXNzKSB7XG5cdFx0ciA9IHByb2Nlc3MuZW52LkRFQlVHO1xuXHR9XG5cblx0cmV0dXJuIHI7XG59XG5cbi8qKlxuICogTG9jYWxzdG9yYWdlIGF0dGVtcHRzIHRvIHJldHVybiB0aGUgbG9jYWxzdG9yYWdlLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc2FmYXJpIHRocm93c1xuICogd2hlbiBhIHVzZXIgZGlzYWJsZXMgY29va2llcy9sb2NhbHN0b3JhZ2VcbiAqIGFuZCB5b3UgYXR0ZW1wdCB0byBhY2Nlc3MgaXQuXG4gKlxuICogQHJldHVybiB7TG9jYWxTdG9yYWdlfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9jYWxzdG9yYWdlKCkge1xuXHR0cnkge1xuXHRcdC8vIFRWTUxLaXQgKEFwcGxlIFRWIEpTIFJ1bnRpbWUpIGRvZXMgbm90IGhhdmUgYSB3aW5kb3cgb2JqZWN0LCBqdXN0IGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHRcblx0XHQvLyBUaGUgQnJvd3NlciBhbHNvIGhhcyBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0LlxuXHRcdHJldHVybiBsb2NhbFN0b3JhZ2U7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jb21tb24nKShleHBvcnRzKTtcblxuY29uc3Qge2Zvcm1hdHRlcnN9ID0gbW9kdWxlLmV4cG9ydHM7XG5cbi8qKlxuICogTWFwICVqIHRvIGBKU09OLnN0cmluZ2lmeSgpYCwgc2luY2Ugbm8gV2ViIEluc3BlY3RvcnMgZG8gdGhhdCBieSBkZWZhdWx0LlxuICovXG5cbmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uICh2KSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiAnW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06ICcgKyBlcnJvci5tZXNzYWdlO1xuXHR9XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE4RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/debug/src/browser.js\n");

/***/ }),

/***/ "./node_modules/debug/src/common.js":
/*!******************************************!*\
  !*** ./node_modules/debug/src/common.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = __webpack_require__(/*! ms */ \"./node_modules/ms/index.js\");\n  createDebug.destroy = destroy;\n  Object.keys(env).forEach(key => {\n    createDebug[key] = env[key];\n  });\n\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n  createDebug.formatters = {};\n\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n  function selectColor(namespace) {\n    var hash = 0;\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n  createDebug.selectColor = selectColor;\n\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n  function createDebug(namespace) {\n    var prevTime;\n    var enableOverride = null;\n    var namespacesCache;\n    var enabledCache;\n    function debug() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n      var self = debug;\n\n      // Set `diff` timestamp\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      }\n\n      // Apply any `formatters` transformations\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return '%';\n        }\n        index++;\n        var formatter = createDebug.formatters[format];\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val);\n\n          // Now we need to remove `args[index]` since it's inlined in the `format`\n          args.splice(index, 1);\n          index--;\n        }\n        return match;\n      });\n\n      // Apply env-specific formatting (colors, etc.)\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n    debug.namespace = namespace;\n    debug.useColors = createDebug.useColors();\n    debug.color = createDebug.selectColor(namespace);\n    debug.extend = extend;\n    debug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n    Object.defineProperty(debug, 'enabled', {\n      enumerable: true,\n      configurable: false,\n      get: () => {\n        if (enableOverride !== null) {\n          return enableOverride;\n        }\n        if (namespacesCache !== createDebug.namespaces) {\n          namespacesCache = createDebug.namespaces;\n          enabledCache = createDebug.enabled(namespace);\n        }\n        return enabledCache;\n      },\n      set: v => {\n        enableOverride = v;\n      }\n    });\n\n    // Env-specific initialization logic for debug instances\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n    return debug;\n  }\n  function extend(namespace, delimiter) {\n    var newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n    newDebug.log = this.log;\n    return newDebug;\n  }\n\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.namespaces = namespaces;\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n      namespaces = split[i].replace(/\\*/g, '.*?');\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n  }\n\n  /**\n  * Disable debug output.\n  *\n  * @return {String} namespaces\n  * @api public\n  */\n  function disable() {\n    var namespaces = [...createDebug.names.map(toNamespace), ...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)].join(',');\n    createDebug.enable('');\n    return namespaces;\n  }\n\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n    var i;\n    var len;\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n  * Convert regexp to namespace\n  *\n  * @param {RegExp} regxep\n  * @return {String} namespace\n  * @api private\n  */\n  function toNamespace(regexp) {\n    return regexp.toString().substring(2, regexp.toString().length - 2).replace(/\\.\\*\\?$/, '*');\n  }\n\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n    return val;\n  }\n\n  /**\n  * XXX DO NOT USE. This is a temporary stub function.\n  * XXX It WILL be removed in the next major release.\n  */\n  function destroy() {\n    console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n  }\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\nmodule.exports = setup;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2NvbW1vbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvY29tbW9uLmpzPzQ4NWMiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqIFRoaXMgaXMgdGhlIGNvbW1vbiBsb2dpYyBmb3IgYm90aCB0aGUgTm9kZS5qcyBhbmQgd2ViIGJyb3dzZXJcbiAqIGltcGxlbWVudGF0aW9ucyBvZiBgZGVidWcoKWAuXG4gKi9cblxuZnVuY3Rpb24gc2V0dXAoZW52KSB7XG5cdGNyZWF0ZURlYnVnLmRlYnVnID0gY3JlYXRlRGVidWc7XG5cdGNyZWF0ZURlYnVnLmRlZmF1bHQgPSBjcmVhdGVEZWJ1Zztcblx0Y3JlYXRlRGVidWcuY29lcmNlID0gY29lcmNlO1xuXHRjcmVhdGVEZWJ1Zy5kaXNhYmxlID0gZGlzYWJsZTtcblx0Y3JlYXRlRGVidWcuZW5hYmxlID0gZW5hYmxlO1xuXHRjcmVhdGVEZWJ1Zy5lbmFibGVkID0gZW5hYmxlZDtcblx0Y3JlYXRlRGVidWcuaHVtYW5pemUgPSByZXF1aXJlKCdtcycpO1xuXHRjcmVhdGVEZWJ1Zy5kZXN0cm95ID0gZGVzdHJveTtcblxuXHRPYmplY3Qua2V5cyhlbnYpLmZvckVhY2goa2V5ID0+IHtcblx0XHRjcmVhdGVEZWJ1Z1trZXldID0gZW52W2tleV07XG5cdH0pO1xuXG5cdC8qKlxuXHQqIFRoZSBjdXJyZW50bHkgYWN0aXZlIGRlYnVnIG1vZGUgbmFtZXMsIGFuZCBuYW1lcyB0byBza2lwLlxuXHQqL1xuXG5cdGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG5cdGNyZWF0ZURlYnVnLnNraXBzID0gW107XG5cblx0LyoqXG5cdCogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuXHQqXG5cdCogVmFsaWQga2V5IG5hbWVzIGFyZSBhIHNpbmdsZSwgbG93ZXIgb3IgdXBwZXItY2FzZSBsZXR0ZXIsIGkuZS4gXCJuXCIgYW5kIFwiTlwiLlxuXHQqL1xuXHRjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzID0ge307XG5cblx0LyoqXG5cdCogU2VsZWN0cyBhIGNvbG9yIGZvciBhIGRlYnVnIG5hbWVzcGFjZVxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2UgVGhlIG5hbWVzcGFjZSBzdHJpbmcgZm9yIHRoZSBmb3IgdGhlIGRlYnVnIGluc3RhbmNlIHRvIGJlIGNvbG9yZWRcblx0KiBAcmV0dXJuIHtOdW1iZXJ8U3RyaW5nfSBBbiBBTlNJIGNvbG9yIGNvZGUgZm9yIHRoZSBnaXZlbiBuYW1lc3BhY2Vcblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gc2VsZWN0Q29sb3IobmFtZXNwYWNlKSB7XG5cdFx0bGV0IGhhc2ggPSAwO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lc3BhY2UubGVuZ3RoOyBpKyspIHtcblx0XHRcdGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIG5hbWVzcGFjZS5jaGFyQ29kZUF0KGkpO1xuXHRcdFx0aGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcblx0XHR9XG5cblx0XHRyZXR1cm4gY3JlYXRlRGVidWcuY29sb3JzW01hdGguYWJzKGhhc2gpICUgY3JlYXRlRGVidWcuY29sb3JzLmxlbmd0aF07XG5cdH1cblx0Y3JlYXRlRGVidWcuc2VsZWN0Q29sb3IgPSBzZWxlY3RDb2xvcjtcblxuXHQvKipcblx0KiBDcmVhdGUgYSBkZWJ1Z2dlciB3aXRoIHRoZSBnaXZlbiBgbmFtZXNwYWNlYC5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2Vcblx0KiBAcmV0dXJuIHtGdW5jdGlvbn1cblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBjcmVhdGVEZWJ1ZyhuYW1lc3BhY2UpIHtcblx0XHRsZXQgcHJldlRpbWU7XG5cdFx0bGV0IGVuYWJsZU92ZXJyaWRlID0gbnVsbDtcblx0XHRsZXQgbmFtZXNwYWNlc0NhY2hlO1xuXHRcdGxldCBlbmFibGVkQ2FjaGU7XG5cblx0XHRmdW5jdGlvbiBkZWJ1ZyguLi5hcmdzKSB7XG5cdFx0XHQvLyBEaXNhYmxlZD9cblx0XHRcdGlmICghZGVidWcuZW5hYmxlZCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHNlbGYgPSBkZWJ1ZztcblxuXHRcdFx0Ly8gU2V0IGBkaWZmYCB0aW1lc3RhbXBcblx0XHRcdGNvbnN0IGN1cnIgPSBOdW1iZXIobmV3IERhdGUoKSk7XG5cdFx0XHRjb25zdCBtcyA9IGN1cnIgLSAocHJldlRpbWUgfHwgY3Vycik7XG5cdFx0XHRzZWxmLmRpZmYgPSBtcztcblx0XHRcdHNlbGYucHJldiA9IHByZXZUaW1lO1xuXHRcdFx0c2VsZi5jdXJyID0gY3Vycjtcblx0XHRcdHByZXZUaW1lID0gY3VycjtcblxuXHRcdFx0YXJnc1swXSA9IGNyZWF0ZURlYnVnLmNvZXJjZShhcmdzWzBdKTtcblxuXHRcdFx0aWYgKHR5cGVvZiBhcmdzWzBdICE9PSAnc3RyaW5nJykge1xuXHRcdFx0XHQvLyBBbnl0aGluZyBlbHNlIGxldCdzIGluc3BlY3Qgd2l0aCAlT1xuXHRcdFx0XHRhcmdzLnVuc2hpZnQoJyVPJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFwcGx5IGFueSBgZm9ybWF0dGVyc2AgdHJhbnNmb3JtYXRpb25zXG5cdFx0XHRsZXQgaW5kZXggPSAwO1xuXHRcdFx0YXJnc1swXSA9IGFyZ3NbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csIChtYXRjaCwgZm9ybWF0KSA9PiB7XG5cdFx0XHRcdC8vIElmIHdlIGVuY291bnRlciBhbiBlc2NhcGVkICUgdGhlbiBkb24ndCBpbmNyZWFzZSB0aGUgYXJyYXkgaW5kZXhcblx0XHRcdFx0aWYgKG1hdGNoID09PSAnJSUnKSB7XG5cdFx0XHRcdFx0cmV0dXJuICclJztcblx0XHRcdFx0fVxuXHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRjb25zdCBmb3JtYXR0ZXIgPSBjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG5cdFx0XHRcdGlmICh0eXBlb2YgZm9ybWF0dGVyID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0Y29uc3QgdmFsID0gYXJnc1tpbmRleF07XG5cdFx0XHRcdFx0bWF0Y2ggPSBmb3JtYXR0ZXIuY2FsbChzZWxmLCB2YWwpO1xuXG5cdFx0XHRcdFx0Ly8gTm93IHdlIG5lZWQgdG8gcmVtb3ZlIGBhcmdzW2luZGV4XWAgc2luY2UgaXQncyBpbmxpbmVkIGluIHRoZSBgZm9ybWF0YFxuXHRcdFx0XHRcdGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0XHRpbmRleC0tO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBtYXRjaDtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBBcHBseSBlbnYtc3BlY2lmaWMgZm9ybWF0dGluZyAoY29sb3JzLCBldGMuKVxuXHRcdFx0Y3JlYXRlRGVidWcuZm9ybWF0QXJncy5jYWxsKHNlbGYsIGFyZ3MpO1xuXG5cdFx0XHRjb25zdCBsb2dGbiA9IHNlbGYubG9nIHx8IGNyZWF0ZURlYnVnLmxvZztcblx0XHRcdGxvZ0ZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXHRcdH1cblxuXHRcdGRlYnVnLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcblx0XHRkZWJ1Zy51c2VDb2xvcnMgPSBjcmVhdGVEZWJ1Zy51c2VDb2xvcnMoKTtcblx0XHRkZWJ1Zy5jb2xvciA9IGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yKG5hbWVzcGFjZSk7XG5cdFx0ZGVidWcuZXh0ZW5kID0gZXh0ZW5kO1xuXHRcdGRlYnVnLmRlc3Ryb3kgPSBjcmVhdGVEZWJ1Zy5kZXN0cm95OyAvLyBYWFggVGVtcG9yYXJ5LiBXaWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cblxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkZWJ1ZywgJ2VuYWJsZWQnLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcblx0XHRcdGdldDogKCkgPT4ge1xuXHRcdFx0XHRpZiAoZW5hYmxlT3ZlcnJpZGUgIT09IG51bGwpIHtcblx0XHRcdFx0XHRyZXR1cm4gZW5hYmxlT3ZlcnJpZGU7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG5hbWVzcGFjZXNDYWNoZSAhPT0gY3JlYXRlRGVidWcubmFtZXNwYWNlcykge1xuXHRcdFx0XHRcdG5hbWVzcGFjZXNDYWNoZSA9IGNyZWF0ZURlYnVnLm5hbWVzcGFjZXM7XG5cdFx0XHRcdFx0ZW5hYmxlZENhY2hlID0gY3JlYXRlRGVidWcuZW5hYmxlZChuYW1lc3BhY2UpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGVuYWJsZWRDYWNoZTtcblx0XHRcdH0sXG5cdFx0XHRzZXQ6IHYgPT4ge1xuXHRcdFx0XHRlbmFibGVPdmVycmlkZSA9IHY7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBFbnYtc3BlY2lmaWMgaW5pdGlhbGl6YXRpb24gbG9naWMgZm9yIGRlYnVnIGluc3RhbmNlc1xuXHRcdGlmICh0eXBlb2YgY3JlYXRlRGVidWcuaW5pdCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Y3JlYXRlRGVidWcuaW5pdChkZWJ1Zyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRlYnVnO1xuXHR9XG5cblx0ZnVuY3Rpb24gZXh0ZW5kKG5hbWVzcGFjZSwgZGVsaW1pdGVyKSB7XG5cdFx0Y29uc3QgbmV3RGVidWcgPSBjcmVhdGVEZWJ1Zyh0aGlzLm5hbWVzcGFjZSArICh0eXBlb2YgZGVsaW1pdGVyID09PSAndW5kZWZpbmVkJyA/ICc6JyA6IGRlbGltaXRlcikgKyBuYW1lc3BhY2UpO1xuXHRcdG5ld0RlYnVnLmxvZyA9IHRoaXMubG9nO1xuXHRcdHJldHVybiBuZXdEZWJ1Zztcblx0fVxuXG5cdC8qKlxuXHQqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXNcblx0KiBzZXBhcmF0ZWQgYnkgYSBjb2xvbiBhbmQgd2lsZGNhcmRzLlxuXHQqXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBlbmFibGUobmFtZXNwYWNlcykge1xuXHRcdGNyZWF0ZURlYnVnLnNhdmUobmFtZXNwYWNlcyk7XG5cdFx0Y3JlYXRlRGVidWcubmFtZXNwYWNlcyA9IG5hbWVzcGFjZXM7XG5cblx0XHRjcmVhdGVEZWJ1Zy5uYW1lcyA9IFtdO1xuXHRcdGNyZWF0ZURlYnVnLnNraXBzID0gW107XG5cblx0XHRsZXQgaTtcblx0XHRjb25zdCBzcGxpdCA9ICh0eXBlb2YgbmFtZXNwYWNlcyA9PT0gJ3N0cmluZycgPyBuYW1lc3BhY2VzIDogJycpLnNwbGl0KC9bXFxzLF0rLyk7XG5cdFx0Y29uc3QgbGVuID0gc3BsaXQubGVuZ3RoO1xuXG5cdFx0Zm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRpZiAoIXNwbGl0W2ldKSB7XG5cdFx0XHRcdC8vIGlnbm9yZSBlbXB0eSBzdHJpbmdzXG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRuYW1lc3BhY2VzID0gc3BsaXRbaV0ucmVwbGFjZSgvXFwqL2csICcuKj8nKTtcblxuXHRcdFx0aWYgKG5hbWVzcGFjZXNbMF0gPT09ICctJykge1xuXHRcdFx0XHRjcmVhdGVEZWJ1Zy5za2lwcy5wdXNoKG5ldyBSZWdFeHAoJ14nICsgbmFtZXNwYWNlcy5zdWJzdHIoMSkgKyAnJCcpKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNyZWF0ZURlYnVnLm5hbWVzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzICsgJyQnKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCogRGlzYWJsZSBkZWJ1ZyBvdXRwdXQuXG5cdCpcblx0KiBAcmV0dXJuIHtTdHJpbmd9IG5hbWVzcGFjZXNcblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBkaXNhYmxlKCkge1xuXHRcdGNvbnN0IG5hbWVzcGFjZXMgPSBbXG5cdFx0XHQuLi5jcmVhdGVEZWJ1Zy5uYW1lcy5tYXAodG9OYW1lc3BhY2UpLFxuXHRcdFx0Li4uY3JlYXRlRGVidWcuc2tpcHMubWFwKHRvTmFtZXNwYWNlKS5tYXAobmFtZXNwYWNlID0+ICctJyArIG5hbWVzcGFjZSlcblx0XHRdLmpvaW4oJywnKTtcblx0XHRjcmVhdGVEZWJ1Zy5lbmFibGUoJycpO1xuXHRcdHJldHVybiBuYW1lc3BhY2VzO1xuXHR9XG5cblx0LyoqXG5cdCogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBtb2RlIG5hbWUgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuXHQqXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVcblx0KiBAcmV0dXJuIHtCb29sZWFufVxuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGVuYWJsZWQobmFtZSkge1xuXHRcdGlmIChuYW1lW25hbWUubGVuZ3RoIC0gMV0gPT09ICcqJykge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0bGV0IGk7XG5cdFx0bGV0IGxlbjtcblxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGNyZWF0ZURlYnVnLnNraXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRpZiAoY3JlYXRlRGVidWcuc2tpcHNbaV0udGVzdChuYW1lKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Zm9yIChpID0gMCwgbGVuID0gY3JlYXRlRGVidWcubmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmIChjcmVhdGVEZWJ1Zy5uYW1lc1tpXS50ZXN0KG5hbWUpKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8qKlxuXHQqIENvbnZlcnQgcmVnZXhwIHRvIG5hbWVzcGFjZVxuXHQqXG5cdCogQHBhcmFtIHtSZWdFeHB9IHJlZ3hlcFxuXHQqIEByZXR1cm4ge1N0cmluZ30gbmFtZXNwYWNlXG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIHRvTmFtZXNwYWNlKHJlZ2V4cCkge1xuXHRcdHJldHVybiByZWdleHAudG9TdHJpbmcoKVxuXHRcdFx0LnN1YnN0cmluZygyLCByZWdleHAudG9TdHJpbmcoKS5sZW5ndGggLSAyKVxuXHRcdFx0LnJlcGxhY2UoL1xcLlxcKlxcPyQvLCAnKicpO1xuXHR9XG5cblx0LyoqXG5cdCogQ29lcmNlIGB2YWxgLlxuXHQqXG5cdCogQHBhcmFtIHtNaXhlZH0gdmFsXG5cdCogQHJldHVybiB7TWl4ZWR9XG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIGNvZXJjZSh2YWwpIHtcblx0XHRpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0XHRcdHJldHVybiB2YWwuc3RhY2sgfHwgdmFsLm1lc3NhZ2U7XG5cdFx0fVxuXHRcdHJldHVybiB2YWw7XG5cdH1cblxuXHQvKipcblx0KiBYWFggRE8gTk9UIFVTRS4gVGhpcyBpcyBhIHRlbXBvcmFyeSBzdHViIGZ1bmN0aW9uLlxuXHQqIFhYWCBJdCBXSUxMIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cblx0Ki9cblx0ZnVuY3Rpb24gZGVzdHJveSgpIHtcblx0XHRjb25zb2xlLndhcm4oJ0luc3RhbmNlIG1ldGhvZCBgZGVidWcuZGVzdHJveSgpYCBpcyBkZXByZWNhdGVkIGFuZCBubyBsb25nZXIgZG9lcyBhbnl0aGluZy4gSXQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgYGRlYnVnYC4nKTtcblx0fVxuXG5cdGNyZWF0ZURlYnVnLmVuYWJsZShjcmVhdGVEZWJ1Zy5sb2FkKCkpO1xuXG5cdHJldHVybiBjcmVhdGVEZWJ1Zztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXR1cDtcbiJdLCJtYXBwaW5ncyI6IkFBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/debug/src/common.js\n");

/***/ }),

/***/ "./node_modules/es6-tween/bundled/Tween.min.js":
/*!*****************************************************!*\
  !*** ./node_modules/es6-tween/bundled/Tween.min.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global, process) {!function (t, e) {\n   true ? e(exports) : undefined;\n}(this, function (t) {\n  \"use strict\";\n\n  function s(t) {\n    var e = u.indexOf(t);\n    -1 < e && u.splice(e, 1), u.push(t), p = 0, l && !f && (o = c(i), f = !0);\n  }\n  function e(t) {\n    for (var e = 0; e < u.length; e++) {\n      if (t === u[e]) return u[e];\n    }\n    return null;\n  }\n  function F() {\n    return f;\n  }\n  function x() {\n    return d;\n  }\n  var o,\n    r = \"undefined\" != typeof self ? self : \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : this || (void 0 !== t ? t : {}),\n    n = r.requestAnimationFrame || function (t) {\n      return r.setTimeout(t, 50 / 3);\n    },\n    a = r.cancelAnimationFrame || function (t) {\n      return r.clearTimeout(t);\n    },\n    C = function () {\n      if (\"undefined\" == typeof process || void 0 === process.hrtime || process.versions && void 0 !== process.versions.electron) {\n        if (void 0 !== r.performance && void 0 !== r.performance.now) return r.performance.now.bind(r.performance);\n        var t = r.performance && r.performance.timing && r.performance.timing.navigationStart ? r.performance.timing.navigationStart : Date.now();\n        return function () {\n          return Date.now() - t;\n        };\n      }\n      return function () {\n        var t = process.hrtime();\n        return 1e3 * t[0] + t[1] / 1e6;\n      };\n    }(),\n    u = [],\n    f = !1,\n    l = !1,\n    h = [],\n    c = n,\n    p = 0,\n    y = 120,\n    d = !0,\n    N = function N(t) {\n      var e = u.indexOf(t);\n      -1 !== e && u.splice(e, 1), 0 === u.length && (a(o), f = !1);\n    },\n    i = function t() {\n      var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : C(),\n        r = 1 < arguments.length ? arguments[1] : void 0;\n      if (y <= p && d) return f = !1, p = 0, a(o), !1;\n      l && f ? o = c(t) : function () {\n        for (var t = 0; t < h.length; t++) {\n          h[t]();\n        }\n      }(), u.length || p++;\n      for (var n = 0, i = u.length; n < i;) {\n        u[n++].update(e, r), i > u.length && n--, i = u.length;\n      }\n      return !0;\n    },\n    q = {},\n    v = {\n      Linear: {\n        None: function None(t) {\n          return t;\n        }\n      },\n      Quadratic: {\n        In: function In(t) {\n          return Math.pow(t, 2);\n        },\n        Out: function Out(t) {\n          return t * (2 - t);\n        },\n        InOut: function InOut(t) {\n          return (t *= 2) < 1 ? .5 * Math.pow(t, 2) : -.5 * (--t * (t - 2) - 1);\n        }\n      },\n      Cubic: {\n        In: function In(t) {\n          return Math.pow(t, 3);\n        },\n        Out: function Out(t) {\n          return --t * t * t + 1;\n        },\n        InOut: function InOut(t) {\n          return (t *= 2) < 1 ? .5 * Math.pow(t, 3) : .5 * ((t -= 2) * t * t + 2);\n        }\n      },\n      Quartic: {\n        In: function In(t) {\n          return Math.pow(t, 4);\n        },\n        Out: function Out(t) {\n          return 1 - --t * t * t * t;\n        },\n        InOut: function InOut(t) {\n          return (t *= 2) < 1 ? .5 * Math.pow(t, 4) : -.5 * ((t -= 2) * t * t * t - 2);\n        }\n      },\n      Quintic: {\n        In: function In(t) {\n          return Math.pow(t, 5);\n        },\n        Out: function Out(t) {\n          return --t * t * t * t * t + 1;\n        },\n        InOut: function InOut(t) {\n          return (t *= 2) < 1 ? .5 * Math.pow(t, 5) : .5 * ((t -= 2) * t * t * t * t + 2);\n        }\n      },\n      Sinusoidal: {\n        In: function In(t) {\n          return 1 - Math.cos(t * Math.PI / 2);\n        },\n        Out: function Out(t) {\n          return Math.sin(t * Math.PI / 2);\n        },\n        InOut: function InOut(t) {\n          return .5 * (1 - Math.cos(Math.PI * t));\n        }\n      },\n      Exponential: {\n        In: function In(t) {\n          return 0 === t ? 0 : Math.pow(1024, t - 1);\n        },\n        Out: function Out(t) {\n          return 1 === t ? 1 : 1 - Math.pow(2, -10 * t);\n        },\n        InOut: function InOut(t) {\n          return 0 === t ? 0 : 1 === t ? 1 : (t *= 2) < 1 ? .5 * Math.pow(1024, t - 1) : .5 * (2 - Math.pow(2, -10 * (t - 1)));\n        }\n      },\n      Circular: {\n        In: function In(t) {\n          return 1 - Math.sqrt(1 - t * t);\n        },\n        Out: function Out(t) {\n          return Math.sqrt(1 - --t * t);\n        },\n        InOut: function InOut(t) {\n          return (t *= 2) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n        }\n      },\n      Elastic: {\n        In: function In(t) {\n          return 0 === t ? 0 : 1 === t ? 1 : -Math.pow(2, 10 * (t - 1)) * Math.sin(5 * (t - 1.1) * Math.PI);\n        },\n        Out: function Out(t) {\n          return 0 === t ? 0 : 1 === t ? 1 : Math.pow(2, -10 * t) * Math.sin(5 * (t - .1) * Math.PI) + 1;\n        },\n        InOut: function InOut(t) {\n          return 0 === t ? 0 : 1 === t ? 1 : (t *= 2) < 1 ? -.5 * Math.pow(2, 10 * (t - 1)) * Math.sin(5 * (t - 1.1) * Math.PI) : .5 * Math.pow(2, -10 * (t - 1)) * Math.sin(5 * (t - 1.1) * Math.PI) + 1;\n        }\n      },\n      Back: {\n        In: function In(t) {\n          return t * t * (2.70158 * t - 1.70158);\n        },\n        Out: function Out(t) {\n          return --t * t * (2.70158 * t + 1.70158) + 1;\n        },\n        InOut: function InOut(t) {\n          var e = 2.5949095;\n          return (t *= 2) < 1 ? t * t * ((1 + e) * t - e) * .5 : .5 * ((t -= 2) * t * ((1 + e) * t + e) + 2);\n        }\n      },\n      Bounce: {\n        In: function In(t) {\n          return 1 - v.Bounce.Out(1 - t);\n        },\n        Out: function Out(t) {\n          var e = 2.75,\n            r = 7.5625;\n          return t < 1 / e ? r * t * t : t < 2 / e ? r * (t -= 1.5 / e) * t + .75 : t < 2.5 / e ? r * (t -= 2.25 / e) * t + .9375 : r * (t -= 2.625 / e) * t + .984375;\n        },\n        InOut: function InOut(t) {\n          return t < .5 ? .5 * v.Bounce.In(2 * t) : .5 * v.Bounce.Out(2 * t - 1) + .5;\n        }\n      },\n      Stepped: {\n        steps: function steps(e) {\n          return function (t) {\n            return (t * e | 0) / e;\n          };\n        }\n      }\n    };\n  function m(t) {\n    return (m = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n      return typeof t;\n    } : function (t) {\n      return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n    })(t);\n  }\n  function _(t, e) {\n    if (!(t instanceof e)) throw new TypeError(\"Cannot call a class as a function\");\n  }\n  function g(t, e) {\n    for (var r = 0; r < e.length; r++) {\n      var n = e[r];\n      n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);\n    }\n  }\n  function b(t, e, r) {\n    return e && g(t.prototype, e), r && g(t, r), t;\n  }\n  function T(e, t) {\n    var r = Object.keys(e);\n    if (Object.getOwnPropertySymbols) {\n      var n = Object.getOwnPropertySymbols(e);\n      t && (n = n.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, n);\n    }\n    return r;\n  }\n  function O(i) {\n    for (var t = 1; t < arguments.length; t++) {\n      var o = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? T(Object(o), !0).forEach(function (t) {\n        var e, r, n;\n        e = i, n = o[r = t], r in e ? Object.defineProperty(e, r, {\n          value: n,\n          enumerable: !0,\n          configurable: !0,\n          writable: !0\n        }) : e[r] = n;\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(i, Object.getOwnPropertyDescriptors(o)) : T(Object(o)).forEach(function (t) {\n        Object.defineProperty(i, t, Object.getOwnPropertyDescriptor(o, t));\n      });\n    }\n    return i;\n  }\n  function w(t) {\n    return (w = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {\n      return t.__proto__ || Object.getPrototypeOf(t);\n    })(t);\n  }\n  function k(t, e) {\n    return (k = Object.setPrototypeOf || function (t, e) {\n      return t.__proto__ = e, t;\n    })(t, e);\n  }\n  function j(t) {\n    if (void 0 === t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    return t;\n  }\n  function A(t, e) {\n    return !e || \"object\" != typeof e && \"function\" != typeof e ? j(t) : e;\n  }\n  function S(t, e) {\n    return function (t) {\n      if (Array.isArray(t)) return t;\n    }(t) || function (t, e) {\n      if (!(Symbol.iterator in Object(t) || \"[object Arguments]\" === Object.prototype.toString.call(t))) return;\n      var r = [],\n        n = !0,\n        i = !1,\n        o = void 0;\n      try {\n        for (var s, a = t[Symbol.iterator](); !(n = (s = a.next()).done) && (r.push(s.value), !e || r.length !== e); n = !0) {\n          ;\n        }\n      } catch (t) {\n        i = !0, o = t;\n      } finally {\n        try {\n          n || null == a.return || a.return();\n        } finally {\n          if (i) throw o;\n        }\n      }\n      return r;\n    }(t, e) || function () {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }();\n  }\n  var D = 50 / 3,\n    U = \"_chainedTweens\",\n    E = \"Callback\",\n    V = \"update\",\n    B = \"complete\",\n    G = \"start\",\n    z = \"repeat\",\n    Q = \"reverse\",\n    P = \"restart\",\n    M = \"STRING_PROP\",\n    R = /\\s+|([A-Za-z?().,{}:\"\"[\\]#%]+)|([-+]=+)?([-+]+)?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]=?\\d+)?/g;\n  function I(t) {\n    if (t && t.nodeType || void 0 === t || \"object\" !== m(t)) return t;\n    if (Array.isArray(t)) return [].concat(t);\n    if (\"object\" !== m(t)) return t;\n    var e = {};\n    for (var r in t) {\n      e[r] = I(t[r]);\n    }\n    return e;\n  }\n  var L = function L(t) {\n      return isNaN(+t) || (\"+\" === t[0] || \"-\" === t[0]) && \"=\" === t[1] || \"\" === t || \" \" === t;\n    },\n    K = /^#([0-9a-f]{6}|[0-9a-f]{3})$/gi,\n    W = function W(t, e) {\n      var r, n, i;\n      3 === e.length && (e = (r = e[0]) + r + (n = e[1]) + n + (i = e[2]) + i);\n      var o = parseInt(e, 16);\n      return \"rgb(\" + (r = o >> 16 & 255) + \", \" + (n = o >> 8 & 255) + \", \" + (i = 255 & o) + \")\";\n    };\n  function H(t) {\n    if (t && t.splice && t.isString) return t;\n    if (\"string\" != typeof t) return t;\n    if (\"=\" === t.charAt(1)) return t;\n    var e = t.replace(K, W).match(R).map(function (t) {\n      return L(t) ? t : +t;\n    });\n    return e.isString = !0, e;\n  }\n  function X(r, n, t, e) {\n    var i = t[r],\n      o = e[r];\n    if (i === o) return !0;\n    if (Array.isArray(i) && Array.isArray(o) && i.length === o.length) for (var s = 0, a = o.length; s < a; s++) {\n      var u = i[s],\n        f = o[s];\n      u === f || \"number\" == typeof u && \"number\" == typeof f || X(s, n[r], i, o);\n    }\n    if (!(\"number\" == typeof i && \"number\" == typeof o || i && i.splice && i.isString && o && o.splice && o.isString)) {\n      if (\"string\" == typeof i && Array.isArray(o)) {\n        var l = H(i),\n          h = o.map(H);\n        return t[r] = l, e[r] = h, !0;\n      }\n      if (\"string\" == typeof i || \"string\" == typeof o) {\n        var c = Array.isArray(i) && i[0] === M ? i : H(i),\n          p = Array.isArray(o) && o[0] === M ? o : H(o);\n        if (void 0 === c) return;\n        for (var y = 1; y < c.length;) {\n          c[y] === p[y] && \"string\" == typeof c[y - 1] ? (c.splice(y - 1, 2, c[y - 1] + c[y]), p.splice(y - 1, 2, p[y - 1] + p[y])) : y++;\n        }\n        return c[y = 0] === M && c.shift(), p[0] === M && p.shift(), t[r] = c, e[r] = p, !0;\n      }\n      if (\"object\" === m(i) && \"object\" === m(o)) {\n        if (Array.isArray(i) && !i.isString) return i.map(function (t, e) {\n          return X(e, n[r], i, o);\n        });\n        for (var d in o) {\n          X(d, n[r], i, o);\n        }\n        return !0;\n      }\n    }\n    return !1;\n  }\n  var Y = \"rgba(\",\n    Z = function Z(t, e, r) {\n      var n = 2 < arguments.length && void 0 !== r ? r : \"rgb(\";\n      return \"number\" == typeof t[e] && (t[e - 1] === n || t[e - 3] === n || t[e - 5] === n);\n    };\n  function $(t, e, r, n, i, o, s) {\n    var a = s ? r : r[t],\n      u = s ? n : n[t];\n    if (void 0 === u) return a;\n    if (void 0 === a || \"string\" == typeof a || a === u) return u;\n    if (\"object\" === m(a) && \"object\" === m(u)) {\n      if (!a || !u) return e[t];\n      if (\"object\" === m(a) && a && a.isString && u && u.splice && u.isString) {\n        for (var f = \"\", l = 0, h = a.length; l < h; l++) {\n          if (a[l] !== u[l] || \"number\" != typeof a[l] || \"number\" == typeof u[l]) {\n            var c = \"number\" == typeof a[l] && \"string\" == typeof u[l] && \"=\" === u[l][1],\n              p = \"number\" != typeof a[l] ? a[l] : c ? a[l] + parseFloat(u[l][0] + u[l].substr(2)) * i : a[l] + (u[l] - a[l]) * i;\n            (Z(a, l) || Z(a, l, Y)) && (p |= 0), f += p, c && 1 === o && (a[l] = a[l] + parseFloat(u[l][0] + u[l].substr(2)));\n          } else f += a[l];\n        }\n        return s || (e[t] = f), f;\n      }\n      if (Array.isArray(a) && a[0] !== M) for (var y = 0, d = a.length; y < d; y++) {\n        a[y] !== u[y] && \"string\" != typeof e[t] && $(y, e[t], a, u, i, o);\n      } else if (\"object\" === m(a) && a && !a.isString) for (var v in a) {\n        a[v] !== u[v] && $(v, e[t], a, u, i, o);\n      }\n    } else if (\"number\" == typeof a) {\n      var _ = \"string\" == typeof u;\n      e[t] = _ ? a + parseFloat(u[0] + u.substr(2)) * i : a + (u - a) * i, _ && 1 === o && (r[t] = e[t]);\n    } else \"function\" == typeof u && (e[t] = u(i));\n    return e[t];\n  }\n  function J(t, e) {\n    var i = t[e],\n      o = e.replace(nt, \"\").split(rt),\n      s = o.length - 1,\n      a = Array.isArray(t),\n      u = \"object\" === m(t) && !a;\n    return u ? (t[e] = null, delete t[e]) : a && t.splice(e, 1), o.reduce(function (t, e, r) {\n      a && \".\" !== e && \"[\" !== e && (e *= 1);\n      var n = \"[\" === o[r + 1];\n      if (\".\" === e || \"[\" === e) return \".\" === e ? a = !(u = !0) : \"[\" === e && (a = !(u = !1)), t;\n      if (void 0 === t[e]) {\n        if (a || u) return t[e] = r === s ? i : a || n ? [] : u ? {} : null, u = a = !1, t[e];\n      } else if (void 0 !== t[e]) return r === s && (t[e] = i), t[e];\n      return t;\n    }, t);\n  }\n  function tt(t) {\n    if (\"object\" === m(t) && t) for (var e in t) {\n      if (-1 !== e.indexOf(\".\") || -1 !== e.indexOf(\"[\")) J(t, e);else if (\"object\" === m(t[e]) && t[e]) {\n        var r = t[e];\n        for (var n in r) {\n          if (-1 !== n.indexOf(\".\") || -1 !== n.indexOf(\"[\")) J(r, n);else if (\"object\" === m(r[n]) && r[n]) {\n            var i = r[n];\n            for (var o in i) {\n              -1 === o.indexOf(\".\") && -1 === o.indexOf(\"[\") || J(i, o);\n            }\n          }\n        }\n      }\n    }\n    return t;\n  }\n  var et,\n    rt = /([.[])/g,\n    nt = /\\]/g,\n    it = Object.freeze({\n      __proto__: null,\n      FRAME_MS: D,\n      TOO_LONG_FRAME_MS: 250,\n      CHAINED_TWEENS: U,\n      EVENT_CALLBACK: E,\n      EVENT_UPDATE: V,\n      EVENT_COMPLETE: B,\n      EVENT_START: G,\n      EVENT_REPEAT: z,\n      EVENT_REVERSE: Q,\n      EVENT_PAUSE: \"pause\",\n      EVENT_PLAY: \"play\",\n      EVENT_RESTART: P,\n      EVENT_STOP: \"stop\",\n      EVENT_SEEK: \"seek\",\n      STRING_PROP: M,\n      NUM_REGEX: R,\n      deepCopy: I,\n      decomposeString: H,\n      decompose: X,\n      RGB: \"rgb(\",\n      RGBA: Y,\n      isRGBColor: Z,\n      recompose: $,\n      SET_NESTED: tt\n    }),\n    ot = {\n      Linear: function Linear(t, e, r) {\n        var n = t.length - 1,\n          i = n * e,\n          o = Math.floor(i),\n          s = ot.Utils.Linear;\n        return e < 0 ? s(t[0], t[1], i, r) : 1 < e ? s(t[n], t[n - 1], n - i, r) : s(t[o], t[n < o + 1 ? n : o + 1], i - o, r);\n      },\n      Bezier: function Bezier(t, e, r) {\n        for (var n = ot.Utils.Reset(r), i = t.length - 1, o = Math.pow, s = ot.Utils.Bernstein, a = Array.isArray(n), u = 0; u <= i; u++) {\n          if (\"number\" == typeof n) n += o(1 - e, i - u) * o(e, u) * t[u] * s(i, u);else if (a) for (var f = 0, l = n.length; f < l; f++) {\n            \"number\" == typeof n[f] ? n[f] += o(1 - e, i - u) * o(e, u) * t[u][f] * s(i, u) : n[f] = t[u][f];\n          } else if (\"object\" === m(n)) for (var h in n) {\n            \"number\" == typeof n[h] ? n[h] += o(1 - e, i - u) * o(e, u) * t[u][h] * s(i, u) : n[h] = t[u][h];\n          } else if (\"string\" == typeof n) {\n            for (var c = \"\", p = t[Math.round(i * e)], y = 1, d = p.length; y < d; y++) {\n              c += p[y];\n            }\n            return c;\n          }\n        }\n        return n;\n      },\n      CatmullRom: function CatmullRom(t, e, r) {\n        var n = t.length - 1,\n          i = n * e,\n          o = Math.floor(i),\n          s = ot.Utils.CatmullRom;\n        return t[0] === t[n] ? (e < 0 && (o = Math.floor(i = n * (1 + e))), s(t[(o - 1 + n) % n], t[o], t[(o + 1) % n], t[(o + 2) % n], i - o, r)) : e < 0 ? s(t[1], t[1], t[0], t[0], -e, r) : 1 < e ? s(t[n - 1], t[n - 1], t[n], t[n], (0 | e) - e, r) : s(t[o ? o - 1 : 0], t[o], t[n < o + 1 ? n : o + 1], t[n < o + 2 ? n : o + 2], i - o, r);\n      },\n      Utils: {\n        Linear: function Linear(t, e, r, n) {\n          if (t === e || \"string\" == typeof t) {\n            if (e.length && e.splice && e.isString) {\n              e = \"\";\n              for (var i = 0, o = t.length; i < o; i++) {\n                e += t[i];\n              }\n            }\n            return e;\n          }\n          if (\"number\" == typeof t) return \"function\" == typeof t ? t(r) : t + (e - t) * r;\n          if (\"object\" === m(t)) {\n            if (void 0 !== t.length) {\n              var s = \"string\" == typeof t[0] || t.isString;\n              if (s || t[0] === M) {\n                for (var a = \"\", u = s ? 0 : 1, f = t.length; u < f; u++) {\n                  var l = 0 === r ? t[u] : 1 !== r && \"number\" == typeof t[u] ? t[u] + (e[u] - t[u]) * r : e[u];\n                  (0 < r && r < 1 && Z(t, u) || Z(t, u, Y)) && (l |= 0), a += l;\n                }\n                return a;\n              }\n              if (n && n.length && n.splice) for (var h = 0, c = n.length; h < c; h++) {\n                n[h] = ot.Utils.Linear(t[h], e[h], r, n[h]);\n              }\n            } else for (var p in n) {\n              n[p] = ot.Utils.Linear(t[p], e[p], r, n[p]);\n            }\n            return n;\n          }\n        },\n        Reset: function Reset(t) {\n          if (Array.isArray(t)) {\n            for (var e = 0, r = t.length; e < r; e++) {\n              t[e] = ot.Utils.Reset(t[e]);\n            }\n            return t;\n          }\n          if (\"object\" !== m(t)) return \"number\" == typeof t ? 0 : t;\n          for (var n in t) {\n            t[n] = ot.Utils.Reset(t[n]);\n          }\n          return t;\n        },\n        Bernstein: function Bernstein(t, e) {\n          var r = ot.Utils.Factorial;\n          return r(t) / r(e) / r(t - e);\n        },\n        Factorial: (et = [1], function (t) {\n          var e = 1;\n          if (et[t]) return et[t];\n          for (var r = t; 1 < r; r--) {\n            e *= r;\n          }\n          return et[t] = e;\n        }),\n        CatmullRom: function CatmullRom(t, e, r, n, i, o) {\n          if (\"string\" == typeof t) return e;\n          if (\"number\" == typeof t) {\n            var s = .5 * (r - t),\n              a = .5 * (n - e),\n              u = i * i;\n            return (2 * e - 2 * r + s + a) * (i * u) + (-3 * e + 3 * r - 2 * s - a) * u + s * i + e;\n          }\n          if (\"object\" === m(t)) {\n            if (void 0 !== t.length) {\n              if (t[0] === M) {\n                for (var f = \"\", l = 1, h = t.length; l < h; l++) {\n                  var c = \"number\" == typeof t[l] ? ot.Utils.CatmullRom(t[l], e[l], r[l], n[l], i) : n[l];\n                  (Z(t, l) || Z(t, l, Y)) && (c |= 0), f += c;\n                }\n                return f;\n              }\n              for (var p = 0, y = o.length; p < y; p++) {\n                o[p] = ot.Utils.CatmullRom(t[p], e[p], r[p], n[p], i, o[p]);\n              }\n            } else for (var d in o) {\n              o[d] = ot.Utils.CatmullRom(t[d], e[d], r[d], n[d], i, o[d]);\n            }\n            return o;\n          }\n        }\n      }\n    },\n    st = {};\n  function at(t, e, r) {\n    if (!t || !t.nodeType) return e;\n    var n = t.queueID || \"q_\" + Date.now();\n    t.queueID || (t.queueID = n);\n    var i = st[n];\n    if (i) {\n      if (i.object === e && t === i.tween.node && r._startTime === i.tween._startTime) N(i.tween);else if (\"object\" === m(e) && e && i.object) {\n        for (var o in e) {\n          o in i.object && (r._startTime === i.tween._startTime ? delete i.object[o] : i.propNormaliseRequired = !0);\n        }\n        Object.assign(i.object, e);\n      }\n      return i.object;\n    }\n    return \"object\" === m(e) && e ? (st[n] = {\n      tween: r,\n      object: e,\n      propNormaliseRequired: !1\n    }, st[n].object) : e;\n  }\n  function ut(t, e, r) {\n    return e ? t ? \"undefined\" != typeof window && t === window || \"undefined\" != typeof document && t === document ? [t] : \"string\" == typeof t ? !!document.querySelectorAll && document.querySelectorAll(t) : Array.isArray(t) ? t : t.nodeType ? [t] : r ? t : [] : null : t ? \"undefined\" != typeof window && t === window || \"undefined\" != typeof document && t === document ? t : \"string\" == typeof t ? !!document.querySelector && document.querySelector(t) : Array.isArray(t) ? t[0] : t.nodeType || r ? t : null : null;\n  }\n  var ft = 0,\n    lt = v.Linear.None,\n    ht = function () {\n      function L(t, e) {\n        return _(this, L), this.id = ft++, !t || \"object\" !== m(t) || e || t.nodeType ? t && (t.nodeType || t.length || \"string\" == typeof t) && (t = this.node = ut(t), e = this.object = at(t, e, this)) : (e = this.object = t, t = null), this._valuesEnd = null, this._valuesStart = Array.isArray(e) ? [] : {}, this._duration = 1e3, this._easingFunction = lt, this._easingReverse = lt, this._interpolationFunction = ot.Linear, this._startTime = 0, this._initTime = 0, this._delayTime = 0, this._repeat = 0, this._r = 0, this._isPlaying = !1, this._yoyo = !1, this._reversed = !1, this._onStartCallbackFired = !1, this._pausedTime = null, this._isFinite = !0, this._maxListener = 15, this._chainedTweensCount = 0, this._prevTime = null, this;\n      }\n      return b(L, null, [{\n        key: \"fromTo\",\n        value: function value(t, e, r, n) {\n          var i = 3 < arguments.length && void 0 !== n ? n : {};\n          i.quickRender = i.quickRender ? i.quickRender : !r;\n          var o = new L(t, e).to(r, i);\n          return i.quickRender && (o.render().update(o._startTime), o._rendered = !1, o._onStartCallbackFired = !1), o;\n        }\n      }, {\n        key: \"to\",\n        value: function value(t, e, r) {\n          return L.fromTo(t, null, e, r);\n        }\n      }, {\n        key: \"from\",\n        value: function value(t, e, r) {\n          return L.fromTo(t, e, null, r);\n        }\n      }]), b(L, [{\n        key: \"setMaxListener\",\n        value: function value(t) {\n          var e = 0 < arguments.length && void 0 !== t ? t : 15;\n          return this._maxListener = e, this;\n        }\n      }, {\n        key: \"on\",\n        value: function value(t, e) {\n          for (var r = this._maxListener, n = t + E, i = 0; i < r; i++) {\n            var o = n + i;\n            if (!this[o]) {\n              this[o] = e;\n              break;\n            }\n          }\n          return this;\n        }\n      }, {\n        key: \"once\",\n        value: function value(t, i) {\n          for (var o = this, e = this._maxListener, r = t + E, n = function n(t) {\n              var n = r + t;\n              if (!o[n]) return o[n] = function () {\n                for (var t = arguments.length, e = new Array(t), r = 0; r < t; r++) {\n                  e[r] = arguments[r];\n                }\n                i.apply(o, e), o[n] = null;\n              }, \"break\";\n            }, s = 0; s < e; s++) {\n            if (\"break\" === n(s)) break;\n          }\n          return this;\n        }\n      }, {\n        key: \"off\",\n        value: function value(t, e) {\n          for (var r = this._maxListener, n = t + E, i = 0; i < r; i++) {\n            var o = n + i;\n            this[o] === e && (this[o] = null);\n          }\n          return this;\n        }\n      }, {\n        key: \"emit\",\n        value: function value(t, e, r, n) {\n          var i = this._maxListener,\n            o = t + E;\n          if (!this[o + 0]) return this;\n          for (var s = 0; s < i; s++) {\n            var a = o + s;\n            this[a] && this[a](e, r, n);\n          }\n          return this;\n        }\n      }, {\n        key: \"isPlaying\",\n        value: function value() {\n          return this._isPlaying;\n        }\n      }, {\n        key: \"isStarted\",\n        value: function value() {\n          return this._onStartCallbackFired;\n        }\n      }, {\n        key: \"reverse\",\n        value: function value(t) {\n          var e = this._reversed;\n          return this._reversed = void 0 !== t ? t : !e, this;\n        }\n      }, {\n        key: \"reversed\",\n        value: function value() {\n          return this._reversed;\n        }\n      }, {\n        key: \"pause\",\n        value: function value() {\n          return this._isPlaying ? (this._isPlaying = !1, N(this), this._pausedTime = C(), this.emit(\"pause\", this.object)) : this;\n        }\n      }, {\n        key: \"play\",\n        value: function value() {\n          return this._isPlaying ? this : (this._isPlaying = !0, this._startTime += C() - this._pausedTime, this._initTime = this._startTime, s(this), this._pausedTime = C(), this.emit(\"play\", this.object));\n        }\n      }, {\n        key: \"restart\",\n        value: function value() {\n          return this._repeat = this._r, this.reassignValues(), s(this), this.emit(P, this.object);\n        }\n      }, {\n        key: \"seek\",\n        value: function value(t, e) {\n          var r = this._duration,\n            n = this._initTime,\n            i = this._startTime,\n            o = this._reversed,\n            s = n + t;\n          return this._isPlaying = !0, s < i && n <= i && (this._startTime -= r, this._reversed = !o), this.update(t, !1), this.emit(\"seek\", t, this.object), e ? this : this.pause();\n        }\n      }, {\n        key: \"duration\",\n        value: function value(t) {\n          return this._duration = \"function\" == typeof t ? t(this._duration) : t, this;\n        }\n      }, {\n        key: \"to\",\n        value: function value(t, e) {\n          var r = 1 < arguments.length && void 0 !== e ? e : 1e3;\n          if (this._valuesEnd = t, \"number\" == typeof r || \"function\" == typeof r) this._duration = \"function\" == typeof r ? r(this._duration) : r;else if (\"object\" === m(r)) for (var n in r) {\n            if (\"function\" == typeof this[n]) {\n              var i = S(Array.isArray(r[n]) ? r[n] : [r[n]], 4),\n                o = i[0],\n                s = void 0 === o ? null : o,\n                a = i[1],\n                u = void 0 === a ? null : a,\n                f = i[2],\n                l = void 0 === f ? null : f,\n                h = i[3],\n                c = void 0 === h ? null : h;\n              this[n](s, u, l, c);\n            }\n          }\n          return this;\n        }\n      }, {\n        key: \"render\",\n        value: function value() {\n          if (this._rendered) return this;\n          var t = this._valuesStart,\n            e = this._valuesEnd,\n            r = this.object,\n            n = this.node,\n            i = this.InitialValues;\n          if (tt(r), tt(e), n && n.queueID && st[n.queueID]) {\n            var o = st[n.queueID];\n            if (o.propNormaliseRequired && o.tween !== this) {\n              for (var s in e) {\n                o.tween._valuesEnd[s];\n              }\n              o.normalisedProp = !0, o.propNormaliseRequired = !1;\n            }\n          }\n          if (n && i && (r && 0 !== Object.keys(r).length ? e && 0 !== Object.keys(e).length || (e = this._valuesEnd = i(n, r)) : r = this.object = at(n, i(n, e), this)), !t.processed) {\n            for (var a in e) {\n              var u = r && r[a] && I(r[a]),\n                f = e[a];\n              if (!(q[a] && q[a].init && (q[a].init.call(this, u, f, a, r), void 0 === u && t[a] && (u = t[a]), q[a].skipProcess)) && !(\"number\" == typeof u && isNaN(u) || null === u || null === f || !1 === u || !1 === f || void 0 === u || void 0 === f || u === f)) {\n                if (t[a] = u, Array.isArray(f)) {\n                  if (Array.isArray(u)) f.isString && r[a].isString && !u.isString ? u.isString = !0 : X(a, r, t, e);else {\n                    f.unshift(u);\n                    for (var l = 0, h = f.length; l < h; l++) {\n                      \"string\" == typeof f[l] && (f[l] = H(f[l]));\n                    }\n                  }\n                } else X(a, r, t, e);\n                \"number\" != typeof u || \"string\" != typeof f || f[1];\n              }\n            }\n            t.processed = !0;\n          }\n          return L.Renderer && this.node && L.Renderer.init && (L.Renderer.init.call(this, r, t, e), this.__render = !0), this._rendered = !0, this;\n        }\n      }, {\n        key: \"start\",\n        value: function value(t) {\n          return this._startTime = void 0 !== t ? \"string\" == typeof t ? C() + parseFloat(t) : t : C(), this._startTime += this._delayTime, this._initTime = this._prevTime = this._startTime, this._onStartCallbackFired = !1, this._rendered = !1, this._isPlaying = !0, s(this), this;\n        }\n      }, {\n        key: \"stop\",\n        value: function value() {\n          var t = this._isPlaying,\n            e = this._isFinite,\n            r = this.object,\n            n = this._startTime,\n            i = this._duration,\n            o = this._r,\n            s = this._yoyo,\n            a = this._reversed;\n          if (!t) return this;\n          var u = e ? (o + 1) % 2 == 1 : !a;\n          return this._reversed = !1, s && u ? this.update(n) : this.update(n + i), N(this), this.emit(\"stop\", r);\n        }\n      }, {\n        key: \"delay\",\n        value: function value(t) {\n          return this._delayTime = \"function\" == typeof t ? t(this._delayTime) : t, this;\n        }\n      }, {\n        key: \"chainedTweens\",\n        value: function value() {\n          if (this._chainedTweensCount = arguments.length, !this._chainedTweensCount) return this;\n          for (var t = 0, e = this._chainedTweensCount; t < e; t++) {\n            this[U + t] = arguments[t];\n          }\n          return this;\n        }\n      }, {\n        key: \"repeat\",\n        value: function value(t) {\n          return this._repeat = this._duration ? \"function\" == typeof t ? t(this._repeat) : t : 0, this._r = this._repeat, this._isFinite = isFinite(t), this;\n        }\n      }, {\n        key: \"reverseDelay\",\n        value: function value(t) {\n          return this._reverseDelayTime = \"function\" == typeof t ? t(this._reverseDelayTime) : t, this;\n        }\n      }, {\n        key: \"yoyo\",\n        value: function value(t, e) {\n          return this._yoyo = \"function\" == typeof t ? t(this._yoyo) : null === t ? this._yoyo : t, t || (this._reversed = !1), this._easingReverse = e || null, this;\n        }\n      }, {\n        key: \"easing\",\n        value: function value(t) {\n          return this._easingFunction = t, this;\n        }\n      }, {\n        key: \"interpolation\",\n        value: function value(t) {\n          return \"function\" == typeof t && (this._interpolationFunction = t), this;\n        }\n      }, {\n        key: \"reassignValues\",\n        value: function value(t) {\n          var e = this._valuesStart,\n            r = this.object,\n            n = this._delayTime;\n          for (var i in this._isPlaying = !0, this._startTime = void 0 !== t ? t : C(), this._startTime += n, this._reversed = !1, s(this), e) {\n            var o = e[i];\n            r[i] = o;\n          }\n          return this;\n        }\n      }, {\n        key: \"update\",\n        value: function value(t, e, r) {\n          var n,\n            i,\n            o,\n            s = this._onStartCallbackFired,\n            a = this._easingFunction,\n            u = this._interpolationFunction,\n            f = this._easingReverse,\n            l = this._repeat,\n            h = this._delayTime,\n            c = this._reverseDelayTime,\n            p = this._yoyo,\n            y = this._reversed,\n            d = this._startTime,\n            v = this._prevTime,\n            _ = this._duration,\n            m = this._valuesStart,\n            g = this._valuesEnd,\n            b = this.object,\n            T = this._isFinite,\n            O = this._isPlaying,\n            w = this.__render,\n            k = this._chainedTweensCount,\n            j = 0;\n          if (_) {\n            var A = (t = void 0 !== t ? t : C()) - v;\n            if (this._prevTime = t, 250 < A && F() && x() && (t -= A - D), !O || t < d && !r) return !0;\n            n = 1 < (n = (t - d) / _) ? 1 : n, n = y ? 1 - n : n;\n          } else n = 1, l = 0;\n          if (s || (this._rendered || (this.render(), this._rendered = !0), this.emit(G, b), this._onStartCallbackFired = !0), i = y && f || a, !b) return !0;\n          for (o in g) {\n            var S = m[o];\n            if (null != S || q[o] && q[o].update) {\n              var E = g[o],\n                P = i[o] ? i[o](n) : (\"function\" == typeof i ? i : lt)(n),\n                M = u[o] ? u[o] : \"function\" == typeof u ? u : ot.Linear;\n              \"number\" == typeof E ? b[o] = S + (E - S) * P : !Array.isArray(E) || E.isString || Array.isArray(S) ? E && E.update ? E.update(P) : \"function\" == typeof E ? b[o] = E(P) : \"string\" == typeof E && \"number\" == typeof S ? b[o] = S + parseFloat(E[0] + E.substr(2)) * P : $(o, b, m, g, P, n) : b[o] = M(E, P, b[o]), q[o] && q[o].update && q[o].update.call(this, b[o], S, E, P, n, o), j++;\n            }\n          }\n          if (!j) return N(this), !1;\n          if (w && L.Renderer && L.Renderer.update && L.Renderer.update.call(this, b, n), this.emit(V, b, n, t), 1 === n || y && 0 === n) {\n            if (0 < l && 0 < _) {\n              if (T && this._repeat--, p) this._reversed = !y;else for (o in g) {\n                var R = g[o];\n                \"string\" == typeof R && \"number\" == typeof m[o] && (m[o] += parseFloat(R[0] + R.substr(2)));\n              }\n              return this.emit(p && !y ? Q : z, b), this._startTime = y && c ? t - c : t + h, !0;\n            }\n            if (e || (this._isPlaying = !1, N(this), ft--), this.emit(B, b), this._repeat = this._r, k) for (var I = 0; I < k; I++) {\n              this[U + I].start(t + _);\n            }\n            return !1;\n          }\n          return !0;\n        }\n      }]), L;\n    }(),\n    ct = function () {\n      function t() {\n        _(this, t), this.totalTime = 0, this.labels = [], this.offsets = [];\n      }\n      return b(t, [{\n        key: \"parseLabel\",\n        value: function value(t, e) {\n          var r = this.offsets,\n            n = this.labels,\n            i = n.indexOf(t);\n          if (\"string\" == typeof t && -1 !== t.indexOf(\"=\") && !e && -1 === i) {\n            var o = t.substr(t.indexOf(\"=\") - 1, 2),\n              s = t.split(o);\n            e = 2 === s.length ? o + s[1] : null, t = s[0], i = n.indexOf(t);\n          }\n          if (-1 !== i && t) {\n            var a = r[i] || 0;\n            if (\"number\" == typeof e) a = e;else if (\"string\" == typeof e && -1 !== e.indexOf(\"=\")) {\n              var u = e.charAt(0);\n              e = Number(e.substr(2)), \"+\" === u || \"-\" === u ? a += parseFloat(u + e) : \"*\" === u ? a *= e : \"/\" === u ? a /= e : \"%\" === u && (a *= e / 100);\n            }\n            return a;\n          }\n          return \"number\" == typeof e ? e : 0;\n        }\n      }, {\n        key: \"addLabel\",\n        value: function value(t, e) {\n          return this.labels.push(t), this.offsets.push(this.parseLabel(t, e)), this;\n        }\n      }, {\n        key: \"setLabel\",\n        value: function value(t, e) {\n          var r = this.labels.indexOf(t);\n          return -1 !== r && this.offsets.splice(r, 1, this.parseLabel(t, e)), this;\n        }\n      }, {\n        key: \"eraseLabel\",\n        value: function value(t) {\n          var e = this.labels.indexOf(t);\n          return -1 !== e && (this.labels.splice(e, 1), this.offsets.splice(e, 1)), this;\n        }\n      }]), t;\n    }(),\n    pt = 0,\n    yt = function () {\n      function r(t) {\n        var e;\n        return _(this, r), (e = A(this, w(r).call(this)))._duration = 0, e._startTime = t && void 0 !== t.startTime ? t.startTime : C(), e._tweens = [], e.elapsed = 0, e._id = pt++, e._defaultParams = t, e.position = new ct(), e.position.addLabel(\"afterLast\", e._duration), e.position.addLabel(\"afterInit\", e._startTime), e._onStartCallbackFired = !1, A(e, j(e));\n      }\n      return function (t, e) {\n        if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n        t.prototype = Object.create(e && e.prototype, {\n          constructor: {\n            value: t,\n            writable: !0,\n            configurable: !0\n          }\n        }), e && k(t, e);\n      }(r, ht), b(r, [{\n        key: \"mapTotal\",\n        value: function value(t) {\n          return t.call(this, this._tweens), this;\n        }\n      }, {\n        key: \"timingOrder\",\n        value: function value(t) {\n          var r = t(this._tweens.map(function (t) {\n            return t._startTime;\n          }));\n          return this._tweens.map(function (t, e) {\n            t._startTime = r[e];\n          }), this;\n        }\n      }, {\n        key: \"getTiming\",\n        value: function value(t, e, r, n) {\n          var i = 3 < arguments.length && void 0 !== n ? n : 0;\n          if (\"reverse\" === t) {\n            var o = r.stagger,\n              s = (o || 0) * (e.length - 1);\n            return e.map(function (t, e) {\n              return s - (o || 0) * e + i;\n            });\n          }\n          if (\"async\" === t) return e.map(function (t) {\n            return i;\n          });\n          if (\"sequence\" === t || \"delayed\" === t) {\n            var a = r.stagger;\n            return a = a || (r.duration || 1e3) / (e.length - 1), e.map(function (t, e) {\n              return a * e + i;\n            });\n          }\n          if (\"oneByOne\" === t) return e.map(function (t) {\n            return r.duration;\n          });\n          if (\"shuffle\" === t) {\n            var u = r.stagger;\n            return function (t) {\n              var e, r, n;\n              for (n = t.length; n; --n) {\n                e = Math.floor(Math.random() * n), r = t[n - 1], t[n - 1] = t[e], t[e] = r;\n              }\n              return t;\n            }(e.map(function (t, e) {\n              return (u || 0) * e + i;\n            }));\n          }\n          var f = r.stagger;\n          return e.map(function (t, e) {\n            return (f || 0) * e + i;\n          });\n        }\n      }, {\n        key: \"fromTo\",\n        value: function value(t, e, r, n) {\n          if ((t = ut(t, !0, !0)) && t.length) {\n            this._defaultParams && (n = n ? O({}, this._defaultParams, {}, n) : this._defaultParams);\n            for (var i, o = n.label, s = \"number\" == typeof o ? o : this.position.parseLabel(void 0 !== o ? o : \"afterLast\", null), a = this.getTiming(n.mode, t, n, s), u = 0, f = t.length; u < f; u++) {\n              i = t[u], this.add(ht.fromTo(i, \"function\" == typeof e ? e(u, t.length) : \"object\" === m(e) && e ? O({}, e) : null, \"function\" == typeof r ? r(u, t.length) : r, \"function\" == typeof n ? n(u, t.length) : n), a[u]);\n            }\n          }\n          return this.start();\n        }\n      }, {\n        key: \"from\",\n        value: function value(t, e, r) {\n          return this.fromTo(t, e, null, r);\n        }\n      }, {\n        key: \"to\",\n        value: function value(t, e, r) {\n          return this.fromTo(t, null, e, r);\n        }\n      }, {\n        key: \"addLabel\",\n        value: function value(t, e) {\n          return this.position.addLabel(t, e), this;\n        }\n      }, {\n        key: \"map\",\n        value: function value(t) {\n          for (var e = 0, r = this._tweens.length; e < r; e++) {\n            var n = this._tweens[e];\n            t(n, e), this._duration = Math.max(this._duration, n._duration + n._startTime);\n          }\n          return this;\n        }\n      }, {\n        key: \"add\",\n        value: function value(t, e) {\n          var r = this;\n          if (Array.isArray(t)) return t.map(function (t) {\n            r.add(t, e);\n          }), this;\n          \"object\" !== m(t) || t instanceof ht || (t = new ht(t.from).to(t.to, t));\n          var n = this._defaultParams,\n            i = this._duration;\n          if (n) for (var o in n) {\n            \"function\" == typeof t[o] && t[o](n[o]);\n          }\n          var s = \"number\" == typeof e ? e : this.position.parseLabel(void 0 !== e ? e : \"afterLast\", null);\n          return t._startTime = Math.max(this._startTime, t._delayTime, s), t._delayTime = s, t._isPlaying = !0, this._duration = Math.max(i, Math.max(t._startTime + t._delayTime, t._duration)), this._tweens.push(t), this.position.setLabel(\"afterLast\", this._duration), this;\n        }\n      }, {\n        key: \"restart\",\n        value: function value() {\n          return this._startTime += C(), s(this), this.emit(P);\n        }\n      }, {\n        key: \"easing\",\n        value: function value(e) {\n          return this.map(function (t) {\n            return t.easing(e);\n          });\n        }\n      }, {\n        key: \"interpolation\",\n        value: function value(e) {\n          return this.map(function (t) {\n            return t.interpolation(e);\n          });\n        }\n      }, {\n        key: \"update\",\n        value: function value(t) {\n          var e,\n            r = this._tweens,\n            n = this._duration,\n            i = this._reverseDelayTime,\n            o = this._startTime,\n            s = this._reversed,\n            a = this._yoyo,\n            u = this._repeat,\n            f = this._isFinite,\n            l = this._isPlaying,\n            h = this._prevTime,\n            c = this._onStartCallbackFired,\n            p = (t = void 0 !== t ? t : C()) - h;\n          if (this._prevTime = t, 250 < p && F() && x() && (t -= p - D), !l || t < o) return !0;\n          e = 1 < (e = (t - o) / n) ? 1 : e, e = s ? 1 - e : e, this.elapsed = e, c || (this.emit(G), this._onStartCallbackFired = !0);\n          for (var y = t - o, d = s ? n - y : y, v = 0; v < r.length;) {\n            r[v].update(d), v++;\n          }\n          if (this.emit(V, e, y), 1 === e || s && 0 === e) {\n            if (u) {\n              for (f && this._repeat--, this.emit(s ? Q : z), a && (this._reversed = !s, this.timingOrder(function (t) {\n                return t.reverse();\n              })), this._startTime = s && i ? t + i : t, v = 0; v < r.length;) {\n                r[v].reassignValues(t), v++;\n              }\n              return !0;\n            }\n            return this.emit(B), this._repeat = this._r, N(this), this._isPlaying = !1;\n          }\n          return !0;\n        }\n      }, {\n        key: \"progress\",\n        value: function value(t) {\n          return void 0 !== t ? this.update(t * this._duration) : this.elapsed;\n        }\n      }]), r;\n    }();\n  t.Easing = v, t.FrameThrottle = function (t) {\n    y = 1.05 * (0 < arguments.length && void 0 !== t ? t : 120);\n  }, t.Interpolation = ot, t.Interpolator = function (i, o) {\n    var s = Array.isArray(i) && !i.isString,\n      a = \"string\" == typeof i ? i : s ? i.slice() : O({}, i);\n    if (s) for (var t = 0, e = i.length; t < e; t++) {\n      i[t] === o[t] && \"number\" == typeof i[t] && \"number\" != typeof o[t] || X(t, a, i, o);\n    } else if (\"object\" === m(i)) for (var r in i) {\n      i[r] === o[r] && \"number\" == typeof i[r] && \"number\" != typeof o[r] || X(r, a, i, o);\n    } else if (\"string\" == typeof i) {\n      i = H(i), o = H(o);\n      for (var n = 1; n < i.length;) {\n        i[n] === o[n] && \"string\" == typeof i[n - 1] ? (i.splice(n - 1, 2, i[n - 1] + i[n]), o.splice(n - 1, 2, o[n - 1] + o[n])) : n++;\n      }\n    }\n    return function (t) {\n      if (s) for (var e = 0, r = i.length; e < r; e++) {\n        $(e, a, i, o, t);\n      } else if (\"object\" === m(a)) for (var n in i) {\n        $(n, a, i, o, t);\n      } else \"string\" == typeof a && (a = $(0, 0, i, o, t, t, !0));\n      return a;\n    };\n  }, t.Plugins = q, t.Selector = ut, t.Timeline = yt, t.ToggleLagSmoothing = function (t) {\n    d = !(0 < arguments.length && void 0 !== t) || t;\n  }, t.Tween = ht, t.add = s, t.autoPlay = function (t) {\n    l = t;\n  }, t.get = e, t.getAll = function () {\n    return u;\n  }, t.has = function (t) {\n    return null !== e(t);\n  }, t.isRunning = F, t.now = C, t.onRequestTick = function (t) {\n    h.push(t);\n  }, t.onTick = function (t) {\n    return u.push({\n      update: t\n    });\n  }, t.remove = N, t.removeAll = function () {\n    u.length = 0, a(o), f = !1;\n  }, t.update = i, t.utils = it, Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\"), __webpack_require__(/*! ./../../webpack/node_modules/process/browser.js */ \"./node_modules/webpack/node_modules/process/browser.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZXM2LXR3ZWVuL2J1bmRsZWQvVHdlZW4ubWluLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2VzNi10d2Vlbi9idW5kbGVkL1R3ZWVuLm1pbi5qcz8zMWY4Il0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP2UoZXhwb3J0cyk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJleHBvcnRzXCJdLGUpOmUoKHQ9dHx8c2VsZikuVFdFRU49e30pfSh0aGlzLGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHModCl7dmFyIGU9dS5pbmRleE9mKHQpOy0xPGUmJnUuc3BsaWNlKGUsMSksdS5wdXNoKHQpLHA9MCxsJiYhZiYmKG89YyhpKSxmPSEwKX1mdW5jdGlvbiBlKHQpe2Zvcih2YXIgZT0wO2U8dS5sZW5ndGg7ZSsrKWlmKHQ9PT11W2VdKXJldHVybiB1W2VdO3JldHVybiBudWxsfWZ1bmN0aW9uIEYoKXtyZXR1cm4gZn1mdW5jdGlvbiB4KCl7cmV0dXJuIGR9dmFyIG8scj1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOnRoaXN8fCh2b2lkIDAhPT10P3Q6e30pLG49ci5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKHQpe3JldHVybiByLnNldFRpbWVvdXQodCw1MC8zKX0sYT1yLmNhbmNlbEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbih0KXtyZXR1cm4gci5jbGVhclRpbWVvdXQodCl9LEM9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgcHJvY2Vzc3x8dm9pZCAwPT09cHJvY2Vzcy5ocnRpbWV8fHByb2Nlc3MudmVyc2lvbnMmJnZvaWQgMCE9PXByb2Nlc3MudmVyc2lvbnMuZWxlY3Ryb24pe2lmKHZvaWQgMCE9PXIucGVyZm9ybWFuY2UmJnZvaWQgMCE9PXIucGVyZm9ybWFuY2Uubm93KXJldHVybiByLnBlcmZvcm1hbmNlLm5vdy5iaW5kKHIucGVyZm9ybWFuY2UpO3ZhciB0PXIucGVyZm9ybWFuY2UmJnIucGVyZm9ybWFuY2UudGltaW5nJiZyLnBlcmZvcm1hbmNlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQ/ci5wZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0OkRhdGUubm93KCk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCktdH19cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9cHJvY2Vzcy5ocnRpbWUoKTtyZXR1cm4gMWUzKnRbMF0rdFsxXS8xZTZ9fSgpLHU9W10sZj0hMSxsPSExLGg9W10sYz1uLHA9MCx5PTEyMCxkPSEwLE49ZnVuY3Rpb24odCl7dmFyIGU9dS5pbmRleE9mKHQpOy0xIT09ZSYmdS5zcGxpY2UoZSwxKSwwPT09dS5sZW5ndGgmJihhKG8pLGY9ITEpfSxpPWZ1bmN0aW9uIHQoKXt2YXIgZT0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06QygpLHI9MTxhcmd1bWVudHMubGVuZ3RoP2FyZ3VtZW50c1sxXTp2b2lkIDA7aWYoeTw9cCYmZClyZXR1cm4gZj0hMSxwPTAsYShvKSwhMTtsJiZmP289Yyh0KTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8aC5sZW5ndGg7dCsrKWhbdF0oKX0oKSx1Lmxlbmd0aHx8cCsrO2Zvcih2YXIgbj0wLGk9dS5sZW5ndGg7bjxpOyl1W24rK10udXBkYXRlKGUsciksaT51Lmxlbmd0aCYmbi0tLGk9dS5sZW5ndGg7cmV0dXJuITB9LHE9e30sdj17TGluZWFyOntOb25lOmZ1bmN0aW9uKHQpe3JldHVybiB0fX0sUXVhZHJhdGljOntJbjpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3codCwyKX0sT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0KigyLXQpfSxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8uNSpNYXRoLnBvdyh0LDIpOi0uNSooLS10Kih0LTIpLTEpfX0sQ3ViaWM6e0luOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnBvdyh0LDMpfSxPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuLS10KnQqdCsxfSxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8uNSpNYXRoLnBvdyh0LDMpOi41KigodC09MikqdCp0KzIpfX0sUXVhcnRpYzp7SW46ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucG93KHQsNCl9LE91dDpmdW5jdGlvbih0KXtyZXR1cm4gMS0gLS10KnQqdCp0fSxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8uNSpNYXRoLnBvdyh0LDQpOi0uNSooKHQtPTIpKnQqdCp0LTIpfX0sUXVpbnRpYzp7SW46ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucG93KHQsNSl9LE91dDpmdW5jdGlvbih0KXtyZXR1cm4tLXQqdCp0KnQqdCsxfSxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8uNSpNYXRoLnBvdyh0LDUpOi41KigodC09MikqdCp0KnQqdCsyKX19LFNpbnVzb2lkYWw6e0luOmZ1bmN0aW9uKHQpe3JldHVybiAxLU1hdGguY29zKHQqTWF0aC5QSS8yKX0sT3V0OmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNpbih0Kk1hdGguUEkvMil9LEluT3V0OmZ1bmN0aW9uKHQpe3JldHVybi41KigxLU1hdGguY29zKE1hdGguUEkqdCkpfX0sRXhwb25lbnRpYWw6e0luOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dD8wOk1hdGgucG93KDEwMjQsdC0xKX0sT3V0OmZ1bmN0aW9uKHQpe3JldHVybiAxPT09dD8xOjEtTWF0aC5wb3coMiwtMTAqdCl9LEluT3V0OmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dD8wOjE9PT10PzE6KHQqPTIpPDE/LjUqTWF0aC5wb3coMTAyNCx0LTEpOi41KigyLU1hdGgucG93KDIsLTEwKih0LTEpKSl9fSxDaXJjdWxhcjp7SW46ZnVuY3Rpb24odCl7cmV0dXJuIDEtTWF0aC5zcXJ0KDEtdCp0KX0sT3V0OmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQoMS0gLS10KnQpfSxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8tLjUqKE1hdGguc3FydCgxLXQqdCktMSk6LjUqKE1hdGguc3FydCgxLSh0LT0yKSp0KSsxKX19LEVsYXN0aWM6e0luOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dD8wOjE9PT10PzE6LU1hdGgucG93KDIsMTAqKHQtMSkpKk1hdGguc2luKDUqKHQtMS4xKSpNYXRoLlBJKX0sT3V0OmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dD8wOjE9PT10PzE6TWF0aC5wb3coMiwtMTAqdCkqTWF0aC5zaW4oNSoodC0uMSkqTWF0aC5QSSkrMX0sSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10PzA6MT09PXQ/MToodCo9Mik8MT8tLjUqTWF0aC5wb3coMiwxMCoodC0xKSkqTWF0aC5zaW4oNSoodC0xLjEpKk1hdGguUEkpOi41Kk1hdGgucG93KDIsLTEwKih0LTEpKSpNYXRoLnNpbig1Kih0LTEuMSkqTWF0aC5QSSkrMX19LEJhY2s6e0luOmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqKDIuNzAxNTgqdC0xLjcwMTU4KX0sT3V0OmZ1bmN0aW9uKHQpe3JldHVybi0tdCp0KigyLjcwMTU4KnQrMS43MDE1OCkrMX0sSW5PdXQ6ZnVuY3Rpb24odCl7dmFyIGU9Mi41OTQ5MDk1O3JldHVybih0Kj0yKTwxP3QqdCooKDErZSkqdC1lKSouNTouNSooKHQtPTIpKnQqKCgxK2UpKnQrZSkrMil9fSxCb3VuY2U6e0luOmZ1bmN0aW9uKHQpe3JldHVybiAxLXYuQm91bmNlLk91dCgxLXQpfSxPdXQ6ZnVuY3Rpb24odCl7dmFyIGU9Mi43NSxyPTcuNTYyNTtyZXR1cm4gdDwxL2U/cip0KnQ6dDwyL2U/cioodC09MS41L2UpKnQrLjc1OnQ8Mi41L2U/cioodC09Mi4yNS9lKSp0Ky45Mzc1OnIqKHQtPTIuNjI1L2UpKnQrLjk4NDM3NX0sSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ8LjU/LjUqdi5Cb3VuY2UuSW4oMip0KTouNSp2LkJvdW5jZS5PdXQoMip0LTEpKy41fX0sU3RlcHBlZDp7c3RlcHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybih0KmV8MCkvZX19fX07ZnVuY3Rpb24gbSh0KXtyZXR1cm4obT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSkodCl9ZnVuY3Rpb24gXyh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gZyh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19ZnVuY3Rpb24gYih0LGUscil7cmV0dXJuIGUmJmcodC5wcm90b3R5cGUsZSksciYmZyh0LHIpLHR9ZnVuY3Rpb24gVChlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIE8oaSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG89bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/VChPYmplY3QobyksITApLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGUscixuO2U9aSxuPW9bcj10XSxyIGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbcl09bn0pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobykpOlQoT2JqZWN0KG8pKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLHQpKX0pfXJldHVybiBpfWZ1bmN0aW9uIHcodCl7cmV0dXJuKHc9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0pKHQpfWZ1bmN0aW9uIGsodCxlKXtyZXR1cm4oaz1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0pKHQsZSl9ZnVuY3Rpb24gaih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH1mdW5jdGlvbiBBKHQsZSl7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP2oodCk6ZX1mdW5jdGlvbiBTKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHR9KHQpfHxmdW5jdGlvbih0LGUpe2lmKCEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh0KXx8XCJbb2JqZWN0IEFyZ3VtZW50c11cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSkpcmV0dXJuO3ZhciByPVtdLG49ITAsaT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBzLGE9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShzPWEubmV4dCgpKS5kb25lKSYmKHIucHVzaChzLnZhbHVlKSwhZXx8ci5sZW5ndGghPT1lKTtuPSEwKTt9Y2F0Y2godCl7aT0hMCxvPXR9ZmluYWxseXt0cnl7bnx8bnVsbD09YS5yZXR1cm58fGEucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IG99fXJldHVybiByfSh0LGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpfSgpfXZhciBEPTUwLzMsVT1cIl9jaGFpbmVkVHdlZW5zXCIsRT1cIkNhbGxiYWNrXCIsVj1cInVwZGF0ZVwiLEI9XCJjb21wbGV0ZVwiLEc9XCJzdGFydFwiLHo9XCJyZXBlYXRcIixRPVwicmV2ZXJzZVwiLFA9XCJyZXN0YXJ0XCIsTT1cIlNUUklOR19QUk9QXCIsUj0vXFxzK3woW0EtWmEtej8oKS4se306XCJcIltcXF0jJV0rKXwoWy0rXT0rKT8oWy0rXSspPyg/OlxcZCtcXC4/XFxkKnxcXC4/XFxkKykoPzpbZUVdWy0rXT0/XFxkKyk/L2c7ZnVuY3Rpb24gSSh0KXtpZih0JiZ0Lm5vZGVUeXBlfHx2b2lkIDA9PT10fHxcIm9iamVjdFwiIT09bSh0KSlyZXR1cm4gdDtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybltdLmNvbmNhdCh0KTtpZihcIm9iamVjdFwiIT09bSh0KSlyZXR1cm4gdDt2YXIgZT17fTtmb3IodmFyIHIgaW4gdCllW3JdPUkodFtyXSk7cmV0dXJuIGV9dmFyIEw9ZnVuY3Rpb24odCl7cmV0dXJuIGlzTmFOKCt0KXx8KFwiK1wiPT09dFswXXx8XCItXCI9PT10WzBdKSYmXCI9XCI9PT10WzFdfHxcIlwiPT09dHx8XCIgXCI9PT10fSxLPS9eIyhbMC05YS1mXXs2fXxbMC05YS1mXXszfSkkL2dpLFc9ZnVuY3Rpb24odCxlKXt2YXIgcixuLGk7Mz09PWUubGVuZ3RoJiYoZT0ocj1lWzBdKStyKyhuPWVbMV0pK24rKGk9ZVsyXSkraSk7dmFyIG89cGFyc2VJbnQoZSwxNik7cmV0dXJuXCJyZ2IoXCIrKHI9bz4+MTYmMjU1KStcIiwgXCIrKG49bz4+OCYyNTUpK1wiLCBcIisoaT0yNTUmbykrXCIpXCJ9O2Z1bmN0aW9uIEgodCl7aWYodCYmdC5zcGxpY2UmJnQuaXNTdHJpbmcpcmV0dXJuIHQ7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJuIHQ7aWYoXCI9XCI9PT10LmNoYXJBdCgxKSlyZXR1cm4gdDt2YXIgZT10LnJlcGxhY2UoSyxXKS5tYXRjaChSKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIEwodCk/dDordH0pO3JldHVybiBlLmlzU3RyaW5nPSEwLGV9ZnVuY3Rpb24gWChyLG4sdCxlKXt2YXIgaT10W3JdLG89ZVtyXTtpZihpPT09bylyZXR1cm4hMDtpZihBcnJheS5pc0FycmF5KGkpJiZBcnJheS5pc0FycmF5KG8pJiZpLmxlbmd0aD09PW8ubGVuZ3RoKWZvcih2YXIgcz0wLGE9by5sZW5ndGg7czxhO3MrKyl7dmFyIHU9aVtzXSxmPW9bc107dT09PWZ8fFwibnVtYmVyXCI9PXR5cGVvZiB1JiZcIm51bWJlclwiPT10eXBlb2YgZnx8WChzLG5bcl0saSxvKX1pZighKFwibnVtYmVyXCI9PXR5cGVvZiBpJiZcIm51bWJlclwiPT10eXBlb2Ygb3x8aSYmaS5zcGxpY2UmJmkuaXNTdHJpbmcmJm8mJm8uc3BsaWNlJiZvLmlzU3RyaW5nKSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGkmJkFycmF5LmlzQXJyYXkobykpe3ZhciBsPUgoaSksaD1vLm1hcChIKTtyZXR1cm4gdFtyXT1sLGVbcl09aCwhMH1pZihcInN0cmluZ1wiPT10eXBlb2YgaXx8XCJzdHJpbmdcIj09dHlwZW9mIG8pe3ZhciBjPUFycmF5LmlzQXJyYXkoaSkmJmlbMF09PT1NP2k6SChpKSxwPUFycmF5LmlzQXJyYXkobykmJm9bMF09PT1NP286SChvKTtpZih2b2lkIDA9PT1jKXJldHVybjtmb3IodmFyIHk9MTt5PGMubGVuZ3RoOyljW3ldPT09cFt5XSYmXCJzdHJpbmdcIj09dHlwZW9mIGNbeS0xXT8oYy5zcGxpY2UoeS0xLDIsY1t5LTFdK2NbeV0pLHAuc3BsaWNlKHktMSwyLHBbeS0xXStwW3ldKSk6eSsrO3JldHVybiBjW3k9MF09PT1NJiZjLnNoaWZ0KCkscFswXT09PU0mJnAuc2hpZnQoKSx0W3JdPWMsZVtyXT1wLCEwfWlmKFwib2JqZWN0XCI9PT1tKGkpJiZcIm9iamVjdFwiPT09bShvKSl7aWYoQXJyYXkuaXNBcnJheShpKSYmIWkuaXNTdHJpbmcpcmV0dXJuIGkubWFwKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIFgoZSxuW3JdLGksbyl9KTtmb3IodmFyIGQgaW4gbylYKGQsbltyXSxpLG8pO3JldHVybiEwfX1yZXR1cm4hMX12YXIgWT1cInJnYmEoXCIsWj1mdW5jdGlvbih0LGUscil7dmFyIG49Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1yP3I6XCJyZ2IoXCI7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHRbZV0mJih0W2UtMV09PT1ufHx0W2UtM109PT1ufHx0W2UtNV09PT1uKX07ZnVuY3Rpb24gJCh0LGUscixuLGksbyxzKXt2YXIgYT1zP3I6clt0XSx1PXM/bjpuW3RdO2lmKHZvaWQgMD09PXUpcmV0dXJuIGE7aWYodm9pZCAwPT09YXx8XCJzdHJpbmdcIj09dHlwZW9mIGF8fGE9PT11KXJldHVybiB1O2lmKFwib2JqZWN0XCI9PT1tKGEpJiZcIm9iamVjdFwiPT09bSh1KSl7aWYoIWF8fCF1KXJldHVybiBlW3RdO2lmKFwib2JqZWN0XCI9PT1tKGEpJiZhJiZhLmlzU3RyaW5nJiZ1JiZ1LnNwbGljZSYmdS5pc1N0cmluZyl7Zm9yKHZhciBmPVwiXCIsbD0wLGg9YS5sZW5ndGg7bDxoO2wrKylpZihhW2xdIT09dVtsXXx8XCJudW1iZXJcIiE9dHlwZW9mIGFbbF18fFwibnVtYmVyXCI9PXR5cGVvZiB1W2xdKXt2YXIgYz1cIm51bWJlclwiPT10eXBlb2YgYVtsXSYmXCJzdHJpbmdcIj09dHlwZW9mIHVbbF0mJlwiPVwiPT09dVtsXVsxXSxwPVwibnVtYmVyXCIhPXR5cGVvZiBhW2xdP2FbbF06Yz9hW2xdK3BhcnNlRmxvYXQodVtsXVswXSt1W2xdLnN1YnN0cigyKSkqaTphW2xdKyh1W2xdLWFbbF0pKmk7KFooYSxsKXx8WihhLGwsWSkpJiYocHw9MCksZis9cCxjJiYxPT09byYmKGFbbF09YVtsXStwYXJzZUZsb2F0KHVbbF1bMF0rdVtsXS5zdWJzdHIoMikpKX1lbHNlIGYrPWFbbF07cmV0dXJuIHN8fChlW3RdPWYpLGZ9aWYoQXJyYXkuaXNBcnJheShhKSYmYVswXSE9PU0pZm9yKHZhciB5PTAsZD1hLmxlbmd0aDt5PGQ7eSsrKWFbeV0hPT11W3ldJiZcInN0cmluZ1wiIT10eXBlb2YgZVt0XSYmJCh5LGVbdF0sYSx1LGksbyk7ZWxzZSBpZihcIm9iamVjdFwiPT09bShhKSYmYSYmIWEuaXNTdHJpbmcpZm9yKHZhciB2IGluIGEpYVt2XSE9PXVbdl0mJiQodixlW3RdLGEsdSxpLG8pfWVsc2UgaWYoXCJudW1iZXJcIj09dHlwZW9mIGEpe3ZhciBfPVwic3RyaW5nXCI9PXR5cGVvZiB1O2VbdF09Xz9hK3BhcnNlRmxvYXQodVswXSt1LnN1YnN0cigyKSkqaTphKyh1LWEpKmksXyYmMT09PW8mJihyW3RdPWVbdF0pfWVsc2VcImZ1bmN0aW9uXCI9PXR5cGVvZiB1JiYoZVt0XT11KGkpKTtyZXR1cm4gZVt0XX1mdW5jdGlvbiBKKHQsZSl7dmFyIGk9dFtlXSxvPWUucmVwbGFjZShudCxcIlwiKS5zcGxpdChydCkscz1vLmxlbmd0aC0xLGE9QXJyYXkuaXNBcnJheSh0KSx1PVwib2JqZWN0XCI9PT1tKHQpJiYhYTtyZXR1cm4gdT8odFtlXT1udWxsLGRlbGV0ZSB0W2VdKTphJiZ0LnNwbGljZShlLDEpLG8ucmVkdWNlKGZ1bmN0aW9uKHQsZSxyKXthJiZcIi5cIiE9PWUmJlwiW1wiIT09ZSYmKGUqPTEpO3ZhciBuPVwiW1wiPT09b1tyKzFdO2lmKFwiLlwiPT09ZXx8XCJbXCI9PT1lKXJldHVyblwiLlwiPT09ZT9hPSEodT0hMCk6XCJbXCI9PT1lJiYoYT0hKHU9ITEpKSx0O2lmKHZvaWQgMD09PXRbZV0pe2lmKGF8fHUpcmV0dXJuIHRbZV09cj09PXM/aTphfHxuP1tdOnU/e306bnVsbCx1PWE9ITEsdFtlXX1lbHNlIGlmKHZvaWQgMCE9PXRbZV0pcmV0dXJuIHI9PT1zJiYodFtlXT1pKSx0W2VdO3JldHVybiB0fSx0KX1mdW5jdGlvbiB0dCh0KXtpZihcIm9iamVjdFwiPT09bSh0KSYmdClmb3IodmFyIGUgaW4gdClpZigtMSE9PWUuaW5kZXhPZihcIi5cIil8fC0xIT09ZS5pbmRleE9mKFwiW1wiKSlKKHQsZSk7ZWxzZSBpZihcIm9iamVjdFwiPT09bSh0W2VdKSYmdFtlXSl7dmFyIHI9dFtlXTtmb3IodmFyIG4gaW4gcilpZigtMSE9PW4uaW5kZXhPZihcIi5cIil8fC0xIT09bi5pbmRleE9mKFwiW1wiKSlKKHIsbik7ZWxzZSBpZihcIm9iamVjdFwiPT09bShyW25dKSYmcltuXSl7dmFyIGk9cltuXTtmb3IodmFyIG8gaW4gaSktMT09PW8uaW5kZXhPZihcIi5cIikmJi0xPT09by5pbmRleE9mKFwiW1wiKXx8SihpLG8pfX1yZXR1cm4gdH12YXIgZXQscnQ9LyhbLltdKS9nLG50PS9cXF0vZyxpdD1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxGUkFNRV9NUzpELFRPT19MT05HX0ZSQU1FX01TOjI1MCxDSEFJTkVEX1RXRUVOUzpVLEVWRU5UX0NBTExCQUNLOkUsRVZFTlRfVVBEQVRFOlYsRVZFTlRfQ09NUExFVEU6QixFVkVOVF9TVEFSVDpHLEVWRU5UX1JFUEVBVDp6LEVWRU5UX1JFVkVSU0U6USxFVkVOVF9QQVVTRTpcInBhdXNlXCIsRVZFTlRfUExBWTpcInBsYXlcIixFVkVOVF9SRVNUQVJUOlAsRVZFTlRfU1RPUDpcInN0b3BcIixFVkVOVF9TRUVLOlwic2Vla1wiLFNUUklOR19QUk9QOk0sTlVNX1JFR0VYOlIsZGVlcENvcHk6SSxkZWNvbXBvc2VTdHJpbmc6SCxkZWNvbXBvc2U6WCxSR0I6XCJyZ2IoXCIsUkdCQTpZLGlzUkdCQ29sb3I6WixyZWNvbXBvc2U6JCxTRVRfTkVTVEVEOnR0fSksb3Q9e0xpbmVhcjpmdW5jdGlvbih0LGUscil7dmFyIG49dC5sZW5ndGgtMSxpPW4qZSxvPU1hdGguZmxvb3IoaSkscz1vdC5VdGlscy5MaW5lYXI7cmV0dXJuIGU8MD9zKHRbMF0sdFsxXSxpLHIpOjE8ZT9zKHRbbl0sdFtuLTFdLG4taSxyKTpzKHRbb10sdFtuPG8rMT9uOm8rMV0saS1vLHIpfSxCZXppZXI6ZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbj1vdC5VdGlscy5SZXNldChyKSxpPXQubGVuZ3RoLTEsbz1NYXRoLnBvdyxzPW90LlV0aWxzLkJlcm5zdGVpbixhPUFycmF5LmlzQXJyYXkobiksdT0wO3U8PWk7dSsrKWlmKFwibnVtYmVyXCI9PXR5cGVvZiBuKW4rPW8oMS1lLGktdSkqbyhlLHUpKnRbdV0qcyhpLHUpO2Vsc2UgaWYoYSlmb3IodmFyIGY9MCxsPW4ubGVuZ3RoO2Y8bDtmKyspXCJudW1iZXJcIj09dHlwZW9mIG5bZl0/bltmXSs9bygxLWUsaS11KSpvKGUsdSkqdFt1XVtmXSpzKGksdSk6bltmXT10W3VdW2ZdO2Vsc2UgaWYoXCJvYmplY3RcIj09PW0obikpZm9yKHZhciBoIGluIG4pXCJudW1iZXJcIj09dHlwZW9mIG5baF0/bltoXSs9bygxLWUsaS11KSpvKGUsdSkqdFt1XVtoXSpzKGksdSk6bltoXT10W3VdW2hdO2Vsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIG4pe2Zvcih2YXIgYz1cIlwiLHA9dFtNYXRoLnJvdW5kKGkqZSldLHk9MSxkPXAubGVuZ3RoO3k8ZDt5KyspYys9cFt5XTtyZXR1cm4gY31yZXR1cm4gbn0sQ2F0bXVsbFJvbTpmdW5jdGlvbih0LGUscil7dmFyIG49dC5sZW5ndGgtMSxpPW4qZSxvPU1hdGguZmxvb3IoaSkscz1vdC5VdGlscy5DYXRtdWxsUm9tO3JldHVybiB0WzBdPT09dFtuXT8oZTwwJiYobz1NYXRoLmZsb29yKGk9biooMStlKSkpLHModFsoby0xK24pJW5dLHRbb10sdFsobysxKSVuXSx0WyhvKzIpJW5dLGktbyxyKSk6ZTwwP3ModFsxXSx0WzFdLHRbMF0sdFswXSwtZSxyKToxPGU/cyh0W24tMV0sdFtuLTFdLHRbbl0sdFtuXSwoMHxlKS1lLHIpOnModFtvP28tMTowXSx0W29dLHRbbjxvKzE/bjpvKzFdLHRbbjxvKzI/bjpvKzJdLGktbyxyKX0sVXRpbHM6e0xpbmVhcjpmdW5jdGlvbih0LGUscixuKXtpZih0PT09ZXx8XCJzdHJpbmdcIj09dHlwZW9mIHQpe2lmKGUubGVuZ3RoJiZlLnNwbGljZSYmZS5pc1N0cmluZyl7ZT1cIlwiO2Zvcih2YXIgaT0wLG89dC5sZW5ndGg7aTxvO2krKyllKz10W2ldfXJldHVybiBlfWlmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXJldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dChyKTp0KyhlLXQpKnI7aWYoXCJvYmplY3RcIj09PW0odCkpe2lmKHZvaWQgMCE9PXQubGVuZ3RoKXt2YXIgcz1cInN0cmluZ1wiPT10eXBlb2YgdFswXXx8dC5pc1N0cmluZztpZihzfHx0WzBdPT09TSl7Zm9yKHZhciBhPVwiXCIsdT1zPzA6MSxmPXQubGVuZ3RoO3U8Zjt1Kyspe3ZhciBsPTA9PT1yP3RbdV06MSE9PXImJlwibnVtYmVyXCI9PXR5cGVvZiB0W3VdP3RbdV0rKGVbdV0tdFt1XSkqcjplW3VdOygwPHImJnI8MSYmWih0LHUpfHxaKHQsdSxZKSkmJihsfD0wKSxhKz1sfXJldHVybiBhfWlmKG4mJm4ubGVuZ3RoJiZuLnNwbGljZSlmb3IodmFyIGg9MCxjPW4ubGVuZ3RoO2g8YztoKyspbltoXT1vdC5VdGlscy5MaW5lYXIodFtoXSxlW2hdLHIsbltoXSl9ZWxzZSBmb3IodmFyIHAgaW4gbiluW3BdPW90LlV0aWxzLkxpbmVhcih0W3BdLGVbcF0scixuW3BdKTtyZXR1cm4gbn19LFJlc2V0OmZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcih2YXIgZT0wLHI9dC5sZW5ndGg7ZTxyO2UrKyl0W2VdPW90LlV0aWxzLlJlc2V0KHRbZV0pO3JldHVybiB0fWlmKFwib2JqZWN0XCIhPT1tKHQpKXJldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0PzA6dDtmb3IodmFyIG4gaW4gdCl0W25dPW90LlV0aWxzLlJlc2V0KHRbbl0pO3JldHVybiB0fSxCZXJuc3RlaW46ZnVuY3Rpb24odCxlKXt2YXIgcj1vdC5VdGlscy5GYWN0b3JpYWw7cmV0dXJuIHIodCkvcihlKS9yKHQtZSl9LEZhY3RvcmlhbDooZXQ9WzFdLGZ1bmN0aW9uKHQpe3ZhciBlPTE7aWYoZXRbdF0pcmV0dXJuIGV0W3RdO2Zvcih2YXIgcj10OzE8cjtyLS0pZSo9cjtyZXR1cm4gZXRbdF09ZX0pLENhdG11bGxSb206ZnVuY3Rpb24odCxlLHIsbixpLG8pe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBlO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXt2YXIgcz0uNSooci10KSxhPS41KihuLWUpLHU9aSppO3JldHVybigyKmUtMipyK3MrYSkqKGkqdSkrKC0zKmUrMypyLTIqcy1hKSp1K3MqaStlfWlmKFwib2JqZWN0XCI9PT1tKHQpKXtpZih2b2lkIDAhPT10Lmxlbmd0aCl7aWYodFswXT09PU0pe2Zvcih2YXIgZj1cIlwiLGw9MSxoPXQubGVuZ3RoO2w8aDtsKyspe3ZhciBjPVwibnVtYmVyXCI9PXR5cGVvZiB0W2xdP290LlV0aWxzLkNhdG11bGxSb20odFtsXSxlW2xdLHJbbF0sbltsXSxpKTpuW2xdOyhaKHQsbCl8fFoodCxsLFkpKSYmKGN8PTApLGYrPWN9cmV0dXJuIGZ9Zm9yKHZhciBwPTAseT1vLmxlbmd0aDtwPHk7cCsrKW9bcF09b3QuVXRpbHMuQ2F0bXVsbFJvbSh0W3BdLGVbcF0scltwXSxuW3BdLGksb1twXSl9ZWxzZSBmb3IodmFyIGQgaW4gbylvW2RdPW90LlV0aWxzLkNhdG11bGxSb20odFtkXSxlW2RdLHJbZF0sbltkXSxpLG9bZF0pO3JldHVybiBvfX19fSxzdD17fTtmdW5jdGlvbiBhdCh0LGUscil7aWYoIXR8fCF0Lm5vZGVUeXBlKXJldHVybiBlO3ZhciBuPXQucXVldWVJRHx8XCJxX1wiK0RhdGUubm93KCk7dC5xdWV1ZUlEfHwodC5xdWV1ZUlEPW4pO3ZhciBpPXN0W25dO2lmKGkpe2lmKGkub2JqZWN0PT09ZSYmdD09PWkudHdlZW4ubm9kZSYmci5fc3RhcnRUaW1lPT09aS50d2Vlbi5fc3RhcnRUaW1lKU4oaS50d2Vlbik7ZWxzZSBpZihcIm9iamVjdFwiPT09bShlKSYmZSYmaS5vYmplY3Qpe2Zvcih2YXIgbyBpbiBlKW8gaW4gaS5vYmplY3QmJihyLl9zdGFydFRpbWU9PT1pLnR3ZWVuLl9zdGFydFRpbWU/ZGVsZXRlIGkub2JqZWN0W29dOmkucHJvcE5vcm1hbGlzZVJlcXVpcmVkPSEwKTtPYmplY3QuYXNzaWduKGkub2JqZWN0LGUpfXJldHVybiBpLm9iamVjdH1yZXR1cm5cIm9iamVjdFwiPT09bShlKSYmZT8oc3Rbbl09e3R3ZWVuOnIsb2JqZWN0OmUscHJvcE5vcm1hbGlzZVJlcXVpcmVkOiExfSxzdFtuXS5vYmplY3QpOmV9ZnVuY3Rpb24gdXQodCxlLHIpe3JldHVybiBlP3Q/XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmdD09PXdpbmRvd3x8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50JiZ0PT09ZG9jdW1lbnQ/W3RdOlwic3RyaW5nXCI9PXR5cGVvZiB0PyEhZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCYmZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0KTpBcnJheS5pc0FycmF5KHQpP3Q6dC5ub2RlVHlwZT9bdF06cj90OltdOm51bGw6dD9cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ0PT09d2luZG93fHxcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJnQ9PT1kb2N1bWVudD90Olwic3RyaW5nXCI9PXR5cGVvZiB0PyEhZG9jdW1lbnQucXVlcnlTZWxlY3RvciYmZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0KTpBcnJheS5pc0FycmF5KHQpP3RbMF06dC5ub2RlVHlwZXx8cj90Om51bGw6bnVsbH12YXIgZnQ9MCxsdD12LkxpbmVhci5Ob25lLGh0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTCh0LGUpe3JldHVybiBfKHRoaXMsTCksdGhpcy5pZD1mdCsrLCF0fHxcIm9iamVjdFwiIT09bSh0KXx8ZXx8dC5ub2RlVHlwZT90JiYodC5ub2RlVHlwZXx8dC5sZW5ndGh8fFwic3RyaW5nXCI9PXR5cGVvZiB0KSYmKHQ9dGhpcy5ub2RlPXV0KHQpLGU9dGhpcy5vYmplY3Q9YXQodCxlLHRoaXMpKTooZT10aGlzLm9iamVjdD10LHQ9bnVsbCksdGhpcy5fdmFsdWVzRW5kPW51bGwsdGhpcy5fdmFsdWVzU3RhcnQ9QXJyYXkuaXNBcnJheShlKT9bXTp7fSx0aGlzLl9kdXJhdGlvbj0xZTMsdGhpcy5fZWFzaW5nRnVuY3Rpb249bHQsdGhpcy5fZWFzaW5nUmV2ZXJzZT1sdCx0aGlzLl9pbnRlcnBvbGF0aW9uRnVuY3Rpb249b3QuTGluZWFyLHRoaXMuX3N0YXJ0VGltZT0wLHRoaXMuX2luaXRUaW1lPTAsdGhpcy5fZGVsYXlUaW1lPTAsdGhpcy5fcmVwZWF0PTAsdGhpcy5fcj0wLHRoaXMuX2lzUGxheWluZz0hMSx0aGlzLl95b3lvPSExLHRoaXMuX3JldmVyc2VkPSExLHRoaXMuX29uU3RhcnRDYWxsYmFja0ZpcmVkPSExLHRoaXMuX3BhdXNlZFRpbWU9bnVsbCx0aGlzLl9pc0Zpbml0ZT0hMCx0aGlzLl9tYXhMaXN0ZW5lcj0xNSx0aGlzLl9jaGFpbmVkVHdlZW5zQ291bnQ9MCx0aGlzLl9wcmV2VGltZT1udWxsLHRoaXN9cmV0dXJuIGIoTCxudWxsLFt7a2V5OlwiZnJvbVRvXCIsdmFsdWU6ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9Mzxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1uP246e307aS5xdWlja1JlbmRlcj1pLnF1aWNrUmVuZGVyP2kucXVpY2tSZW5kZXI6IXI7dmFyIG89bmV3IEwodCxlKS50byhyLGkpO3JldHVybiBpLnF1aWNrUmVuZGVyJiYoby5yZW5kZXIoKS51cGRhdGUoby5fc3RhcnRUaW1lKSxvLl9yZW5kZXJlZD0hMSxvLl9vblN0YXJ0Q2FsbGJhY2tGaXJlZD0hMSksb319LHtrZXk6XCJ0b1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gTC5mcm9tVG8odCxudWxsLGUscil9fSx7a2V5OlwiZnJvbVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gTC5mcm9tVG8odCxlLG51bGwscil9fV0pLGIoTCxbe2tleTpcInNldE1heExpc3RlbmVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10P3Q6MTU7cmV0dXJuIHRoaXMuX21heExpc3RlbmVyPWUsdGhpc319LHtrZXk6XCJvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPXRoaXMuX21heExpc3RlbmVyLG49dCtFLGk9MDtpPHI7aSsrKXt2YXIgbz1uK2k7aWYoIXRoaXNbb10pe3RoaXNbb109ZTticmVha319cmV0dXJuIHRoaXN9fSx7a2V5Olwib25jZVwiLHZhbHVlOmZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBvPXRoaXMsZT10aGlzLl9tYXhMaXN0ZW5lcixyPXQrRSxuPWZ1bmN0aW9uKHQpe3ZhciBuPXIrdDtpZighb1tuXSlyZXR1cm4gb1tuXT1mdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLHI9MDtyPHQ7cisrKWVbcl09YXJndW1lbnRzW3JdO2kuYXBwbHkobyxlKSxvW25dPW51bGx9LFwiYnJlYWtcIn0scz0wO3M8ZTtzKyspe2lmKFwiYnJlYWtcIj09PW4ocykpYnJlYWt9cmV0dXJuIHRoaXN9fSx7a2V5Olwib2ZmXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9dGhpcy5fbWF4TGlzdGVuZXIsbj10K0UsaT0wO2k8cjtpKyspe3ZhciBvPW4raTt0aGlzW29dPT09ZSYmKHRoaXNbb109bnVsbCl9cmV0dXJuIHRoaXN9fSx7a2V5OlwiZW1pdFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPXRoaXMuX21heExpc3RlbmVyLG89dCtFO2lmKCF0aGlzW28rMF0pcmV0dXJuIHRoaXM7Zm9yKHZhciBzPTA7czxpO3MrKyl7dmFyIGE9bytzO3RoaXNbYV0mJnRoaXNbYV0oZSxyLG4pfXJldHVybiB0aGlzfX0se2tleTpcImlzUGxheWluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzUGxheWluZ319LHtrZXk6XCJpc1N0YXJ0ZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vblN0YXJ0Q2FsbGJhY2tGaXJlZH19LHtrZXk6XCJyZXZlcnNlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcmV2ZXJzZWQ7cmV0dXJuIHRoaXMuX3JldmVyc2VkPXZvaWQgMCE9PXQ/dDohZSx0aGlzfX0se2tleTpcInJldmVyc2VkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmV2ZXJzZWR9fSx7a2V5OlwicGF1c2VcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1BsYXlpbmc/KHRoaXMuX2lzUGxheWluZz0hMSxOKHRoaXMpLHRoaXMuX3BhdXNlZFRpbWU9QygpLHRoaXMuZW1pdChcInBhdXNlXCIsdGhpcy5vYmplY3QpKTp0aGlzfX0se2tleTpcInBsYXlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1BsYXlpbmc/dGhpczoodGhpcy5faXNQbGF5aW5nPSEwLHRoaXMuX3N0YXJ0VGltZSs9QygpLXRoaXMuX3BhdXNlZFRpbWUsdGhpcy5faW5pdFRpbWU9dGhpcy5fc3RhcnRUaW1lLHModGhpcyksdGhpcy5fcGF1c2VkVGltZT1DKCksdGhpcy5lbWl0KFwicGxheVwiLHRoaXMub2JqZWN0KSl9fSx7a2V5OlwicmVzdGFydFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcGVhdD10aGlzLl9yLHRoaXMucmVhc3NpZ25WYWx1ZXMoKSxzKHRoaXMpLHRoaXMuZW1pdChQLHRoaXMub2JqZWN0KX19LHtrZXk6XCJzZWVrXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLl9kdXJhdGlvbixuPXRoaXMuX2luaXRUaW1lLGk9dGhpcy5fc3RhcnRUaW1lLG89dGhpcy5fcmV2ZXJzZWQscz1uK3Q7cmV0dXJuIHRoaXMuX2lzUGxheWluZz0hMCxzPGkmJm48PWkmJih0aGlzLl9zdGFydFRpbWUtPXIsdGhpcy5fcmV2ZXJzZWQ9IW8pLHRoaXMudXBkYXRlKHQsITEpLHRoaXMuZW1pdChcInNlZWtcIix0LHRoaXMub2JqZWN0KSxlP3RoaXM6dGhpcy5wYXVzZSgpfX0se2tleTpcImR1cmF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2R1cmF0aW9uPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dCh0aGlzLl9kdXJhdGlvbik6dCx0aGlzfX0se2tleTpcInRvXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgcj0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZToxZTM7aWYodGhpcy5fdmFsdWVzRW5kPXQsXCJudW1iZXJcIj09dHlwZW9mIHJ8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHIpdGhpcy5fZHVyYXRpb249XCJmdW5jdGlvblwiPT10eXBlb2Ygcj9yKHRoaXMuX2R1cmF0aW9uKTpyO2Vsc2UgaWYoXCJvYmplY3RcIj09PW0ocikpZm9yKHZhciBuIGluIHIpaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpc1tuXSl7dmFyIGk9UyhBcnJheS5pc0FycmF5KHJbbl0pP3Jbbl06W3Jbbl1dLDQpLG89aVswXSxzPXZvaWQgMD09PW8/bnVsbDpvLGE9aVsxXSx1PXZvaWQgMD09PWE/bnVsbDphLGY9aVsyXSxsPXZvaWQgMD09PWY/bnVsbDpmLGg9aVszXSxjPXZvaWQgMD09PWg/bnVsbDpoO3RoaXNbbl0ocyx1LGwsYyl9cmV0dXJuIHRoaXN9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLl9yZW5kZXJlZClyZXR1cm4gdGhpczt2YXIgdD10aGlzLl92YWx1ZXNTdGFydCxlPXRoaXMuX3ZhbHVlc0VuZCxyPXRoaXMub2JqZWN0LG49dGhpcy5ub2RlLGk9dGhpcy5Jbml0aWFsVmFsdWVzO2lmKHR0KHIpLHR0KGUpLG4mJm4ucXVldWVJRCYmc3Rbbi5xdWV1ZUlEXSl7dmFyIG89c3Rbbi5xdWV1ZUlEXTtpZihvLnByb3BOb3JtYWxpc2VSZXF1aXJlZCYmby50d2VlbiE9PXRoaXMpe2Zvcih2YXIgcyBpbiBlKW8udHdlZW4uX3ZhbHVlc0VuZFtzXTtvLm5vcm1hbGlzZWRQcm9wPSEwLG8ucHJvcE5vcm1hbGlzZVJlcXVpcmVkPSExfX1pZihuJiZpJiYociYmMCE9PU9iamVjdC5rZXlzKHIpLmxlbmd0aD9lJiYwIT09T2JqZWN0LmtleXMoZSkubGVuZ3RofHwoZT10aGlzLl92YWx1ZXNFbmQ9aShuLHIpKTpyPXRoaXMub2JqZWN0PWF0KG4saShuLGUpLHRoaXMpKSwhdC5wcm9jZXNzZWQpe2Zvcih2YXIgYSBpbiBlKXt2YXIgdT1yJiZyW2FdJiZJKHJbYV0pLGY9ZVthXTtpZighKHFbYV0mJnFbYV0uaW5pdCYmKHFbYV0uaW5pdC5jYWxsKHRoaXMsdSxmLGEsciksdm9pZCAwPT09dSYmdFthXSYmKHU9dFthXSkscVthXS5za2lwUHJvY2VzcykpJiYhKFwibnVtYmVyXCI9PXR5cGVvZiB1JiZpc05hTih1KXx8bnVsbD09PXV8fG51bGw9PT1mfHwhMT09PXV8fCExPT09Znx8dm9pZCAwPT09dXx8dm9pZCAwPT09Znx8dT09PWYpKXtpZih0W2FdPXUsQXJyYXkuaXNBcnJheShmKSlpZihBcnJheS5pc0FycmF5KHUpKWYuaXNTdHJpbmcmJnJbYV0uaXNTdHJpbmcmJiF1LmlzU3RyaW5nP3UuaXNTdHJpbmc9ITA6WChhLHIsdCxlKTtlbHNle2YudW5zaGlmdCh1KTtmb3IodmFyIGw9MCxoPWYubGVuZ3RoO2w8aDtsKyspXCJzdHJpbmdcIj09dHlwZW9mIGZbbF0mJihmW2xdPUgoZltsXSkpfWVsc2UgWChhLHIsdCxlKTtcIm51bWJlclwiIT10eXBlb2YgdXx8XCJzdHJpbmdcIiE9dHlwZW9mIGZ8fGZbMV19fXQucHJvY2Vzc2VkPSEwfXJldHVybiBMLlJlbmRlcmVyJiZ0aGlzLm5vZGUmJkwuUmVuZGVyZXIuaW5pdCYmKEwuUmVuZGVyZXIuaW5pdC5jYWxsKHRoaXMscix0LGUpLHRoaXMuX19yZW5kZXI9ITApLHRoaXMuX3JlbmRlcmVkPSEwLHRoaXN9fSx7a2V5Olwic3RhcnRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3RhcnRUaW1lPXZvaWQgMCE9PXQ/XCJzdHJpbmdcIj09dHlwZW9mIHQ/QygpK3BhcnNlRmxvYXQodCk6dDpDKCksdGhpcy5fc3RhcnRUaW1lKz10aGlzLl9kZWxheVRpbWUsdGhpcy5faW5pdFRpbWU9dGhpcy5fcHJldlRpbWU9dGhpcy5fc3RhcnRUaW1lLHRoaXMuX29uU3RhcnRDYWxsYmFja0ZpcmVkPSExLHRoaXMuX3JlbmRlcmVkPSExLHRoaXMuX2lzUGxheWluZz0hMCxzKHRoaXMpLHRoaXN9fSx7a2V5Olwic3RvcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faXNQbGF5aW5nLGU9dGhpcy5faXNGaW5pdGUscj10aGlzLm9iamVjdCxuPXRoaXMuX3N0YXJ0VGltZSxpPXRoaXMuX2R1cmF0aW9uLG89dGhpcy5fcixzPXRoaXMuX3lveW8sYT10aGlzLl9yZXZlcnNlZDtpZighdClyZXR1cm4gdGhpczt2YXIgdT1lPyhvKzEpJTI9PTE6IWE7cmV0dXJuIHRoaXMuX3JldmVyc2VkPSExLHMmJnU/dGhpcy51cGRhdGUobik6dGhpcy51cGRhdGUobitpKSxOKHRoaXMpLHRoaXMuZW1pdChcInN0b3BcIixyKX19LHtrZXk6XCJkZWxheVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kZWxheVRpbWU9XCJmdW5jdGlvblwiPT10eXBlb2YgdD90KHRoaXMuX2RlbGF5VGltZSk6dCx0aGlzfX0se2tleTpcImNoYWluZWRUd2VlbnNcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuX2NoYWluZWRUd2VlbnNDb3VudD1hcmd1bWVudHMubGVuZ3RoLCF0aGlzLl9jaGFpbmVkVHdlZW5zQ291bnQpcmV0dXJuIHRoaXM7Zm9yKHZhciB0PTAsZT10aGlzLl9jaGFpbmVkVHdlZW5zQ291bnQ7dDxlO3QrKyl0aGlzW1UrdF09YXJndW1lbnRzW3RdO3JldHVybiB0aGlzfX0se2tleTpcInJlcGVhdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yZXBlYXQ9dGhpcy5fZHVyYXRpb24/XCJmdW5jdGlvblwiPT10eXBlb2YgdD90KHRoaXMuX3JlcGVhdCk6dDowLHRoaXMuX3I9dGhpcy5fcmVwZWF0LHRoaXMuX2lzRmluaXRlPWlzRmluaXRlKHQpLHRoaXN9fSx7a2V5OlwicmV2ZXJzZURlbGF5XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3JldmVyc2VEZWxheVRpbWU9XCJmdW5jdGlvblwiPT10eXBlb2YgdD90KHRoaXMuX3JldmVyc2VEZWxheVRpbWUpOnQsdGhpc319LHtrZXk6XCJ5b3lvXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5feW95bz1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3QodGhpcy5feW95byk6bnVsbD09PXQ/dGhpcy5feW95bzp0LHR8fCh0aGlzLl9yZXZlcnNlZD0hMSksdGhpcy5fZWFzaW5nUmV2ZXJzZT1lfHxudWxsLHRoaXN9fSx7a2V5OlwiZWFzaW5nXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2Vhc2luZ0Z1bmN0aW9uPXQsdGhpc319LHtrZXk6XCJpbnRlcnBvbGF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKHRoaXMuX2ludGVycG9sYXRpb25GdW5jdGlvbj10KSx0aGlzfX0se2tleTpcInJlYXNzaWduVmFsdWVzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdmFsdWVzU3RhcnQscj10aGlzLm9iamVjdCxuPXRoaXMuX2RlbGF5VGltZTtmb3IodmFyIGkgaW4gdGhpcy5faXNQbGF5aW5nPSEwLHRoaXMuX3N0YXJ0VGltZT12b2lkIDAhPT10P3Q6QygpLHRoaXMuX3N0YXJ0VGltZSs9bix0aGlzLl9yZXZlcnNlZD0hMSxzKHRoaXMpLGUpe3ZhciBvPWVbaV07cltpXT1vfXJldHVybiB0aGlzfX0se2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxyKXt2YXIgbixpLG8scz10aGlzLl9vblN0YXJ0Q2FsbGJhY2tGaXJlZCxhPXRoaXMuX2Vhc2luZ0Z1bmN0aW9uLHU9dGhpcy5faW50ZXJwb2xhdGlvbkZ1bmN0aW9uLGY9dGhpcy5fZWFzaW5nUmV2ZXJzZSxsPXRoaXMuX3JlcGVhdCxoPXRoaXMuX2RlbGF5VGltZSxjPXRoaXMuX3JldmVyc2VEZWxheVRpbWUscD10aGlzLl95b3lvLHk9dGhpcy5fcmV2ZXJzZWQsZD10aGlzLl9zdGFydFRpbWUsdj10aGlzLl9wcmV2VGltZSxfPXRoaXMuX2R1cmF0aW9uLG09dGhpcy5fdmFsdWVzU3RhcnQsZz10aGlzLl92YWx1ZXNFbmQsYj10aGlzLm9iamVjdCxUPXRoaXMuX2lzRmluaXRlLE89dGhpcy5faXNQbGF5aW5nLHc9dGhpcy5fX3JlbmRlcixrPXRoaXMuX2NoYWluZWRUd2VlbnNDb3VudCxqPTA7aWYoXyl7dmFyIEE9KHQ9dm9pZCAwIT09dD90OkMoKSktdjtpZih0aGlzLl9wcmV2VGltZT10LDI1MDxBJiZGKCkmJngoKSYmKHQtPUEtRCksIU98fHQ8ZCYmIXIpcmV0dXJuITA7bj0xPChuPSh0LWQpL18pPzE6bixuPXk/MS1uOm59ZWxzZSBuPTEsbD0wO2lmKHN8fCh0aGlzLl9yZW5kZXJlZHx8KHRoaXMucmVuZGVyKCksdGhpcy5fcmVuZGVyZWQ9ITApLHRoaXMuZW1pdChHLGIpLHRoaXMuX29uU3RhcnRDYWxsYmFja0ZpcmVkPSEwKSxpPXkmJmZ8fGEsIWIpcmV0dXJuITA7Zm9yKG8gaW4gZyl7dmFyIFM9bVtvXTtpZihudWxsIT1TfHxxW29dJiZxW29dLnVwZGF0ZSl7dmFyIEU9Z1tvXSxQPWlbb10/aVtvXShuKTooXCJmdW5jdGlvblwiPT10eXBlb2YgaT9pOmx0KShuKSxNPXVbb10/dVtvXTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB1P3U6b3QuTGluZWFyO1wibnVtYmVyXCI9PXR5cGVvZiBFP2Jbb109UysoRS1TKSpQOiFBcnJheS5pc0FycmF5KEUpfHxFLmlzU3RyaW5nfHxBcnJheS5pc0FycmF5KFMpP0UmJkUudXBkYXRlP0UudXBkYXRlKFApOlwiZnVuY3Rpb25cIj09dHlwZW9mIEU/YltvXT1FKFApOlwic3RyaW5nXCI9PXR5cGVvZiBFJiZcIm51bWJlclwiPT10eXBlb2YgUz9iW29dPVMrcGFyc2VGbG9hdChFWzBdK0Uuc3Vic3RyKDIpKSpQOiQobyxiLG0sZyxQLG4pOmJbb109TShFLFAsYltvXSkscVtvXSYmcVtvXS51cGRhdGUmJnFbb10udXBkYXRlLmNhbGwodGhpcyxiW29dLFMsRSxQLG4sbyksaisrfX1pZighailyZXR1cm4gTih0aGlzKSwhMTtpZih3JiZMLlJlbmRlcmVyJiZMLlJlbmRlcmVyLnVwZGF0ZSYmTC5SZW5kZXJlci51cGRhdGUuY2FsbCh0aGlzLGIsbiksdGhpcy5lbWl0KFYsYixuLHQpLDE9PT1ufHx5JiYwPT09bil7aWYoMDxsJiYwPF8pe2lmKFQmJnRoaXMuX3JlcGVhdC0tLHApdGhpcy5fcmV2ZXJzZWQ9IXk7ZWxzZSBmb3IobyBpbiBnKXt2YXIgUj1nW29dO1wic3RyaW5nXCI9PXR5cGVvZiBSJiZcIm51bWJlclwiPT10eXBlb2YgbVtvXSYmKG1bb10rPXBhcnNlRmxvYXQoUlswXStSLnN1YnN0cigyKSkpfXJldHVybiB0aGlzLmVtaXQocCYmIXk/UTp6LGIpLHRoaXMuX3N0YXJ0VGltZT15JiZjP3QtYzp0K2gsITB9aWYoZXx8KHRoaXMuX2lzUGxheWluZz0hMSxOKHRoaXMpLGZ0LS0pLHRoaXMuZW1pdChCLGIpLHRoaXMuX3JlcGVhdD10aGlzLl9yLGspZm9yKHZhciBJPTA7STxrO0krKyl0aGlzW1UrSV0uc3RhcnQodCtfKTtyZXR1cm4hMX1yZXR1cm4hMH19XSksTH0oKSxjdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtfKHRoaXMsdCksdGhpcy50b3RhbFRpbWU9MCx0aGlzLmxhYmVscz1bXSx0aGlzLm9mZnNldHM9W119cmV0dXJuIGIodCxbe2tleTpcInBhcnNlTGFiZWxcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciByPXRoaXMub2Zmc2V0cyxuPXRoaXMubGFiZWxzLGk9bi5pbmRleE9mKHQpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiYtMSE9PXQuaW5kZXhPZihcIj1cIikmJiFlJiYtMT09PWkpe3ZhciBvPXQuc3Vic3RyKHQuaW5kZXhPZihcIj1cIiktMSwyKSxzPXQuc3BsaXQobyk7ZT0yPT09cy5sZW5ndGg/bytzWzFdOm51bGwsdD1zWzBdLGk9bi5pbmRleE9mKHQpfWlmKC0xIT09aSYmdCl7dmFyIGE9cltpXXx8MDtpZihcIm51bWJlclwiPT10eXBlb2YgZSlhPWU7ZWxzZSBpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmLTEhPT1lLmluZGV4T2YoXCI9XCIpKXt2YXIgdT1lLmNoYXJBdCgwKTtlPU51bWJlcihlLnN1YnN0cigyKSksXCIrXCI9PT11fHxcIi1cIj09PXU/YSs9cGFyc2VGbG9hdCh1K2UpOlwiKlwiPT09dT9hKj1lOlwiL1wiPT09dT9hLz1lOlwiJVwiPT09dSYmKGEqPWUvMTAwKX1yZXR1cm4gYX1yZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZT9lOjB9fSx7a2V5OlwiYWRkTGFiZWxcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmxhYmVscy5wdXNoKHQpLHRoaXMub2Zmc2V0cy5wdXNoKHRoaXMucGFyc2VMYWJlbCh0LGUpKSx0aGlzfX0se2tleTpcInNldExhYmVsXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLmxhYmVscy5pbmRleE9mKHQpO3JldHVybi0xIT09ciYmdGhpcy5vZmZzZXRzLnNwbGljZShyLDEsdGhpcy5wYXJzZUxhYmVsKHQsZSkpLHRoaXN9fSx7a2V5OlwiZXJhc2VMYWJlbFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubGFiZWxzLmluZGV4T2YodCk7cmV0dXJuLTEhPT1lJiYodGhpcy5sYWJlbHMuc3BsaWNlKGUsMSksdGhpcy5vZmZzZXRzLnNwbGljZShlLDEpKSx0aGlzfX1dKSx0fSgpLHB0PTAseXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiByKHQpe3ZhciBlO3JldHVybiBfKHRoaXMsciksKGU9QSh0aGlzLHcocikuY2FsbCh0aGlzKSkpLl9kdXJhdGlvbj0wLGUuX3N0YXJ0VGltZT10JiZ2b2lkIDAhPT10LnN0YXJ0VGltZT90LnN0YXJ0VGltZTpDKCksZS5fdHdlZW5zPVtdLGUuZWxhcHNlZD0wLGUuX2lkPXB0KyssZS5fZGVmYXVsdFBhcmFtcz10LGUucG9zaXRpb249bmV3IGN0LGUucG9zaXRpb24uYWRkTGFiZWwoXCJhZnRlckxhc3RcIixlLl9kdXJhdGlvbiksZS5wb3NpdGlvbi5hZGRMYWJlbChcImFmdGVySW5pdFwiLGUuX3N0YXJ0VGltZSksZS5fb25TdGFydENhbGxiYWNrRmlyZWQ9ITEsQShlLGooZSkpfXJldHVybiBmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmayh0LGUpfShyLGh0KSxiKHIsW3trZXk6XCJtYXBUb3RhbFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNhbGwodGhpcyx0aGlzLl90d2VlbnMpLHRoaXN9fSx7a2V5OlwidGltaW5nT3JkZXJcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgcj10KHRoaXMuX3R3ZWVucy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuX3N0YXJ0VGltZX0pKTtyZXR1cm4gdGhpcy5fdHdlZW5zLm1hcChmdW5jdGlvbih0LGUpe3QuX3N0YXJ0VGltZT1yW2VdfSksdGhpc319LHtrZXk6XCJnZXRUaW1pbmdcIix2YWx1ZTpmdW5jdGlvbih0LGUscixuKXt2YXIgaT0zPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PW4/bjowO2lmKFwicmV2ZXJzZVwiPT09dCl7dmFyIG89ci5zdGFnZ2VyLHM9KG98fDApKihlLmxlbmd0aC0xKTtyZXR1cm4gZS5tYXAoZnVuY3Rpb24odCxlKXtyZXR1cm4gcy0ob3x8MCkqZStpfSl9aWYoXCJhc3luY1wiPT09dClyZXR1cm4gZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGl9KTtpZihcInNlcXVlbmNlXCI9PT10fHxcImRlbGF5ZWRcIj09PXQpe3ZhciBhPXIuc3RhZ2dlcjtyZXR1cm4gYT1hfHwoci5kdXJhdGlvbnx8MWUzKS8oZS5sZW5ndGgtMSksZS5tYXAoZnVuY3Rpb24odCxlKXtyZXR1cm4gYSplK2l9KX1pZihcIm9uZUJ5T25lXCI9PT10KXJldHVybiBlLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gci5kdXJhdGlvbn0pO2lmKFwic2h1ZmZsZVwiPT09dCl7dmFyIHU9ci5zdGFnZ2VyO3JldHVybiBmdW5jdGlvbih0KXt2YXIgZSxyLG47Zm9yKG49dC5sZW5ndGg7bjstLW4pZT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqbikscj10W24tMV0sdFtuLTFdPXRbZV0sdFtlXT1yO3JldHVybiB0fShlLm1hcChmdW5jdGlvbih0LGUpe3JldHVybih1fHwwKSplK2l9KSl9dmFyIGY9ci5zdGFnZ2VyO3JldHVybiBlLm1hcChmdW5jdGlvbih0LGUpe3JldHVybihmfHwwKSplK2l9KX19LHtrZXk6XCJmcm9tVG9cIix2YWx1ZTpmdW5jdGlvbih0LGUscixuKXtpZigodD11dCh0LCEwLCEwKSkmJnQubGVuZ3RoKXt0aGlzLl9kZWZhdWx0UGFyYW1zJiYobj1uP08oe30sdGhpcy5fZGVmYXVsdFBhcmFtcyx7fSxuKTp0aGlzLl9kZWZhdWx0UGFyYW1zKTtmb3IodmFyIGksbz1uLmxhYmVsLHM9XCJudW1iZXJcIj09dHlwZW9mIG8/bzp0aGlzLnBvc2l0aW9uLnBhcnNlTGFiZWwodm9pZCAwIT09bz9vOlwiYWZ0ZXJMYXN0XCIsbnVsbCksYT10aGlzLmdldFRpbWluZyhuLm1vZGUsdCxuLHMpLHU9MCxmPXQubGVuZ3RoO3U8Zjt1KyspaT10W3VdLHRoaXMuYWRkKGh0LmZyb21UbyhpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZSh1LHQubGVuZ3RoKTpcIm9iamVjdFwiPT09bShlKSYmZT9PKHt9LGUpOm51bGwsXCJmdW5jdGlvblwiPT10eXBlb2Ygcj9yKHUsdC5sZW5ndGgpOnIsXCJmdW5jdGlvblwiPT10eXBlb2Ygbj9uKHUsdC5sZW5ndGgpOm4pLGFbdV0pfXJldHVybiB0aGlzLnN0YXJ0KCl9fSx7a2V5OlwiZnJvbVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdGhpcy5mcm9tVG8odCxlLG51bGwscil9fSx7a2V5OlwidG9cIix2YWx1ZTpmdW5jdGlvbih0LGUscil7cmV0dXJuIHRoaXMuZnJvbVRvKHQsbnVsbCxlLHIpfX0se2tleTpcImFkZExhYmVsXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5wb3NpdGlvbi5hZGRMYWJlbCh0LGUpLHRoaXN9fSx7a2V5OlwibWFwXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAscj10aGlzLl90d2VlbnMubGVuZ3RoO2U8cjtlKyspe3ZhciBuPXRoaXMuX3R3ZWVuc1tlXTt0KG4sZSksdGhpcy5fZHVyYXRpb249TWF0aC5tYXgodGhpcy5fZHVyYXRpb24sbi5fZHVyYXRpb24rbi5fc3RhcnRUaW1lKX1yZXR1cm4gdGhpc319LHtrZXk6XCJhZGRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciByPXRoaXM7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdC5tYXAoZnVuY3Rpb24odCl7ci5hZGQodCxlKX0pLHRoaXM7XCJvYmplY3RcIiE9PW0odCl8fHQgaW5zdGFuY2VvZiBodHx8KHQ9bmV3IGh0KHQuZnJvbSkudG8odC50byx0KSk7dmFyIG49dGhpcy5fZGVmYXVsdFBhcmFtcyxpPXRoaXMuX2R1cmF0aW9uO2lmKG4pZm9yKHZhciBvIGluIG4pXCJmdW5jdGlvblwiPT10eXBlb2YgdFtvXSYmdFtvXShuW29dKTt2YXIgcz1cIm51bWJlclwiPT10eXBlb2YgZT9lOnRoaXMucG9zaXRpb24ucGFyc2VMYWJlbCh2b2lkIDAhPT1lP2U6XCJhZnRlckxhc3RcIixudWxsKTtyZXR1cm4gdC5fc3RhcnRUaW1lPU1hdGgubWF4KHRoaXMuX3N0YXJ0VGltZSx0Ll9kZWxheVRpbWUscyksdC5fZGVsYXlUaW1lPXMsdC5faXNQbGF5aW5nPSEwLHRoaXMuX2R1cmF0aW9uPU1hdGgubWF4KGksTWF0aC5tYXgodC5fc3RhcnRUaW1lK3QuX2RlbGF5VGltZSx0Ll9kdXJhdGlvbikpLHRoaXMuX3R3ZWVucy5wdXNoKHQpLHRoaXMucG9zaXRpb24uc2V0TGFiZWwoXCJhZnRlckxhc3RcIix0aGlzLl9kdXJhdGlvbiksdGhpc319LHtrZXk6XCJyZXN0YXJ0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhcnRUaW1lKz1DKCkscyh0aGlzKSx0aGlzLmVtaXQoUCl9fSx7a2V5OlwiZWFzaW5nXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVhc2luZyhlKX0pfX0se2tleTpcImludGVycG9sYXRpb25cIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuaW50ZXJwb2xhdGlvbihlKX0pfX0se2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLHI9dGhpcy5fdHdlZW5zLG49dGhpcy5fZHVyYXRpb24saT10aGlzLl9yZXZlcnNlRGVsYXlUaW1lLG89dGhpcy5fc3RhcnRUaW1lLHM9dGhpcy5fcmV2ZXJzZWQsYT10aGlzLl95b3lvLHU9dGhpcy5fcmVwZWF0LGY9dGhpcy5faXNGaW5pdGUsbD10aGlzLl9pc1BsYXlpbmcsaD10aGlzLl9wcmV2VGltZSxjPXRoaXMuX29uU3RhcnRDYWxsYmFja0ZpcmVkLHA9KHQ9dm9pZCAwIT09dD90OkMoKSktaDtpZih0aGlzLl9wcmV2VGltZT10LDI1MDxwJiZGKCkmJngoKSYmKHQtPXAtRCksIWx8fHQ8bylyZXR1cm4hMDtlPTE8KGU9KHQtbykvbik/MTplLGU9cz8xLWU6ZSx0aGlzLmVsYXBzZWQ9ZSxjfHwodGhpcy5lbWl0KEcpLHRoaXMuX29uU3RhcnRDYWxsYmFja0ZpcmVkPSEwKTtmb3IodmFyIHk9dC1vLGQ9cz9uLXk6eSx2PTA7djxyLmxlbmd0aDspclt2XS51cGRhdGUoZCksdisrO2lmKHRoaXMuZW1pdChWLGUseSksMT09PWV8fHMmJjA9PT1lKXtpZih1KXtmb3IoZiYmdGhpcy5fcmVwZWF0LS0sdGhpcy5lbWl0KHM/UTp6KSxhJiYodGhpcy5fcmV2ZXJzZWQ9IXMsdGhpcy50aW1pbmdPcmRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXZlcnNlKCl9KSksdGhpcy5fc3RhcnRUaW1lPXMmJmk/dCtpOnQsdj0wO3Y8ci5sZW5ndGg7KXJbdl0ucmVhc3NpZ25WYWx1ZXModCksdisrO3JldHVybiEwfXJldHVybiB0aGlzLmVtaXQoQiksdGhpcy5fcmVwZWF0PXRoaXMuX3IsTih0aGlzKSx0aGlzLl9pc1BsYXlpbmc9ITF9cmV0dXJuITB9fSx7a2V5OlwicHJvZ3Jlc3NcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dD90aGlzLnVwZGF0ZSh0KnRoaXMuX2R1cmF0aW9uKTp0aGlzLmVsYXBzZWR9fV0pLHJ9KCk7dC5FYXNpbmc9dix0LkZyYW1lVGhyb3R0bGU9ZnVuY3Rpb24odCl7eT0xLjA1KigwPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQ/dDoxMjApfSx0LkludGVycG9sYXRpb249b3QsdC5JbnRlcnBvbGF0b3I9ZnVuY3Rpb24oaSxvKXt2YXIgcz1BcnJheS5pc0FycmF5KGkpJiYhaS5pc1N0cmluZyxhPVwic3RyaW5nXCI9PXR5cGVvZiBpP2k6cz9pLnNsaWNlKCk6Tyh7fSxpKTtpZihzKWZvcih2YXIgdD0wLGU9aS5sZW5ndGg7dDxlO3QrKylpW3RdPT09b1t0XSYmXCJudW1iZXJcIj09dHlwZW9mIGlbdF0mJlwibnVtYmVyXCIhPXR5cGVvZiBvW3RdfHxYKHQsYSxpLG8pO2Vsc2UgaWYoXCJvYmplY3RcIj09PW0oaSkpZm9yKHZhciByIGluIGkpaVtyXT09PW9bcl0mJlwibnVtYmVyXCI9PXR5cGVvZiBpW3JdJiZcIm51bWJlclwiIT10eXBlb2Ygb1tyXXx8WChyLGEsaSxvKTtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiBpKXtpPUgoaSksbz1IKG8pO2Zvcih2YXIgbj0xO248aS5sZW5ndGg7KWlbbl09PT1vW25dJiZcInN0cmluZ1wiPT10eXBlb2YgaVtuLTFdPyhpLnNwbGljZShuLTEsMixpW24tMV0raVtuXSksby5zcGxpY2Uobi0xLDIsb1tuLTFdK29bbl0pKTpuKyt9cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHMpZm9yKHZhciBlPTAscj1pLmxlbmd0aDtlPHI7ZSsrKSQoZSxhLGksbyx0KTtlbHNlIGlmKFwib2JqZWN0XCI9PT1tKGEpKWZvcih2YXIgbiBpbiBpKSQobixhLGksbyx0KTtlbHNlXCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPSQoMCwwLGksbyx0LHQsITApKTtyZXR1cm4gYX19LHQuUGx1Z2lucz1xLHQuU2VsZWN0b3I9dXQsdC5UaW1lbGluZT15dCx0LlRvZ2dsZUxhZ1Ntb290aGluZz1mdW5jdGlvbih0KXtkPSEoMDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10KXx8dH0sdC5Ud2Vlbj1odCx0LmFkZD1zLHQuYXV0b1BsYXk9ZnVuY3Rpb24odCl7bD10fSx0LmdldD1lLHQuZ2V0QWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHV9LHQuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT09ZSh0KX0sdC5pc1J1bm5pbmc9Rix0Lm5vdz1DLHQub25SZXF1ZXN0VGljaz1mdW5jdGlvbih0KXtoLnB1c2godCl9LHQub25UaWNrPWZ1bmN0aW9uKHQpe3JldHVybiB1LnB1c2goe3VwZGF0ZTp0fSl9LHQucmVtb3ZlPU4sdC5yZW1vdmVBbGw9ZnVuY3Rpb24oKXt1Lmxlbmd0aD0wLGEobyksZj0hMX0sdC51cGRhdGU9aSx0LnV0aWxzPWl0LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/es6-tween/bundled/Tween.min.js\n");

/***/ }),

/***/ "./node_modules/ms/index.js":
/*!**********************************!*\
  !*** ./node_modules/ms/index.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error('val is not a non-empty string or a valid number. val=' + JSON.stringify(val));\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbXMvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbXMvaW5kZXguanM/MTVhMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEhlbHBlcnMuXG4gKi9cblxudmFyIHMgPSAxMDAwO1xudmFyIG0gPSBzICogNjA7XG52YXIgaCA9IG0gKiA2MDtcbnZhciBkID0gaCAqIDI0O1xudmFyIHcgPSBkICogNztcbnZhciB5ID0gZCAqIDM2NS4yNTtcblxuLyoqXG4gKiBQYXJzZSBvciBmb3JtYXQgdGhlIGdpdmVuIGB2YWxgLlxuICpcbiAqIE9wdGlvbnM6XG4gKlxuICogIC0gYGxvbmdgIHZlcmJvc2UgZm9ybWF0dGluZyBbZmFsc2VdXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSB2YWxcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEB0aHJvd3Mge0Vycm9yfSB0aHJvdyBhbiBlcnJvciBpZiB2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIG51bWJlclxuICogQHJldHVybiB7U3RyaW5nfE51bWJlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih2YWwsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbDtcbiAgaWYgKHR5cGUgPT09ICdzdHJpbmcnICYmIHZhbC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHBhcnNlKHZhbCk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsKSkge1xuICAgIHJldHVybiBvcHRpb25zLmxvbmcgPyBmbXRMb25nKHZhbCkgOiBmbXRTaG9ydCh2YWwpO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAndmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSB2YWxpZCBudW1iZXIuIHZhbD0nICtcbiAgICAgIEpTT04uc3RyaW5naWZ5KHZhbClcbiAgKTtcbn07XG5cbi8qKlxuICogUGFyc2UgdGhlIGdpdmVuIGBzdHJgIGFuZCByZXR1cm4gbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlKHN0cikge1xuICBzdHIgPSBTdHJpbmcoc3RyKTtcbiAgaWYgKHN0ci5sZW5ndGggPiAxMDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG1hdGNoID0gL14oLT8oPzpcXGQrKT9cXC4/XFxkKykgKihtaWxsaXNlY29uZHM/fG1zZWNzP3xtc3xzZWNvbmRzP3xzZWNzP3xzfG1pbnV0ZXM/fG1pbnM/fG18aG91cnM/fGhycz98aHxkYXlzP3xkfHdlZWtzP3x3fHllYXJzP3x5cnM/fHkpPyQvaS5leGVjKFxuICAgIHN0clxuICApO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBuID0gcGFyc2VGbG9hdChtYXRjaFsxXSk7XG4gIHZhciB0eXBlID0gKG1hdGNoWzJdIHx8ICdtcycpLnRvTG93ZXJDYXNlKCk7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3llYXJzJzpcbiAgICBjYXNlICd5ZWFyJzpcbiAgICBjYXNlICd5cnMnOlxuICAgIGNhc2UgJ3lyJzpcbiAgICBjYXNlICd5JzpcbiAgICAgIHJldHVybiBuICogeTtcbiAgICBjYXNlICd3ZWVrcyc6XG4gICAgY2FzZSAnd2Vlayc6XG4gICAgY2FzZSAndyc6XG4gICAgICByZXR1cm4gbiAqIHc7XG4gICAgY2FzZSAnZGF5cyc6XG4gICAgY2FzZSAnZGF5JzpcbiAgICBjYXNlICdkJzpcbiAgICAgIHJldHVybiBuICogZDtcbiAgICBjYXNlICdob3Vycyc6XG4gICAgY2FzZSAnaG91cic6XG4gICAgY2FzZSAnaHJzJzpcbiAgICBjYXNlICdocic6XG4gICAgY2FzZSAnaCc6XG4gICAgICByZXR1cm4gbiAqIGg7XG4gICAgY2FzZSAnbWludXRlcyc6XG4gICAgY2FzZSAnbWludXRlJzpcbiAgICBjYXNlICdtaW5zJzpcbiAgICBjYXNlICdtaW4nOlxuICAgIGNhc2UgJ20nOlxuICAgICAgcmV0dXJuIG4gKiBtO1xuICAgIGNhc2UgJ3NlY29uZHMnOlxuICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgY2FzZSAnc2Vjcyc6XG4gICAgY2FzZSAnc2VjJzpcbiAgICBjYXNlICdzJzpcbiAgICAgIHJldHVybiBuICogcztcbiAgICBjYXNlICdtaWxsaXNlY29uZHMnOlxuICAgIGNhc2UgJ21pbGxpc2Vjb25kJzpcbiAgICBjYXNlICdtc2Vjcyc6XG4gICAgY2FzZSAnbXNlYyc6XG4gICAgY2FzZSAnbXMnOlxuICAgICAgcmV0dXJuIG47XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBTaG9ydCBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRTaG9ydChtcykge1xuICB2YXIgbXNBYnMgPSBNYXRoLmFicyhtcyk7XG4gIGlmIChtc0FicyA+PSBkKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBkKSArICdkJztcbiAgfVxuICBpZiAobXNBYnMgPj0gaCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gaCkgKyAnaCc7XG4gIH1cbiAgaWYgKG1zQWJzID49IG0pIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG0pICsgJ20nO1xuICB9XG4gIGlmIChtc0FicyA+PSBzKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBzKSArICdzJztcbiAgfVxuICByZXR1cm4gbXMgKyAnbXMnO1xufVxuXG4vKipcbiAqIExvbmcgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10TG9uZyhtcykge1xuICB2YXIgbXNBYnMgPSBNYXRoLmFicyhtcyk7XG4gIGlmIChtc0FicyA+PSBkKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGQsICdkYXknKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gaCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBoLCAnaG91cicpO1xuICB9XG4gIGlmIChtc0FicyA+PSBtKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIG0sICdtaW51dGUnKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gcykge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBzLCAnc2Vjb25kJyk7XG4gIH1cbiAgcmV0dXJuIG1zICsgJyBtcyc7XG59XG5cbi8qKlxuICogUGx1cmFsaXphdGlvbiBoZWxwZXIuXG4gKi9cblxuZnVuY3Rpb24gcGx1cmFsKG1zLCBtc0FicywgbiwgbmFtZSkge1xuICB2YXIgaXNQbHVyYWwgPSBtc0FicyA+PSBuICogMS41O1xuICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG4pICsgJyAnICsgbmFtZSArIChpc1BsdXJhbCA/ICdzJyA6ICcnKTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/ms/index.js\n");

/***/ }),

/***/ "./node_modules/rough-glycan.js/js/RoughCanvas.js":
/*!********************************************************!*\
  !*** ./node_modules/rough-glycan.js/js/RoughCanvas.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var glycan_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! glycan.js */ \"../glycan.js/js/main.js\");\n/* harmony import */ var roughjs_bundled_rough_esm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! roughjs/bundled/rough.esm.js */ \"./node_modules/rough-glycan.js/node_modules/roughjs/bundled/rough.esm.js\");\n\n\n// https://www.html5rocks.com/en/tutorials/canvas/performance/#toc-pre-render\nvar CACHED_ICONS = new WeakMap();\n\nvar Canvas = glycan_js__WEBPACK_IMPORTED_MODULE_0__[\"CanvasRenderer\"].Canvas;\n\nvar FILLSTYLE = 'hachure'; //'cross-hatch';\nvar STROKE_COLOR = '#111';\nvar draw_path = (path, ctx, rc) => {\n  if (path.rotate) {\n    ctx.save();\n    ctx.translate(path.rotate.cx, path.rotate.cy);\n    ctx.rotate(path.rotate.angle);\n    ctx.translate(-1 * path.rotate.cx, -1 * path.rotate.cy);\n  }\n  if (path.d) {\n    if (path.fill !== 'none') {\n      rc.path(path.d, {\n        fill: '#fff',\n        stroke: '#fff',\n        roughness: 0,\n        fillStyle: 'solid',\n        strokeWidth: 0\n      });\n      rc.path(path.d, {\n        fill: path.fill || '#000',\n        roughness: !path.fill ? 0.5 : 2,\n        fillStyle: FILLSTYLE,\n        fillWeight: 1.5,\n        stroke: STROKE_COLOR\n      });\n    } else {\n      rc.path(path.d, {\n        roughness: 2\n      });\n    }\n  }\n  if (path.cx) {\n    rc.circle(path.cx, path.cy, 2 * path.r, {\n      fill: '#fff',\n      stroke: '#fff',\n      roughness: 0,\n      fillStyle: 'solid',\n      strokeWidth: 0\n    });\n    rc.circle(path.cx, path.cy, 2 * path.r, {\n      fill: path.fill,\n      roughness: 2,\n      fillWeight: 1.5,\n      fillStyle: FILLSTYLE,\n      stroke: STROKE_COLOR\n    });\n  }\n  if (path.fontSize) {\n    ctx.font = \"\".concat(path.fontSize, \"px sans-serif\");\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    ctx.fillStyle = path.fill;\n    ctx.fillText(path.text, path.x, path.y);\n  }\n  if (path.rotate) {\n    ctx.restore();\n  }\n};\nvar render_icon = function render_icon(canvas) {\n  var ctx = canvas.getContext('2d');\n  if (this.paths && this.paths.length > 0) {\n    ctx.save();\n    ctx.translate(this.x, this.y);\n    ctx.scale(this.width / 100, this.height / 100);\n    if (!CACHED_ICONS.has(this)) {\n      var offscreen = canvas.ownerDocument.createElement('canvas');\n      offscreen.width = 100;\n      offscreen.height = 100;\n      var offscreen_ctx = offscreen.getContext('2d');\n      var rc = roughjs_bundled_rough_esm_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].canvas(offscreen);\n      for (var path of this.paths.filter(path => !path.text)) {\n        draw_path(path, offscreen_ctx, rc);\n      }\n      CACHED_ICONS.set(this, offscreen);\n    }\n    ctx.save();\n    ctx.translate(50, 50);\n    ctx.rotate(Math.PI / 180 * this.rotate);\n    ctx.drawImage(CACHED_ICONS.get(this), -50, -50);\n    ctx.restore();\n    for (var _path of this.paths.filter(path => path.text)) {\n      draw_path(_path, ctx, canvas);\n    }\n    ctx.restore();\n  }\n};\nvar render_line = function render_line(canvas) {\n  var rc = roughjs_bundled_rough_esm_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].canvas(canvas);\n  rc.line(this.x, this.y, this.x2, this.y2, {\n    roughness: 3\n  });\n};\nclass RoughCanvas extends Canvas {\n  use(ref, x, y, width, height) {\n    var icon = {\n      icon: ref,\n      x,\n      y,\n      width,\n      height,\n      render: render_icon\n    };\n    this.appendChild(icon);\n    return icon;\n  }\n  line(x, y, x2, y2) {\n    var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    var a_line = {\n      x,\n      y,\n      x2,\n      y2,\n      options,\n      render: render_line\n    };\n    this.appendChild(a_line);\n    return a_line;\n  }\n  group(a_g) {\n    if (!a_g) {\n      a_g = new RoughCanvas();\n      this.appendChild(a_g);\n    }\n    return a_g;\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (RoughCanvas);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcm91Z2gtZ2x5Y2FuLmpzL2pzL1JvdWdoQ2FudmFzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdWdoLWdseWNhbi5qcy9qcy9Sb3VnaENhbnZhcy5qcz82OGZkIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLy8gaHR0cHM6Ly93d3cuaHRtbDVyb2Nrcy5jb20vZW4vdHV0b3JpYWxzL2NhbnZhcy9wZXJmb3JtYW5jZS8jdG9jLXByZS1yZW5kZXJcblxuY29uc3QgQ0FDSEVEX0lDT05TID0gbmV3IFdlYWtNYXAoKTtcblxuaW1wb3J0IHsgQ2FudmFzUmVuZGVyZXIgfSBmcm9tICdnbHljYW4uanMnO1xuXG5jb25zdCBDYW52YXMgPSBDYW52YXNSZW5kZXJlci5DYW52YXM7XG5cbmltcG9ydCByb3VnaCBmcm9tICdyb3VnaGpzL2J1bmRsZWQvcm91Z2guZXNtLmpzJztcblxuY29uc3QgRklMTFNUWUxFID0gJ2hhY2h1cmUnOy8vJ2Nyb3NzLWhhdGNoJztcbmNvbnN0IFNUUk9LRV9DT0xPUiA9ICcjMTExJztcblxuY29uc3QgZHJhd19wYXRoID0gKHBhdGgsY3R4LHJjKSA9PiB7XG4gIGlmIChwYXRoLnJvdGF0ZSkge1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LnRyYW5zbGF0ZShwYXRoLnJvdGF0ZS5jeCxwYXRoLnJvdGF0ZS5jeSk7XG4gICAgY3R4LnJvdGF0ZShwYXRoLnJvdGF0ZS5hbmdsZSk7XG4gICAgY3R4LnRyYW5zbGF0ZSgtMSpwYXRoLnJvdGF0ZS5jeCwtMSpwYXRoLnJvdGF0ZS5jeSk7XG4gIH1cblxuICBpZiAocGF0aC5kKSB7XG4gICAgaWYgKHBhdGguZmlsbCAhPT0gJ25vbmUnKSB7XG4gICAgICByYy5wYXRoKHBhdGguZCx7IGZpbGw6ICcjZmZmJywgc3Ryb2tlOiAnI2ZmZicsIHJvdWdobmVzczogMCwgZmlsbFN0eWxlOiAnc29saWQnLCBzdHJva2VXaWR0aDogMCB9KTtcbiAgICAgIHJjLnBhdGgocGF0aC5kLHsgZmlsbDogcGF0aC5maWxsIHx8ICcjMDAwJywgcm91Z2huZXNzOiAoISBwYXRoLmZpbGwpID8gMC41IDogMiwgZmlsbFN0eWxlOiBGSUxMU1RZTEUsIGZpbGxXZWlnaHQ6IDEuNSwgc3Ryb2tlOiBTVFJPS0VfQ09MT1IgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJjLnBhdGgocGF0aC5kLHsgcm91Z2huZXNzOiAyIH0pO1xuICAgIH1cbiAgfVxuICBpZiAocGF0aC5jeCkge1xuICAgIHJjLmNpcmNsZShwYXRoLmN4LHBhdGguY3ksMipwYXRoLnIsIHtmaWxsOiAnI2ZmZicsIHN0cm9rZTogJyNmZmYnLCByb3VnaG5lc3M6IDAsIGZpbGxTdHlsZTogJ3NvbGlkJyAsIHN0cm9rZVdpZHRoOiAwIH0pO1xuICAgIHJjLmNpcmNsZShwYXRoLmN4LHBhdGguY3ksMipwYXRoLnIsIHtmaWxsOiBwYXRoLmZpbGwsIHJvdWdobmVzczogMiwgZmlsbFdlaWdodDogMS41LCBmaWxsU3R5bGU6IEZJTExTVFlMRSwgc3Ryb2tlOiBTVFJPS0VfQ09MT1IgfSk7XG4gIH1cbiAgaWYgKHBhdGguZm9udFNpemUpIHtcbiAgICBjdHguZm9udCA9IGAke3BhdGguZm9udFNpemV9cHggc2Fucy1zZXJpZmA7XG4gICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICBjdHguZmlsbFN0eWxlID0gcGF0aC5maWxsO1xuICAgIGN0eC5maWxsVGV4dChwYXRoLnRleHQscGF0aC54LCBwYXRoLnkpO1xuICB9XG5cbiAgaWYgKHBhdGgucm90YXRlKSB7XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfVxufTtcblxuY29uc3QgcmVuZGVyX2ljb24gPSBmdW5jdGlvbihjYW52YXMpIHtcbiAgbGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gIGlmICh0aGlzLnBhdGhzICYmIHRoaXMucGF0aHMubGVuZ3RoID4gMCkge1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LnRyYW5zbGF0ZSh0aGlzLngsdGhpcy55KTtcbiAgICBjdHguc2NhbGUodGhpcy53aWR0aC8xMDAsdGhpcy5oZWlnaHQvMTAwKTtcblxuICAgIGlmICggISBDQUNIRURfSUNPTlMuaGFzKHRoaXMpICkge1xuICAgICAgbGV0IG9mZnNjcmVlbiA9IGNhbnZhcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgb2Zmc2NyZWVuLndpZHRoID0gMTAwO1xuICAgICAgb2Zmc2NyZWVuLmhlaWdodCA9IDEwMDtcbiAgICAgIGxldCBvZmZzY3JlZW5fY3R4ID0gb2Zmc2NyZWVuLmdldENvbnRleHQoJzJkJyk7XG4gICAgICBsZXQgcmMgPSByb3VnaC5jYW52YXMob2Zmc2NyZWVuKTtcbiAgICAgIGZvcihsZXQgcGF0aCBvZiB0aGlzLnBhdGhzLmZpbHRlciggcGF0aCA9PiAhIHBhdGgudGV4dCApKSB7XG4gICAgICAgIGRyYXdfcGF0aChwYXRoLG9mZnNjcmVlbl9jdHgscmMpO1xuICAgICAgfVxuICAgICAgQ0FDSEVEX0lDT05TLnNldCh0aGlzLG9mZnNjcmVlbik7XG4gICAgfVxuXG4gICAgY3R4LnNhdmUoKTtcblxuICAgIGN0eC50cmFuc2xhdGUoNTAsNTApO1xuICAgIGN0eC5yb3RhdGUoTWF0aC5QSSAvIDE4MCAqIHRoaXMucm90YXRlICk7XG4gICAgY3R4LmRyYXdJbWFnZShDQUNIRURfSUNPTlMuZ2V0KHRoaXMpLC01MCwtNTApO1xuXG4gICAgY3R4LnJlc3RvcmUoKTtcblxuICAgIGZvciAobGV0IHBhdGggb2YgdGhpcy5wYXRocy5maWx0ZXIoIHBhdGggPT4gcGF0aC50ZXh0ICkpIHtcbiAgICAgIGRyYXdfcGF0aChwYXRoLGN0eCxjYW52YXMpO1xuICAgIH1cblxuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cbn07XG5cbmNvbnN0IHJlbmRlcl9saW5lID0gZnVuY3Rpb24oY2FudmFzKXtcbiAgbGV0IHJjID0gcm91Z2guY2FudmFzKGNhbnZhcyk7XG4gIHJjLmxpbmUodGhpcy54LHRoaXMueSx0aGlzLngyLHRoaXMueTIsIHtyb3VnaG5lc3M6IDMgfSk7XG59O1xuXG5cbmNsYXNzIFJvdWdoQ2FudmFzIGV4dGVuZHMgQ2FudmFzIHtcbiAgdXNlKHJlZix4LHksd2lkdGgsaGVpZ2h0KSB7XG4gICAgbGV0IGljb24gPSB7IGljb246IHJlZiwgeCwgeSwgd2lkdGgsIGhlaWdodCwgcmVuZGVyOiByZW5kZXJfaWNvbiB9O1xuICAgIHRoaXMuYXBwZW5kQ2hpbGQoaWNvbik7XG4gICAgcmV0dXJuIGljb247XG4gIH1cbiAgbGluZSh4LHkseDIseTIsb3B0aW9ucz17fSkge1xuICAgIGxldCBhX2xpbmUgPSB7eCx5LHgyLHkyLG9wdGlvbnMsIHJlbmRlcjogcmVuZGVyX2xpbmV9O1xuICAgIHRoaXMuYXBwZW5kQ2hpbGQoYV9saW5lKTtcbiAgICByZXR1cm4gYV9saW5lO1xuICB9XG4gIGdyb3VwKGFfZykge1xuICAgIGlmICggISBhX2cgKSB7XG4gICAgICBhX2cgPSBuZXcgUm91Z2hDYW52YXMoKTtcbiAgICAgIHRoaXMuYXBwZW5kQ2hpbGQoYV9nKTtcbiAgICB9XG4gICAgcmV0dXJuIGFfZztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSb3VnaENhbnZhczsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/rough-glycan.js/js/RoughCanvas.js\n");

/***/ }),

/***/ "./node_modules/rough-glycan.js/js/RoughCanvasRenderer.js":
/*!****************************************************************!*\
  !*** ./node_modules/rough-glycan.js/js/RoughCanvasRenderer.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _RoughCanvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoughCanvas */ \"./node_modules/rough-glycan.js/js/RoughCanvas.js\");\n/* harmony import */ var glycan_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! glycan.js */ \"../glycan.js/js/main.js\");\n\n\n\n\nclass RoughCanvasRenderer extends glycan_js__WEBPACK_IMPORTED_MODULE_1__[\"CanvasRenderer\"] {\n  constructor(container, layout) {\n    super(container, layout);\n    this.element = new _RoughCanvas__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.element.canvas);\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (RoughCanvasRenderer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcm91Z2gtZ2x5Y2FuLmpzL2pzL1JvdWdoQ2FudmFzUmVuZGVyZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm91Z2gtZ2x5Y2FuLmpzL2pzL1JvdWdoQ2FudmFzUmVuZGVyZXIuanM/Zjk3YiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBSb3VnaENhbnZhcyBmcm9tICcuL1JvdWdoQ2FudmFzJztcbmltcG9ydCB7IENhbnZhc1JlbmRlcmVyIH0gZnJvbSAnZ2x5Y2FuLmpzJztcblxuY2xhc3MgUm91Z2hDYW52YXNSZW5kZXJlciBleHRlbmRzIENhbnZhc1JlbmRlcmVyIHtcbiAgY29uc3RydWN0b3IoY29udGFpbmVyLGxheW91dCkge1xuICAgIHN1cGVyKGNvbnRhaW5lcixsYXlvdXQpO1xuICAgIHRoaXMuZWxlbWVudCA9IG5ldyBSb3VnaENhbnZhcyh0aGlzLmVsZW1lbnQuY2FudmFzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSb3VnaENhbnZhc1JlbmRlcmVyOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/rough-glycan.js/js/RoughCanvasRenderer.js\n");

/***/ }),

/***/ "./node_modules/rough-glycan.js/js/main.js":
/*!*************************************************!*\
  !*** ./node_modules/rough-glycan.js/js/main.js ***!
  \*************************************************/
/*! exports provided: RoughCanvasRenderer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _RoughCanvasRenderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoughCanvasRenderer */ \"./node_modules/rough-glycan.js/js/RoughCanvasRenderer.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RoughCanvasRenderer\", function() { return _RoughCanvasRenderer__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcm91Z2gtZ2x5Y2FuLmpzL2pzL21haW4uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm91Z2gtZ2x5Y2FuLmpzL2pzL21haW4uanM/ZTc4YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUm91Z2hDYW52YXNSZW5kZXJlciBmcm9tICcuL1JvdWdoQ2FudmFzUmVuZGVyZXInO1xuXG5leHBvcnQgeyBSb3VnaENhbnZhc1JlbmRlcmVyIH0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/rough-glycan.js/js/main.js\n");

/***/ }),

/***/ "./node_modules/rough-glycan.js/node_modules/roughjs/bundled/rough.esm.js":
/*!********************************************************************************!*\
  !*** ./node_modules/rough-glycan.js/node_modules/roughjs/bundled/rough.esm.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nfunction t(t, e, s) {\n  if (t && t.length) {\n    var [_n, _o] = e,\n      _a = Math.PI / 180 * s,\n      _r = Math.cos(_a),\n      _h = Math.sin(_a);\n    t.forEach(t => {\n      var [e, s] = t;\n      t[0] = (e - _n) * _r - (s - _o) * _h + _n, t[1] = (e - _n) * _h + (s - _o) * _r + _o;\n    });\n  }\n}\nfunction e(t) {\n  var e = t[0],\n    s = t[1];\n  return Math.sqrt(Math.pow(e[0] - s[0], 2) + Math.pow(e[1] - s[1], 2));\n}\nfunction s(t, e, s, n) {\n  var o = e[1] - t[1],\n    a = t[0] - e[0],\n    r = o * t[0] + a * t[1],\n    h = n[1] - s[1],\n    i = s[0] - n[0],\n    c = h * s[0] + i * s[1],\n    l = o * i - h * a;\n  return l ? [(i * r - a * c) / l, (o * c - h * r) / l] : null;\n}\nfunction n(t, e, s) {\n  var n = t.length;\n  if (n < 3) return !1;\n  var h = [Number.MAX_SAFE_INTEGER, s],\n    i = [e, s];\n  var c = 0;\n  for (var _e = 0; _e < n; _e++) {\n    var _s = t[_e],\n      _l = t[(_e + 1) % n];\n    if (r(_s, _l, i, h)) {\n      if (0 === a(_s, i, _l)) return o(_s, i, _l);\n      c++;\n    }\n  }\n  return c % 2 == 1;\n}\nfunction o(t, e, s) {\n  return e[0] <= Math.max(t[0], s[0]) && e[0] >= Math.min(t[0], s[0]) && e[1] <= Math.max(t[1], s[1]) && e[1] >= Math.min(t[1], s[1]);\n}\nfunction a(t, e, s) {\n  var n = (e[1] - t[1]) * (s[0] - e[0]) - (e[0] - t[0]) * (s[1] - e[1]);\n  return 0 === n ? 0 : n > 0 ? 1 : 2;\n}\nfunction r(t, e, s, n) {\n  var r = a(t, e, s),\n    h = a(t, e, n),\n    i = a(s, n, t),\n    c = a(s, n, e);\n  return r !== h && i !== c || !(0 !== r || !o(t, s, e)) || !(0 !== h || !o(t, n, e)) || !(0 !== i || !o(s, t, n)) || !(0 !== c || !o(s, e, n));\n}\nfunction h(e, s) {\n  var n = [0, 0],\n    o = Math.round(s.hachureAngle + 90);\n  o && t(e, n, o);\n  var a = function (t, e) {\n    var s = [...t];\n    s[0].join(\",\") !== s[s.length - 1].join(\",\") && s.push([s[0][0], s[0][1]]);\n    var n = [];\n    if (s && s.length > 2) {\n      var _ret = function () {\n        var t = e.hachureGap;\n        t < 0 && (t = 4 * e.strokeWidth), t = Math.max(t, .1);\n        var o = [];\n        for (var _t = 0; _t < s.length - 1; _t++) {\n          var _e2 = s[_t],\n            _n2 = s[_t + 1];\n          if (_e2[1] !== _n2[1]) {\n            var _t2 = Math.min(_e2[1], _n2[1]);\n            o.push({\n              ymin: _t2,\n              ymax: Math.max(_e2[1], _n2[1]),\n              x: _t2 === _e2[1] ? _e2[0] : _n2[0],\n              islope: (_n2[0] - _e2[0]) / (_n2[1] - _e2[1])\n            });\n          }\n        }\n        if (o.sort((t, e) => t.ymin < e.ymin ? -1 : t.ymin > e.ymin ? 1 : t.x < e.x ? -1 : t.x > e.x ? 1 : t.ymax === e.ymax ? 0 : (t.ymax - e.ymax) / Math.abs(t.ymax - e.ymax)), !o.length) return {\n          v: n\n        };\n        var a = [],\n          r = o[0].ymin;\n        for (; a.length || o.length;) {\n          if (o.length) {\n            var _t3 = -1;\n            for (var _e3 = 0; _e3 < o.length && !(o[_e3].ymin > r); _e3++) {\n              _t3 = _e3;\n            }\n            o.splice(0, _t3 + 1).forEach(t => {\n              a.push({\n                s: r,\n                edge: t\n              });\n            });\n          }\n          if (a = a.filter(t => !(t.edge.ymax <= r)), a.sort((t, e) => t.edge.x === e.edge.x ? 0 : (t.edge.x - e.edge.x) / Math.abs(t.edge.x - e.edge.x)), a.length > 1) for (var _t4 = 0; _t4 < a.length; _t4 += 2) {\n            var _e4 = _t4 + 1;\n            if (_e4 >= a.length) break;\n            var _s2 = a[_t4].edge,\n              _o2 = a[_e4].edge;\n            n.push([[Math.round(_s2.x), r], [Math.round(_o2.x), r]]);\n          }\n          r += t, a.forEach(e => {\n            e.edge.x = e.edge.x + t * e.edge.islope;\n          });\n        }\n      }();\n      if (typeof _ret === \"object\") return _ret.v;\n    }\n    return n;\n  }(e, s);\n  return o && (t(e, n, -o), function (e, s, n) {\n    var o = [];\n    e.forEach(t => o.push(...t)), t(o, s, n);\n  }(a, n, -o)), a;\n}\nclass i {\n  constructor(t) {\n    this.helper = t;\n  }\n  fillPolygon(t, e) {\n    return this._fillPolygon(t, e);\n  }\n  _fillPolygon(t, e) {\n    var s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n    var n = h(t, e);\n    if (s) {\n      var _e5 = this.connectingLines(t, n);\n      n = n.concat(_e5);\n    }\n    return {\n      type: \"fillSketch\",\n      ops: this.renderLines(n, e)\n    };\n  }\n  renderLines(t, e) {\n    var s = [];\n    for (var _n3 of t) {\n      s.push(...this.helper.doubleLineOps(_n3[0][0], _n3[0][1], _n3[1][0], _n3[1][1], e));\n    }\n    return s;\n  }\n  connectingLines(t, s) {\n    var n = [];\n    if (s.length > 1) for (var _o3 = 1; _o3 < s.length; _o3++) {\n      var _a2 = s[_o3 - 1];\n      if (e(_a2) < 3) continue;\n      var _r2 = [s[_o3][0], _a2[1]];\n      if (e(_r2) > 3) {\n        var _e6 = this.splitOnIntersections(t, _r2);\n        n.push(..._e6);\n      }\n    }\n    return n;\n  }\n  midPointInPolygon(t, e) {\n    return n(t, (e[0][0] + e[1][0]) / 2, (e[0][1] + e[1][1]) / 2);\n  }\n  splitOnIntersections(t, o) {\n    var a = Math.max(5, .1 * e(o)),\n      h = [];\n    for (var _n4 = 0; _n4 < t.length; _n4++) {\n      var _i = t[_n4],\n        _c = t[(_n4 + 1) % t.length];\n      if (r(_i, _c, ...o)) {\n        var _t5 = s(_i, _c, o[0], o[1]);\n        if (_t5) {\n          var _s3 = e([_t5, o[0]]),\n            _n5 = e([_t5, o[1]]);\n          _s3 > a && _n5 > a && h.push({\n            point: _t5,\n            distance: _s3\n          });\n        }\n      }\n    }\n    if (h.length > 1) {\n      var _e7 = h.sort((t, e) => t.distance - e.distance).map(t => t.point);\n      if (n(t, ...o[0]) || _e7.shift(), n(t, ...o[1]) || _e7.pop(), _e7.length <= 1) return this.midPointInPolygon(t, o) ? [o] : [];\n      var _s4 = [o[0], ..._e7, o[1]],\n        _a3 = [];\n      for (var _e8 = 0; _e8 < _s4.length - 1; _e8 += 2) {\n        var _n6 = [_s4[_e8], _s4[_e8 + 1]];\n        this.midPointInPolygon(t, _n6) && _a3.push(_n6);\n      }\n      return _a3;\n    }\n    return this.midPointInPolygon(t, o) ? [o] : [];\n  }\n}\nclass c extends i {\n  fillPolygon(t, e) {\n    return this._fillPolygon(t, e, !0);\n  }\n}\nclass l extends i {\n  fillPolygon(t, e) {\n    var s = this._fillPolygon(t, e),\n      n = Object.assign({}, e, {\n        hachureAngle: e.hachureAngle + 90\n      }),\n      o = this._fillPolygon(t, n);\n    return s.ops = s.ops.concat(o.ops), s;\n  }\n}\nclass u {\n  constructor(t) {\n    this.helper = t;\n  }\n  fillPolygon(t, e) {\n    var s = h(t, e = Object.assign({}, e, {\n      curveStepCount: 4,\n      hachureAngle: 0,\n      roughness: 1\n    }));\n    return this.dotsOnLines(s, e);\n  }\n  dotsOnLines(t, s) {\n    var n = [];\n    var o = s.hachureGap;\n    o < 0 && (o = 4 * s.strokeWidth), o = Math.max(o, .1);\n    var a = s.fillWeight;\n    a < 0 && (a = s.strokeWidth / 2);\n    var r = o / 4;\n    for (var _h2 of t) {\n      var _t6 = e(_h2),\n        _i2 = _t6 / o,\n        _c2 = Math.ceil(_i2) - 1,\n        _l2 = _t6 - _c2 * o,\n        _u = (_h2[0][0] + _h2[1][0]) / 2 - o / 4,\n        _f = Math.min(_h2[0][1], _h2[1][1]);\n      for (var _t7 = 0; _t7 < _c2; _t7++) {\n        var _e9 = _f + _l2 + _t7 * o,\n          _h3 = this.helper.randOffsetWithRange(_u - r, _u + r, s),\n          _i3 = this.helper.randOffsetWithRange(_e9 - r, _e9 + r, s),\n          _c3 = this.helper.ellipse(_h3, _i3, a, a, s);\n        n.push(..._c3.ops);\n      }\n    }\n    return {\n      type: \"fillSketch\",\n      ops: n\n    };\n  }\n}\nclass f {\n  constructor(t) {\n    this.helper = t;\n  }\n  fillPolygon(t, e) {\n    var s = h(t, e);\n    return {\n      type: \"fillSketch\",\n      ops: this.dashedLine(s, e)\n    };\n  }\n  dashedLine(t, s) {\n    var n = s.dashOffset < 0 ? s.hachureGap < 0 ? 4 * s.strokeWidth : s.hachureGap : s.dashOffset,\n      o = s.dashGap < 0 ? s.hachureGap < 0 ? 4 * s.strokeWidth : s.hachureGap : s.dashGap,\n      a = [];\n    return t.forEach(t => {\n      var r = e(t),\n        h = Math.floor(r / (n + o)),\n        i = (r + o - h * (n + o)) / 2;\n      var c = t[0],\n        l = t[1];\n      c[0] > l[0] && (c = t[1], l = t[0]);\n      var u = Math.atan((l[1] - c[1]) / (l[0] - c[0]));\n      for (var _t8 = 0; _t8 < h; _t8++) {\n        var _e10 = _t8 * (n + o),\n          _r3 = _e10 + n,\n          _h4 = [c[0] + _e10 * Math.cos(u) + i * Math.cos(u), c[1] + _e10 * Math.sin(u) + i * Math.sin(u)],\n          _l3 = [c[0] + _r3 * Math.cos(u) + i * Math.cos(u), c[1] + _r3 * Math.sin(u) + i * Math.sin(u)];\n        a.push(...this.helper.doubleLineOps(_h4[0], _h4[1], _l3[0], _l3[1], s));\n      }\n    }), a;\n  }\n}\nclass p {\n  constructor(t) {\n    this.helper = t;\n  }\n  fillPolygon(t, e) {\n    var s = e.hachureGap < 0 ? 4 * e.strokeWidth : e.hachureGap,\n      n = e.zigzagOffset < 0 ? s : e.zigzagOffset,\n      o = h(t, e = Object.assign({}, e, {\n        hachureGap: s + n\n      }));\n    return {\n      type: \"fillSketch\",\n      ops: this.zigzagLines(o, n, e)\n    };\n  }\n  zigzagLines(t, s, n) {\n    var o = [];\n    return t.forEach(t => {\n      var a = e(t),\n        r = Math.round(a / (2 * s));\n      var h = t[0],\n        i = t[1];\n      h[0] > i[0] && (h = t[1], i = t[0]);\n      var c = Math.atan((i[1] - h[1]) / (i[0] - h[0]));\n      for (var _t9 = 0; _t9 < r; _t9++) {\n        var _e11 = 2 * _t9 * s,\n          _a4 = 2 * (_t9 + 1) * s,\n          _r4 = Math.sqrt(2 * Math.pow(s, 2)),\n          _i4 = [h[0] + _e11 * Math.cos(c), h[1] + _e11 * Math.sin(c)],\n          _l4 = [h[0] + _a4 * Math.cos(c), h[1] + _a4 * Math.sin(c)],\n          _u2 = [_i4[0] + _r4 * Math.cos(c + Math.PI / 4), _i4[1] + _r4 * Math.sin(c + Math.PI / 4)];\n        o.push(...this.helper.doubleLineOps(_i4[0], _i4[1], _u2[0], _u2[1], n), ...this.helper.doubleLineOps(_u2[0], _u2[1], _l4[0], _l4[1], n));\n      }\n    }), o;\n  }\n}\nvar d = {};\nclass g {\n  constructor(t) {\n    this.seed = t;\n  }\n  next() {\n    return this.seed ? (2 ** 31 - 1 & (this.seed = Math.imul(48271, this.seed))) / 2 ** 31 : Math.random();\n  }\n}\nvar M = {\n  A: 7,\n  a: 7,\n  C: 6,\n  c: 6,\n  H: 1,\n  h: 1,\n  L: 2,\n  l: 2,\n  M: 2,\n  m: 2,\n  Q: 4,\n  q: 4,\n  S: 4,\n  s: 4,\n  T: 2,\n  t: 2,\n  V: 1,\n  v: 1,\n  Z: 0,\n  z: 0\n};\nfunction k(t, e) {\n  return t.type === e;\n}\nfunction b(t) {\n  var e = [],\n    s = function (t) {\n      var e = new Array();\n      for (; \"\" !== t;) {\n        if (t.match(/^([ \\t\\r\\n,]+)/)) t = t.substr(RegExp.$1.length);else if (t.match(/^([aAcChHlLmMqQsStTvVzZ])/)) e[e.length] = {\n          type: 0,\n          text: RegExp.$1\n        }, t = t.substr(RegExp.$1.length);else {\n          if (!t.match(/^(([-+]?[0-9]+(\\.[0-9]*)?|[-+]?\\.[0-9]+)([eE][-+]?[0-9]+)?)/)) return [];\n          e[e.length] = {\n            type: 1,\n            text: \"\" + parseFloat(RegExp.$1)\n          }, t = t.substr(RegExp.$1.length);\n        }\n      }\n      return e[e.length] = {\n        type: 2,\n        text: \"\"\n      }, e;\n    }(t);\n  var n = \"BOD\",\n    o = 0,\n    a = s[o];\n  for (; !k(a, 2);) {\n    var _r5 = 0;\n    var _h5 = [];\n    if (\"BOD\" === n) {\n      if (\"M\" !== a.text && \"m\" !== a.text) return b(\"M0,0\" + t);\n      o++, _r5 = M[a.text], n = a.text;\n    } else k(a, 1) ? _r5 = M[n] : (o++, _r5 = M[a.text], n = a.text);\n    if (!(o + _r5 < s.length)) throw new Error(\"Path data ended short\");\n    for (var _t10 = o; _t10 < o + _r5; _t10++) {\n      var _e12 = s[_t10];\n      if (!k(_e12, 1)) throw new Error(\"Param not a number: \" + n + \",\" + _e12.text);\n      _h5[_h5.length] = +_e12.text;\n    }\n    if (\"number\" != typeof M[n]) throw new Error(\"Bad segment: \" + n);\n    {\n      var _t11 = {\n        key: n,\n        data: _h5\n      };\n      e.push(_t11), o += _r5, a = s[o], \"M\" === n && (n = \"L\"), \"m\" === n && (n = \"l\");\n    }\n  }\n  return e;\n}\nfunction y(t) {\n  var e = 0,\n    s = 0,\n    n = 0,\n    o = 0;\n  var a = [];\n  for (var {\n    key: _r6,\n    data: _h6\n  } of t) {\n    switch (_r6) {\n      case \"M\":\n        a.push({\n          key: \"M\",\n          data: [..._h6]\n        }), [e, s] = _h6, [n, o] = _h6;\n        break;\n      case \"m\":\n        e += _h6[0], s += _h6[1], a.push({\n          key: \"M\",\n          data: [e, s]\n        }), n = e, o = s;\n        break;\n      case \"L\":\n        a.push({\n          key: \"L\",\n          data: [..._h6]\n        }), [e, s] = _h6;\n        break;\n      case \"l\":\n        e += _h6[0], s += _h6[1], a.push({\n          key: \"L\",\n          data: [e, s]\n        });\n        break;\n      case \"C\":\n        a.push({\n          key: \"C\",\n          data: [..._h6]\n        }), e = _h6[4], s = _h6[5];\n        break;\n      case \"c\":\n        {\n          var _t12 = _h6.map((t, n) => n % 2 ? t + s : t + e);\n          a.push({\n            key: \"C\",\n            data: _t12\n          }), e = _t12[4], s = _t12[5];\n          break;\n        }\n      case \"Q\":\n        a.push({\n          key: \"Q\",\n          data: [..._h6]\n        }), e = _h6[2], s = _h6[3];\n        break;\n      case \"q\":\n        {\n          var _t13 = _h6.map((t, n) => n % 2 ? t + s : t + e);\n          a.push({\n            key: \"Q\",\n            data: _t13\n          }), e = _t13[2], s = _t13[3];\n          break;\n        }\n      case \"A\":\n        a.push({\n          key: \"A\",\n          data: [..._h6]\n        }), e = _h6[5], s = _h6[6];\n        break;\n      case \"a\":\n        e += _h6[5], s += _h6[6], a.push({\n          key: \"A\",\n          data: [_h6[0], _h6[1], _h6[2], _h6[3], _h6[4], e, s]\n        });\n        break;\n      case \"H\":\n        a.push({\n          key: \"H\",\n          data: [..._h6]\n        }), e = _h6[0];\n        break;\n      case \"h\":\n        e += _h6[0], a.push({\n          key: \"H\",\n          data: [e]\n        });\n        break;\n      case \"V\":\n        a.push({\n          key: \"V\",\n          data: [..._h6]\n        }), s = _h6[0];\n        break;\n      case \"v\":\n        s += _h6[0], a.push({\n          key: \"V\",\n          data: [s]\n        });\n        break;\n      case \"S\":\n        a.push({\n          key: \"S\",\n          data: [..._h6]\n        }), e = _h6[2], s = _h6[3];\n        break;\n      case \"s\":\n        {\n          var _t14 = _h6.map((t, n) => n % 2 ? t + s : t + e);\n          a.push({\n            key: \"S\",\n            data: _t14\n          }), e = _t14[2], s = _t14[3];\n          break;\n        }\n      case \"T\":\n        a.push({\n          key: \"T\",\n          data: [..._h6]\n        }), e = _h6[0], s = _h6[1];\n        break;\n      case \"t\":\n        e += _h6[0], s += _h6[1], a.push({\n          key: \"T\",\n          data: [e, s]\n        });\n        break;\n      case \"Z\":\n      case \"z\":\n        a.push({\n          key: \"Z\",\n          data: []\n        }), e = n, s = o;\n    }\n  }\n  return a;\n}\nfunction m(t) {\n  var e = [];\n  var s = \"\",\n    n = 0,\n    o = 0,\n    a = 0,\n    r = 0,\n    h = 0,\n    i = 0;\n  for (var {\n    key: _c4,\n    data: _l5\n  } of t) {\n    switch (_c4) {\n      case \"M\":\n        e.push({\n          key: \"M\",\n          data: [..._l5]\n        }), [n, o] = _l5, [a, r] = _l5;\n        break;\n      case \"C\":\n        e.push({\n          key: \"C\",\n          data: [..._l5]\n        }), n = _l5[4], o = _l5[5], h = _l5[2], i = _l5[3];\n        break;\n      case \"L\":\n        e.push({\n          key: \"L\",\n          data: [..._l5]\n        }), [n, o] = _l5;\n        break;\n      case \"H\":\n        n = _l5[0], e.push({\n          key: \"L\",\n          data: [n, o]\n        });\n        break;\n      case \"V\":\n        o = _l5[0], e.push({\n          key: \"L\",\n          data: [n, o]\n        });\n        break;\n      case \"S\":\n        {\n          var _t15 = 0,\n            _a5 = 0;\n          \"C\" === s || \"S\" === s ? (_t15 = n + (n - h), _a5 = o + (o - i)) : (_t15 = n, _a5 = o), e.push({\n            key: \"C\",\n            data: [_t15, _a5, ..._l5]\n          }), h = _l5[0], i = _l5[1], n = _l5[2], o = _l5[3];\n          break;\n        }\n      case \"T\":\n        {\n          var [_t16, _a6] = _l5;\n          var _r7 = 0,\n            _c5 = 0;\n          \"Q\" === s || \"T\" === s ? (_r7 = n + (n - h), _c5 = o + (o - i)) : (_r7 = n, _c5 = o);\n          var _u3 = n + 2 * (_r7 - n) / 3,\n            _f2 = o + 2 * (_c5 - o) / 3,\n            _p = _t16 + 2 * (_r7 - _t16) / 3,\n            _d = _a6 + 2 * (_c5 - _a6) / 3;\n          e.push({\n            key: \"C\",\n            data: [_u3, _f2, _p, _d, _t16, _a6]\n          }), h = _r7, i = _c5, n = _t16, o = _a6;\n          break;\n        }\n      case \"Q\":\n        {\n          var [_t17, _s5, _a7, _r8] = _l5,\n            _c6 = n + 2 * (_t17 - n) / 3,\n            _u4 = o + 2 * (_s5 - o) / 3,\n            _f3 = _a7 + 2 * (_t17 - _a7) / 3,\n            _p2 = _r8 + 2 * (_s5 - _r8) / 3;\n          e.push({\n            key: \"C\",\n            data: [_c6, _u4, _f3, _p2, _a7, _r8]\n          }), h = _t17, i = _s5, n = _a7, o = _r8;\n          break;\n        }\n      case \"A\":\n        {\n          var _t18 = Math.abs(_l5[0]),\n            _s6 = Math.abs(_l5[1]),\n            _a8 = _l5[2],\n            _r9 = _l5[3],\n            _h7 = _l5[4],\n            _i5 = _l5[5],\n            _c7 = _l5[6];\n          if (0 === _t18 || 0 === _s6) e.push({\n            key: \"C\",\n            data: [n, o, _i5, _c7, _i5, _c7]\n          }), n = _i5, o = _c7;else if (n !== _i5 || o !== _c7) {\n            P(n, o, _i5, _c7, _t18, _s6, _a8, _r9, _h7).forEach(function (t) {\n              e.push({\n                key: \"C\",\n                data: t\n              });\n            }), n = _i5, o = _c7;\n          }\n          break;\n        }\n      case \"Z\":\n        e.push({\n          key: \"Z\",\n          data: []\n        }), n = a, o = r;\n    }\n    s = _c4;\n  }\n  return e;\n}\nfunction w(t, e, s) {\n  return [t * Math.cos(s) - e * Math.sin(s), t * Math.sin(s) + e * Math.cos(s)];\n}\nfunction P(t, e, s, n, o, a, r, h, i, c) {\n  var l = (u = r, Math.PI * u / 180);\n  var u;\n  var f = [],\n    p = 0,\n    d = 0,\n    g = 0,\n    M = 0;\n  if (c) [p, d, g, M] = c;else {\n    [t, e] = w(t, e, -l), [s, n] = w(s, n, -l);\n    var _r10 = (t - s) / 2,\n      _c8 = (e - n) / 2;\n    var _u5 = _r10 * _r10 / (o * o) + _c8 * _c8 / (a * a);\n    _u5 > 1 && (_u5 = Math.sqrt(_u5), o *= _u5, a *= _u5);\n    var _f4 = o * o,\n      _k = a * a,\n      _b = _f4 * _k - _f4 * _c8 * _c8 - _k * _r10 * _r10,\n      _y = _f4 * _c8 * _c8 + _k * _r10 * _r10,\n      _m = (h === i ? -1 : 1) * Math.sqrt(Math.abs(_b / _y));\n    g = _m * o * _c8 / a + (t + s) / 2, M = _m * -a * _r10 / o + (e + n) / 2, p = Math.asin(parseFloat(((e - M) / a).toFixed(9))), d = Math.asin(parseFloat(((n - M) / a).toFixed(9))), t < g && (p = Math.PI - p), s < g && (d = Math.PI - d), p < 0 && (p = 2 * Math.PI + p), d < 0 && (d = 2 * Math.PI + d), i && p > d && (p -= 2 * Math.PI), !i && d > p && (d -= 2 * Math.PI);\n  }\n  var k = d - p;\n  if (Math.abs(k) > 120 * Math.PI / 180) {\n    var _t19 = d,\n      _e13 = s,\n      _h8 = n;\n    d = i && d > p ? p + 120 * Math.PI / 180 * 1 : p + 120 * Math.PI / 180 * -1, f = P(s = g + o * Math.cos(d), n = M + a * Math.sin(d), _e13, _h8, o, a, r, 0, i, [d, _t19, g, M]);\n  }\n  k = d - p;\n  var b = Math.cos(p),\n    y = Math.sin(p),\n    m = Math.cos(d),\n    x = Math.sin(d),\n    v = Math.tan(k / 4),\n    O = 4 / 3 * o * v,\n    S = 4 / 3 * a * v,\n    L = [t, e],\n    T = [t + O * y, e - S * b],\n    I = [s + O * x, n - S * m],\n    A = [s, n];\n  if (T[0] = 2 * L[0] - T[0], T[1] = 2 * L[1] - T[1], c) return [T, I, A].concat(f);\n  {\n    f = [T, I, A].concat(f);\n    var _t20 = [];\n    for (var _e14 = 0; _e14 < f.length; _e14 += 3) {\n      var _s7 = w(f[_e14][0], f[_e14][1], l),\n        _n7 = w(f[_e14 + 1][0], f[_e14 + 1][1], l),\n        _o4 = w(f[_e14 + 2][0], f[_e14 + 2][1], l);\n      _t20.push([_s7[0], _s7[1], _n7[0], _n7[1], _o4[0], _o4[1]]);\n    }\n    return _t20;\n  }\n}\nvar x = {\n  randOffset: function randOffset(t, e) {\n    return W(t, e);\n  },\n  randOffsetWithRange: function randOffsetWithRange(t, e, s) {\n    return E(t, e, s);\n  },\n  ellipse: function ellipse(t, e, s, n, o) {\n    var a = T(s, n, o);\n    return I(t, e, o, a).opset;\n  },\n  doubleLineOps: function doubleLineOps(t, e, s, n, o) {\n    return z(t, e, s, n, o, !0);\n  }\n};\nfunction v(t, e, s, n, o) {\n  return {\n    type: \"path\",\n    ops: z(t, e, s, n, o)\n  };\n}\nfunction O(t, e, s) {\n  var n = (t || []).length;\n  if (n > 2) {\n    var _o5 = [];\n    for (var _e15 = 0; _e15 < n - 1; _e15++) {\n      _o5.push(...z(t[_e15][0], t[_e15][1], t[_e15 + 1][0], t[_e15 + 1][1], s));\n    }\n    return e && _o5.push(...z(t[n - 1][0], t[n - 1][1], t[0][0], t[0][1], s)), {\n      type: \"path\",\n      ops: _o5\n    };\n  }\n  return 2 === n ? v(t[0][0], t[0][1], t[1][0], t[1][1], s) : {\n    type: \"path\",\n    ops: []\n  };\n}\nfunction S(t, e, s, n, o) {\n  return function (t, e) {\n    return O(t, !0, e);\n  }([[t, e], [t + s, e], [t + s, e + n], [t, e + n]], o);\n}\nfunction L(t, e) {\n  var s = $(t, 1 * (1 + .2 * e.roughness), e);\n  if (!e.disableMultiStroke) {\n    var _n8 = $(t, 1.5 * (1 + .22 * e.roughness), function (t) {\n      var e = Object.assign({}, t);\n      e.randomizer = void 0, t.seed && (e.seed = t.seed + 1);\n      return e;\n    }(e));\n    s = s.concat(_n8);\n  }\n  return {\n    type: \"path\",\n    ops: s\n  };\n}\nfunction T(t, e, s) {\n  var n = Math.sqrt(2 * Math.PI * Math.sqrt((Math.pow(t / 2, 2) + Math.pow(e / 2, 2)) / 2)),\n    o = Math.max(s.curveStepCount, s.curveStepCount / Math.sqrt(200) * n),\n    a = 2 * Math.PI / o;\n  var r = Math.abs(t / 2),\n    h = Math.abs(e / 2);\n  var i = 1 - s.curveFitting;\n  return r += W(r * i, s), h += W(h * i, s), {\n    increment: a,\n    rx: r,\n    ry: h\n  };\n}\nfunction I(t, e, s, n) {\n  var [o, a] = q(n.increment, t, e, n.rx, n.ry, 1, n.increment * E(.1, E(.4, 1, s), s), s);\n  var r = G(o, null, s);\n  if (!s.disableMultiStroke) {\n    var [_o6] = q(n.increment, t, e, n.rx, n.ry, 1.5, 0, s),\n      _a9 = G(_o6, null, s);\n    r = r.concat(_a9);\n  }\n  return {\n    estimatedPoints: a,\n    opset: {\n      type: \"path\",\n      ops: r\n    }\n  };\n}\nfunction A(t, e, s, n, o, a, r, h, i) {\n  var c = t,\n    l = e;\n  var u = Math.abs(s / 2),\n    f = Math.abs(n / 2);\n  u += W(.01 * u, i), f += W(.01 * f, i);\n  var p = o,\n    d = a;\n  for (; p < 0;) {\n    p += 2 * Math.PI, d += 2 * Math.PI;\n  }\n  d - p > 2 * Math.PI && (p = 0, d = 2 * Math.PI);\n  var g = 2 * Math.PI / i.curveStepCount,\n    M = Math.min(g / 2, (d - p) / 2),\n    k = F(M, c, l, u, f, p, d, 1, i);\n  if (!i.disableMultiStroke) {\n    var _t21 = F(M, c, l, u, f, p, d, 1.5, i);\n    k.push(..._t21);\n  }\n  return r && (h ? k.push(...z(c, l, c + u * Math.cos(p), l + f * Math.sin(p), i), ...z(c, l, c + u * Math.cos(d), l + f * Math.sin(d), i)) : k.push({\n    op: \"lineTo\",\n    data: [c, l]\n  }, {\n    op: \"lineTo\",\n    data: [c + u * Math.cos(p), l + f * Math.sin(p)]\n  })), {\n    type: \"path\",\n    ops: k\n  };\n}\nfunction _(t, e) {\n  var s = [];\n  if (t.length) {\n    var _n9 = e.maxRandomnessOffset || 0,\n      _o7 = t.length;\n    if (_o7 > 2) {\n      s.push({\n        op: \"move\",\n        data: [t[0][0] + W(_n9, e), t[0][1] + W(_n9, e)]\n      });\n      for (var _a10 = 1; _a10 < _o7; _a10++) {\n        s.push({\n          op: \"lineTo\",\n          data: [t[_a10][0] + W(_n9, e), t[_a10][1] + W(_n9, e)]\n        });\n      }\n    }\n  }\n  return {\n    type: \"fillPath\",\n    ops: s\n  };\n}\nfunction C(t, e) {\n  return function (t, e) {\n    var s = t.fillStyle || \"hachure\";\n    if (!d[s]) switch (s) {\n      case \"zigzag\":\n        d[s] || (d[s] = new c(e));\n        break;\n      case \"cross-hatch\":\n        d[s] || (d[s] = new l(e));\n        break;\n      case \"dots\":\n        d[s] || (d[s] = new u(e));\n        break;\n      case \"dashed\":\n        d[s] || (d[s] = new f(e));\n        break;\n      case \"zigzag-line\":\n        d[s] || (d[s] = new p(e));\n        break;\n      case \"hachure\":\n      default:\n        s = \"hachure\", d[s] || (d[s] = new i(e));\n    }\n    return d[s];\n  }(e, x).fillPolygon(t, e);\n}\nfunction D(t) {\n  return t.randomizer || (t.randomizer = new g(t.seed || 0)), t.randomizer.next();\n}\nfunction E(t, e, s) {\n  var n = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n  return s.roughness * n * (D(s) * (e - t) + t);\n}\nfunction W(t, e) {\n  var s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  return E(-t, t, e, s);\n}\nfunction z(t, e, s, n, o) {\n  var a = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : !1;\n  var r = a ? o.disableMultiStrokeFill : o.disableMultiStroke,\n    h = R(t, e, s, n, o, !0, !1);\n  if (r) return h;\n  var i = R(t, e, s, n, o, !0, !0);\n  return h.concat(i);\n}\nfunction R(t, e, s, n, o, a, r) {\n  var h = Math.pow(t - s, 2) + Math.pow(e - n, 2),\n    i = Math.sqrt(h);\n  var c = 1;\n  c = i < 200 ? 1 : i > 500 ? .4 : -.0016668 * i + 1.233334;\n  var l = o.maxRandomnessOffset || 0;\n  l * l * 100 > h && (l = i / 10);\n  var u = l / 2,\n    f = .2 + .2 * D(o);\n  var p = o.bowing * o.maxRandomnessOffset * (n - e) / 200,\n    d = o.bowing * o.maxRandomnessOffset * (t - s) / 200;\n  p = W(p, o, c), d = W(d, o, c);\n  var g = [],\n    M = () => W(u, o, c),\n    k = () => W(l, o, c);\n  return a && (r ? g.push({\n    op: \"move\",\n    data: [t + M(), e + M()]\n  }) : g.push({\n    op: \"move\",\n    data: [t + W(l, o, c), e + W(l, o, c)]\n  })), r ? g.push({\n    op: \"bcurveTo\",\n    data: [p + t + (s - t) * f + M(), d + e + (n - e) * f + M(), p + t + 2 * (s - t) * f + M(), d + e + 2 * (n - e) * f + M(), s + M(), n + M()]\n  }) : g.push({\n    op: \"bcurveTo\",\n    data: [p + t + (s - t) * f + k(), d + e + (n - e) * f + k(), p + t + 2 * (s - t) * f + k(), d + e + 2 * (n - e) * f + k(), s + k(), n + k()]\n  }), g;\n}\nfunction $(t, e, s) {\n  var n = [];\n  n.push([t[0][0] + W(e, s), t[0][1] + W(e, s)]), n.push([t[0][0] + W(e, s), t[0][1] + W(e, s)]);\n  for (var _o8 = 1; _o8 < t.length; _o8++) {\n    n.push([t[_o8][0] + W(e, s), t[_o8][1] + W(e, s)]), _o8 === t.length - 1 && n.push([t[_o8][0] + W(e, s), t[_o8][1] + W(e, s)]);\n  }\n  return G(n, null, s);\n}\nfunction G(t, e, s) {\n  var n = t.length,\n    o = [];\n  if (n > 3) {\n    var _a11 = [],\n      _r11 = 1 - s.curveTightness;\n    o.push({\n      op: \"move\",\n      data: [t[1][0], t[1][1]]\n    });\n    for (var _e16 = 1; _e16 + 2 < n; _e16++) {\n      var _s8 = t[_e16];\n      _a11[0] = [_s8[0], _s8[1]], _a11[1] = [_s8[0] + (_r11 * t[_e16 + 1][0] - _r11 * t[_e16 - 1][0]) / 6, _s8[1] + (_r11 * t[_e16 + 1][1] - _r11 * t[_e16 - 1][1]) / 6], _a11[2] = [t[_e16 + 1][0] + (_r11 * t[_e16][0] - _r11 * t[_e16 + 2][0]) / 6, t[_e16 + 1][1] + (_r11 * t[_e16][1] - _r11 * t[_e16 + 2][1]) / 6], _a11[3] = [t[_e16 + 1][0], t[_e16 + 1][1]], o.push({\n        op: \"bcurveTo\",\n        data: [_a11[1][0], _a11[1][1], _a11[2][0], _a11[2][1], _a11[3][0], _a11[3][1]]\n      });\n    }\n    if (e && 2 === e.length) {\n      var _t22 = s.maxRandomnessOffset;\n      o.push({\n        op: \"lineTo\",\n        data: [e[0] + W(_t22, s), e[1] + W(_t22, s)]\n      });\n    }\n  } else 3 === n ? (o.push({\n    op: \"move\",\n    data: [t[1][0], t[1][1]]\n  }), o.push({\n    op: \"bcurveTo\",\n    data: [t[1][0], t[1][1], t[2][0], t[2][1], t[2][0], t[2][1]]\n  })) : 2 === n && o.push(...z(t[0][0], t[0][1], t[1][0], t[1][1], s));\n  return o;\n}\nfunction q(t, e, s, n, o, a, r, h) {\n  var i = [],\n    c = [],\n    l = W(.5, h) - Math.PI / 2;\n  c.push([W(a, h) + e + .9 * n * Math.cos(l - t), W(a, h) + s + .9 * o * Math.sin(l - t)]);\n  for (var _r12 = l; _r12 < 2 * Math.PI + l - .01; _r12 += t) {\n    var _t23 = [W(a, h) + e + n * Math.cos(_r12), W(a, h) + s + o * Math.sin(_r12)];\n    i.push(_t23), c.push(_t23);\n  }\n  return c.push([W(a, h) + e + n * Math.cos(l + 2 * Math.PI + .5 * r), W(a, h) + s + o * Math.sin(l + 2 * Math.PI + .5 * r)]), c.push([W(a, h) + e + .98 * n * Math.cos(l + r), W(a, h) + s + .98 * o * Math.sin(l + r)]), c.push([W(a, h) + e + .9 * n * Math.cos(l + .5 * r), W(a, h) + s + .9 * o * Math.sin(l + .5 * r)]), [c, i];\n}\nfunction F(t, e, s, n, o, a, r, h, i) {\n  var c = a + W(.1, i),\n    l = [];\n  l.push([W(h, i) + e + .9 * n * Math.cos(c - t), W(h, i) + s + .9 * o * Math.sin(c - t)]);\n  for (var _a12 = c; _a12 <= r; _a12 += t) {\n    l.push([W(h, i) + e + n * Math.cos(_a12), W(h, i) + s + o * Math.sin(_a12)]);\n  }\n  return l.push([e + n * Math.cos(r), s + o * Math.sin(r)]), l.push([e + n * Math.cos(r), s + o * Math.sin(r)]), G(l, null, i);\n}\nfunction j(t, e, s, n, o, a, r, h) {\n  var i = [],\n    c = [h.maxRandomnessOffset || 1, (h.maxRandomnessOffset || 1) + .3];\n  var l = [0, 0];\n  var u = h.disableMultiStroke ? 1 : 2;\n  for (var _f5 = 0; _f5 < u; _f5++) {\n    0 === _f5 ? i.push({\n      op: \"move\",\n      data: [r[0], r[1]]\n    }) : i.push({\n      op: \"move\",\n      data: [r[0] + W(c[0], h), r[1] + W(c[0], h)]\n    }), l = [o + W(c[_f5], h), a + W(c[_f5], h)], i.push({\n      op: \"bcurveTo\",\n      data: [t + W(c[_f5], h), e + W(c[_f5], h), s + W(c[_f5], h), n + W(c[_f5], h), l[0], l[1]]\n    });\n  }\n  return i;\n}\nfunction N(t) {\n  return [...t];\n}\nfunction Z(t, e) {\n  return Math.pow(t[0] - e[0], 2) + Math.pow(t[1] - e[1], 2);\n}\nfunction Q(t, e, s) {\n  var n = Z(e, s);\n  if (0 === n) return Z(t, e);\n  var o = ((t[0] - e[0]) * (s[0] - e[0]) + (t[1] - e[1]) * (s[1] - e[1])) / n;\n  return o = Math.max(0, Math.min(1, o)), Z(t, H(e, s, o));\n}\nfunction H(t, e, s) {\n  return [t[0] + (e[0] - t[0]) * s, t[1] + (e[1] - t[1]) * s];\n}\nfunction V(t, e, s, n) {\n  var o = n || [];\n  if (function (t, e) {\n    var s = t[e + 0],\n      n = t[e + 1],\n      o = t[e + 2],\n      a = t[e + 3];\n    var r = 3 * n[0] - 2 * s[0] - a[0];\n    r *= r;\n    var h = 3 * n[1] - 2 * s[1] - a[1];\n    h *= h;\n    var i = 3 * o[0] - 2 * a[0] - s[0];\n    i *= i;\n    var c = 3 * o[1] - 2 * a[1] - s[1];\n    return c *= c, r < i && (r = i), h < c && (h = c), r + h;\n  }(t, e) < s) {\n    var _s9 = t[e + 0];\n    if (o.length) {\n      (a = o[o.length - 1], r = _s9, Math.sqrt(Z(a, r))) > 1 && o.push(_s9);\n    } else o.push(_s9);\n    o.push(t[e + 3]);\n  } else {\n    var _n10 = .5,\n      _a13 = t[e + 0],\n      _r13 = t[e + 1],\n      _h9 = t[e + 2],\n      _i6 = t[e + 3],\n      _c9 = H(_a13, _r13, _n10),\n      _l6 = H(_r13, _h9, _n10),\n      _u6 = H(_h9, _i6, _n10),\n      _f6 = H(_c9, _l6, _n10),\n      _p3 = H(_l6, _u6, _n10),\n      _d2 = H(_f6, _p3, _n10);\n    V([_a13, _c9, _f6, _d2], 0, s, o), V([_d2, _p3, _u6, _i6], 0, s, o);\n  }\n  var a, r;\n  return o;\n}\nfunction B(t, e) {\n  return X(t, 0, t.length, e);\n}\nfunction X(t, e, s, n, o) {\n  var a = o || [],\n    r = t[e],\n    h = t[s - 1];\n  var i = 0,\n    c = 1;\n  for (var _n11 = e + 1; _n11 < s - 1; ++_n11) {\n    var _e17 = Q(t[_n11], r, h);\n    _e17 > i && (i = _e17, c = _n11);\n  }\n  return Math.sqrt(i) > n ? (X(t, e, c + 1, n, a), X(t, c, s, n, a)) : (a.length || a.push(r), a.push(h)), a;\n}\nfunction J(t) {\n  var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : .15;\n  var s = arguments.length > 2 ? arguments[2] : undefined;\n  var n = [],\n    o = (t.length - 1) / 3;\n  for (var _s10 = 0; _s10 < o; _s10++) {\n    V(t, 3 * _s10, e, n);\n  }\n  return s && s > 0 ? X(n, 0, n.length, s) : n;\n}\nvar K = \"none\";\nclass U {\n  constructor(t) {\n    this.defaultOptions = {\n      maxRandomnessOffset: 2,\n      roughness: 1,\n      bowing: 1,\n      stroke: \"#000\",\n      strokeWidth: 1,\n      curveTightness: 0,\n      curveFitting: .95,\n      curveStepCount: 9,\n      fillStyle: \"hachure\",\n      fillWeight: -1,\n      hachureAngle: -41,\n      hachureGap: -1,\n      dashOffset: -1,\n      dashGap: -1,\n      zigzagOffset: -1,\n      seed: 0,\n      combineNestedSvgPaths: !1,\n      disableMultiStroke: !1,\n      disableMultiStrokeFill: !1\n    }, this.config = t || {}, this.config.options && (this.defaultOptions = this._o(this.config.options));\n  }\n  static newSeed() {\n    return Math.floor(Math.random() * 2 ** 31);\n  }\n  _o(t) {\n    return t ? Object.assign({}, this.defaultOptions, t) : this.defaultOptions;\n  }\n  _d(t, e, s) {\n    return {\n      shape: t,\n      sets: e || [],\n      options: s || this.defaultOptions\n    };\n  }\n  line(t, e, s, n, o) {\n    var a = this._o(o);\n    return this._d(\"line\", [v(t, e, s, n, a)], a);\n  }\n  rectangle(t, e, s, n, o) {\n    var a = this._o(o),\n      r = [],\n      h = S(t, e, s, n, a);\n    if (a.fill) {\n      var _o9 = [[t, e], [t + s, e], [t + s, e + n], [t, e + n]];\n      \"solid\" === a.fillStyle ? r.push(_(_o9, a)) : r.push(C(_o9, a));\n    }\n    return a.stroke !== K && r.push(h), this._d(\"rectangle\", r, a);\n  }\n  ellipse(t, e, s, n, o) {\n    var a = this._o(o),\n      r = [],\n      h = T(s, n, a),\n      i = I(t, e, a, h);\n    if (a.fill) if (\"solid\" === a.fillStyle) {\n      var _s11 = I(t, e, a, h).opset;\n      _s11.type = \"fillPath\", r.push(_s11);\n    } else r.push(C(i.estimatedPoints, a));\n    return a.stroke !== K && r.push(i.opset), this._d(\"ellipse\", r, a);\n  }\n  circle(t, e, s, n) {\n    var o = this.ellipse(t, e, s, s, n);\n    return o.shape = \"circle\", o;\n  }\n  linearPath(t, e) {\n    var s = this._o(e);\n    return this._d(\"linearPath\", [O(t, !1, s)], s);\n  }\n  arc(t, e, s, n, o, a) {\n    var r = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : !1;\n    var h = arguments.length > 7 ? arguments[7] : undefined;\n    var i = this._o(h),\n      c = [],\n      l = A(t, e, s, n, o, a, r, !0, i);\n    if (r && i.fill) if (\"solid\" === i.fillStyle) {\n      var _r14 = A(t, e, s, n, o, a, !0, !1, i);\n      _r14.type = \"fillPath\", c.push(_r14);\n    } else c.push(function (t, e, s, n, o, a, r) {\n      var h = t,\n        i = e;\n      var c = Math.abs(s / 2),\n        l = Math.abs(n / 2);\n      c += W(.01 * c, r), l += W(.01 * l, r);\n      var u = o,\n        f = a;\n      for (; u < 0;) {\n        u += 2 * Math.PI, f += 2 * Math.PI;\n      }\n      f - u > 2 * Math.PI && (u = 0, f = 2 * Math.PI);\n      var p = (f - u) / r.curveStepCount,\n        d = [];\n      for (var _t24 = u; _t24 <= f; _t24 += p) {\n        d.push([h + c * Math.cos(_t24), i + l * Math.sin(_t24)]);\n      }\n      return d.push([h + c * Math.cos(f), i + l * Math.sin(f)]), d.push([h, i]), C(d, r);\n    }(t, e, s, n, o, a, i));\n    return i.stroke !== K && c.push(l), this._d(\"arc\", c, i);\n  }\n  curve(t, e) {\n    var s = this._o(e),\n      n = [],\n      o = L(t, s);\n    if (s.fill && s.fill !== K && t.length >= 3) {\n      var _e18 = J(function (t) {\n        var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        var s = t.length;\n        if (s < 3) throw new Error(\"A curve must have at least three points.\");\n        var n = [];\n        if (3 === s) n.push(N(t[0]), N(t[1]), N(t[2]), N(t[2]));else {\n          var _s12 = [];\n          _s12.push(t[0], t[0]);\n          for (var _e19 = 1; _e19 < t.length; _e19++) {\n            _s12.push(t[_e19]), _e19 === t.length - 1 && _s12.push(t[_e19]);\n          }\n          var _o10 = [],\n            _a14 = 1 - e;\n          n.push(N(_s12[0]));\n          for (var _t25 = 1; _t25 + 2 < _s12.length; _t25++) {\n            var _e20 = _s12[_t25];\n            _o10[0] = [_e20[0], _e20[1]], _o10[1] = [_e20[0] + (_a14 * _s12[_t25 + 1][0] - _a14 * _s12[_t25 - 1][0]) / 6, _e20[1] + (_a14 * _s12[_t25 + 1][1] - _a14 * _s12[_t25 - 1][1]) / 6], _o10[2] = [_s12[_t25 + 1][0] + (_a14 * _s12[_t25][0] - _a14 * _s12[_t25 + 2][0]) / 6, _s12[_t25 + 1][1] + (_a14 * _s12[_t25][1] - _a14 * _s12[_t25 + 2][1]) / 6], _o10[3] = [_s12[_t25 + 1][0], _s12[_t25 + 1][1]], n.push(_o10[1], _o10[2], _o10[3]);\n          }\n        }\n        return n;\n      }(t), 10, (1 + s.roughness) / 2);\n      \"solid\" === s.fillStyle ? n.push(_(_e18, s)) : n.push(C(_e18, s));\n    }\n    return s.stroke !== K && n.push(o), this._d(\"curve\", n, s);\n  }\n  polygon(t, e) {\n    var s = this._o(e),\n      n = [],\n      o = O(t, !0, s);\n    return s.fill && (\"solid\" === s.fillStyle ? n.push(_(t, s)) : n.push(C(t, s))), s.stroke !== K && n.push(o), this._d(\"polygon\", n, s);\n  }\n  path(t, e) {\n    var s = this._o(e),\n      n = [];\n    if (!t) return this._d(\"path\", n, s);\n    t = (t || \"\").replace(/\\n/g, \" \").replace(/(-\\s)/g, \"-\").replace(\"/(ss)/g\", \" \");\n    var o = s.fill && \"transparent\" !== s.fill && s.fill !== K,\n      a = s.stroke !== K,\n      r = !!(s.simplification && s.simplification < 1),\n      h = function (t, e, s) {\n        var n = m(y(b(t))),\n          o = [];\n        var a = [],\n          r = [0, 0],\n          h = [];\n        var i = () => {\n            h.length >= 4 && a.push(...J(h, e)), h = [];\n          },\n          c = () => {\n            i(), a.length && (o.push(a), a = []);\n          };\n        for (var {\n          key: _t26,\n          data: _e21\n        } of n) {\n          switch (_t26) {\n            case \"M\":\n              c(), r = [_e21[0], _e21[1]], a.push(r);\n              break;\n            case \"L\":\n              i(), a.push([_e21[0], _e21[1]]);\n              break;\n            case \"C\":\n              if (!h.length) {\n                var _t27 = a.length ? a[a.length - 1] : r;\n                h.push([_t27[0], _t27[1]]);\n              }\n              h.push([_e21[0], _e21[1]]), h.push([_e21[2], _e21[3]]), h.push([_e21[4], _e21[5]]);\n              break;\n            case \"Z\":\n              i(), a.push([r[0], r[1]]);\n          }\n        }\n        if (c(), !s) return o;\n        var l = [];\n        for (var _t28 of o) {\n          var _e22 = B(_t28, s);\n          _e22.length && l.push(_e22);\n        }\n        return l;\n      }(t, 1, r ? 4 - 4 * s.simplification : (1 + s.roughness) / 2);\n    if (o) if (s.combineNestedSvgPaths) {\n      var _t29 = [];\n      h.forEach(e => _t29.push(...e)), \"solid\" === s.fillStyle ? n.push(_(_t29, s)) : n.push(C(_t29, s));\n    } else h.forEach(t => {\n      \"solid\" === s.fillStyle ? n.push(_(t, s)) : n.push(C(t, s));\n    });\n    return a && (r ? h.forEach(t => {\n      n.push(O(t, !1, s));\n    }) : n.push(function (t, e) {\n      var s = m(y(b(t))),\n        n = [];\n      var o = [0, 0],\n        a = [0, 0];\n      for (var {\n        key: _t30,\n        data: _r15\n      } of s) {\n        switch (_t30) {\n          case \"M\":\n            {\n              var _ret2 = function () {\n                var t = 1 * (e.maxRandomnessOffset || 0);\n                n.push({\n                  op: \"move\",\n                  data: _r15.map(s => s + W(t, e))\n                }), a = [_r15[0], _r15[1]], o = [_r15[0], _r15[1]];\n                return \"break\";\n              }();\n              if (_ret2 === \"break\") break;\n            }\n          case \"L\":\n            n.push(...z(a[0], a[1], _r15[0], _r15[1], e)), a = [_r15[0], _r15[1]];\n            break;\n          case \"C\":\n            {\n              var [_t31, _s13, _o11, _h10, _i7, _c10] = _r15;\n              n.push(...j(_t31, _s13, _o11, _h10, _i7, _c10, a, e)), a = [_i7, _c10];\n              break;\n            }\n          case \"Z\":\n            n.push(...z(a[0], a[1], o[0], o[1], e)), a = [o[0], o[1]];\n        }\n      }\n      return {\n        type: \"path\",\n        ops: n\n      };\n    }(t, s))), this._d(\"path\", n, s);\n  }\n  opsToPath(t) {\n    var e = \"\";\n    for (var _s14 of t.ops) {\n      var _t32 = _s14.data;\n      switch (_s14.op) {\n        case \"move\":\n          e += \"M\".concat(_t32[0], \" \").concat(_t32[1], \" \");\n          break;\n        case \"bcurveTo\":\n          e += \"C\".concat(_t32[0], \" \").concat(_t32[1], \", \").concat(_t32[2], \" \").concat(_t32[3], \", \").concat(_t32[4], \" \").concat(_t32[5], \" \");\n          break;\n        case \"lineTo\":\n          e += \"L\".concat(_t32[0], \" \").concat(_t32[1], \" \");\n      }\n    }\n    return e.trim();\n  }\n  toPaths(t) {\n    var e = t.sets || [],\n      s = t.options || this.defaultOptions,\n      n = [];\n    for (var _t33 of e) {\n      var _e23 = null;\n      switch (_t33.type) {\n        case \"path\":\n          _e23 = {\n            d: this.opsToPath(_t33),\n            stroke: s.stroke,\n            strokeWidth: s.strokeWidth,\n            fill: K\n          };\n          break;\n        case \"fillPath\":\n          _e23 = {\n            d: this.opsToPath(_t33),\n            stroke: K,\n            strokeWidth: 0,\n            fill: s.fill || K\n          };\n          break;\n        case \"fillSketch\":\n          _e23 = this.fillSketch(_t33, s);\n      }\n      _e23 && n.push(_e23);\n    }\n    return n;\n  }\n  fillSketch(t, e) {\n    var s = e.fillWeight;\n    return s < 0 && (s = e.strokeWidth / 2), {\n      d: this.opsToPath(t),\n      stroke: e.fill || K,\n      strokeWidth: s,\n      fill: K\n    };\n  }\n}\nclass Y {\n  constructor(t, e) {\n    this.canvas = t, this.ctx = this.canvas.getContext(\"2d\"), this.gen = new U(e);\n  }\n  draw(t) {\n    var e = t.sets || [],\n      s = t.options || this.getDefaultOptions(),\n      n = this.ctx;\n    for (var _o12 of e) {\n      switch (_o12.type) {\n        case \"path\":\n          n.save(), n.strokeStyle = \"none\" === s.stroke ? \"transparent\" : s.stroke, n.lineWidth = s.strokeWidth, s.strokeLineDash && n.setLineDash(s.strokeLineDash), s.strokeLineDashOffset && (n.lineDashOffset = s.strokeLineDashOffset), this._drawToContext(n, _o12), n.restore();\n          break;\n        case \"fillPath\":\n          n.save(), n.fillStyle = s.fill || \"\";\n          var _e24 = \"curve\" === t.shape || \"polygon\" === t.shape ? \"evenodd\" : \"nonzero\";\n          this._drawToContext(n, _o12, _e24), n.restore();\n          break;\n        case \"fillSketch\":\n          this.fillSketch(n, _o12, s);\n      }\n    }\n  }\n  fillSketch(t, e, s) {\n    var n = s.fillWeight;\n    n < 0 && (n = s.strokeWidth / 2), t.save(), s.fillLineDash && t.setLineDash(s.fillLineDash), s.fillLineDashOffset && (t.lineDashOffset = s.fillLineDashOffset), t.strokeStyle = s.fill || \"\", t.lineWidth = n, this._drawToContext(t, e), t.restore();\n  }\n  _drawToContext(t, e) {\n    var s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"nonzero\";\n    t.beginPath();\n    for (var _s15 of e.ops) {\n      var _e25 = _s15.data;\n      switch (_s15.op) {\n        case \"move\":\n          t.moveTo(_e25[0], _e25[1]);\n          break;\n        case \"bcurveTo\":\n          t.bezierCurveTo(_e25[0], _e25[1], _e25[2], _e25[3], _e25[4], _e25[5]);\n          break;\n        case \"lineTo\":\n          t.lineTo(_e25[0], _e25[1]);\n      }\n    }\n    \"fillPath\" === e.type ? t.fill(s) : t.stroke();\n  }\n  get generator() {\n    return this.gen;\n  }\n  getDefaultOptions() {\n    return this.gen.defaultOptions;\n  }\n  line(t, e, s, n, o) {\n    var a = this.gen.line(t, e, s, n, o);\n    return this.draw(a), a;\n  }\n  rectangle(t, e, s, n, o) {\n    var a = this.gen.rectangle(t, e, s, n, o);\n    return this.draw(a), a;\n  }\n  ellipse(t, e, s, n, o) {\n    var a = this.gen.ellipse(t, e, s, n, o);\n    return this.draw(a), a;\n  }\n  circle(t, e, s, n) {\n    var o = this.gen.circle(t, e, s, n);\n    return this.draw(o), o;\n  }\n  linearPath(t, e) {\n    var s = this.gen.linearPath(t, e);\n    return this.draw(s), s;\n  }\n  polygon(t, e) {\n    var s = this.gen.polygon(t, e);\n    return this.draw(s), s;\n  }\n  arc(t, e, s, n, o, a) {\n    var r = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : !1;\n    var h = arguments.length > 7 ? arguments[7] : undefined;\n    var i = this.gen.arc(t, e, s, n, o, a, r, h);\n    return this.draw(i), i;\n  }\n  curve(t, e) {\n    var s = this.gen.curve(t, e);\n    return this.draw(s), s;\n  }\n  path(t, e) {\n    var s = this.gen.path(t, e);\n    return this.draw(s), s;\n  }\n}\nvar tt = \"http://www.w3.org/2000/svg\";\nclass et {\n  constructor(t, e) {\n    this.svg = t, this.gen = new U(e);\n  }\n  draw(t) {\n    var e = t.sets || [],\n      s = t.options || this.getDefaultOptions(),\n      n = this.svg.ownerDocument || window.document,\n      o = n.createElementNS(tt, \"g\");\n    for (var _a15 of e) {\n      var _e26 = null;\n      switch (_a15.type) {\n        case \"path\":\n          _e26 = n.createElementNS(tt, \"path\"), _e26.setAttribute(\"d\", this.opsToPath(_a15)), _e26.setAttribute(\"stroke\", s.stroke), _e26.setAttribute(\"stroke-width\", s.strokeWidth + \"\"), _e26.setAttribute(\"fill\", \"none\"), s.strokeLineDash && _e26.setAttribute(\"stroke-dasharray\", s.strokeLineDash.join(\" \").trim()), s.strokeLineDashOffset && _e26.setAttribute(\"stroke-dashoffset\", \"\" + s.strokeLineDashOffset);\n          break;\n        case \"fillPath\":\n          _e26 = n.createElementNS(tt, \"path\"), _e26.setAttribute(\"d\", this.opsToPath(_a15)), _e26.setAttribute(\"stroke\", \"none\"), _e26.setAttribute(\"stroke-width\", \"0\"), _e26.setAttribute(\"fill\", s.fill || \"\"), \"curve\" !== t.shape && \"polygon\" !== t.shape || _e26.setAttribute(\"fill-rule\", \"evenodd\");\n          break;\n        case \"fillSketch\":\n          _e26 = this.fillSketch(n, _a15, s);\n      }\n      _e26 && o.appendChild(_e26);\n    }\n    return o;\n  }\n  fillSketch(t, e, s) {\n    var n = s.fillWeight;\n    n < 0 && (n = s.strokeWidth / 2);\n    var o = t.createElementNS(tt, \"path\");\n    return o.setAttribute(\"d\", this.opsToPath(e)), o.setAttribute(\"stroke\", s.fill || \"\"), o.setAttribute(\"stroke-width\", n + \"\"), o.setAttribute(\"fill\", \"none\"), s.fillLineDash && o.setAttribute(\"stroke-dasharray\", s.fillLineDash.join(\" \").trim()), s.fillLineDashOffset && o.setAttribute(\"stroke-dashoffset\", \"\" + s.fillLineDashOffset), o;\n  }\n  get generator() {\n    return this.gen;\n  }\n  getDefaultOptions() {\n    return this.gen.defaultOptions;\n  }\n  opsToPath(t) {\n    return this.gen.opsToPath(t);\n  }\n  line(t, e, s, n, o) {\n    var a = this.gen.line(t, e, s, n, o);\n    return this.draw(a);\n  }\n  rectangle(t, e, s, n, o) {\n    var a = this.gen.rectangle(t, e, s, n, o);\n    return this.draw(a);\n  }\n  ellipse(t, e, s, n, o) {\n    var a = this.gen.ellipse(t, e, s, n, o);\n    return this.draw(a);\n  }\n  circle(t, e, s, n) {\n    var o = this.gen.circle(t, e, s, n);\n    return this.draw(o);\n  }\n  linearPath(t, e) {\n    var s = this.gen.linearPath(t, e);\n    return this.draw(s);\n  }\n  polygon(t, e) {\n    var s = this.gen.polygon(t, e);\n    return this.draw(s);\n  }\n  arc(t, e, s, n, o, a) {\n    var r = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : !1;\n    var h = arguments.length > 7 ? arguments[7] : undefined;\n    var i = this.gen.arc(t, e, s, n, o, a, r, h);\n    return this.draw(i);\n  }\n  curve(t, e) {\n    var s = this.gen.curve(t, e);\n    return this.draw(s);\n  }\n  path(t, e) {\n    var s = this.gen.path(t, e);\n    return this.draw(s);\n  }\n}\nvar st = {\n  canvas: (t, e) => new Y(t, e),\n  svg: (t, e) => new et(t, e),\n  generator: t => new U(t),\n  newSeed: () => U.newSeed()\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (st);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcm91Z2gtZ2x5Y2FuLmpzL25vZGVfbW9kdWxlcy9yb3VnaGpzL2J1bmRsZWQvcm91Z2guZXNtLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdWdoLWdseWNhbi5qcy9ub2RlX21vZHVsZXMvcm91Z2hqcy9idW5kbGVkL3JvdWdoLmVzbS5qcz82YzdlIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHQodCxlLHMpe2lmKHQmJnQubGVuZ3RoKXtjb25zdFtuLG9dPWUsYT1NYXRoLlBJLzE4MCpzLHI9TWF0aC5jb3MoYSksaD1NYXRoLnNpbihhKTt0LmZvckVhY2godD0+e2NvbnN0W2Usc109dDt0WzBdPShlLW4pKnItKHMtbykqaCtuLHRbMV09KGUtbikqaCsocy1vKSpyK299KX19ZnVuY3Rpb24gZSh0KXtjb25zdCBlPXRbMF0scz10WzFdO3JldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coZVswXS1zWzBdLDIpK01hdGgucG93KGVbMV0tc1sxXSwyKSl9ZnVuY3Rpb24gcyh0LGUscyxuKXtjb25zdCBvPWVbMV0tdFsxXSxhPXRbMF0tZVswXSxyPW8qdFswXSthKnRbMV0saD1uWzFdLXNbMV0saT1zWzBdLW5bMF0sYz1oKnNbMF0raSpzWzFdLGw9byppLWgqYTtyZXR1cm4gbD9bKGkqci1hKmMpL2wsKG8qYy1oKnIpL2xdOm51bGx9ZnVuY3Rpb24gbih0LGUscyl7Y29uc3Qgbj10Lmxlbmd0aDtpZihuPDMpcmV0dXJuITE7Y29uc3QgaD1bTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsc10saT1bZSxzXTtsZXQgYz0wO2ZvcihsZXQgZT0wO2U8bjtlKyspe2NvbnN0IHM9dFtlXSxsPXRbKGUrMSklbl07aWYocihzLGwsaSxoKSl7aWYoMD09PWEocyxpLGwpKXJldHVybiBvKHMsaSxsKTtjKyt9fXJldHVybiBjJTI9PTF9ZnVuY3Rpb24gbyh0LGUscyl7cmV0dXJuIGVbMF08PU1hdGgubWF4KHRbMF0sc1swXSkmJmVbMF0+PU1hdGgubWluKHRbMF0sc1swXSkmJmVbMV08PU1hdGgubWF4KHRbMV0sc1sxXSkmJmVbMV0+PU1hdGgubWluKHRbMV0sc1sxXSl9ZnVuY3Rpb24gYSh0LGUscyl7Y29uc3Qgbj0oZVsxXS10WzFdKSooc1swXS1lWzBdKS0oZVswXS10WzBdKSooc1sxXS1lWzFdKTtyZXR1cm4gMD09PW4/MDpuPjA/MToyfWZ1bmN0aW9uIHIodCxlLHMsbil7Y29uc3Qgcj1hKHQsZSxzKSxoPWEodCxlLG4pLGk9YShzLG4sdCksYz1hKHMsbixlKTtyZXR1cm4gciE9PWgmJmkhPT1jfHwoISgwIT09cnx8IW8odCxzLGUpKXx8KCEoMCE9PWh8fCFvKHQsbixlKSl8fCghKDAhPT1pfHwhbyhzLHQsbikpfHwhKDAhPT1jfHwhbyhzLGUsbikpKSkpfWZ1bmN0aW9uIGgoZSxzKXtjb25zdCBuPVswLDBdLG89TWF0aC5yb3VuZChzLmhhY2h1cmVBbmdsZSs5MCk7byYmdChlLG4sbyk7Y29uc3QgYT1mdW5jdGlvbih0LGUpe2NvbnN0IHM9Wy4uLnRdO3NbMF0uam9pbihcIixcIikhPT1zW3MubGVuZ3RoLTFdLmpvaW4oXCIsXCIpJiZzLnB1c2goW3NbMF1bMF0sc1swXVsxXV0pO2NvbnN0IG49W107aWYocyYmcy5sZW5ndGg+Mil7bGV0IHQ9ZS5oYWNodXJlR2FwO3Q8MCYmKHQ9NCplLnN0cm9rZVdpZHRoKSx0PU1hdGgubWF4KHQsLjEpO2NvbnN0IG89W107Zm9yKGxldCB0PTA7dDxzLmxlbmd0aC0xO3QrKyl7Y29uc3QgZT1zW3RdLG49c1t0KzFdO2lmKGVbMV0hPT1uWzFdKXtjb25zdCB0PU1hdGgubWluKGVbMV0sblsxXSk7by5wdXNoKHt5bWluOnQseW1heDpNYXRoLm1heChlWzFdLG5bMV0pLHg6dD09PWVbMV0/ZVswXTpuWzBdLGlzbG9wZTooblswXS1lWzBdKS8oblsxXS1lWzFdKX0pfX1pZihvLnNvcnQoKHQsZSk9PnQueW1pbjxlLnltaW4/LTE6dC55bWluPmUueW1pbj8xOnQueDxlLng/LTE6dC54PmUueD8xOnQueW1heD09PWUueW1heD8wOih0LnltYXgtZS55bWF4KS9NYXRoLmFicyh0LnltYXgtZS55bWF4KSksIW8ubGVuZ3RoKXJldHVybiBuO2xldCBhPVtdLHI9b1swXS55bWluO2Zvcig7YS5sZW5ndGh8fG8ubGVuZ3RoOyl7aWYoby5sZW5ndGgpe2xldCB0PS0xO2ZvcihsZXQgZT0wO2U8by5sZW5ndGgmJiEob1tlXS55bWluPnIpO2UrKyl0PWU7by5zcGxpY2UoMCx0KzEpLmZvckVhY2godD0+e2EucHVzaCh7czpyLGVkZ2U6dH0pfSl9aWYoYT1hLmZpbHRlcih0PT4hKHQuZWRnZS55bWF4PD1yKSksYS5zb3J0KCh0LGUpPT50LmVkZ2UueD09PWUuZWRnZS54PzA6KHQuZWRnZS54LWUuZWRnZS54KS9NYXRoLmFicyh0LmVkZ2UueC1lLmVkZ2UueCkpLGEubGVuZ3RoPjEpZm9yKGxldCB0PTA7dDxhLmxlbmd0aDt0Kz0yKXtjb25zdCBlPXQrMTtpZihlPj1hLmxlbmd0aClicmVhaztjb25zdCBzPWFbdF0uZWRnZSxvPWFbZV0uZWRnZTtuLnB1c2goW1tNYXRoLnJvdW5kKHMueCkscl0sW01hdGgucm91bmQoby54KSxyXV0pfXIrPXQsYS5mb3JFYWNoKGU9PntlLmVkZ2UueD1lLmVkZ2UueCt0KmUuZWRnZS5pc2xvcGV9KX19cmV0dXJuIG59KGUscyk7cmV0dXJuIG8mJih0KGUsbiwtbyksZnVuY3Rpb24oZSxzLG4pe2NvbnN0IG89W107ZS5mb3JFYWNoKHQ9Pm8ucHVzaCguLi50KSksdChvLHMsbil9KGEsbiwtbykpLGF9Y2xhc3MgaXtjb25zdHJ1Y3Rvcih0KXt0aGlzLmhlbHBlcj10fWZpbGxQb2x5Z29uKHQsZSl7cmV0dXJuIHRoaXMuX2ZpbGxQb2x5Z29uKHQsZSl9X2ZpbGxQb2x5Z29uKHQsZSxzPSExKXtsZXQgbj1oKHQsZSk7aWYocyl7Y29uc3QgZT10aGlzLmNvbm5lY3RpbmdMaW5lcyh0LG4pO249bi5jb25jYXQoZSl9cmV0dXJue3R5cGU6XCJmaWxsU2tldGNoXCIsb3BzOnRoaXMucmVuZGVyTGluZXMobixlKX19cmVuZGVyTGluZXModCxlKXtjb25zdCBzPVtdO2Zvcihjb25zdCBuIG9mIHQpcy5wdXNoKC4uLnRoaXMuaGVscGVyLmRvdWJsZUxpbmVPcHMoblswXVswXSxuWzBdWzFdLG5bMV1bMF0sblsxXVsxXSxlKSk7cmV0dXJuIHN9Y29ubmVjdGluZ0xpbmVzKHQscyl7Y29uc3Qgbj1bXTtpZihzLmxlbmd0aD4xKWZvcihsZXQgbz0xO288cy5sZW5ndGg7bysrKXtjb25zdCBhPXNbby0xXTtpZihlKGEpPDMpY29udGludWU7Y29uc3Qgcj1bc1tvXVswXSxhWzFdXTtpZihlKHIpPjMpe2NvbnN0IGU9dGhpcy5zcGxpdE9uSW50ZXJzZWN0aW9ucyh0LHIpO24ucHVzaCguLi5lKX19cmV0dXJuIG59bWlkUG9pbnRJblBvbHlnb24odCxlKXtyZXR1cm4gbih0LChlWzBdWzBdK2VbMV1bMF0pLzIsKGVbMF1bMV0rZVsxXVsxXSkvMil9c3BsaXRPbkludGVyc2VjdGlvbnModCxvKXtjb25zdCBhPU1hdGgubWF4KDUsLjEqZShvKSksaD1bXTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3QgaT10W25dLGM9dFsobisxKSV0Lmxlbmd0aF07aWYocihpLGMsLi4ubykpe2NvbnN0IHQ9cyhpLGMsb1swXSxvWzFdKTtpZih0KXtjb25zdCBzPWUoW3Qsb1swXV0pLG49ZShbdCxvWzFdXSk7cz5hJiZuPmEmJmgucHVzaCh7cG9pbnQ6dCxkaXN0YW5jZTpzfSl9fX1pZihoLmxlbmd0aD4xKXtjb25zdCBlPWguc29ydCgodCxlKT0+dC5kaXN0YW5jZS1lLmRpc3RhbmNlKS5tYXAodD0+dC5wb2ludCk7aWYobih0LC4uLm9bMF0pfHxlLnNoaWZ0KCksbih0LC4uLm9bMV0pfHxlLnBvcCgpLGUubGVuZ3RoPD0xKXJldHVybiB0aGlzLm1pZFBvaW50SW5Qb2x5Z29uKHQsbyk/W29dOltdO2NvbnN0IHM9W29bMF0sLi4uZSxvWzFdXSxhPVtdO2ZvcihsZXQgZT0wO2U8cy5sZW5ndGgtMTtlKz0yKXtjb25zdCBuPVtzW2VdLHNbZSsxXV07dGhpcy5taWRQb2ludEluUG9seWdvbih0LG4pJiZhLnB1c2gobil9cmV0dXJuIGF9cmV0dXJuIHRoaXMubWlkUG9pbnRJblBvbHlnb24odCxvKT9bb106W119fWNsYXNzIGMgZXh0ZW5kcyBpe2ZpbGxQb2x5Z29uKHQsZSl7cmV0dXJuIHRoaXMuX2ZpbGxQb2x5Z29uKHQsZSwhMCl9fWNsYXNzIGwgZXh0ZW5kcyBpe2ZpbGxQb2x5Z29uKHQsZSl7Y29uc3Qgcz10aGlzLl9maWxsUG9seWdvbih0LGUpLG49T2JqZWN0LmFzc2lnbih7fSxlLHtoYWNodXJlQW5nbGU6ZS5oYWNodXJlQW5nbGUrOTB9KSxvPXRoaXMuX2ZpbGxQb2x5Z29uKHQsbik7cmV0dXJuIHMub3BzPXMub3BzLmNvbmNhdChvLm9wcyksc319Y2xhc3MgdXtjb25zdHJ1Y3Rvcih0KXt0aGlzLmhlbHBlcj10fWZpbGxQb2x5Z29uKHQsZSl7Y29uc3Qgcz1oKHQsZT1PYmplY3QuYXNzaWduKHt9LGUse2N1cnZlU3RlcENvdW50OjQsaGFjaHVyZUFuZ2xlOjAscm91Z2huZXNzOjF9KSk7cmV0dXJuIHRoaXMuZG90c09uTGluZXMocyxlKX1kb3RzT25MaW5lcyh0LHMpe2NvbnN0IG49W107bGV0IG89cy5oYWNodXJlR2FwO288MCYmKG89NCpzLnN0cm9rZVdpZHRoKSxvPU1hdGgubWF4KG8sLjEpO2xldCBhPXMuZmlsbFdlaWdodDthPDAmJihhPXMuc3Ryb2tlV2lkdGgvMik7Y29uc3Qgcj1vLzQ7Zm9yKGNvbnN0IGggb2YgdCl7Y29uc3QgdD1lKGgpLGk9dC9vLGM9TWF0aC5jZWlsKGkpLTEsbD10LWMqbyx1PShoWzBdWzBdK2hbMV1bMF0pLzItby80LGY9TWF0aC5taW4oaFswXVsxXSxoWzFdWzFdKTtmb3IobGV0IHQ9MDt0PGM7dCsrKXtjb25zdCBlPWYrbCt0Km8saD10aGlzLmhlbHBlci5yYW5kT2Zmc2V0V2l0aFJhbmdlKHUtcix1K3IscyksaT10aGlzLmhlbHBlci5yYW5kT2Zmc2V0V2l0aFJhbmdlKGUtcixlK3IscyksYz10aGlzLmhlbHBlci5lbGxpcHNlKGgsaSxhLGEscyk7bi5wdXNoKC4uLmMub3BzKX19cmV0dXJue3R5cGU6XCJmaWxsU2tldGNoXCIsb3BzOm59fX1jbGFzcyBme2NvbnN0cnVjdG9yKHQpe3RoaXMuaGVscGVyPXR9ZmlsbFBvbHlnb24odCxlKXtjb25zdCBzPWgodCxlKTtyZXR1cm57dHlwZTpcImZpbGxTa2V0Y2hcIixvcHM6dGhpcy5kYXNoZWRMaW5lKHMsZSl9fWRhc2hlZExpbmUodCxzKXtjb25zdCBuPXMuZGFzaE9mZnNldDwwP3MuaGFjaHVyZUdhcDwwPzQqcy5zdHJva2VXaWR0aDpzLmhhY2h1cmVHYXA6cy5kYXNoT2Zmc2V0LG89cy5kYXNoR2FwPDA/cy5oYWNodXJlR2FwPDA/NCpzLnN0cm9rZVdpZHRoOnMuaGFjaHVyZUdhcDpzLmRhc2hHYXAsYT1bXTtyZXR1cm4gdC5mb3JFYWNoKHQ9Pntjb25zdCByPWUodCksaD1NYXRoLmZsb29yKHIvKG4rbykpLGk9KHIrby1oKihuK28pKS8yO2xldCBjPXRbMF0sbD10WzFdO2NbMF0+bFswXSYmKGM9dFsxXSxsPXRbMF0pO2NvbnN0IHU9TWF0aC5hdGFuKChsWzFdLWNbMV0pLyhsWzBdLWNbMF0pKTtmb3IobGV0IHQ9MDt0PGg7dCsrKXtjb25zdCBlPXQqKG4rbykscj1lK24saD1bY1swXStlKk1hdGguY29zKHUpK2kqTWF0aC5jb3ModSksY1sxXStlKk1hdGguc2luKHUpK2kqTWF0aC5zaW4odSldLGw9W2NbMF0rcipNYXRoLmNvcyh1KStpKk1hdGguY29zKHUpLGNbMV0rcipNYXRoLnNpbih1KStpKk1hdGguc2luKHUpXTthLnB1c2goLi4udGhpcy5oZWxwZXIuZG91YmxlTGluZU9wcyhoWzBdLGhbMV0sbFswXSxsWzFdLHMpKX19KSxhfX1jbGFzcyBwe2NvbnN0cnVjdG9yKHQpe3RoaXMuaGVscGVyPXR9ZmlsbFBvbHlnb24odCxlKXtjb25zdCBzPWUuaGFjaHVyZUdhcDwwPzQqZS5zdHJva2VXaWR0aDplLmhhY2h1cmVHYXAsbj1lLnppZ3phZ09mZnNldDwwP3M6ZS56aWd6YWdPZmZzZXQsbz1oKHQsZT1PYmplY3QuYXNzaWduKHt9LGUse2hhY2h1cmVHYXA6cytufSkpO3JldHVybnt0eXBlOlwiZmlsbFNrZXRjaFwiLG9wczp0aGlzLnppZ3phZ0xpbmVzKG8sbixlKX19emlnemFnTGluZXModCxzLG4pe2NvbnN0IG89W107cmV0dXJuIHQuZm9yRWFjaCh0PT57Y29uc3QgYT1lKHQpLHI9TWF0aC5yb3VuZChhLygyKnMpKTtsZXQgaD10WzBdLGk9dFsxXTtoWzBdPmlbMF0mJihoPXRbMV0saT10WzBdKTtjb25zdCBjPU1hdGguYXRhbigoaVsxXS1oWzFdKS8oaVswXS1oWzBdKSk7Zm9yKGxldCB0PTA7dDxyO3QrKyl7Y29uc3QgZT0yKnQqcyxhPTIqKHQrMSkqcyxyPU1hdGguc3FydCgyKk1hdGgucG93KHMsMikpLGk9W2hbMF0rZSpNYXRoLmNvcyhjKSxoWzFdK2UqTWF0aC5zaW4oYyldLGw9W2hbMF0rYSpNYXRoLmNvcyhjKSxoWzFdK2EqTWF0aC5zaW4oYyldLHU9W2lbMF0rcipNYXRoLmNvcyhjK01hdGguUEkvNCksaVsxXStyKk1hdGguc2luKGMrTWF0aC5QSS80KV07by5wdXNoKC4uLnRoaXMuaGVscGVyLmRvdWJsZUxpbmVPcHMoaVswXSxpWzFdLHVbMF0sdVsxXSxuKSwuLi50aGlzLmhlbHBlci5kb3VibGVMaW5lT3BzKHVbMF0sdVsxXSxsWzBdLGxbMV0sbikpfX0pLG99fWNvbnN0IGQ9e307Y2xhc3MgZ3tjb25zdHJ1Y3Rvcih0KXt0aGlzLnNlZWQ9dH1uZXh0KCl7cmV0dXJuIHRoaXMuc2VlZD8oMioqMzEtMSYodGhpcy5zZWVkPU1hdGguaW11bCg0ODI3MSx0aGlzLnNlZWQpKSkvMioqMzE6TWF0aC5yYW5kb20oKX19Y29uc3QgTT17QTo3LGE6NyxDOjYsYzo2LEg6MSxoOjEsTDoyLGw6MixNOjIsbToyLFE6NCxxOjQsUzo0LHM6NCxUOjIsdDoyLFY6MSx2OjEsWjowLHo6MH07ZnVuY3Rpb24gayh0LGUpe3JldHVybiB0LnR5cGU9PT1lfWZ1bmN0aW9uIGIodCl7Y29uc3QgZT1bXSxzPWZ1bmN0aW9uKHQpe2NvbnN0IGU9bmV3IEFycmF5O2Zvcig7XCJcIiE9PXQ7KWlmKHQubWF0Y2goL14oWyBcXHRcXHJcXG4sXSspLykpdD10LnN1YnN0cihSZWdFeHAuJDEubGVuZ3RoKTtlbHNlIGlmKHQubWF0Y2goL14oW2FBY0NoSGxMbU1xUXNTdFR2VnpaXSkvKSllW2UubGVuZ3RoXT17dHlwZTowLHRleHQ6UmVnRXhwLiQxfSx0PXQuc3Vic3RyKFJlZ0V4cC4kMS5sZW5ndGgpO2Vsc2V7aWYoIXQubWF0Y2goL14oKFstK10/WzAtOV0rKFxcLlswLTldKik/fFstK10/XFwuWzAtOV0rKShbZUVdWy0rXT9bMC05XSspPykvKSlyZXR1cm5bXTtlW2UubGVuZ3RoXT17dHlwZToxLHRleHQ6XCJcIitwYXJzZUZsb2F0KFJlZ0V4cC4kMSl9LHQ9dC5zdWJzdHIoUmVnRXhwLiQxLmxlbmd0aCl9cmV0dXJuIGVbZS5sZW5ndGhdPXt0eXBlOjIsdGV4dDpcIlwifSxlfSh0KTtsZXQgbj1cIkJPRFwiLG89MCxhPXNbb107Zm9yKDshayhhLDIpOyl7bGV0IHI9MDtjb25zdCBoPVtdO2lmKFwiQk9EXCI9PT1uKXtpZihcIk1cIiE9PWEudGV4dCYmXCJtXCIhPT1hLnRleHQpcmV0dXJuIGIoXCJNMCwwXCIrdCk7bysrLHI9TVthLnRleHRdLG49YS50ZXh0fWVsc2UgayhhLDEpP3I9TVtuXToobysrLHI9TVthLnRleHRdLG49YS50ZXh0KTtpZighKG8rcjxzLmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKFwiUGF0aCBkYXRhIGVuZGVkIHNob3J0XCIpO2ZvcihsZXQgdD1vO3Q8bytyO3QrKyl7Y29uc3QgZT1zW3RdO2lmKCFrKGUsMSkpdGhyb3cgbmV3IEVycm9yKFwiUGFyYW0gbm90IGEgbnVtYmVyOiBcIituK1wiLFwiK2UudGV4dCk7aFtoLmxlbmd0aF09K2UudGV4dH1pZihcIm51bWJlclwiIT10eXBlb2YgTVtuXSl0aHJvdyBuZXcgRXJyb3IoXCJCYWQgc2VnbWVudDogXCIrbik7e2NvbnN0IHQ9e2tleTpuLGRhdGE6aH07ZS5wdXNoKHQpLG8rPXIsYT1zW29dLFwiTVwiPT09biYmKG49XCJMXCIpLFwibVwiPT09biYmKG49XCJsXCIpfX1yZXR1cm4gZX1mdW5jdGlvbiB5KHQpe2xldCBlPTAscz0wLG49MCxvPTA7Y29uc3QgYT1bXTtmb3IoY29uc3R7a2V5OnIsZGF0YTpofW9mIHQpc3dpdGNoKHIpe2Nhc2VcIk1cIjphLnB1c2goe2tleTpcIk1cIixkYXRhOlsuLi5oXX0pLFtlLHNdPWgsW24sb109aDticmVhaztjYXNlXCJtXCI6ZSs9aFswXSxzKz1oWzFdLGEucHVzaCh7a2V5OlwiTVwiLGRhdGE6W2Usc119KSxuPWUsbz1zO2JyZWFrO2Nhc2VcIkxcIjphLnB1c2goe2tleTpcIkxcIixkYXRhOlsuLi5oXX0pLFtlLHNdPWg7YnJlYWs7Y2FzZVwibFwiOmUrPWhbMF0scys9aFsxXSxhLnB1c2goe2tleTpcIkxcIixkYXRhOltlLHNdfSk7YnJlYWs7Y2FzZVwiQ1wiOmEucHVzaCh7a2V5OlwiQ1wiLGRhdGE6Wy4uLmhdfSksZT1oWzRdLHM9aFs1XTticmVhaztjYXNlXCJjXCI6e2NvbnN0IHQ9aC5tYXAoKHQsbik9Pm4lMj90K3M6dCtlKTthLnB1c2goe2tleTpcIkNcIixkYXRhOnR9KSxlPXRbNF0scz10WzVdO2JyZWFrfWNhc2VcIlFcIjphLnB1c2goe2tleTpcIlFcIixkYXRhOlsuLi5oXX0pLGU9aFsyXSxzPWhbM107YnJlYWs7Y2FzZVwicVwiOntjb25zdCB0PWgubWFwKCh0LG4pPT5uJTI/dCtzOnQrZSk7YS5wdXNoKHtrZXk6XCJRXCIsZGF0YTp0fSksZT10WzJdLHM9dFszXTticmVha31jYXNlXCJBXCI6YS5wdXNoKHtrZXk6XCJBXCIsZGF0YTpbLi4uaF19KSxlPWhbNV0scz1oWzZdO2JyZWFrO2Nhc2VcImFcIjplKz1oWzVdLHMrPWhbNl0sYS5wdXNoKHtrZXk6XCJBXCIsZGF0YTpbaFswXSxoWzFdLGhbMl0saFszXSxoWzRdLGUsc119KTticmVhaztjYXNlXCJIXCI6YS5wdXNoKHtrZXk6XCJIXCIsZGF0YTpbLi4uaF19KSxlPWhbMF07YnJlYWs7Y2FzZVwiaFwiOmUrPWhbMF0sYS5wdXNoKHtrZXk6XCJIXCIsZGF0YTpbZV19KTticmVhaztjYXNlXCJWXCI6YS5wdXNoKHtrZXk6XCJWXCIsZGF0YTpbLi4uaF19KSxzPWhbMF07YnJlYWs7Y2FzZVwidlwiOnMrPWhbMF0sYS5wdXNoKHtrZXk6XCJWXCIsZGF0YTpbc119KTticmVhaztjYXNlXCJTXCI6YS5wdXNoKHtrZXk6XCJTXCIsZGF0YTpbLi4uaF19KSxlPWhbMl0scz1oWzNdO2JyZWFrO2Nhc2VcInNcIjp7Y29uc3QgdD1oLm1hcCgodCxuKT0+biUyP3Qrczp0K2UpO2EucHVzaCh7a2V5OlwiU1wiLGRhdGE6dH0pLGU9dFsyXSxzPXRbM107YnJlYWt9Y2FzZVwiVFwiOmEucHVzaCh7a2V5OlwiVFwiLGRhdGE6Wy4uLmhdfSksZT1oWzBdLHM9aFsxXTticmVhaztjYXNlXCJ0XCI6ZSs9aFswXSxzKz1oWzFdLGEucHVzaCh7a2V5OlwiVFwiLGRhdGE6W2Usc119KTticmVhaztjYXNlXCJaXCI6Y2FzZVwielwiOmEucHVzaCh7a2V5OlwiWlwiLGRhdGE6W119KSxlPW4scz1vfXJldHVybiBhfWZ1bmN0aW9uIG0odCl7Y29uc3QgZT1bXTtsZXQgcz1cIlwiLG49MCxvPTAsYT0wLHI9MCxoPTAsaT0wO2Zvcihjb25zdHtrZXk6YyxkYXRhOmx9b2YgdCl7c3dpdGNoKGMpe2Nhc2VcIk1cIjplLnB1c2goe2tleTpcIk1cIixkYXRhOlsuLi5sXX0pLFtuLG9dPWwsW2Escl09bDticmVhaztjYXNlXCJDXCI6ZS5wdXNoKHtrZXk6XCJDXCIsZGF0YTpbLi4ubF19KSxuPWxbNF0sbz1sWzVdLGg9bFsyXSxpPWxbM107YnJlYWs7Y2FzZVwiTFwiOmUucHVzaCh7a2V5OlwiTFwiLGRhdGE6Wy4uLmxdfSksW24sb109bDticmVhaztjYXNlXCJIXCI6bj1sWzBdLGUucHVzaCh7a2V5OlwiTFwiLGRhdGE6W24sb119KTticmVhaztjYXNlXCJWXCI6bz1sWzBdLGUucHVzaCh7a2V5OlwiTFwiLGRhdGE6W24sb119KTticmVhaztjYXNlXCJTXCI6e2xldCB0PTAsYT0wO1wiQ1wiPT09c3x8XCJTXCI9PT1zPyh0PW4rKG4taCksYT1vKyhvLWkpKToodD1uLGE9byksZS5wdXNoKHtrZXk6XCJDXCIsZGF0YTpbdCxhLC4uLmxdfSksaD1sWzBdLGk9bFsxXSxuPWxbMl0sbz1sWzNdO2JyZWFrfWNhc2VcIlRcIjp7Y29uc3RbdCxhXT1sO2xldCByPTAsYz0wO1wiUVwiPT09c3x8XCJUXCI9PT1zPyhyPW4rKG4taCksYz1vKyhvLWkpKToocj1uLGM9byk7Y29uc3QgdT1uKzIqKHItbikvMyxmPW8rMiooYy1vKS8zLHA9dCsyKihyLXQpLzMsZD1hKzIqKGMtYSkvMztlLnB1c2goe2tleTpcIkNcIixkYXRhOlt1LGYscCxkLHQsYV19KSxoPXIsaT1jLG49dCxvPWE7YnJlYWt9Y2FzZVwiUVwiOntjb25zdFt0LHMsYSxyXT1sLGM9bisyKih0LW4pLzMsdT1vKzIqKHMtbykvMyxmPWErMioodC1hKS8zLHA9cisyKihzLXIpLzM7ZS5wdXNoKHtrZXk6XCJDXCIsZGF0YTpbYyx1LGYscCxhLHJdfSksaD10LGk9cyxuPWEsbz1yO2JyZWFrfWNhc2VcIkFcIjp7Y29uc3QgdD1NYXRoLmFicyhsWzBdKSxzPU1hdGguYWJzKGxbMV0pLGE9bFsyXSxyPWxbM10saD1sWzRdLGk9bFs1XSxjPWxbNl07aWYoMD09PXR8fDA9PT1zKWUucHVzaCh7a2V5OlwiQ1wiLGRhdGE6W24sbyxpLGMsaSxjXX0pLG49aSxvPWM7ZWxzZSBpZihuIT09aXx8byE9PWMpe1AobixvLGksYyx0LHMsYSxyLGgpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UucHVzaCh7a2V5OlwiQ1wiLGRhdGE6dH0pfSkpLG49aSxvPWN9YnJlYWt9Y2FzZVwiWlwiOmUucHVzaCh7a2V5OlwiWlwiLGRhdGE6W119KSxuPWEsbz1yfXM9Y31yZXR1cm4gZX1mdW5jdGlvbiB3KHQsZSxzKXtyZXR1cm5bdCpNYXRoLmNvcyhzKS1lKk1hdGguc2luKHMpLHQqTWF0aC5zaW4ocykrZSpNYXRoLmNvcyhzKV19ZnVuY3Rpb24gUCh0LGUscyxuLG8sYSxyLGgsaSxjKXtjb25zdCBsPSh1PXIsTWF0aC5QSSp1LzE4MCk7dmFyIHU7bGV0IGY9W10scD0wLGQ9MCxnPTAsTT0wO2lmKGMpW3AsZCxnLE1dPWM7ZWxzZXtbdCxlXT13KHQsZSwtbCksW3Msbl09dyhzLG4sLWwpO2NvbnN0IHI9KHQtcykvMixjPShlLW4pLzI7bGV0IHU9cipyLyhvKm8pK2MqYy8oYSphKTt1PjEmJih1PU1hdGguc3FydCh1KSxvKj11LGEqPXUpO2NvbnN0IGY9bypvLGs9YSphLGI9ZiprLWYqYypjLWsqcipyLHk9ZipjKmMraypyKnIsbT0oaD09PWk/LTE6MSkqTWF0aC5zcXJ0KE1hdGguYWJzKGIveSkpO2c9bSpvKmMvYSsodCtzKS8yLE09bSotYSpyL28rKGUrbikvMixwPU1hdGguYXNpbihwYXJzZUZsb2F0KCgoZS1NKS9hKS50b0ZpeGVkKDkpKSksZD1NYXRoLmFzaW4ocGFyc2VGbG9hdCgoKG4tTSkvYSkudG9GaXhlZCg5KSkpLHQ8ZyYmKHA9TWF0aC5QSS1wKSxzPGcmJihkPU1hdGguUEktZCkscDwwJiYocD0yKk1hdGguUEkrcCksZDwwJiYoZD0yKk1hdGguUEkrZCksaSYmcD5kJiYocC09MipNYXRoLlBJKSwhaSYmZD5wJiYoZC09MipNYXRoLlBJKX1sZXQgaz1kLXA7aWYoTWF0aC5hYnMoayk+MTIwKk1hdGguUEkvMTgwKXtjb25zdCB0PWQsZT1zLGg9bjtkPWkmJmQ+cD9wKzEyMCpNYXRoLlBJLzE4MCoxOnArMTIwKk1hdGguUEkvMTgwKi0xLGY9UChzPWcrbypNYXRoLmNvcyhkKSxuPU0rYSpNYXRoLnNpbihkKSxlLGgsbyxhLHIsMCxpLFtkLHQsZyxNXSl9az1kLXA7Y29uc3QgYj1NYXRoLmNvcyhwKSx5PU1hdGguc2luKHApLG09TWF0aC5jb3MoZCkseD1NYXRoLnNpbihkKSx2PU1hdGgudGFuKGsvNCksTz00LzMqbyp2LFM9NC8zKmEqdixMPVt0LGVdLFQ9W3QrTyp5LGUtUypiXSxJPVtzK08qeCxuLVMqbV0sQT1bcyxuXTtpZihUWzBdPTIqTFswXS1UWzBdLFRbMV09MipMWzFdLVRbMV0sYylyZXR1cm5bVCxJLEFdLmNvbmNhdChmKTt7Zj1bVCxJLEFdLmNvbmNhdChmKTtjb25zdCB0PVtdO2ZvcihsZXQgZT0wO2U8Zi5sZW5ndGg7ZSs9Myl7Y29uc3Qgcz13KGZbZV1bMF0sZltlXVsxXSxsKSxuPXcoZltlKzFdWzBdLGZbZSsxXVsxXSxsKSxvPXcoZltlKzJdWzBdLGZbZSsyXVsxXSxsKTt0LnB1c2goW3NbMF0sc1sxXSxuWzBdLG5bMV0sb1swXSxvWzFdXSl9cmV0dXJuIHR9fWNvbnN0IHg9e3JhbmRPZmZzZXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gVyh0LGUpfSxyYW5kT2Zmc2V0V2l0aFJhbmdlOmZ1bmN0aW9uKHQsZSxzKXtyZXR1cm4gRSh0LGUscyl9LGVsbGlwc2U6ZnVuY3Rpb24odCxlLHMsbixvKXtjb25zdCBhPVQocyxuLG8pO3JldHVybiBJKHQsZSxvLGEpLm9wc2V0fSxkb3VibGVMaW5lT3BzOmZ1bmN0aW9uKHQsZSxzLG4sbyl7cmV0dXJuIHoodCxlLHMsbixvLCEwKX19O2Z1bmN0aW9uIHYodCxlLHMsbixvKXtyZXR1cm57dHlwZTpcInBhdGhcIixvcHM6eih0LGUscyxuLG8pfX1mdW5jdGlvbiBPKHQsZSxzKXtjb25zdCBuPSh0fHxbXSkubGVuZ3RoO2lmKG4+Mil7Y29uc3Qgbz1bXTtmb3IobGV0IGU9MDtlPG4tMTtlKyspby5wdXNoKC4uLnoodFtlXVswXSx0W2VdWzFdLHRbZSsxXVswXSx0W2UrMV1bMV0scykpO3JldHVybiBlJiZvLnB1c2goLi4ueih0W24tMV1bMF0sdFtuLTFdWzFdLHRbMF1bMF0sdFswXVsxXSxzKSkse3R5cGU6XCJwYXRoXCIsb3BzOm99fXJldHVybiAyPT09bj92KHRbMF1bMF0sdFswXVsxXSx0WzFdWzBdLHRbMV1bMV0scyk6e3R5cGU6XCJwYXRoXCIsb3BzOltdfX1mdW5jdGlvbiBTKHQsZSxzLG4sbyl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE8odCwhMCxlKX0oW1t0LGVdLFt0K3MsZV0sW3QrcyxlK25dLFt0LGUrbl1dLG8pfWZ1bmN0aW9uIEwodCxlKXtsZXQgcz0kKHQsMSooMSsuMiplLnJvdWdobmVzcyksZSk7aWYoIWUuZGlzYWJsZU11bHRpU3Ryb2tlKXtjb25zdCBuPSQodCwxLjUqKDErLjIyKmUucm91Z2huZXNzKSxmdW5jdGlvbih0KXtjb25zdCBlPU9iamVjdC5hc3NpZ24oe30sdCk7ZS5yYW5kb21pemVyPXZvaWQgMCx0LnNlZWQmJihlLnNlZWQ9dC5zZWVkKzEpO3JldHVybiBlfShlKSk7cz1zLmNvbmNhdChuKX1yZXR1cm57dHlwZTpcInBhdGhcIixvcHM6c319ZnVuY3Rpb24gVCh0LGUscyl7Y29uc3Qgbj1NYXRoLnNxcnQoMipNYXRoLlBJKk1hdGguc3FydCgoTWF0aC5wb3codC8yLDIpK01hdGgucG93KGUvMiwyKSkvMikpLG89TWF0aC5tYXgocy5jdXJ2ZVN0ZXBDb3VudCxzLmN1cnZlU3RlcENvdW50L01hdGguc3FydCgyMDApKm4pLGE9MipNYXRoLlBJL287bGV0IHI9TWF0aC5hYnModC8yKSxoPU1hdGguYWJzKGUvMik7Y29uc3QgaT0xLXMuY3VydmVGaXR0aW5nO3JldHVybiByKz1XKHIqaSxzKSxoKz1XKGgqaSxzKSx7aW5jcmVtZW50OmEscng6cixyeTpofX1mdW5jdGlvbiBJKHQsZSxzLG4pe2NvbnN0W28sYV09cShuLmluY3JlbWVudCx0LGUsbi5yeCxuLnJ5LDEsbi5pbmNyZW1lbnQqRSguMSxFKC40LDEscykscykscyk7bGV0IHI9RyhvLG51bGwscyk7aWYoIXMuZGlzYWJsZU11bHRpU3Ryb2tlKXtjb25zdFtvXT1xKG4uaW5jcmVtZW50LHQsZSxuLnJ4LG4ucnksMS41LDAscyksYT1HKG8sbnVsbCxzKTtyPXIuY29uY2F0KGEpfXJldHVybntlc3RpbWF0ZWRQb2ludHM6YSxvcHNldDp7dHlwZTpcInBhdGhcIixvcHM6cn19fWZ1bmN0aW9uIEEodCxlLHMsbixvLGEscixoLGkpe2NvbnN0IGM9dCxsPWU7bGV0IHU9TWF0aC5hYnMocy8yKSxmPU1hdGguYWJzKG4vMik7dSs9VyguMDEqdSxpKSxmKz1XKC4wMSpmLGkpO2xldCBwPW8sZD1hO2Zvcig7cDwwOylwKz0yKk1hdGguUEksZCs9MipNYXRoLlBJO2QtcD4yKk1hdGguUEkmJihwPTAsZD0yKk1hdGguUEkpO2NvbnN0IGc9MipNYXRoLlBJL2kuY3VydmVTdGVwQ291bnQsTT1NYXRoLm1pbihnLzIsKGQtcCkvMiksaz1GKE0sYyxsLHUsZixwLGQsMSxpKTtpZighaS5kaXNhYmxlTXVsdGlTdHJva2Upe2NvbnN0IHQ9RihNLGMsbCx1LGYscCxkLDEuNSxpKTtrLnB1c2goLi4udCl9cmV0dXJuIHImJihoP2sucHVzaCguLi56KGMsbCxjK3UqTWF0aC5jb3MocCksbCtmKk1hdGguc2luKHApLGkpLC4uLnooYyxsLGMrdSpNYXRoLmNvcyhkKSxsK2YqTWF0aC5zaW4oZCksaSkpOmsucHVzaCh7b3A6XCJsaW5lVG9cIixkYXRhOltjLGxdfSx7b3A6XCJsaW5lVG9cIixkYXRhOltjK3UqTWF0aC5jb3MocCksbCtmKk1hdGguc2luKHApXX0pKSx7dHlwZTpcInBhdGhcIixvcHM6a319ZnVuY3Rpb24gXyh0LGUpe2NvbnN0IHM9W107aWYodC5sZW5ndGgpe2NvbnN0IG49ZS5tYXhSYW5kb21uZXNzT2Zmc2V0fHwwLG89dC5sZW5ndGg7aWYobz4yKXtzLnB1c2goe29wOlwibW92ZVwiLGRhdGE6W3RbMF1bMF0rVyhuLGUpLHRbMF1bMV0rVyhuLGUpXX0pO2ZvcihsZXQgYT0xO2E8bzthKyspcy5wdXNoKHtvcDpcImxpbmVUb1wiLGRhdGE6W3RbYV1bMF0rVyhuLGUpLHRbYV1bMV0rVyhuLGUpXX0pfX1yZXR1cm57dHlwZTpcImZpbGxQYXRoXCIsb3BzOnN9fWZ1bmN0aW9uIEModCxlKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtsZXQgcz10LmZpbGxTdHlsZXx8XCJoYWNodXJlXCI7aWYoIWRbc10pc3dpdGNoKHMpe2Nhc2VcInppZ3phZ1wiOmRbc118fChkW3NdPW5ldyBjKGUpKTticmVhaztjYXNlXCJjcm9zcy1oYXRjaFwiOmRbc118fChkW3NdPW5ldyBsKGUpKTticmVhaztjYXNlXCJkb3RzXCI6ZFtzXXx8KGRbc109bmV3IHUoZSkpO2JyZWFrO2Nhc2VcImRhc2hlZFwiOmRbc118fChkW3NdPW5ldyBmKGUpKTticmVhaztjYXNlXCJ6aWd6YWctbGluZVwiOmRbc118fChkW3NdPW5ldyBwKGUpKTticmVhaztjYXNlXCJoYWNodXJlXCI6ZGVmYXVsdDpzPVwiaGFjaHVyZVwiLGRbc118fChkW3NdPW5ldyBpKGUpKX1yZXR1cm4gZFtzXX0oZSx4KS5maWxsUG9seWdvbih0LGUpfWZ1bmN0aW9uIEQodCl7cmV0dXJuIHQucmFuZG9taXplcnx8KHQucmFuZG9taXplcj1uZXcgZyh0LnNlZWR8fDApKSx0LnJhbmRvbWl6ZXIubmV4dCgpfWZ1bmN0aW9uIEUodCxlLHMsbj0xKXtyZXR1cm4gcy5yb3VnaG5lc3MqbiooRChzKSooZS10KSt0KX1mdW5jdGlvbiBXKHQsZSxzPTEpe3JldHVybiBFKC10LHQsZSxzKX1mdW5jdGlvbiB6KHQsZSxzLG4sbyxhPSExKXtjb25zdCByPWE/by5kaXNhYmxlTXVsdGlTdHJva2VGaWxsOm8uZGlzYWJsZU11bHRpU3Ryb2tlLGg9Uih0LGUscyxuLG8sITAsITEpO2lmKHIpcmV0dXJuIGg7Y29uc3QgaT1SKHQsZSxzLG4sbywhMCwhMCk7cmV0dXJuIGguY29uY2F0KGkpfWZ1bmN0aW9uIFIodCxlLHMsbixvLGEscil7Y29uc3QgaD1NYXRoLnBvdyh0LXMsMikrTWF0aC5wb3coZS1uLDIpLGk9TWF0aC5zcXJ0KGgpO2xldCBjPTE7Yz1pPDIwMD8xOmk+NTAwPy40Oi0uMDAxNjY2OCppKzEuMjMzMzM0O2xldCBsPW8ubWF4UmFuZG9tbmVzc09mZnNldHx8MDtsKmwqMTAwPmgmJihsPWkvMTApO2NvbnN0IHU9bC8yLGY9LjIrLjIqRChvKTtsZXQgcD1vLmJvd2luZypvLm1heFJhbmRvbW5lc3NPZmZzZXQqKG4tZSkvMjAwLGQ9by5ib3dpbmcqby5tYXhSYW5kb21uZXNzT2Zmc2V0Kih0LXMpLzIwMDtwPVcocCxvLGMpLGQ9VyhkLG8sYyk7Y29uc3QgZz1bXSxNPSgpPT5XKHUsbyxjKSxrPSgpPT5XKGwsbyxjKTtyZXR1cm4gYSYmKHI/Zy5wdXNoKHtvcDpcIm1vdmVcIixkYXRhOlt0K00oKSxlK00oKV19KTpnLnB1c2goe29wOlwibW92ZVwiLGRhdGE6W3QrVyhsLG8sYyksZStXKGwsbyxjKV19KSkscj9nLnB1c2goe29wOlwiYmN1cnZlVG9cIixkYXRhOltwK3QrKHMtdCkqZitNKCksZCtlKyhuLWUpKmYrTSgpLHArdCsyKihzLXQpKmYrTSgpLGQrZSsyKihuLWUpKmYrTSgpLHMrTSgpLG4rTSgpXX0pOmcucHVzaCh7b3A6XCJiY3VydmVUb1wiLGRhdGE6W3ArdCsocy10KSpmK2soKSxkK2UrKG4tZSkqZitrKCkscCt0KzIqKHMtdCkqZitrKCksZCtlKzIqKG4tZSkqZitrKCkscytrKCksbitrKCldfSksZ31mdW5jdGlvbiAkKHQsZSxzKXtjb25zdCBuPVtdO24ucHVzaChbdFswXVswXStXKGUscyksdFswXVsxXStXKGUscyldKSxuLnB1c2goW3RbMF1bMF0rVyhlLHMpLHRbMF1bMV0rVyhlLHMpXSk7Zm9yKGxldCBvPTE7bzx0Lmxlbmd0aDtvKyspbi5wdXNoKFt0W29dWzBdK1coZSxzKSx0W29dWzFdK1coZSxzKV0pLG89PT10Lmxlbmd0aC0xJiZuLnB1c2goW3Rbb11bMF0rVyhlLHMpLHRbb11bMV0rVyhlLHMpXSk7cmV0dXJuIEcobixudWxsLHMpfWZ1bmN0aW9uIEcodCxlLHMpe2NvbnN0IG49dC5sZW5ndGgsbz1bXTtpZihuPjMpe2NvbnN0IGE9W10scj0xLXMuY3VydmVUaWdodG5lc3M7by5wdXNoKHtvcDpcIm1vdmVcIixkYXRhOlt0WzFdWzBdLHRbMV1bMV1dfSk7Zm9yKGxldCBlPTE7ZSsyPG47ZSsrKXtjb25zdCBzPXRbZV07YVswXT1bc1swXSxzWzFdXSxhWzFdPVtzWzBdKyhyKnRbZSsxXVswXS1yKnRbZS0xXVswXSkvNixzWzFdKyhyKnRbZSsxXVsxXS1yKnRbZS0xXVsxXSkvNl0sYVsyXT1bdFtlKzFdWzBdKyhyKnRbZV1bMF0tcip0W2UrMl1bMF0pLzYsdFtlKzFdWzFdKyhyKnRbZV1bMV0tcip0W2UrMl1bMV0pLzZdLGFbM109W3RbZSsxXVswXSx0W2UrMV1bMV1dLG8ucHVzaCh7b3A6XCJiY3VydmVUb1wiLGRhdGE6W2FbMV1bMF0sYVsxXVsxXSxhWzJdWzBdLGFbMl1bMV0sYVszXVswXSxhWzNdWzFdXX0pfWlmKGUmJjI9PT1lLmxlbmd0aCl7Y29uc3QgdD1zLm1heFJhbmRvbW5lc3NPZmZzZXQ7by5wdXNoKHtvcDpcImxpbmVUb1wiLGRhdGE6W2VbMF0rVyh0LHMpLGVbMV0rVyh0LHMpXX0pfX1lbHNlIDM9PT1uPyhvLnB1c2goe29wOlwibW92ZVwiLGRhdGE6W3RbMV1bMF0sdFsxXVsxXV19KSxvLnB1c2goe29wOlwiYmN1cnZlVG9cIixkYXRhOlt0WzFdWzBdLHRbMV1bMV0sdFsyXVswXSx0WzJdWzFdLHRbMl1bMF0sdFsyXVsxXV19KSk6Mj09PW4mJm8ucHVzaCguLi56KHRbMF1bMF0sdFswXVsxXSx0WzFdWzBdLHRbMV1bMV0scykpO3JldHVybiBvfWZ1bmN0aW9uIHEodCxlLHMsbixvLGEscixoKXtjb25zdCBpPVtdLGM9W10sbD1XKC41LGgpLU1hdGguUEkvMjtjLnB1c2goW1coYSxoKStlKy45Km4qTWF0aC5jb3MobC10KSxXKGEsaCkrcysuOSpvKk1hdGguc2luKGwtdCldKTtmb3IobGV0IHI9bDtyPDIqTWF0aC5QSStsLS4wMTtyKz10KXtjb25zdCB0PVtXKGEsaCkrZStuKk1hdGguY29zKHIpLFcoYSxoKStzK28qTWF0aC5zaW4ocildO2kucHVzaCh0KSxjLnB1c2godCl9cmV0dXJuIGMucHVzaChbVyhhLGgpK2UrbipNYXRoLmNvcyhsKzIqTWF0aC5QSSsuNSpyKSxXKGEsaCkrcytvKk1hdGguc2luKGwrMipNYXRoLlBJKy41KnIpXSksYy5wdXNoKFtXKGEsaCkrZSsuOTgqbipNYXRoLmNvcyhsK3IpLFcoYSxoKStzKy45OCpvKk1hdGguc2luKGwrcildKSxjLnB1c2goW1coYSxoKStlKy45Km4qTWF0aC5jb3MobCsuNSpyKSxXKGEsaCkrcysuOSpvKk1hdGguc2luKGwrLjUqcildKSxbYyxpXX1mdW5jdGlvbiBGKHQsZSxzLG4sbyxhLHIsaCxpKXtjb25zdCBjPWErVyguMSxpKSxsPVtdO2wucHVzaChbVyhoLGkpK2UrLjkqbipNYXRoLmNvcyhjLXQpLFcoaCxpKStzKy45Km8qTWF0aC5zaW4oYy10KV0pO2ZvcihsZXQgYT1jO2E8PXI7YSs9dClsLnB1c2goW1coaCxpKStlK24qTWF0aC5jb3MoYSksVyhoLGkpK3MrbypNYXRoLnNpbihhKV0pO3JldHVybiBsLnB1c2goW2UrbipNYXRoLmNvcyhyKSxzK28qTWF0aC5zaW4ocildKSxsLnB1c2goW2UrbipNYXRoLmNvcyhyKSxzK28qTWF0aC5zaW4ocildKSxHKGwsbnVsbCxpKX1mdW5jdGlvbiBqKHQsZSxzLG4sbyxhLHIsaCl7Y29uc3QgaT1bXSxjPVtoLm1heFJhbmRvbW5lc3NPZmZzZXR8fDEsKGgubWF4UmFuZG9tbmVzc09mZnNldHx8MSkrLjNdO2xldCBsPVswLDBdO2NvbnN0IHU9aC5kaXNhYmxlTXVsdGlTdHJva2U/MToyO2ZvcihsZXQgZj0wO2Y8dTtmKyspMD09PWY/aS5wdXNoKHtvcDpcIm1vdmVcIixkYXRhOltyWzBdLHJbMV1dfSk6aS5wdXNoKHtvcDpcIm1vdmVcIixkYXRhOltyWzBdK1coY1swXSxoKSxyWzFdK1coY1swXSxoKV19KSxsPVtvK1coY1tmXSxoKSxhK1coY1tmXSxoKV0saS5wdXNoKHtvcDpcImJjdXJ2ZVRvXCIsZGF0YTpbdCtXKGNbZl0saCksZStXKGNbZl0saCkscytXKGNbZl0saCksbitXKGNbZl0saCksbFswXSxsWzFdXX0pO3JldHVybiBpfWZ1bmN0aW9uIE4odCl7cmV0dXJuWy4uLnRdfWZ1bmN0aW9uIFoodCxlKXtyZXR1cm4gTWF0aC5wb3codFswXS1lWzBdLDIpK01hdGgucG93KHRbMV0tZVsxXSwyKX1mdW5jdGlvbiBRKHQsZSxzKXtjb25zdCBuPVooZSxzKTtpZigwPT09bilyZXR1cm4gWih0LGUpO2xldCBvPSgodFswXS1lWzBdKSooc1swXS1lWzBdKSsodFsxXS1lWzFdKSooc1sxXS1lWzFdKSkvbjtyZXR1cm4gbz1NYXRoLm1heCgwLE1hdGgubWluKDEsbykpLFoodCxIKGUscyxvKSl9ZnVuY3Rpb24gSCh0LGUscyl7cmV0dXJuW3RbMF0rKGVbMF0tdFswXSkqcyx0WzFdKyhlWzFdLXRbMV0pKnNdfWZ1bmN0aW9uIFYodCxlLHMsbil7Y29uc3Qgbz1ufHxbXTtpZihmdW5jdGlvbih0LGUpe2NvbnN0IHM9dFtlKzBdLG49dFtlKzFdLG89dFtlKzJdLGE9dFtlKzNdO2xldCByPTMqblswXS0yKnNbMF0tYVswXTtyKj1yO2xldCBoPTMqblsxXS0yKnNbMV0tYVsxXTtoKj1oO2xldCBpPTMqb1swXS0yKmFbMF0tc1swXTtpKj1pO2xldCBjPTMqb1sxXS0yKmFbMV0tc1sxXTtyZXR1cm4gYyo9YyxyPGkmJihyPWkpLGg8YyYmKGg9YykscitofSh0LGUpPHMpe2NvbnN0IHM9dFtlKzBdO2lmKG8ubGVuZ3RoKXsoYT1vW28ubGVuZ3RoLTFdLHI9cyxNYXRoLnNxcnQoWihhLHIpKSk+MSYmby5wdXNoKHMpfWVsc2Ugby5wdXNoKHMpO28ucHVzaCh0W2UrM10pfWVsc2V7Y29uc3Qgbj0uNSxhPXRbZSswXSxyPXRbZSsxXSxoPXRbZSsyXSxpPXRbZSszXSxjPUgoYSxyLG4pLGw9SChyLGgsbiksdT1IKGgsaSxuKSxmPUgoYyxsLG4pLHA9SChsLHUsbiksZD1IKGYscCxuKTtWKFthLGMsZixkXSwwLHMsbyksVihbZCxwLHUsaV0sMCxzLG8pfXZhciBhLHI7cmV0dXJuIG99ZnVuY3Rpb24gQih0LGUpe3JldHVybiBYKHQsMCx0Lmxlbmd0aCxlKX1mdW5jdGlvbiBYKHQsZSxzLG4sbyl7Y29uc3QgYT1vfHxbXSxyPXRbZV0saD10W3MtMV07bGV0IGk9MCxjPTE7Zm9yKGxldCBuPWUrMTtuPHMtMTsrK24pe2NvbnN0IGU9USh0W25dLHIsaCk7ZT5pJiYoaT1lLGM9bil9cmV0dXJuIE1hdGguc3FydChpKT5uPyhYKHQsZSxjKzEsbixhKSxYKHQsYyxzLG4sYSkpOihhLmxlbmd0aHx8YS5wdXNoKHIpLGEucHVzaChoKSksYX1mdW5jdGlvbiBKKHQsZT0uMTUscyl7Y29uc3Qgbj1bXSxvPSh0Lmxlbmd0aC0xKS8zO2ZvcihsZXQgcz0wO3M8bztzKyspe1YodCwzKnMsZSxuKX1yZXR1cm4gcyYmcz4wP1gobiwwLG4ubGVuZ3RoLHMpOm59Y29uc3QgSz1cIm5vbmVcIjtjbGFzcyBVe2NvbnN0cnVjdG9yKHQpe3RoaXMuZGVmYXVsdE9wdGlvbnM9e21heFJhbmRvbW5lc3NPZmZzZXQ6Mixyb3VnaG5lc3M6MSxib3dpbmc6MSxzdHJva2U6XCIjMDAwXCIsc3Ryb2tlV2lkdGg6MSxjdXJ2ZVRpZ2h0bmVzczowLGN1cnZlRml0dGluZzouOTUsY3VydmVTdGVwQ291bnQ6OSxmaWxsU3R5bGU6XCJoYWNodXJlXCIsZmlsbFdlaWdodDotMSxoYWNodXJlQW5nbGU6LTQxLGhhY2h1cmVHYXA6LTEsZGFzaE9mZnNldDotMSxkYXNoR2FwOi0xLHppZ3phZ09mZnNldDotMSxzZWVkOjAsY29tYmluZU5lc3RlZFN2Z1BhdGhzOiExLGRpc2FibGVNdWx0aVN0cm9rZTohMSxkaXNhYmxlTXVsdGlTdHJva2VGaWxsOiExfSx0aGlzLmNvbmZpZz10fHx7fSx0aGlzLmNvbmZpZy5vcHRpb25zJiYodGhpcy5kZWZhdWx0T3B0aW9ucz10aGlzLl9vKHRoaXMuY29uZmlnLm9wdGlvbnMpKX1zdGF0aWMgbmV3U2VlZCgpe3JldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMioqMzEpfV9vKHQpe3JldHVybiB0P09iamVjdC5hc3NpZ24oe30sdGhpcy5kZWZhdWx0T3B0aW9ucyx0KTp0aGlzLmRlZmF1bHRPcHRpb25zfV9kKHQsZSxzKXtyZXR1cm57c2hhcGU6dCxzZXRzOmV8fFtdLG9wdGlvbnM6c3x8dGhpcy5kZWZhdWx0T3B0aW9uc319bGluZSh0LGUscyxuLG8pe2NvbnN0IGE9dGhpcy5fbyhvKTtyZXR1cm4gdGhpcy5fZChcImxpbmVcIixbdih0LGUscyxuLGEpXSxhKX1yZWN0YW5nbGUodCxlLHMsbixvKXtjb25zdCBhPXRoaXMuX28obykscj1bXSxoPVModCxlLHMsbixhKTtpZihhLmZpbGwpe2NvbnN0IG89W1t0LGVdLFt0K3MsZV0sW3QrcyxlK25dLFt0LGUrbl1dO1wic29saWRcIj09PWEuZmlsbFN0eWxlP3IucHVzaChfKG8sYSkpOnIucHVzaChDKG8sYSkpfXJldHVybiBhLnN0cm9rZSE9PUsmJnIucHVzaChoKSx0aGlzLl9kKFwicmVjdGFuZ2xlXCIscixhKX1lbGxpcHNlKHQsZSxzLG4sbyl7Y29uc3QgYT10aGlzLl9vKG8pLHI9W10saD1UKHMsbixhKSxpPUkodCxlLGEsaCk7aWYoYS5maWxsKWlmKFwic29saWRcIj09PWEuZmlsbFN0eWxlKXtjb25zdCBzPUkodCxlLGEsaCkub3BzZXQ7cy50eXBlPVwiZmlsbFBhdGhcIixyLnB1c2gocyl9ZWxzZSByLnB1c2goQyhpLmVzdGltYXRlZFBvaW50cyxhKSk7cmV0dXJuIGEuc3Ryb2tlIT09SyYmci5wdXNoKGkub3BzZXQpLHRoaXMuX2QoXCJlbGxpcHNlXCIscixhKX1jaXJjbGUodCxlLHMsbil7Y29uc3Qgbz10aGlzLmVsbGlwc2UodCxlLHMscyxuKTtyZXR1cm4gby5zaGFwZT1cImNpcmNsZVwiLG99bGluZWFyUGF0aCh0LGUpe2NvbnN0IHM9dGhpcy5fbyhlKTtyZXR1cm4gdGhpcy5fZChcImxpbmVhclBhdGhcIixbTyh0LCExLHMpXSxzKX1hcmModCxlLHMsbixvLGEscj0hMSxoKXtjb25zdCBpPXRoaXMuX28oaCksYz1bXSxsPUEodCxlLHMsbixvLGEsciwhMCxpKTtpZihyJiZpLmZpbGwpaWYoXCJzb2xpZFwiPT09aS5maWxsU3R5bGUpe2NvbnN0IHI9QSh0LGUscyxuLG8sYSwhMCwhMSxpKTtyLnR5cGU9XCJmaWxsUGF0aFwiLGMucHVzaChyKX1lbHNlIGMucHVzaChmdW5jdGlvbih0LGUscyxuLG8sYSxyKXtjb25zdCBoPXQsaT1lO2xldCBjPU1hdGguYWJzKHMvMiksbD1NYXRoLmFicyhuLzIpO2MrPVcoLjAxKmMsciksbCs9VyguMDEqbCxyKTtsZXQgdT1vLGY9YTtmb3IoO3U8MDspdSs9MipNYXRoLlBJLGYrPTIqTWF0aC5QSTtmLXU+MipNYXRoLlBJJiYodT0wLGY9MipNYXRoLlBJKTtjb25zdCBwPShmLXUpL3IuY3VydmVTdGVwQ291bnQsZD1bXTtmb3IobGV0IHQ9dTt0PD1mO3QrPXApZC5wdXNoKFtoK2MqTWF0aC5jb3ModCksaStsKk1hdGguc2luKHQpXSk7cmV0dXJuIGQucHVzaChbaCtjKk1hdGguY29zKGYpLGkrbCpNYXRoLnNpbihmKV0pLGQucHVzaChbaCxpXSksQyhkLHIpfSh0LGUscyxuLG8sYSxpKSk7cmV0dXJuIGkuc3Ryb2tlIT09SyYmYy5wdXNoKGwpLHRoaXMuX2QoXCJhcmNcIixjLGkpfWN1cnZlKHQsZSl7Y29uc3Qgcz10aGlzLl9vKGUpLG49W10sbz1MKHQscyk7aWYocy5maWxsJiZzLmZpbGwhPT1LJiZ0Lmxlbmd0aD49Myl7Y29uc3QgZT1KKGZ1bmN0aW9uKHQsZT0wKXtjb25zdCBzPXQubGVuZ3RoO2lmKHM8Myl0aHJvdyBuZXcgRXJyb3IoXCJBIGN1cnZlIG11c3QgaGF2ZSBhdCBsZWFzdCB0aHJlZSBwb2ludHMuXCIpO2NvbnN0IG49W107aWYoMz09PXMpbi5wdXNoKE4odFswXSksTih0WzFdKSxOKHRbMl0pLE4odFsyXSkpO2Vsc2V7Y29uc3Qgcz1bXTtzLnB1c2godFswXSx0WzBdKTtmb3IobGV0IGU9MTtlPHQubGVuZ3RoO2UrKylzLnB1c2godFtlXSksZT09PXQubGVuZ3RoLTEmJnMucHVzaCh0W2VdKTtjb25zdCBvPVtdLGE9MS1lO24ucHVzaChOKHNbMF0pKTtmb3IobGV0IHQ9MTt0KzI8cy5sZW5ndGg7dCsrKXtjb25zdCBlPXNbdF07b1swXT1bZVswXSxlWzFdXSxvWzFdPVtlWzBdKyhhKnNbdCsxXVswXS1hKnNbdC0xXVswXSkvNixlWzFdKyhhKnNbdCsxXVsxXS1hKnNbdC0xXVsxXSkvNl0sb1syXT1bc1t0KzFdWzBdKyhhKnNbdF1bMF0tYSpzW3QrMl1bMF0pLzYsc1t0KzFdWzFdKyhhKnNbdF1bMV0tYSpzW3QrMl1bMV0pLzZdLG9bM109W3NbdCsxXVswXSxzW3QrMV1bMV1dLG4ucHVzaChvWzFdLG9bMl0sb1szXSl9fXJldHVybiBufSh0KSwxMCwoMStzLnJvdWdobmVzcykvMik7XCJzb2xpZFwiPT09cy5maWxsU3R5bGU/bi5wdXNoKF8oZSxzKSk6bi5wdXNoKEMoZSxzKSl9cmV0dXJuIHMuc3Ryb2tlIT09SyYmbi5wdXNoKG8pLHRoaXMuX2QoXCJjdXJ2ZVwiLG4scyl9cG9seWdvbih0LGUpe2NvbnN0IHM9dGhpcy5fbyhlKSxuPVtdLG89Tyh0LCEwLHMpO3JldHVybiBzLmZpbGwmJihcInNvbGlkXCI9PT1zLmZpbGxTdHlsZT9uLnB1c2goXyh0LHMpKTpuLnB1c2goQyh0LHMpKSkscy5zdHJva2UhPT1LJiZuLnB1c2gobyksdGhpcy5fZChcInBvbHlnb25cIixuLHMpfXBhdGgodCxlKXtjb25zdCBzPXRoaXMuX28oZSksbj1bXTtpZighdClyZXR1cm4gdGhpcy5fZChcInBhdGhcIixuLHMpO3Q9KHR8fFwiXCIpLnJlcGxhY2UoL1xcbi9nLFwiIFwiKS5yZXBsYWNlKC8oLVxccykvZyxcIi1cIikucmVwbGFjZShcIi8oc3MpL2dcIixcIiBcIik7Y29uc3Qgbz1zLmZpbGwmJlwidHJhbnNwYXJlbnRcIiE9PXMuZmlsbCYmcy5maWxsIT09SyxhPXMuc3Ryb2tlIT09SyxyPSEhKHMuc2ltcGxpZmljYXRpb24mJnMuc2ltcGxpZmljYXRpb248MSksaD1mdW5jdGlvbih0LGUscyl7Y29uc3Qgbj1tKHkoYih0KSkpLG89W107bGV0IGE9W10scj1bMCwwXSxoPVtdO2NvbnN0IGk9KCk9PntoLmxlbmd0aD49NCYmYS5wdXNoKC4uLkooaCxlKSksaD1bXX0sYz0oKT0+e2koKSxhLmxlbmd0aCYmKG8ucHVzaChhKSxhPVtdKX07Zm9yKGNvbnN0e2tleTp0LGRhdGE6ZX1vZiBuKXN3aXRjaCh0KXtjYXNlXCJNXCI6YygpLHI9W2VbMF0sZVsxXV0sYS5wdXNoKHIpO2JyZWFrO2Nhc2VcIkxcIjppKCksYS5wdXNoKFtlWzBdLGVbMV1dKTticmVhaztjYXNlXCJDXCI6aWYoIWgubGVuZ3RoKXtjb25zdCB0PWEubGVuZ3RoP2FbYS5sZW5ndGgtMV06cjtoLnB1c2goW3RbMF0sdFsxXV0pfWgucHVzaChbZVswXSxlWzFdXSksaC5wdXNoKFtlWzJdLGVbM11dKSxoLnB1c2goW2VbNF0sZVs1XV0pO2JyZWFrO2Nhc2VcIlpcIjppKCksYS5wdXNoKFtyWzBdLHJbMV1dKX1pZihjKCksIXMpcmV0dXJuIG87Y29uc3QgbD1bXTtmb3IoY29uc3QgdCBvZiBvKXtjb25zdCBlPUIodCxzKTtlLmxlbmd0aCYmbC5wdXNoKGUpfXJldHVybiBsfSh0LDEscj80LTQqcy5zaW1wbGlmaWNhdGlvbjooMStzLnJvdWdobmVzcykvMik7aWYobylpZihzLmNvbWJpbmVOZXN0ZWRTdmdQYXRocyl7Y29uc3QgdD1bXTtoLmZvckVhY2goZT0+dC5wdXNoKC4uLmUpKSxcInNvbGlkXCI9PT1zLmZpbGxTdHlsZT9uLnB1c2goXyh0LHMpKTpuLnB1c2goQyh0LHMpKX1lbHNlIGguZm9yRWFjaCh0PT57XCJzb2xpZFwiPT09cy5maWxsU3R5bGU/bi5wdXNoKF8odCxzKSk6bi5wdXNoKEModCxzKSl9KTtyZXR1cm4gYSYmKHI/aC5mb3JFYWNoKHQ9PntuLnB1c2goTyh0LCExLHMpKX0pOm4ucHVzaChmdW5jdGlvbih0LGUpe2NvbnN0IHM9bSh5KGIodCkpKSxuPVtdO2xldCBvPVswLDBdLGE9WzAsMF07Zm9yKGNvbnN0e2tleTp0LGRhdGE6cn1vZiBzKXN3aXRjaCh0KXtjYXNlXCJNXCI6e2NvbnN0IHQ9MSooZS5tYXhSYW5kb21uZXNzT2Zmc2V0fHwwKTtuLnB1c2goe29wOlwibW92ZVwiLGRhdGE6ci5tYXAocz0+cytXKHQsZSkpfSksYT1bclswXSxyWzFdXSxvPVtyWzBdLHJbMV1dO2JyZWFrfWNhc2VcIkxcIjpuLnB1c2goLi4ueihhWzBdLGFbMV0sclswXSxyWzFdLGUpKSxhPVtyWzBdLHJbMV1dO2JyZWFrO2Nhc2VcIkNcIjp7Y29uc3RbdCxzLG8saCxpLGNdPXI7bi5wdXNoKC4uLmoodCxzLG8saCxpLGMsYSxlKSksYT1baSxjXTticmVha31jYXNlXCJaXCI6bi5wdXNoKC4uLnooYVswXSxhWzFdLG9bMF0sb1sxXSxlKSksYT1bb1swXSxvWzFdXX1yZXR1cm57dHlwZTpcInBhdGhcIixvcHM6bn19KHQscykpKSx0aGlzLl9kKFwicGF0aFwiLG4scyl9b3BzVG9QYXRoKHQpe2xldCBlPVwiXCI7Zm9yKGNvbnN0IHMgb2YgdC5vcHMpe2NvbnN0IHQ9cy5kYXRhO3N3aXRjaChzLm9wKXtjYXNlXCJtb3ZlXCI6ZSs9YE0ke3RbMF19ICR7dFsxXX0gYDticmVhaztjYXNlXCJiY3VydmVUb1wiOmUrPWBDJHt0WzBdfSAke3RbMV19LCAke3RbMl19ICR7dFszXX0sICR7dFs0XX0gJHt0WzVdfSBgO2JyZWFrO2Nhc2VcImxpbmVUb1wiOmUrPWBMJHt0WzBdfSAke3RbMV19IGB9fXJldHVybiBlLnRyaW0oKX10b1BhdGhzKHQpe2NvbnN0IGU9dC5zZXRzfHxbXSxzPXQub3B0aW9uc3x8dGhpcy5kZWZhdWx0T3B0aW9ucyxuPVtdO2Zvcihjb25zdCB0IG9mIGUpe2xldCBlPW51bGw7c3dpdGNoKHQudHlwZSl7Y2FzZVwicGF0aFwiOmU9e2Q6dGhpcy5vcHNUb1BhdGgodCksc3Ryb2tlOnMuc3Ryb2tlLHN0cm9rZVdpZHRoOnMuc3Ryb2tlV2lkdGgsZmlsbDpLfTticmVhaztjYXNlXCJmaWxsUGF0aFwiOmU9e2Q6dGhpcy5vcHNUb1BhdGgodCksc3Ryb2tlOkssc3Ryb2tlV2lkdGg6MCxmaWxsOnMuZmlsbHx8S307YnJlYWs7Y2FzZVwiZmlsbFNrZXRjaFwiOmU9dGhpcy5maWxsU2tldGNoKHQscyl9ZSYmbi5wdXNoKGUpfXJldHVybiBufWZpbGxTa2V0Y2godCxlKXtsZXQgcz1lLmZpbGxXZWlnaHQ7cmV0dXJuIHM8MCYmKHM9ZS5zdHJva2VXaWR0aC8yKSx7ZDp0aGlzLm9wc1RvUGF0aCh0KSxzdHJva2U6ZS5maWxsfHxLLHN0cm9rZVdpZHRoOnMsZmlsbDpLfX19Y2xhc3MgWXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuY2FudmFzPXQsdGhpcy5jdHg9dGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLHRoaXMuZ2VuPW5ldyBVKGUpfWRyYXcodCl7Y29uc3QgZT10LnNldHN8fFtdLHM9dC5vcHRpb25zfHx0aGlzLmdldERlZmF1bHRPcHRpb25zKCksbj10aGlzLmN0eDtmb3IoY29uc3QgbyBvZiBlKXN3aXRjaChvLnR5cGUpe2Nhc2VcInBhdGhcIjpuLnNhdmUoKSxuLnN0cm9rZVN0eWxlPVwibm9uZVwiPT09cy5zdHJva2U/XCJ0cmFuc3BhcmVudFwiOnMuc3Ryb2tlLG4ubGluZVdpZHRoPXMuc3Ryb2tlV2lkdGgscy5zdHJva2VMaW5lRGFzaCYmbi5zZXRMaW5lRGFzaChzLnN0cm9rZUxpbmVEYXNoKSxzLnN0cm9rZUxpbmVEYXNoT2Zmc2V0JiYobi5saW5lRGFzaE9mZnNldD1zLnN0cm9rZUxpbmVEYXNoT2Zmc2V0KSx0aGlzLl9kcmF3VG9Db250ZXh0KG4sbyksbi5yZXN0b3JlKCk7YnJlYWs7Y2FzZVwiZmlsbFBhdGhcIjpuLnNhdmUoKSxuLmZpbGxTdHlsZT1zLmZpbGx8fFwiXCI7Y29uc3QgZT1cImN1cnZlXCI9PT10LnNoYXBlfHxcInBvbHlnb25cIj09PXQuc2hhcGU/XCJldmVub2RkXCI6XCJub256ZXJvXCI7dGhpcy5fZHJhd1RvQ29udGV4dChuLG8sZSksbi5yZXN0b3JlKCk7YnJlYWs7Y2FzZVwiZmlsbFNrZXRjaFwiOnRoaXMuZmlsbFNrZXRjaChuLG8scyl9fWZpbGxTa2V0Y2godCxlLHMpe2xldCBuPXMuZmlsbFdlaWdodDtuPDAmJihuPXMuc3Ryb2tlV2lkdGgvMiksdC5zYXZlKCkscy5maWxsTGluZURhc2gmJnQuc2V0TGluZURhc2gocy5maWxsTGluZURhc2gpLHMuZmlsbExpbmVEYXNoT2Zmc2V0JiYodC5saW5lRGFzaE9mZnNldD1zLmZpbGxMaW5lRGFzaE9mZnNldCksdC5zdHJva2VTdHlsZT1zLmZpbGx8fFwiXCIsdC5saW5lV2lkdGg9bix0aGlzLl9kcmF3VG9Db250ZXh0KHQsZSksdC5yZXN0b3JlKCl9X2RyYXdUb0NvbnRleHQodCxlLHM9XCJub256ZXJvXCIpe3QuYmVnaW5QYXRoKCk7Zm9yKGNvbnN0IHMgb2YgZS5vcHMpe2NvbnN0IGU9cy5kYXRhO3N3aXRjaChzLm9wKXtjYXNlXCJtb3ZlXCI6dC5tb3ZlVG8oZVswXSxlWzFdKTticmVhaztjYXNlXCJiY3VydmVUb1wiOnQuYmV6aWVyQ3VydmVUbyhlWzBdLGVbMV0sZVsyXSxlWzNdLGVbNF0sZVs1XSk7YnJlYWs7Y2FzZVwibGluZVRvXCI6dC5saW5lVG8oZVswXSxlWzFdKX19XCJmaWxsUGF0aFwiPT09ZS50eXBlP3QuZmlsbChzKTp0LnN0cm9rZSgpfWdldCBnZW5lcmF0b3IoKXtyZXR1cm4gdGhpcy5nZW59Z2V0RGVmYXVsdE9wdGlvbnMoKXtyZXR1cm4gdGhpcy5nZW4uZGVmYXVsdE9wdGlvbnN9bGluZSh0LGUscyxuLG8pe2NvbnN0IGE9dGhpcy5nZW4ubGluZSh0LGUscyxuLG8pO3JldHVybiB0aGlzLmRyYXcoYSksYX1yZWN0YW5nbGUodCxlLHMsbixvKXtjb25zdCBhPXRoaXMuZ2VuLnJlY3RhbmdsZSh0LGUscyxuLG8pO3JldHVybiB0aGlzLmRyYXcoYSksYX1lbGxpcHNlKHQsZSxzLG4sbyl7Y29uc3QgYT10aGlzLmdlbi5lbGxpcHNlKHQsZSxzLG4sbyk7cmV0dXJuIHRoaXMuZHJhdyhhKSxhfWNpcmNsZSh0LGUscyxuKXtjb25zdCBvPXRoaXMuZ2VuLmNpcmNsZSh0LGUscyxuKTtyZXR1cm4gdGhpcy5kcmF3KG8pLG99bGluZWFyUGF0aCh0LGUpe2NvbnN0IHM9dGhpcy5nZW4ubGluZWFyUGF0aCh0LGUpO3JldHVybiB0aGlzLmRyYXcocyksc31wb2x5Z29uKHQsZSl7Y29uc3Qgcz10aGlzLmdlbi5wb2x5Z29uKHQsZSk7cmV0dXJuIHRoaXMuZHJhdyhzKSxzfWFyYyh0LGUscyxuLG8sYSxyPSExLGgpe2NvbnN0IGk9dGhpcy5nZW4uYXJjKHQsZSxzLG4sbyxhLHIsaCk7cmV0dXJuIHRoaXMuZHJhdyhpKSxpfWN1cnZlKHQsZSl7Y29uc3Qgcz10aGlzLmdlbi5jdXJ2ZSh0LGUpO3JldHVybiB0aGlzLmRyYXcocyksc31wYXRoKHQsZSl7Y29uc3Qgcz10aGlzLmdlbi5wYXRoKHQsZSk7cmV0dXJuIHRoaXMuZHJhdyhzKSxzfX1jb25zdCB0dD1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7Y2xhc3MgZXR7Y29uc3RydWN0b3IodCxlKXt0aGlzLnN2Zz10LHRoaXMuZ2VuPW5ldyBVKGUpfWRyYXcodCl7Y29uc3QgZT10LnNldHN8fFtdLHM9dC5vcHRpb25zfHx0aGlzLmdldERlZmF1bHRPcHRpb25zKCksbj10aGlzLnN2Zy5vd25lckRvY3VtZW50fHx3aW5kb3cuZG9jdW1lbnQsbz1uLmNyZWF0ZUVsZW1lbnROUyh0dCxcImdcIik7Zm9yKGNvbnN0IGEgb2YgZSl7bGV0IGU9bnVsbDtzd2l0Y2goYS50eXBlKXtjYXNlXCJwYXRoXCI6ZT1uLmNyZWF0ZUVsZW1lbnROUyh0dCxcInBhdGhcIiksZS5zZXRBdHRyaWJ1dGUoXCJkXCIsdGhpcy5vcHNUb1BhdGgoYSkpLGUuc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIscy5zdHJva2UpLGUuc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIscy5zdHJva2VXaWR0aCtcIlwiKSxlLnNldEF0dHJpYnV0ZShcImZpbGxcIixcIm5vbmVcIikscy5zdHJva2VMaW5lRGFzaCYmZS5zZXRBdHRyaWJ1dGUoXCJzdHJva2UtZGFzaGFycmF5XCIscy5zdHJva2VMaW5lRGFzaC5qb2luKFwiIFwiKS50cmltKCkpLHMuc3Ryb2tlTGluZURhc2hPZmZzZXQmJmUuc2V0QXR0cmlidXRlKFwic3Ryb2tlLWRhc2hvZmZzZXRcIixcIlwiK3Muc3Ryb2tlTGluZURhc2hPZmZzZXQpO2JyZWFrO2Nhc2VcImZpbGxQYXRoXCI6ZT1uLmNyZWF0ZUVsZW1lbnROUyh0dCxcInBhdGhcIiksZS5zZXRBdHRyaWJ1dGUoXCJkXCIsdGhpcy5vcHNUb1BhdGgoYSkpLGUuc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsXCJub25lXCIpLGUuc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsXCIwXCIpLGUuc2V0QXR0cmlidXRlKFwiZmlsbFwiLHMuZmlsbHx8XCJcIiksXCJjdXJ2ZVwiIT09dC5zaGFwZSYmXCJwb2x5Z29uXCIhPT10LnNoYXBlfHxlLnNldEF0dHJpYnV0ZShcImZpbGwtcnVsZVwiLFwiZXZlbm9kZFwiKTticmVhaztjYXNlXCJmaWxsU2tldGNoXCI6ZT10aGlzLmZpbGxTa2V0Y2gobixhLHMpfWUmJm8uYXBwZW5kQ2hpbGQoZSl9cmV0dXJuIG99ZmlsbFNrZXRjaCh0LGUscyl7bGV0IG49cy5maWxsV2VpZ2h0O248MCYmKG49cy5zdHJva2VXaWR0aC8yKTtjb25zdCBvPXQuY3JlYXRlRWxlbWVudE5TKHR0LFwicGF0aFwiKTtyZXR1cm4gby5zZXRBdHRyaWJ1dGUoXCJkXCIsdGhpcy5vcHNUb1BhdGgoZSkpLG8uc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIscy5maWxsfHxcIlwiKSxvLnNldEF0dHJpYnV0ZShcInN0cm9rZS13aWR0aFwiLG4rXCJcIiksby5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsXCJub25lXCIpLHMuZmlsbExpbmVEYXNoJiZvLnNldEF0dHJpYnV0ZShcInN0cm9rZS1kYXNoYXJyYXlcIixzLmZpbGxMaW5lRGFzaC5qb2luKFwiIFwiKS50cmltKCkpLHMuZmlsbExpbmVEYXNoT2Zmc2V0JiZvLnNldEF0dHJpYnV0ZShcInN0cm9rZS1kYXNob2Zmc2V0XCIsXCJcIitzLmZpbGxMaW5lRGFzaE9mZnNldCksb31nZXQgZ2VuZXJhdG9yKCl7cmV0dXJuIHRoaXMuZ2VufWdldERlZmF1bHRPcHRpb25zKCl7cmV0dXJuIHRoaXMuZ2VuLmRlZmF1bHRPcHRpb25zfW9wc1RvUGF0aCh0KXtyZXR1cm4gdGhpcy5nZW4ub3BzVG9QYXRoKHQpfWxpbmUodCxlLHMsbixvKXtjb25zdCBhPXRoaXMuZ2VuLmxpbmUodCxlLHMsbixvKTtyZXR1cm4gdGhpcy5kcmF3KGEpfXJlY3RhbmdsZSh0LGUscyxuLG8pe2NvbnN0IGE9dGhpcy5nZW4ucmVjdGFuZ2xlKHQsZSxzLG4sbyk7cmV0dXJuIHRoaXMuZHJhdyhhKX1lbGxpcHNlKHQsZSxzLG4sbyl7Y29uc3QgYT10aGlzLmdlbi5lbGxpcHNlKHQsZSxzLG4sbyk7cmV0dXJuIHRoaXMuZHJhdyhhKX1jaXJjbGUodCxlLHMsbil7Y29uc3Qgbz10aGlzLmdlbi5jaXJjbGUodCxlLHMsbik7cmV0dXJuIHRoaXMuZHJhdyhvKX1saW5lYXJQYXRoKHQsZSl7Y29uc3Qgcz10aGlzLmdlbi5saW5lYXJQYXRoKHQsZSk7cmV0dXJuIHRoaXMuZHJhdyhzKX1wb2x5Z29uKHQsZSl7Y29uc3Qgcz10aGlzLmdlbi5wb2x5Z29uKHQsZSk7cmV0dXJuIHRoaXMuZHJhdyhzKX1hcmModCxlLHMsbixvLGEscj0hMSxoKXtjb25zdCBpPXRoaXMuZ2VuLmFyYyh0LGUscyxuLG8sYSxyLGgpO3JldHVybiB0aGlzLmRyYXcoaSl9Y3VydmUodCxlKXtjb25zdCBzPXRoaXMuZ2VuLmN1cnZlKHQsZSk7cmV0dXJuIHRoaXMuZHJhdyhzKX1wYXRoKHQsZSl7Y29uc3Qgcz10aGlzLmdlbi5wYXRoKHQsZSk7cmV0dXJuIHRoaXMuZHJhdyhzKX19dmFyIHN0PXtjYW52YXM6KHQsZSk9Pm5ldyBZKHQsZSksc3ZnOih0LGUpPT5uZXcgZXQodCxlKSxnZW5lcmF0b3I6dD0+bmV3IFUodCksbmV3U2VlZDooKT0+VS5uZXdTZWVkKCl9O2V4cG9ydCBkZWZhdWx0IHN0O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/rough-glycan.js/node_modules/roughjs/bundled/rough.esm.js\n");

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = function () {\n  return this;\n}();\ntry {\n  // This works if eval is allowed (see CSP)\n  g = g || new Function(\"return this\")();\n} catch (e) {\n  // This works if the window reference is available\n  if (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanM/MmRkMyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/webpack/buildin/global.js\n");

/***/ }),

/***/ "./node_modules/webpack/node_modules/process/browser.js":
/*!*************************************************!*\
  !*** (webpack)/node_modules/process/browser.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\nfunction defaultSetTimout() {\n  throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout() {\n  throw new Error('clearTimeout has not been defined');\n}\n(function () {\n  try {\n    if (typeof setTimeout === 'function') {\n      cachedSetTimeout = setTimeout;\n    } else {\n      cachedSetTimeout = defaultSetTimout;\n    }\n  } catch (e) {\n    cachedSetTimeout = defaultSetTimout;\n  }\n  try {\n    if (typeof clearTimeout === 'function') {\n      cachedClearTimeout = clearTimeout;\n    } else {\n      cachedClearTimeout = defaultClearTimeout;\n    }\n  } catch (e) {\n    cachedClearTimeout = defaultClearTimeout;\n  }\n})();\nfunction runTimeout(fun) {\n  if (cachedSetTimeout === setTimeout) {\n    //normal enviroments in sane situations\n    return setTimeout(fun, 0);\n  }\n  // if setTimeout wasn't available but was latter defined\n  if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n    cachedSetTimeout = setTimeout;\n    return setTimeout(fun, 0);\n  }\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedSetTimeout(fun, 0);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n      return cachedSetTimeout.call(null, fun, 0);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n      return cachedSetTimeout.call(this, fun, 0);\n    }\n  }\n}\nfunction runClearTimeout(marker) {\n  if (cachedClearTimeout === clearTimeout) {\n    //normal enviroments in sane situations\n    return clearTimeout(marker);\n  }\n  // if clearTimeout wasn't available but was latter defined\n  if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n    cachedClearTimeout = clearTimeout;\n    return clearTimeout(marker);\n  }\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedClearTimeout(marker);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n      return cachedClearTimeout.call(null, marker);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n      // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n      return cachedClearTimeout.call(this, marker);\n    }\n  }\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n  draining = false;\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n  if (queue.length) {\n    drainQueue();\n  }\n}\nfunction drainQueue() {\n  if (draining) {\n    return;\n  }\n  var timeout = runTimeout(cleanUpNextTick);\n  draining = true;\n  var len = queue.length;\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n    while (++queueIndex < len) {\n      if (currentQueue) {\n        currentQueue[queueIndex].run();\n      }\n    }\n    queueIndex = -1;\n    len = queue.length;\n  }\n  currentQueue = null;\n  draining = false;\n  runClearTimeout(timeout);\n}\nprocess.nextTick = function (fun) {\n  var args = new Array(arguments.length - 1);\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n  queue.push(new Item(fun, args));\n  if (queue.length === 1 && !draining) {\n    runTimeout(drainQueue);\n  }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\nItem.prototype.run = function () {\n  this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\nfunction noop() {}\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\nprocess.listeners = function (name) {\n  return [];\n};\nprocess.binding = function (name) {\n  throw new Error('process.binding is not supported');\n};\nprocess.cwd = function () {\n  return '/';\n};\nprocess.chdir = function (dir) {\n  throw new Error('process.chdir is not supported');\n};\nprocess.umask = function () {\n  return 0;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicGFjay9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzPzg1MDUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/webpack/node_modules/process/browser.js\n");

/***/ }),

/***/ 0:
/*!**********************************!*\
  !*** multi ./js/sugarviewers.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! ./js/sugarviewers.js */"./js/sugarviewers.js");


/***/ })

/******/ });